"use strict";(self.webpackChunkoffice_buddy=self.webpackChunkoffice_buddy||[]).push([[179],{2011:(ht,ke,O)=>{O.d(ke,{Dh:()=>pe,GT:()=>ve,Ot:()=>ne,cc:()=>Se,hO:()=>Oe,on:()=>q,pX:()=>ge,xv:()=>ye});var l=O(4650),H=O(127),P=O(880);ht=O.hmd(ht);const ie=["ngOnDestroy"],ge=(ue,lt,Qe,Fe={})=>new Proxy(ue,{get:(Pe,De)=>Qe.runOutsideAngular(()=>{var Ye;if(ue[De])return!(null===(Ye=Fe?.spy)||void 0===Ye)&&Ye.get&&Fe.spy.get(De,ue[De]),ue[De];if(ie.indexOf(De)>-1)return()=>{};const te=lt.toPromise().then(le=>{const we=le&&le[De];return"function"==typeof we?we.bind(le):we&&we.then?we.then(X=>Qe.run(()=>X)):Qe.run(()=>we)});return new Proxy(()=>{},{get:(le,we)=>te[we],apply:(le,we,X)=>te.then(J=>{var he;const oe=J&&J(...X);return!(null===(he=Fe?.spy)||void 0===he)&&he.apply&&Fe.spy.apply(De,X,oe),oe})})})}),ve=(ue,lt)=>{lt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Fe=>{Object.defineProperty(ue.prototype,Fe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Fe))})})};class ne{constructor(lt){return lt}}const pe=new l.OlP("angularfire2.app.options"),ye=new l.OlP("angularfire2.app.name");function q(ue,lt,Qe){const Pe="object"==typeof Qe&&Qe||{};Pe.name=Pe.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ye=H.Z.apps.filter(te=>te&&te.name===Pe.name)[0]||lt.runOutsideAngular(()=>H.Z.initializeApp(ue,Pe));try{JSON.stringify(ue)!==JSON.stringify(Ye.options)&&G("error",`${Ye.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ye)}const G=(ue,...lt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...lt)},Q={provide:ne,useFactory:q,deps:[pe,l.R0b,[new l.FiY,ye]]};let Oe=(()=>{class ue{constructor(Qe){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",l.q4F.full,Qe.toString())}static initializeApp(Qe,Fe){return{ngModule:ue,providers:[{provide:pe,useValue:Qe},{provide:ye,useValue:Fe}]}}}return ue.\u0275fac=function(Qe){return new(Qe||ue)(l.LFG(l.Lbi))},ue.\u0275mod=l.oAB({type:ue}),ue.\u0275inj=l.cJS({providers:[Q]}),ue})();function Se(ue,lt,Qe,Fe,Pe){const[,De,Ye]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===ue)||[];if(De)return function Ae(ue,lt){try{return ue.toString()===lt.toString()}catch{return ue===lt}}(Pe,Ye)||(be("error",`${lt} was already initialized on the ${Qe} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Pe,was:Ye})),De;{const te=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ue,te,Pe]),te}}const Je=!!ht.hot,be=(ue,...lt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ht,ke,O)=>{O.d(ke,{q4:()=>vo,iC:()=>Br,HU:()=>aa,vb:()=>Wd,JM:()=>pu,nk:()=>ei,u3:()=>zt});var l=O(4650),H=O(5867),P=O(5861),ie=O(9681),ge=O(2090),ve=O(4859),ne=O(1877);O(2833);const ye="@firebase/remote-config",q="0.3.13",Se=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gt{constructor(L,Z,fe,Ue){this.client=L,this.storage=Z,this.storageCache=fe,this.logger=Ue}isCachedDataFresh(L,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-Z,Ue=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ue}.`),Ue}fetch(L){var Z=this;return(0,P.Z)(function*(){const[fe,Ue]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ue&&Z.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return Ue;L.eTag=Ue&&Ue.eTag;const Xe=yield Z.client.fetch(L),wt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&wt.push(Z.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(wt),Xe})()}}function on(V=navigator){return V.languages&&V.languages[0]||V.language}class Rt{constructor(L,Z,fe,Ue,Xe,wt){this.firebaseInstallations=L,this.sdkVersion=Z,this.namespace=fe,this.projectId=Ue,this.apiKey=Xe,this.appId=wt}fetch(L){var Z=this;return(0,P.Z)(function*(){var fe,Ue,Xe;const[wt,tn]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,ti={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Ut={sdk_version:Z.sdkVersion,app_instance_id:wt,app_instance_id_token:tn,app_id:Z.appId,language_code:on()},$n={method:"POST",headers:ti,body:JSON.stringify(Ut)},Ks=fetch(Pt,$n),Qs=new Promise((bo,Ur)=>{L.signal.addEventListener(()=>{const gi=new Error("The operation was aborted.");gi.name="AbortError",Ur(gi)})});let Bi;try{yield Promise.race([Ks,Qs]),Bi=yield Ks}catch(bo){let Ur="fetch-client-network";throw"AbortError"===(null===(fe=bo)||void 0===fe?void 0:fe.name)&&(Ur="fetch-timeout"),Se.create(Ur,{originalErrorMessage:null===(Ue=bo)||void 0===Ue?void 0:Ue.message})}let Ss=Bi.status;const qa=Bi.headers.get("ETag")||void 0;let Gl,Xs;if(200===Bi.status){let bo;try{bo=yield Bi.json()}catch(Ur){throw Se.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Ur)||void 0===Xe?void 0:Xe.message})}Gl=bo.entries,Xs=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===Xs?Ss=500:"NO_CHANGE"===Xs?Ss=304:("NO_TEMPLATE"===Xs||"EMPTY_CONFIG"===Xs)&&(Gl={}),304!==Ss&&200!==Ss)throw Se.create("fetch-status",{httpStatus:Ss});return{status:Ss,eTag:qa,config:Gl}})()}}class Gn{constructor(L,Z){this.client=L,this.storage=Z}fetch(L){var Z=this;return(0,P.Z)(function*(){const fe=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:Z,backoffCount:fe}){var Ue=this;return(0,P.Z)(function*(){yield function We(V,L){return new Promise((Z,fe)=>{const Ue=Math.max(L-Date.now(),0),Xe=setTimeout(Z,Ue);V.addEventListener(()=>{clearTimeout(Xe),fe(Se.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Z);try{const Xe=yield Ue.client.fetch(L);return yield Ue.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function mn(V){if(!(V instanceof ge.ZR&&V.customData))return!1;const L=Number(V.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Xe))throw Xe;const wt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield Ue.storage.setThrottleMetadata(wt),Ue.attemptFetch(L,wt)}})()}}class Wt{constructor(L,Z,fe,Ue,Xe){this.app=L,this._client=Z,this._storageCache=fe,this._storage=Ue,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(V,L){var Z;const fe=V.target.error||void 0;return Se.create(L,{originalErrorMessage:fe&&(null===(Z=fe)||void 0===Z?void 0:Z.message)})}const Fn="app_namespace_store";class fi{constructor(L,Z,fe,Ue=function jn(){return new Promise((V,L)=>{var Z;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Ue=>{L(St(Ue,"storage-open"))},fe.onsuccess=Ue=>{V(Ue.target.result)},fe.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(Fn,{keyPath:"compositeKey"})}}catch(fe){L(Se.create("storage-open",{originalErrorMessage:null===(Z=fe)||void 0===Z?void 0:Z.message}))}})}()){this.appId=L,this.appName=Z,this.namespace=fe,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Z=this;return(0,P.Z)(function*(){const fe=yield Z.openDbPromise;return new Promise((Ue,Xe)=>{var wt;const Ie=fe.transaction([Fn],"readonly").objectStore(Fn),Pt=Z.createCompositeKey(L);try{const ti=Ie.get(Pt);ti.onerror=Ut=>{Xe(St(Ut,"storage-get"))},ti.onsuccess=Ut=>{const $n=Ut.target.result;Ue($n?$n.value:void 0)}}catch(ti){Xe(Se.create("storage-get",{originalErrorMessage:null===(wt=ti)||void 0===wt?void 0:wt.message}))}})})()}set(L,Z){var fe=this;return(0,P.Z)(function*(){const Ue=yield fe.openDbPromise;return new Promise((Xe,wt)=>{var tn;const Pt=Ue.transaction([Fn],"readwrite").objectStore(Fn),ti=fe.createCompositeKey(L);try{const Ut=Pt.put({compositeKey:ti,value:Z});Ut.onerror=$n=>{wt(St($n,"storage-set"))},Ut.onsuccess=()=>{Xe()}}catch(Ut){wt(Se.create("storage-set",{originalErrorMessage:null===(tn=Ut)||void 0===tn?void 0:tn.message}))}})})()}delete(L){var Z=this;return(0,P.Z)(function*(){const fe=yield Z.openDbPromise;return new Promise((Ue,Xe)=>{var wt;const Ie=fe.transaction([Fn],"readwrite").objectStore(Fn),Pt=Z.createCompositeKey(L);try{const ti=Ie.delete(Pt);ti.onerror=Ut=>{Xe(St(Ut,"storage-delete"))},ti.onsuccess=()=>{Ue()}}catch(ti){Xe(Se.create("storage-delete",{originalErrorMessage:null===(wt=ti)||void 0===wt?void 0:wt.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Zi{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,P.Z)(function*(){const Z=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),Ue=L.storage.getActiveConfig(),Xe=yield Z;Xe&&(L.lastFetchStatus=Xe);const wt=yield fe;wt&&(L.lastSuccessfulFetchTimestampMillis=wt);const tn=yield Ue;tn&&(L.activeConfig=tn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function cr(){return tt.apply(this,arguments)}function tt(){return(tt=(0,P.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Qn(){(0,ie._registerComponent)(new ve.wA("remote-config",function V(L,{instanceIdentifier:Z}){const fe=L.getProvider("app").getImmediate(),Ue=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Se.create("registration-window");if(!(0,ge.hl)())throw Se.create("indexed-db-unavailable");const{projectId:Xe,apiKey:wt,appId:tn}=fe.options;if(!Xe)throw Se.create("registration-project-id");if(!wt)throw Se.create("registration-api-key");if(!tn)throw Se.create("registration-app-id");const Ie=new fi(tn,fe.name,Z=Z||"firebase"),Pt=new Zi(Ie),ti=new ne.Yd(ye);ti.logLevel=ne.in.ERROR;const Ut=new Rt(Ue,ie.SDK_VERSION,Z,Xe,wt,tn),$n=new Gn(Ut,Ie),Ks=new gt($n,Ie,Pt,ti),Qs=new Wt(fe,Ks,Pt,Ie,ti);return function Ye(V){const L=(0,ge.m9)(V);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Qs),Qs},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ye,q),(0,ie.registerVersion)(ye,q,"esm2017")}();var Cn=O(8766);const Wn="/firebase-messaging-sw.js",_n="/firebase-cloud-messaging-push-scope",pi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",An="google.c.a.c_id",kn="google.c.a.c_l",ln="google.c.a.ts",ft="google.c.a.e";var pt=(()=>{return(V=pt||(pt={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",pt;var V})();function Rn(V){const L=new Uint8Array(V);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ri(V){const Z=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(Z),Ue=new Uint8Array(fe.length);for(let Xe=0;Xe<fe.length;++Xe)Ue[Xe]=fe.charCodeAt(Xe);return Ue}const mi="fcm_token_details_db",Ii="fcm_token_object_Store";function Ot(V){return Si.apply(this,arguments)}function Si(){return Si=(0,P.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(mi))return null;let L=null;return(yield(0,Cn.X3)(mi,5,{upgrade:(fe=(0,P.Z)(function*(Ue,Xe,wt,tn){var Ie;if(Xe<2||!Ue.objectStoreNames.contains(Ii))return;const Pt=tn.objectStore(Ii),ti=yield Pt.index("fcmSenderId").get(V);if(yield Pt.clear(),ti)if(2===Xe){const Ut=ti;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;L={token:Ut.fcmToken,createTime:null!==(Ie=Ut.createTime)&&void 0!==Ie?Ie:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Rn(Ut.vapidKey)}}}else if(3===Xe){const Ut=ti;L={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Rn(Ut.auth),p256dh:Rn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Rn(Ut.vapidKey)}}}else if(4===Xe){const Ut=ti;L={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Rn(Ut.auth),p256dh:Rn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Rn(Ut.vapidKey)}}}}),function(Xe,wt,tn,Ie){return fe.apply(this,arguments)})})).close(),yield(0,Cn.Lj)(mi),yield(0,Cn.Lj)("fcm_vapid_details_db"),yield(0,Cn.Lj)("undefined"),Kt(L)?L:null;var fe}),Si.apply(this,arguments)}function Kt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:L}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const et="firebase-messaging-store";let Me=null;function rt(){return Me||(Me=(0,Cn.X3)("firebase-messaging-database",1,{upgrade:(V,L)=>{0===L&&V.createObjectStore(et)}})),Me}function vt(V){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(V){const L=x(V),fe=yield(yield rt()).transaction(et).objectStore(et).get(L);if(fe)return fe;{const Ue=yield Ot(V.appConfig.senderId);if(Ue)return yield Xt(V,Ue),Ue}})).apply(this,arguments)}function Xt(V,L){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(V,L){const Z=x(V),Ue=(yield rt()).transaction(et,"readwrite");return yield Ue.objectStore(et).put(L,Z),yield Ue.done,L})).apply(this,arguments)}function $(V){return R.apply(this,arguments)}function R(){return(R=(0,P.Z)(function*(V){const L=x(V),fe=(yield rt()).transaction(et,"readwrite");yield fe.objectStore(et).delete(L),yield fe.done})).apply(this,arguments)}function x({appConfig:V}){return V.appId}const k=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function z(V,L){return ce.apply(this,arguments)}function ce(){return(ce=(0,P.Z)(function*(V,L){var Z;const fe=yield en(V),Ue=qt(L),Xe={method:"POST",headers:fe,body:JSON.stringify(Ue)};let wt;try{wt=yield(yield fetch(ut(V.appConfig),Xe)).json()}catch(tn){throw k.create("token-subscribe-failed",{errorInfo:null===(Z=tn)||void 0===Z?void 0:Z.toString()})}if(wt.error)throw k.create("token-subscribe-failed",{errorInfo:wt.error.message});if(!wt.token)throw k.create("token-subscribe-no-token");return wt.token})).apply(this,arguments)}function Ne(V,L){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(V,L){var Z;const fe=yield en(V),Ue=qt(L.subscriptionOptions),Xe={method:"PATCH",headers:fe,body:JSON.stringify(Ue)};let wt;try{wt=yield(yield fetch(`${ut(V.appConfig)}/${L.token}`,Xe)).json()}catch(tn){throw k.create("token-update-failed",{errorInfo:null===(Z=tn)||void 0===Z?void 0:Z.toString()})}if(wt.error)throw k.create("token-update-failed",{errorInfo:wt.error.message});if(!wt.token)throw k.create("token-update-no-token");return wt.token})).apply(this,arguments)}function _e(V,L){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(V,L){var Z;const Ue={method:"DELETE",headers:yield en(V)};try{const wt=yield(yield fetch(`${ut(V.appConfig)}/${L}`,Ue)).json();if(wt.error)throw k.create("token-unsubscribe-failed",{errorInfo:wt.error.message})}catch(Xe){throw k.create("token-unsubscribe-failed",{errorInfo:null===(Z=Xe)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function ut({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function en(V){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*({appConfig:V,installations:L}){const Z=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function qt({p256dh:V,auth:L,endpoint:Z,vapidKey:fe}){const Ue={web:{endpoint:Z,auth:L,p256dh:V}};return fe!==pi&&(Ue.web.applicationPubKey=fe),Ue}const wr=6048e5;function Ln(V){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(V){const L=yield Jt(V.swRegistration,V.vapidKey),Z={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:L.endpoint,auth:Rn(L.getKey("auth")),p256dh:Rn(L.getKey("p256dh"))},fe=yield vt(V.firebaseDependencies);if(fe){if(Un(fe.subscriptionOptions,Z))return Date.now()>=fe.createTime+wr?ee(V,{token:fe.token,createTime:Date.now(),subscriptionOptions:Z}):fe.token;try{yield _e(V.firebaseDependencies,fe.token)}catch(Ue){console.warn(Ue)}return je(V.firebaseDependencies,Z)}return je(V.firebaseDependencies,Z)})).apply(this,arguments)}function Cs(V){return bt.apply(this,arguments)}function bt(){return(bt=(0,P.Z)(function*(V){const L=yield vt(V.firebaseDependencies);L&&(yield _e(V.firebaseDependencies,L.token),yield $(V.firebaseDependencies));const Z=yield V.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function ee(V,L){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(V,L){try{const Z=yield Ne(V.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:Z,createTime:Date.now()});return yield Xt(V.firebaseDependencies,fe),Z}catch(Z){throw yield Cs(V),Z}})).apply(this,arguments)}function je(V,L){return mt.apply(this,arguments)}function mt(){return(mt=(0,P.Z)(function*(V,L){const fe={token:yield z(V,L),createTime:Date.now(),subscriptionOptions:L};return yield Xt(V,fe),fe.token})).apply(this,arguments)}function Jt(V,L){return fn.apply(this,arguments)}function fn(){return(fn=(0,P.Z)(function*(V,L){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ri(L)})})).apply(this,arguments)}function Un(V,L){return L.vapidKey===V.vapidKey&&L.endpoint===V.endpoint&&L.auth===V.auth&&L.p256dh===V.p256dh}function Vn(V){const L={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Ki(V,L){if(!L.notification)return;V.notification={};const Z=L.notification.title;Z&&(V.notification.title=Z);const fe=L.notification.body;fe&&(V.notification.body=fe);const Ue=L.notification.image;Ue&&(V.notification.image=Ue)}(L,V),function Qi(V,L){!L.data||(V.data=L.data)}(L,V),function yn(V,L){var Z,fe,Ue,Xe,wt;if(!(L.fcmOptions||null!==(Z=L.notification)&&void 0!==Z&&Z.click_action))return;V.fcmOptions={};const tn=null!==(Ue=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ue?Ue:null===(Xe=L.notification)||void 0===Xe?void 0:Xe.click_action;tn&&(V.fcmOptions.link=tn);const Ie=null===(wt=L.fcmOptions)||void 0===wt?void 0:wt.analytics_label;Ie&&(V.fcmOptions.analyticsLabel=Ie)}(L,V),L}function $d(V){return"object"==typeof V&&!!V&&An in V}function ta(V,L){const Z=[];for(let fe=0;fe<V.length;fe++)Z.push(V.charAt(fe)),fe<L.length&&Z.push(L.charAt(fe));return Z.join("")}function $s(V){return k.create("missing-app-config-values",{valueName:V})}ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(L,Z,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function na(V){if(!V||!V.options)throw $s("App Configuration Object");if(!V.name)throw $s("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=V;for(const fe of L)if(!Z[fe])throw $s(fe);return{appName:V.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ue,installations:Z,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Es(V){return rs.apply(this,arguments)}function rs(){return(rs=(0,P.Z)(function*(V){var L;try{V.swRegistration=yield navigator.serviceWorker.register(Wn,{scope:_n}),V.swRegistration.update().catch(()=>{})}catch(Z){throw k.create("failed-service-worker-registration",{browserErrorMessage:null===(L=Z)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function En(V,L){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(V,L){if(!L&&!V.swRegistration&&(yield Es(V)),L||!V.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw k.create("invalid-sw-registration");V.swRegistration=L}})).apply(this,arguments)}function ki(V,L){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*(V,L){L?V.vapidKey=L:V.vapidKey||(V.vapidKey=pi)})).apply(this,arguments)}function ss(){return(ss=(0,P.Z)(function*(V,L){if(!navigator)throw k.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw k.create("permission-blocked");return yield ki(V,L?.vapidKey),yield En(V,L?.serviceWorkerRegistration),Ln(V)})).apply(this,arguments)}function zs(V,L,Z){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(V,L,Z){const fe=ja(L);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:Z[An],message_name:Z[kn],message_time:Z[ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ja(V){switch(V){case pt.NOTIFICATION_CLICKED:return"notification_open";case pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ia(){return(ia=(0,P.Z)(function*(V,L){const Z=L.data;if(!Z.isFirebaseMessaging)return;V.onMessageHandler&&Z.messageType===pt.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Vn(Z)):V.onMessageHandler.next(Vn(Z)));const fe=Z.data;$d(fe)&&"1"===fe[ft]&&(yield zs(V,Z.messageType,fe))})).apply(this,arguments)}const yo="@firebase/messaging",Tr=V=>{const L=new Lr(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Dp(V,L){return ia.apply(this,arguments)}(L,Z)),L},Ip=V=>{const L=V.getProvider("messaging").getImmediate();return{getToken:fe=>function Vr(V,L){return ss.apply(this,arguments)}(L,fe)}};function zd(){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function os(){(0,ie._registerComponent)(new ve.wA("messaging",Tr,"PUBLIC")),(0,ie._registerComponent)(new ve.wA("messaging-internal",Ip,"PRIVATE")),(0,ie.registerVersion)(yo,"0.9.18"),(0,ie.registerVersion)(yo,"0.9.18","esm2017")}();var hu=O(7982),Ul=O(4408),U_=O(7565);const Vi=new class fu extends U_.v{}(class Ga extends Ul.o{constructor(L,Z){super(L,Z),this.scheduler=L,this.work=Z}schedule(L,Z=0){return Z>0?super.schedule(L,Z):(this.delay=Z,this.state=L,this.scheduler.flush(this),this)}execute(L,Z){return Z>0||this.closed?super.execute(L,Z):this._execute(L,Z)}requestAsyncId(L,Z,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(L,Z,fe):(L.flush(this),0)}});var Ws=O(4986),Hl=O(9751),jl=O(8505),Wa=O(9468),$l=O(5363);const vo=new l.GfV("7.4.1"),Ji="__angularfire_symbol__analyticsIsSupportedValue",as="__angularfire_symbol__analyticsIsSupported",zl="__angularfire_symbol__remoteConfigIsSupportedValue",er="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Ri="__angularfire_symbol__messagingIsSupported";globalThis[as]||(globalThis[as]=(0,hu.Gb)().then(V=>globalThis[Ji]=V).catch(()=>globalThis[Ji]=!1)),globalThis[Ri]||(globalThis[Ri]=zd().then(V=>globalThis[qs]=V).catch(()=>globalThis[qs]=!1)),globalThis[er]||(globalThis[er]=cr().then(V=>globalThis[zl]=V).catch(()=>globalThis[zl]=!1));const ei={async:()=>globalThis[as],sync:()=>{const V=globalThis[Ji];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function pu(V,L,Z){if(L){if(1===L.length)return L[0];const Xe=L.filter(wt=>wt.app===Z);if(1===Xe.length)return Xe[0]}return Z.container.getProvider(V).getImmediate({optional:!0})}const Wd=(V,L)=>{const Z=L?[L]:(0,H.C6)(),fe=[];return Z.forEach(Ue=>{Ue.container.getProvider(V).instances.forEach(wt=>{fe.includes(wt)||fe.push(wt)})}),fe};function Yr(){}class tr{constructor(L,Z=Vi){this.zone=L,this.delegate=Z}now(){return this.delegate.now()}schedule(L,Z,fe){const Ue=this.zone;return this.delegate.schedule(function(wt){Ue.runGuarded(()=>{L.apply(this,[wt])})},Z,fe)}}class mu{constructor(L){this.zone=L,this.task=null}call(L,Z){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),Z.pipe((0,jl.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let aa=(()=>{class V{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new tr(Zone.current)),this.insideAngular=Z.run(()=>new tr(Zone.current,Ws.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(Z){return new(Z||V)(l.LFG(l.R0b))},V.\u0275prov=l.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function ur(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Sn(V){return ur().ngZone.runOutsideAngular(()=>V())}function Ys(V){return ur().ngZone.run(()=>V())}function Br(V){return ur(),function la(V){return function(Z){return(Z=Z.lift(new mu(V.ngZone))).pipe((0,Wa.R)(V.outsideAngular),(0,$l.Q)(V.insideAngular))}}(ur())(V)}const ca=(V,L)=>function(){const fe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Ys(()=>V.apply(void 0,fe))},zt=(V,L)=>function(){let Z;const fe=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof fe[Xe]&&(L&&(Z||(Z=Ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)))),fe[Xe]=ca(fe[Xe],Z));const Ue=Sn(()=>V.apply(this,fe));if(!L){if(Ue instanceof Hl.y){const Xe=ur();return Ue.pipe((0,Wa.R)(Xe.outsideAngular),(0,$l.Q)(Xe.insideAngular))}return Ys(()=>Ue)}return Ue instanceof Hl.y?Ue.pipe(Br):Ue instanceof Promise?Ys(()=>new Promise((Xe,wt)=>Ue.then(tn=>Ys(()=>Xe(tn)),tn=>Ys(()=>wt(tn))))):"function"==typeof Ue&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Ue.apply(this,arguments)}:Ys(()=>Ue)}},9934:(ht,ke,O)=>{O.d(ke,{$:()=>Xe,A:()=>G,B:()=>Se,G:()=>Ce,H:()=>Un,J:()=>os,L:()=>W,M:()=>fu,N:()=>Hl,P:()=>ds,Q:()=>jl,R:()=>sy,T:()=>Wa,U:()=>Ws,V:()=>as,W:()=>zl,X:()=>H_,Y:()=>la,Z:()=>zt,_:()=>L,a:()=>Co,a0:()=>ti,a1:()=>$n,a2:()=>Qs,a3:()=>Ss,a4:()=>Gl,a5:()=>bo,a6:()=>gi,a7:()=>As,a8:()=>ql,a9:()=>wo,aA:()=>ku,aB:()=>xu,aC:()=>Tu,aD:()=>Qr,aE:()=>bt,aI:()=>Za,aL:()=>vo,aa:()=>kw,ab:()=>qd,ac:()=>Zd,af:()=>z_,ag:()=>G_,ah:()=>kp,ak:()=>Yr,al:()=>Z_,an:()=>K_,ao:()=>ih,ap:()=>ut,aq:()=>we,ar:()=>xe,as:()=>Ne,at:()=>Qe,au:()=>uc,av:()=>Ao,aw:()=>Fe,ax:()=>te,ay:()=>J,az:()=>$,b:()=>ha,c:()=>xs,d:()=>jp,e:()=>oy,f:()=>Cr,g:()=>hh,h:()=>dh,i:()=>Su,j:()=>ph,k:()=>Zp,l:()=>Io,m:()=>Rs,o:()=>pe,r:()=>ct,s:()=>un,u:()=>ai,v:()=>Zl});var l=O(5861),H=O(2090),P=O(9681),ie=O(1877),ge=O(655),ve=O(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new ie.Yd("@firebase/auth");function lt(b,...m){ue.logLevel<=ie.in.ERROR&&ue.error(`Auth (${P.SDK_VERSION}): ${b}`,...m)}function Qe(b,...m){throw Ye(b,...m)}function Fe(b,...m){return Ye(b,...m)}function Pe(b,m,_){const C=Object.assign(Object.assign({},Ae()),{[m]:_});return new H.LL("auth","Firebase",C).create(m,{appName:b.name})}function De(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Qe(b,"argument-error"),Pe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Je.create(b,...m)}function te(b,m,..._){if(!b)throw Ye(m,..._)}function le(b){const m="INTERNAL ASSERTION FAILED: "+b;throw lt(m),new Error(m)}function we(b,m){b||le(m)}const X=new Map;function J(b){we(b instanceof Function,"Expected a class definition");let m=X.get(b);return m?(we(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,X.set(b,m),m)}function He(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Be(){return"http:"===gt()||"https:"===gt()}function gt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class We{constructor(m,_){this.shortDelay=m,this.longDelay=_,we(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(b,m){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Gn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new We(3e4,6e4);function Wt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function St(b,m,_,C){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(b,m,_,C,M={}){return Yi(b,M,(0,l.Z)(function*(){let F={},re={};C&&("GET"===m?re=C:F={body:JSON.stringify(C)});const Re=(0,H.xO)(Object.assign({key:b.config.apiKey},re)).slice(1),at=yield b._getAdditionalHeaders();return at["Content-Type"]="application/json",b.languageCode&&(at["X-Firebase-Locale"]=b.languageCode),Gn.fetch()(Zi(b,b.config.apiHost,_,Re),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Yi(b,m,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},hn),m);try{const M=new Qn(b),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const re=yield F.json();if("needConfirmation"in re)throw Xn(b,"account-exists-with-different-credential",re);if(F.ok&&!("errorMessage"in re))return re;{const Re=F.ok?re.errorMessage:re.error.message,[at,xt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw Xn(b,"credential-already-in-use",re);if("EMAIL_EXISTS"===at)throw Xn(b,"email-already-in-use",re);if("USER_DISABLED"===at)throw Xn(b,"user-disabled",re);const rn=C[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Pe(b,rn,xt);Qe(b,rn)}}catch(M){if(M instanceof H.ZR)throw M;Qe(b,"network-request-failed")}})).apply(this,arguments)}function jn(b,m,_,C){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(b,m,_,C,M={}){const F=yield St(b,m,_,C,M);return"mfaPendingCredential"in F&&Qe(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Zi(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?mn(b.config,M):`${b.config.apiScheme}://${M}`}class Qn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Fe(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Fe(b,m,C);return M.customData._tokenResponse=_,M}function cr(){return(cr=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function tt(b,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(b,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function pi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function kn(){return(kn=(0,l.Z)(function*(b,m=!1){const _=(0,H.m9)(b),C=yield _.getIdToken(m),M=ft(C);te(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,re=F?.sign_in_provider;return{claims:M,token:C,authTime:pi(ln(M.auth_time)),issuedAtTime:pi(ln(M.iat)),expirationTime:pi(ln(M.exp)),signInProvider:re||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function ln(b){return 1e3*Number(b)}function ft(b){var m;const[_,C,M]=b.split(".");if(void 0===_||void 0===C||void 0===M)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,H.tV)(C);return F?JSON.parse(F):(lt("Failed to decode base64 JWT payload"),null)}catch(F){return lt("Caught error parsing JWT payload as JSON",null===(m=F)||void 0===m?void 0:m.toString()),null}}function pt(b,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof H.ZR&&ri(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ri({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class mi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,l.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Tt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ii(b){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield pt(b,Wn(_,{idToken:C}));te(M?.users.length,_,"internal-error");const F=M.users[0];b._notifyReloadListener(F);const re=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?Nn(F.providerUserInfo):[],Re=Jn(b.providerData,re),rn=!!b.isAnonymous&&!(b.email&&F.passwordHash||Re?.length),Mn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Re,metadata:new Tt(F.createdAt,F.lastLoginAt),isAnonymous:rn};Object.assign(b,Mn)})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(b){const m=(0,H.m9)(b);yield Ii(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Jn(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function Nn(b){return b.map(m=>{var{providerId:_}=m,C=(0,ge._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Me(){return(Me=(0,l.Z)(function*(b,m){const _=yield Yi(b,{},(0,l.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=b.config,re=Zi(b,M,"/v1/token",`key=${F}`),Re=yield b._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Gn.fetch()(re,{method:"POST",headers:Re,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(typeof m.idToken<"u","internal-error"),te(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function dt(b){const m=ft(b);return te(m,"internal-error"),te(typeof m.exp<"u","internal-error"),te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,l.Z)(function*(){return te(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:re}=yield function et(b,m){return Me.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,F,Number(re))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:F}=_,re=new rt;return C&&(te("string"==typeof C,"internal-error",{appName:m}),re.refreshToken=C),M&&(te("string"==typeof M,"internal-error",{appName:m}),re.accessToken=M),F&&(te("number"==typeof F,"internal-error",{appName:m}),re.expirationTime=F),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return le("not implemented")}}function vt(b,m){te("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class At{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,F=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Tt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const C=yield pt(_,_.stsTokenManager.getToken(_.auth,m));return te(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function An(b){return kn.apply(this,arguments)}(this,m)}reload(){return function Si(b){return Kt.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new At(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,l.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Ii(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield pt(m,function Di(b,m){return cr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,F,re,Re,at,xt,rn;const Mn=null!==(C=_.displayName)&&void 0!==C?C:void 0,jr=null!==(M=_.email)&&void 0!==M?M:void 0,Ia=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Eh=null!==(re=_.photoURL)&&void 0!==re?re:void 0,Dh=null!==(Re=_.tenantId)&&void 0!==Re?Re:void 0,Ih=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Xp=null!==(xt=_.createdAt)&&void 0!==xt?xt:void 0,Jp=null!==(rn=_.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:Sh,emailVerified:Ah,isAnonymous:pc,providerData:Sa,stsTokenManager:mc}=_;te(Sh&&mc,m,"internal-error");const em=rt.fromJSON(this.name,mc);te("string"==typeof Sh,m,"internal-error"),vt(Mn,m.name),vt(jr,m.name),te("boolean"==typeof Ah,m,"internal-error"),te("boolean"==typeof pc,m,"internal-error"),vt(Ia,m.name),vt(Eh,m.name),vt(Dh,m.name),vt(Ih,m.name),vt(Xp,m.name),vt(Jp,m.name);const Kn=new At({uid:Sh,auth:m,email:jr,emailVerified:Ah,displayName:Mn,isAnonymous:pc,photoURL:Eh,phoneNumber:Ia,tenantId:Dh,stsTokenManager:em,createdAt:Xp,lastLoginAt:Jp});return Sa&&Array.isArray(Sa)&&(Kn.providerData=Sa.map(tm=>Object.assign({},tm))),Ih&&(Kn._redirectEventId=Ih),Kn}static _fromIdTokenResponse(m,_,C=!1){return(0,l.Z)(function*(){const M=new rt;M.updateFromServerResponse(_);const F=new At({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Ii(F),F})()}}const W=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,l.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function $(b,m,_){return`firebase:${b}:${m}:${_}`}class R{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:F}=this.auth;this.fullUserKey=$(this.userKey,M.apiKey,F),this.fullPersistenceKey=$("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?At._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new R(J(W),m,C);const M=(yield Promise.all(_.map(function(){var xt=(0,l.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let F=M[0]||J(W);const re=$(C,m.config.apiKey,m.name);let Re=null;for(const xt of _)try{const rn=yield xt._get(re);if(rn){const Mn=At._fromJSON(m,rn);xt!==F&&(Re=Mn),F=xt;break}}catch{}const at=M.filter(xt=>xt._shouldAllowMigration);return F._shouldAllowMigration&&at.length?(F=at[0],Re&&(yield F._set(re,Re.toJSON())),yield Promise.all(_.map(function(){var xt=(0,l.Z)(function*(rn){if(rn!==F)try{yield rn._remove(re)}catch{}});return function(rn){return xt.apply(this,arguments)}}())),new R(F,m,C)):new R(F,m,C)})()}}function x(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ce(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(A(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ze(m))return"Blackberry";if(_e(m))return"Webos";if(k(m))return"Safari";if((m.includes("chrome/")||z(m))&&!m.includes("edge/"))return"Chrome";if(Ne(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function A(b=(0,H.z$)()){return/firefox\//i.test(b)}function k(b=(0,H.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function z(b=(0,H.z$)()){return/crios\//i.test(b)}function ce(b=(0,H.z$)()){return/iemobile/i.test(b)}function Ne(b=(0,H.z$)()){return/android/i.test(b)}function ze(b=(0,H.z$)()){return/blackberry/i.test(b)}function _e(b=(0,H.z$)()){return/webos/i.test(b)}function xe(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ut(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function qt(b=(0,H.z$)()){return xe(b)||Ne(b)||_e(b)||ze(b)||/windows phone/i.test(b)||ce(b)}function Ln(b,m=[]){let _;switch(b){case"Browser":_=x((0,H.z$)());break;case"Worker":_=`${x((0,H.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${C}`}class is{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=F=>new Promise((re,Re)=>{try{re(m(F))}catch(at){Re(at)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const F of _.queue)yield F(m),F.onAbort&&M.push(F.onAbort)}catch(F){M.reverse();for(const re of M)try{re()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=F)||void 0===C?void 0:C.message})}})()}}class Cs{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new is(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=J(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,F;if(!C._deleted&&(C.persistenceManager=yield R.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let F=M,re=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Re=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,at=F?._redirectEventId,xt=yield _.tryRedirectSignIn(m);(!Re||Re===at)&&xt?.user&&(F=xt.user,re=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(re)try{yield _.beforeStateQueue.runMiddleware(F)}catch(Re){F=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Re))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){var C;try{yield Ii(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const C=m?(0,H.m9)(m):null;return C&&te(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return m&&te(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(J(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&J(m)||_._popupRedirectResolver;te(C,_,"argument-error"),_.redirectPersistenceManager=yield R.create(_,[J(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function bt(b){return(0,H.m9)(b)}class ee{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(b,m,_){const C=bt(b);te(C._canInitEmulator,C,"emulator-config-failed"),te(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,F=je(m),{host:re,port:Re}=function mt(b){const m=je(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const F=M[1];return{host:F,port:Jt(C.substr(F.length+1))}}{const[F,re]=C.split(":");return{host:F,port:Jt(re)}}}(m);C.config.emulator={url:`${F}//${re}${null===Re?"":`:${Re}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:re,port:Re,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function fn(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function je(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Jt(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Un{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return le("not implemented")}_getIdTokenResponse(m){return le("not implemented")}_linkToIdToken(m,_){return le("not implemented")}_getReauthenticationResolver(m){return le("not implemented")}}function Vn(b,m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:resetPassword",Wt(b,m))})).apply(this,arguments)}function Qi(b,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function $d(b,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:update",Wt(b,m))})).apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithPassword",Wt(b,m))})).apply(this,arguments)}function Lr(b,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:sendOobCode",Wt(b,m))})).apply(this,arguments)}function rs(b,m){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(b,m){return Lr(b,m)})).apply(this,arguments)}function Bl(b,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(b,m){return Lr(b,m)})).apply(this,arguments)}function Xi(b,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(b,m){return Lr(b,m)})).apply(this,arguments)}function ss(b,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(b,m){return Lr(b,m)})).apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,m))})).apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,m))})).apply(this,arguments)}class yo extends Un{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new yo(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new yo(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function na(b,m){return $s.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Mr(b,m){return ja.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Qe(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Qi(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Dp(b,m){return ia.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ds(b,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithIdp",Wt(b,m))})).apply(this,arguments)}class os extends Un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new os(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,F=(0,ge._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const re=new os(C,M);return re.idToken=F.idToken||void 0,re.accessToken=F.accessToken||void 0,re.secret=F.secret,re.nonce=F.nonce,re.pendingToken=F.pendingToken||null,re}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ds(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ds(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,H.xO)(_)}return m}}function zd(b,m){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:sendVerificationCode",Wt(b,m))})).apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,m))})).apply(this,arguments)}function Gd(){return(Gd=(0,l.Z)(function*(b,m){const _=yield jn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,m));if(_.temporaryProof)throw Xn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const B_={USER_NOT_FOUND:"user-not-found"};function ra(){return(ra=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),B_)})).apply(this,arguments)}class sa extends Un{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new sa({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new sa({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Gs(b,m){return za.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Sp(b,m){return Gd.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function du(b,m){return ra.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}=m;return C||_||M||F?new sa({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}):null}}class Ga{constructor(m){var _,C,M,F,re,Re;const at=(0,H.zd)((0,H.pd)(m)),xt=null!==(_=at.apiKey)&&void 0!==_?_:null,rn=null!==(C=at.oobCode)&&void 0!==C?C:null,Mn=function hu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=at.mode)&&void 0!==M?M:null);te(xt&&rn&&Mn,"argument-error"),this.apiKey=xt,this.operation=Mn,this.code=rn,this.continueUrl=null!==(F=at.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(re=at.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=at.tenantId)&&void 0!==Re?Re:null}static parseLink(m){const _=function Ul(b){const m=(0,H.zd)((0,H.pd)(b)).link,_=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||_||m||b}(m);try{return new Ga(_)}catch{return null}}}let fu=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return yo._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Ga.parseLink(C);return te(M,"argument-error"),yo._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Vi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class oa extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ws extends oa{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return te("providerId"in _&&"signInMethod"in _,"argument-error"),os._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ws.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ws.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:F,nonce:re,providerId:Re}=m;if(!C&&!M&&!_&&!F||!Re)return null;try{return new Ws(Re)._credential({idToken:_,accessToken:C,nonce:re,pendingToken:F})}catch{return null}}}let Hl=(()=>{class b extends oa{constructor(){super("facebook.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),jl=(()=>{class b extends oa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Wa=(()=>{class b extends oa{constructor(){super("github.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class vo extends Un{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ds(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ds(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:F}=_;return C&&M&&F&&C===M?new vo(C,F):null}static _create(m,_){return new vo(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class as extends Vi{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return as.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return as.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=vo.fromJSON(m);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return vo._create(C,_)}catch{return null}}}let zl=(()=>{class b extends oa{constructor(){super("twitter.com")}static credential(_,C){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function er(b,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signUp",Wt(b,m))})).apply(this,arguments)}class Ri{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,l.Z)(function*(){const F=yield At._fromIdTokenResponse(m,C,M),re=Is(C);return new Ri({user:F,providerId:re,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Is(C);return new Ri({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Is(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function H_(b){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(b){var m;const _=bt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Ri({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield er(_,{returnSecureToken:!0}),M=yield Ri._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class ei extends H.ZR{constructor(m,_,C,M){var F;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,ei.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new ei(m,_,C,M)}}function pu(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?ei._fromErrorAndOperation(b,F,m,C):F})}function Wd(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Yr(b,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b);yield ur(!0,_,m);const{providerUserInfo:C}=yield tt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Wd(C||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function mu(b,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,m,_=!1){const C=yield pt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ri._forOperation(b,"link",C)})).apply(this,arguments)}function ur(b,m,_){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(b,m,_){yield Ii(m);const M=!1===b?"provider-already-linked":"no-such-provider";te(Wd(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function Ys(b,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,m,_=!1){var C;const{auth:M}=b,F="reauthenticate";try{const re=yield pt(b,pu(M,F,m,b),_);te(re.idToken,M,"internal-error");const Re=ft(re.idToken);te(Re,M,"internal-error");const{sub:at}=Re;return te(b.uid===at,M,"user-mismatch"),Ri._forOperation(b,F,re)}catch(re){throw"auth/user-not-found"===(null===(C=re)||void 0===C?void 0:C.code)&&Qe(M,"user-mismatch"),re}})).apply(this,arguments)}function Mp(b,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(b,m,_=!1){const C="signIn",M=yield pu(b,C,m),F=yield Ri._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function la(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(b,m){return Mp(bt(b),m)})).apply(this,arguments)}function zt(b,m){return V.apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b);return yield ur(!1,_,m.providerId),mu(_,m)})).apply(this,arguments)}function L(b,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(b,m){return Ys((0,H.m9)(b),m)})).apply(this,arguments)}function fe(b,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(b,m){return jn(b,"POST","/v1/accounts:signInWithCustomToken",Wt(b,m))})).apply(this,arguments)}function Xe(b,m){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(b,m){const _=bt(b),C=yield fe(_,{token:m,returnSecureToken:!0}),M=yield Ri._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class tn{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Ie._fromServerResponse(m,_):Qe(m,"internal-error")}}class Ie extends tn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Ie(_)}}function Pt(b,m,_){var C;te((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),te(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function ti(b,m,_){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&Pt(C,M,_),yield Bl(C,M)})).apply(this,arguments)}function $n(b,m,_){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(b,m,_){yield Vn((0,H.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Qs(b,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(b,m){yield $d((0,H.m9)(b),{oobCode:m})})).apply(this,arguments)}function Ss(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b),C=yield Vn(_,{oobCode:m}),M=C.requestType;switch(te(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(C.mfaInfo,_,"internal-error");default:te(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=tn._fromServerResponse(bt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function Gl(b,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(b,m){const{data:_}=yield Ss((0,H.m9)(b),m);return _.email})).apply(this,arguments)}function bo(b,m,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(b,m,_){const C=bt(b),M=yield er(C,{returnSecureToken:!0,email:m,password:_}),F=yield Ri._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function gi(b,m,_){return la((0,H.m9)(b),fu.credential(m,_))}function As(b,m,_){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};te(_.handleCodeInApp,C,"argument-error"),_&&Pt(C,M,_),yield Xi(C,M)})).apply(this,arguments)}function ql(b,m){return"EMAIL_SIGNIN"===Ga.parseLink(m)?.operation}function wo(b,m,_){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b),M=fu.credentialWithLink(m,_||He());return te(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),la(C,M)})).apply(this,arguments)}function j_(b,m){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:createAuthUri",Wt(b,m))})).apply(this,arguments)}function kw(b,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(b,m){const C={identifier:m,continueUri:Be()?He():"http://localhost"},{signinMethods:M}=yield j_((0,H.m9)(b),C);return M||[]})).apply(this,arguments)}function qd(b,m){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Pt(_.auth,M,m);const{email:F}=yield rs(_.auth,M);F!==b.email&&(yield b.reload())})).apply(this,arguments)}function Zd(b,m,_){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Pt(C.auth,F,_);const{email:re}=yield ss(C.auth,F);re!==b.email&&(yield b.reload())})).apply(this,arguments)}function $_(b,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(b,m){return St(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function z_(b,m){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,H.m9)(b),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},re=yield pt(C,$_(C.auth,F));C.displayName=re.displayName||null,C.photoURL=re.photoUrl||null;const Re=C.providerData.find(({providerId:at})=>"password"===at);Re&&(Re.displayName=C.displayName,Re.photoURL=C.photoURL),yield C._updateTokensIfNecessary(re)})).apply(this,arguments)}function G_(b,m){return Ya((0,H.m9)(b),m,null)}function kp(b,m){return Ya((0,H.m9)(b),null,m)}function Ya(b,m,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(b,m,_){const{auth:C}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const re=yield pt(b,Qi(C,F));yield b._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class si{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Js extends si{constructor(m,_,C,M){super(m,_,C),this.username=M}}class oi extends si{constructor(m,_){super(m,"facebook.com",_)}}class Rp extends Js{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class q_ extends si{constructor(m,_){super(m,"google.com",_)}}class Y_ extends Js{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Z_(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function W_(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const re=null===(_=null===(m=ft(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(re)return new si(F,"anonymous"!==re&&"custom"!==re?re:null)}if(!C)return null;switch(C){case"facebook.com":return new oi(F,M);case"github.com":return new Rp(F,M);case"google.com":return new q_(F,M);case"twitter.com":return new Y_(F,M,b.screenName||null);case"custom":case"anonymous":return new si(F,null);default:return new si(F,C,M)}}(_)}function Zl(b,m,_,C){return(0,H.m9)(b).onAuthStateChanged(m,_,C)}class Zr{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new Zr("enroll",m,_)}static _fromMfaPendingCredential(m){return new Zr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return Zr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class th{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=bt(m),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(Re=>tn._fromServerResponse(C,Re));te(M.mfaPendingCredential,C,"internal-error");const re=Zr._fromMfaPendingCredential(M.mfaPendingCredential);return new th(re,F,function(){var Re=(0,l.Z)(function*(at){const xt=yield at._process(C,re);delete M.mfaInfo,delete M.mfaPendingCredential;const rn=Object.assign(Object.assign({},M),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(_.operationType){case"signIn":const Mn=yield Ri._fromIdTokenResponse(C,_.operationType,rn);return yield C._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return te(_.user,C,"internal-error"),Ri._forOperation(_.user,_.operationType,rn);default:Qe(C,"internal-error")}});return function(at){return Re.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function K_(b,m){var _;const C=(0,H.m9)(b),M=m;return te(m.customData.operationType,C,"argument-error"),te(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),th._fromError(C,M)}function Kl(b,m){return St(b,"POST","/v2/accounts/mfaEnrollment:start",Wt(b,m))}class bu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>tn._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new bu(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Zr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,l.Z)(function*(){const M=m,F=yield C.getSession(),re=yield pt(C.user,M._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(re),C.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,F=yield _.user.getIdToken(),re=yield pt(_.user,function vu(b,m){return St(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(b,m))}(_.user.auth,{idToken:F,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Re})=>Re!==M),yield _.user._updateTokensIfNecessary(re);try{yield _.user.reload()}catch(Re){if("auth/user-token-expired"!==(null===(C=Re)||void 0===C?void 0:C.code))throw Re}})()}}const Q_=new WeakMap;function ih(b){const m=(0,H.m9)(b);return Q_.has(m)||Q_.set(m,bu._fromUser(m)),Q_.get(m)}const eo="__sak";class rh{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(eo,"1"),this.storage.removeItem(eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ha=(()=>{class b extends rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sh(){const b=(0,H.z$)();return k(b)||xe(b)}()&&function wr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),F=this.localCache[C];M!==F&&_(C,F,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Re,at,xt)=>{this.notifyListeners(Re,xt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(M);if(_.newValue!==Re)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const F=()=>{const Re=this.storage.getItem(M);!C&&this.localCache[M]===Re||this.notifyListeners(M,Re)},re=this.storage.getItem(M);!function Mt(){return(0,H.w1)()&&10===document.documentMode}()||re===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,F=this;return(0,l.Z)(function*(){yield M().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const F=yield C().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Co=(()=>{class b extends rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let wu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const M=_,{eventId:F,eventType:re,data:Re}=M.data,at=C.handlersMap[re];if(!at?.size)return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:re});const xt=Array.from(at).map(function(){var Mn=(0,l.Z)(function*(jr){return jr(M.origin,Re)});return function(jr){return Mn.apply(this,arguments)}}()),rn=yield function oh(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(xt);M.ports[0].postMessage({status:"done",eventId:F,eventType:re,response:rn})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Za(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class ey{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,l.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let re,Re;return new Promise((at,xt)=>{const rn=Za("",20);F.port1.start();const Mn=setTimeout(()=>{xt(new Error("unsupported_event"))},C);Re={messageChannel:F,onMessage(jr){const Ia=jr;if(Ia.data.eventId===rn)switch(Ia.data.status){case"ack":clearTimeout(Mn),re=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),at(Ia.data.response);break;default:clearTimeout(Mn),clearTimeout(re),xt(new Error("invalid_response"))}}},M.handlers.add(Re),F.port1.addEventListener("message",Re.onMessage),M.target.postMessage({eventType:m,eventId:rn,data:_},[F.port2])}).finally(()=>{Re&&M.removeMessageHandler(Re)})})()}}function Oi(){return window}function cs(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function fa(){return(fa=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xl="firebaseLocalStorageDb",ec="firebaseLocalStorage",Eu="fbase_key";class pa{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Du(b,m){return b.transaction([ec],m?"readwrite":"readonly").objectStore(ec)}function Lp(){const b=indexedDB.open(Xl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(ec,{keyPath:Eu})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(ec)?m(C):(C.close(),yield function Np(){const b=indexedDB.deleteDatabase(Xl);return new pa(b).toPromise()}(),m(yield Lp()))}))})}function tc(b,m,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(b,m,_){const C=Du(b,!0).put({[Eu]:m,value:_});return new pa(C).toPromise()})).apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(b,m){const _=Du(b,!1).get(m),C=yield new pa(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Vp(b,m){const _=Du(b,!0).delete(m);return new pa(_).toPromise()}const Su=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Lp()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(M++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return cs()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=wu._getInstance(function Cu(){return cs()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function ty(){return fa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ey(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ah(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Lp();return yield tc(_,eo,"1"),yield Vp(_,eo),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(F=>tc(F,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(F=>function ny(b,m){return Iu.apply(this,arguments)}(F,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>Vp(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(re=>{const Re=Du(re,!1).getAll();return new pa(Re).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:re,value:Re}of C)F.add(re),JSON.stringify(_.localCache[re])!==JSON.stringify(Re)&&(_.notifyListeners(re,Re),M.push(re));for(const re of Object.keys(_.localCache))_.localCache[re]&&!F.has(re)&&(_.notifyListeners(re,null),M.push(re));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function iy(b,m){return St(b,"POST","/v2/accounts/mfaSignIn:start",Wt(b,m))}function ma(){return(ma=(0,l.Z)(function*(b){return(yield St(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ka(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const F=Fe("internal-error");F.customData=M,_(F)},C.type="text/javascript",C.charset="UTF-8",function ic(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function lh(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Hp=1e12;class Rw{constructor(m){this.auth=m,this.counter=Hp,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new qn(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Hp;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Hp))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(m||Hp))||void 0===C||C.execute(),""})()}}class qn{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;te(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ow(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ry=lh("rcb"),OS=new We(3e4,6e4);class FS{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Oi().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return te(function NS(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Oi().grecaptcha):new Promise((C,M)=>{const F=Oi().setTimeout(()=>{M(Fe(m,"network-request-failed"))},OS.get());Oi()[ry]=()=>{Oi().clearTimeout(F),delete Oi()[ry];const Re=Oi().grecaptcha;if(!Re)return void M(Fe(m,"internal-error"));const at=Re.render;Re.render=(xt,rn)=>{const Mn=at(xt,rn);return this.counter++,Mn},this.hostLanguage=_,C(Re)},Ka(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ry,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Fe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Oi().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class LS{load(m){return(0,l.Z)(function*(){return new Rw(m)})()}clearedOneInstance(){}}const Do="recaptcha",Pw={theme:"light",type:"image"};class sy{constructor(m,_=Object.assign({},Pw),C){this.parameters=_,this.type=Do,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(C),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LS:new FS,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const re=Re=>{!Re||(m.tokenChangeListeners.delete(re),F(Re))};m.tokenChangeListeners.add(re),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Oi()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){te(Be()&&!cs(),m.auth,"internal-error"),yield function Ui(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Mu(b){return ma.apply(this,arguments)}(m.auth);te(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qa{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=sa._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function un(b,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(b,m,_){const C=bt(b),M=yield qe(C,m,(0,H.m9)(_));return new Qa(M,F=>la(C,F))})).apply(this,arguments)}function Io(b,m,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b);yield ur(!1,C,"phone");const M=yield qe(C.auth,m,(0,H.m9)(_));return new Qa(M,F=>zt(C,F))})).apply(this,arguments)}function ct(b,m,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b),M=yield qe(C.auth,m,(0,H.m9)(_));return new Qa(M,F=>L(C,F))})).apply(this,arguments)}function qe(b,m,_){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let F;if(te("string"==typeof M,b,"argument-error"),te(_.type===Do,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const re=F.session;if("phoneNumber"in F)return te("enroll"===re.type,b,"internal-error"),(yield Kl(b,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,b,"internal-error");const Re=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return te(Re,b,"missing-multi-factor-info"),(yield iy(b,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield zd(b,{phoneNumber:F.phoneNumber,recaptchaToken:M});return re}}finally{_._reset()}})).apply(this,arguments)}function ai(b,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(b,m){yield mu((0,H.m9)(b),m)})).apply(this,arguments)}let ds=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=bt(_)}verifyPhoneNumber(_,C){return qe(this.auth,_,(0,H.m9)(C))}static credential(_,C){return sa._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?sa._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Xa(b,m){return m?J(m):(te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class nn extends Un{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ds(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ds(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ds(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function ga(b){return Mp(b.auth,new nn(b),b.bypassAuthState)}function dn(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),Ys(_,new nn(b),b.bypassAuthState)}function Ke(b){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),mu(_,new nn(b),b.bypassAuthState)})).apply(this,arguments)}class dr{constructor(m,_,C,M,F=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:F,tenantId:re,error:Re,type:at}=m;if(Re)return void _.reject(Re);const xt={auth:_.auth,requestUri:C,sessionId:M,tenantId:re||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(xt))}catch(rn){_.reject(rn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ga;case"linkViaPopup":case"linkViaRedirect":return Ke;case"reauthViaPopup":case"reauthViaRedirect":return dn;default:Qe(this.auth,"internal-error")}}resolve(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ja=new We(2e3,1e4);function xs(b,m,_){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(b,m,_){const C=bt(b);De(b,m,Vi);const M=Xa(C,_);return new oc(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function oy(b,m,_){return ch.apply(this,arguments)}function ch(){return(ch=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b);De(C.auth,m,Vi);const M=Xa(C.auth,_);return new oc(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function jp(b,m,_){return sc.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b);De(C.auth,m,Vi);const M=Xa(C.auth,_);return new oc(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let oc=(()=>{class b extends dr{constructor(_,C,M,F,re){super(_,C,F,re),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return te(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const C=Za();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ja.get())};_()}}return b.currentPopupAction=null,b})();const Kr=new Map;class pn extends dr{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Kr.get(_.auth._key());if(!C){try{const F=(yield function el(b,m){return ya.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(F)}catch(M){C=()=>Promise.reject(M)}Kr.set(_.auth._key(),C)}return _.bypassAuthState||Kr.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ya(){return(ya=(0,l.Z)(function*(b,m){const _=Ht(m),C=So(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function uh(b,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(b,m){return So(b)._set(Ht(m),"true")})).apply(this,arguments)}function Qr(){Kr.clear()}function Tu(b,m){Kr.set(b._key(),m)}function So(b){return J(b._redirectPersistence)}function Ht(b){return $("pendingRedirect",b.config.apiKey,b.name)}function Cr(b,m,_){return function Hn(b,m,_){return ks.apply(this,arguments)}(b,m,_)}function ks(){return(ks=(0,l.Z)(function*(b,m,_){const C=bt(b);De(b,m,Vi);const M=Xa(C,_);return yield uh(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function dh(b,m,_){return function $p(b,m,_){return va.apply(this,arguments)}(b,m,_)}function va(){return(va=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b);De(C.auth,m,Vi);const M=Xa(C.auth,_);yield uh(M,C.auth);const F=yield ly(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function hh(b,m,_){return function ay(b,m,_){return fh.apply(this,arguments)}(b,m,_)}function fh(){return(fh=(0,l.Z)(function*(b,m,_){const C=(0,H.m9)(b);De(C.auth,m,Vi);const M=Xa(C.auth,_);yield ur(!1,C,m.providerId),yield uh(M,C.auth);const F=yield ly(C);return M._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function ph(b,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(b,m){return yield bt(b)._initializationPromise,xu(b,m,!1)})).apply(this,arguments)}function xu(b,m){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,m,_=!1){const C=bt(b),M=Xa(C,m),re=yield new pn(C,M,_).execute();return re&&!_&&(delete re.user._redirectEventId,yield C._persistUserIfCurrent(re.user),yield C._setRedirectUser(null,m)),re})).apply(this,arguments)}function ly(b){return mh.apply(this,arguments)}function mh(){return(mh=(0,l.Z)(function*(b){const m=Za(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class ku{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ee(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cy(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!cy(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Fe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zp(m))}saveEventToCache(m){this.cachedEventUids.add(zp(m)),this.lastProcessedEventTime=Date.now()}}function zp(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function cy({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Ao(b){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(b,m={}){return St(b,"GET","/v1/projects",m)})).apply(this,arguments)}const uy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nr=/^https?/;function nl(){return(nl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Ao(b);for(const _ of m)try{if(Gp(_))return}catch{}Qe(b,"unauthorized-domain")})).apply(this,arguments)}function Gp(b){const m=He(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const re=new URL(b);return""===re.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&re.hostname===C}if(!nr.test(_))return!1;if(uy.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const dy=new We(3e4,6e4);function Wp(){const b=Oi().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Mo=null;function qp(b){return Mo=Mo||function hy(b){return new Promise((m,_)=>{var C,M,F;function re(){Wp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Wp(),_(Fe(b,"network-request-failed"))},timeout:dy.get()})}if(null!==(M=null===(C=Oi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(F=Oi().gapi)||void 0===F||!F.load){const Re=lh("iframefcb");return Oi()[Re]=()=>{gapi.load?re():_(Fe(b,"network-request-failed"))},Ka(`https://apis.google.com/js/api.js?onload=${Re}`).catch(at=>_(at))}re()}}).catch(m=>{throw Mo=null,m})}(b),Mo}const fy=new We(5e3,15e3),hr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ru(b){const m=b.config;te(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?mn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:P.SDK_VERSION},M=gh.get(b.config.apiHost);M&&(C.eid=M);const F=b._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,H.xO)(C).slice(1)}`}function Ca(){return Ca=(0,l.Z)(function*(b){const m=yield qp(b),_=Oi().gapi;return te(_,b,"internal-error"),m.open({where:document.body,url:Ru(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hr,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(F,re){yield C.restyle({setHideOnLeave:!1});const Re=Fe(b,"network-request-failed"),at=Oi().setTimeout(()=>{re(Re)},fy.get());function xt(){Oi().clearTimeout(at),F(C)}C.ping(xt).then(xt,()=>{re(Re)})});return function(F,re){return M.apply(this,arguments)}}()))}),Ca.apply(this,arguments)}const il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gy{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uc(b,m,_,C,M,F){te(b.config.authDomain,b,"auth-domain-config-required"),te(b.config.apiKey,b,"invalid-api-key");const re={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:P.SDK_VERSION,eventId:M};if(m instanceof Vi){m.setDefaultLanguage(b.languageCode),re.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(re.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,xt]of Object.entries(F||{}))re[at]=xt}if(m instanceof oa){const at=m.getScopes().filter(xt=>""!==xt);at.length>0&&(re.scopes=at.join(","))}b.tenantId&&(re.tid=b.tenantId);const Re=re;for(const at of Object.keys(Re))void 0===Re[at]&&delete Re[at];return`${function Da({config:b}){return b.emulator?mn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(Re).slice(1)}`}const vh="webStorageSupport",Zp=class _y{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Co,this._completeRedirectFn=xu,this._overrideRedirectResult=Tu}_openPopup(m,_,C,M){var F=this;return(0,l.Z)(function*(){var re;we(null===(re=F.eventManagers[m._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=uc(m,_,C,He(),M);return function Ou(b,m,_,C=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),re=Math.max((window.screen.availWidth-C)/2,0).toString();let Re="";const at=Object.assign(Object.assign({},il),{width:C.toString(),height:M.toString(),top:F,left:re}),xt=(0,H.z$)().toLowerCase();_&&(Re=z(xt)?"_blank":_),A(xt)&&(m=m||"http://localhost",at.scrollbars="yes");const rn=Object.entries(at).reduce((jr,[Ia,Eh])=>`${jr}${Ia}=${Eh},`,"");if(function en(b=(0,H.z$)()){var m;return xe(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(xt)&&"_self"!==Re)return function Ea(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",Re),new gy(null);const Mn=window.open(m||"",Re,rn);te(Mn,b,"popup-blocked");try{Mn.focus()}catch{}return new gy(Mn)}(m,Re,Za())})()}_openRedirect(m,_,C,M){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(m),function Fp(b){Oi().location.href=b}(uc(m,_,C,He(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(we(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const C=yield function _h(b){return Ca.apply(this,arguments)}(m),M=new ku(m);return C.register("authEvent",F=>(te(F?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(vh,{type:vh},M=>{var F;const re=null===(F=M?.[0])||void 0===F?void 0:F[vh];void 0!==re&&_(!!re),Qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Hr(b){return nl.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return qt()||k()||xe()}};class dc extends class Kp{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new dc(m)}_finalizeEnroll(m,_,C){return function nh(b,m){return St(b,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Au(b,m){return St(b,"POST","/v2/accounts/mfaSignIn:finalize",Wt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rs=(()=>{class b{constructor(){}static assertion(_){return dc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var to="@firebase/auth";class hc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function wh(b){(0,P._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:re}=C.options;return((Re,at)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:Re.name}),te(!re?.includes(":"),"argument-error",{appName:Re.name});const xt={apiKey:F,authDomain:re,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(b)},rn=new Cs(Re,at,xt);return function oe(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(J);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(rn,_),rn})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ve.wA("auth-internal",m=>{const _=bt(m.getProvider("auth").getImmediate());return new hc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(to,"0.20.9",function yy(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(to,"0.20.9","esm2017")}("Browser")},2090:(ht,ke,O)=>{O.d(ke,{$s:()=>rt,BH:()=>Rt,G6:()=>De,L:()=>pe,LL:()=>hn,P0:()=>Be,Pz:()=>on,Sg:()=>We,UG:()=>Ae,US:()=>ve,ZB:()=>G,ZR:()=>Gn,aH:()=>gt,b$:()=>ue,eu:()=>te,hl:()=>Ye,jU:()=>Je,m9:()=>Xt,ne:()=>kn,pd:()=>xi,r3:()=>Qn,ru:()=>be,tV:()=>ye,uI:()=>Se,vZ:()=>tt,w1:()=>Qe,xO:()=>_n,xb:()=>Di,z$:()=>Oe,zI:()=>le,zd:()=>pi});const ie=function(W){const $=[];let R=0;for(let x=0;x<W.length;x++){let A=W.charCodeAt(x);A<128?$[R++]=A:A<2048?($[R++]=A>>6|192,$[R++]=63&A|128):55296==(64512&A)&&x+1<W.length&&56320==(64512&W.charCodeAt(x+1))?(A=65536+((1023&A)<<10)+(1023&W.charCodeAt(++x)),$[R++]=A>>18|240,$[R++]=A>>12&63|128,$[R++]=A>>6&63|128,$[R++]=63&A|128):($[R++]=A>>12|224,$[R++]=A>>6&63|128,$[R++]=63&A|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let A=0;A<W.length;A+=3){const k=W[A],z=A+1<W.length,ce=z?W[A+1]:0,Ne=A+2<W.length,ze=Ne?W[A+2]:0;let ut=(15&ce)<<2|ze>>6,en=63&ze;Ne||(en=64,z||(ut=64)),x.push(R[k>>2],R[(3&k)<<4|ce>>4],R[ut],R[en])}return x.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(ie(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let R=0,x=0;for(;R<W.length;){const A=W[R++];if(A<128)$[x++]=String.fromCharCode(A);else if(A>191&&A<224){const k=W[R++];$[x++]=String.fromCharCode((31&A)<<6|63&k)}else if(A>239&&A<365){const Ne=((7&A)<<18|(63&W[R++])<<12|(63&W[R++])<<6|63&W[R++])-65536;$[x++]=String.fromCharCode(55296+(Ne>>10)),$[x++]=String.fromCharCode(56320+(1023&Ne))}else{const k=W[R++],z=W[R++];$[x++]=String.fromCharCode((15&A)<<12|(63&k)<<6|63&z)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const R=$?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let A=0;A<W.length;){const k=R[W.charAt(A++)],ce=A<W.length?R[W.charAt(A)]:0;++A;const ze=A<W.length?R[W.charAt(A)]:64;++A;const xe=A<W.length?R[W.charAt(A)]:64;if(++A,null==k||null==ce||null==ze||null==xe)throw Error();x.push(k<<2|ce>>4),64!==ze&&(x.push(ce<<4&240|ze>>2),64!==xe&&x.push(ze<<6&192|xe))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},pe=function(W){return function(W){const $=ie(W);return ve.encodeByteArray($,!0)}(W).replace(/\./g,"")},ye=function(W){try{return ve.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const R in $)!$.hasOwnProperty(R)||!Q(R)||(W[R]=G(W[R],$[R]));return W}function Q(W){return"__proto__"!==W}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function be(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const W=Oe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function De(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function te(){return new Promise((W,$)=>{try{let R=!0;const x="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(x);A.onsuccess=()=>{A.result.close(),R||self.indexedDB.deleteDatabase(x),W(!0)},A.onupgradeneeded=()=>{R=!1},A.onerror=()=>{var k;$((null===(k=A.error)||void 0===k?void 0:k.message)||"")}}catch(R){$(R)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;const W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),$=W&&ye(W[1]);return $&&JSON.parse($)})(),Be=W=>{const $=(W=>{var $,R;return null===(R=null===($=oe())||void 0===$?void 0:$.emulatorHosts)||void 0===R?void 0:R[W]})(W);if(!$)return;const R=$.lastIndexOf(":");if(R<=0||R+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const x=parseInt($.substring(R+1),10);return"["===$[0]?[$.substring(1,R-1),x]:[$.substring(0,R),x]},gt=()=>{var W;return null===(W=oe())||void 0===W?void 0:W.config},on=W=>{var $;return null===($=oe())||void 0===$?void 0:$[`_${W}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,R)=>{this.resolve=$,this.reject=R})}wrapCallback($){return(R,x)=>{R?this.reject(R):this.resolve(x),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(R):$(R,x))}}}function We(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=$||"demo-project",A=W.iat||0,k=W.sub||W.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const z=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:A,exp:A+3600,auth_time:A,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},W);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(z)),""].join(".")}class Gn extends Error{constructor($,R,x){super(R),this.code=$,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor($,R,x){this.service=$,this.serviceName=R,this.errors=x}create($,...R){const x=R[0]||{},A=`${this.service}/${$}`,k=this.errors[$],z=k?function an(W,$){return W.replace(Wt,(R,x)=>{const A=$[x];return null!=A?String(A):`<${x}?>`})}(k,x):"Error";return new Gn(A,`${this.serviceName}: ${z} (${A}).`,x)}}const Wt=/\{\$([^}]+)}/g;function Qn(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function Di(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function tt(W,$){if(W===$)return!0;const R=Object.keys(W),x=Object.keys($);for(const A of R){if(!x.includes(A))return!1;const k=W[A],z=$[A];if(Cn(k)&&Cn(z)){if(!tt(k,z))return!1}else if(k!==z)return!1}for(const A of x)if(!R.includes(A))return!1;return!0}function Cn(W){return null!==W&&"object"==typeof W}function _n(W){const $=[];for(const[R,x]of Object.entries(W))Array.isArray(x)?x.forEach(A=>{$.push(encodeURIComponent(R)+"="+encodeURIComponent(A))}):$.push(encodeURIComponent(R)+"="+encodeURIComponent(x));return $.length?"&"+$.join("&"):""}function pi(W){const $={};return W.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[A,k]=x.split("=");$[decodeURIComponent(A)]=decodeURIComponent(k)}}),$}function xi(W){const $=W.indexOf("?");if(!$)return"";const R=W.indexOf("#",$);return W.substring($,R>0?R:void 0)}function kn(W,$){const R=new ln(W,$);return R.subscribe.bind(R)}class ln{constructor($,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{$(this)}).catch(x=>{this.error(x)})}next($){this.forEachObserver(R=>{R.next($)})}error($){this.forEachObserver(R=>{R.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,R,x){let A;if(void 0===$&&void 0===R&&void 0===x)throw new Error("Missing Observer.");A=function dt(W,$){if("object"!=typeof W||null===W)return!1;for(const R of $)if(R in W&&"function"==typeof W[R])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:R,complete:x},void 0===A.next&&(A.next=pt),void 0===A.error&&(A.error=pt),void 0===A.complete&&(A.complete=pt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,$)}sendOne($,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{R(this.observers[$])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}function rt(W,$=1e3,R=2){const x=$*Math.pow(R,W),A=Math.round(.5*x*(Math.random()-.5)*2);return Math.min(144e5,x+A)}function Xt(W){return W&&W._delegate?W._delegate:W}},5655:(ht,ke,O)=>{var l=O(4650);let H=null;function P(){return H}const ne=new l.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let G=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Oe(){return new G((0,l.LFG)(ne))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(lt)},providedIn:"root"}),n})();const ue=new l.OlP("appBaseHref");let lt=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Je(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Je(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Je(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Je(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(Ye(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Je(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Se,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new Fe((0,l.LFG)(be))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function hn(n,t){return tt((0,l.cg1)(n)[l.wAp.DateFormat],t)}function an(n,t){return tt((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function Wt(n,t){return tt((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function St(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[l.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[l.wAp.NumberSymbols][oe.Group]}return i}function Qn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Cn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const xi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,An={},kn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.ShortGMT=1]="ShortGMT",ln[ln.Long=2]="Long",ln[ln.Extended=3]="Extended",ln))(),ft=(()=>((ft=ft||{})[ft.FullYear=0]="FullYear",ft[ft.Month=1]="Month",ft[ft.Date=2]="Date",ft[ft.Hours=3]="Hours",ft[ft.Minutes=4]="Minutes",ft[ft.Seconds=5]="Seconds",ft[ft.FractionalSeconds=6]="FractionalSeconds",ft[ft.Day=7]="Day",ft))(),dt=(()=>((dt=dt||{})[dt.DayPeriods=0]="DayPeriods",dt[dt.Days=1]="Days",dt[dt.Months=2]="Months",dt[dt.Eras=3]="Eras",dt))();function pt(n,t,e,i){let r=function k(n){if(ce(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return Rn(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(xi))return function z(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,g=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,g,v),t}(i)}const t=new Date(n);if(!ce(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ri(e,t)||t;let h,u=[];for(;t;){if(h=kn.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let g=r.getTimezoneOffset();i&&(g=R(i,g),r=function A(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function x(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(R(t,r)-r))}(r,i,!0));let v="";return u.forEach(D=>{const S=function $(n){if(W[n])return W[n];let t;switch(n){case"G":case"GG":case"GGG":t=Kt(dt.Eras,J.Abbreviated);break;case"GGGG":t=Kt(dt.Eras,J.Wide);break;case"GGGGG":t=Kt(dt.Eras,J.Narrow);break;case"y":t=Ot(ft.FullYear,1,0,!1,!0);break;case"yy":t=Ot(ft.FullYear,2,0,!0,!0);break;case"yyy":t=Ot(ft.FullYear,3,0,!1,!0);break;case"yyyy":t=Ot(ft.FullYear,4,0,!1,!0);break;case"Y":t=Xt(1);break;case"YY":t=Xt(2,!0);break;case"YYY":t=Xt(3);break;case"YYYY":t=Xt(4);break;case"M":case"L":t=Ot(ft.Month,1,1);break;case"MM":case"LL":t=Ot(ft.Month,2,1);break;case"MMM":t=Kt(dt.Months,J.Abbreviated);break;case"MMMM":t=Kt(dt.Months,J.Wide);break;case"MMMMM":t=Kt(dt.Months,J.Narrow);break;case"LLL":t=Kt(dt.Months,J.Abbreviated,X.Standalone);break;case"LLLL":t=Kt(dt.Months,J.Wide,X.Standalone);break;case"LLLLL":t=Kt(dt.Months,J.Narrow,X.Standalone);break;case"w":t=At(1);break;case"ww":t=At(2);break;case"W":t=At(1,!0);break;case"d":t=Ot(ft.Date,1);break;case"dd":t=Ot(ft.Date,2);break;case"c":case"cc":t=Ot(ft.Day,1);break;case"ccc":t=Kt(dt.Days,J.Abbreviated,X.Standalone);break;case"cccc":t=Kt(dt.Days,J.Wide,X.Standalone);break;case"ccccc":t=Kt(dt.Days,J.Narrow,X.Standalone);break;case"cccccc":t=Kt(dt.Days,J.Short,X.Standalone);break;case"E":case"EE":case"EEE":t=Kt(dt.Days,J.Abbreviated);break;case"EEEE":t=Kt(dt.Days,J.Wide);break;case"EEEEE":t=Kt(dt.Days,J.Narrow);break;case"EEEEEE":t=Kt(dt.Days,J.Short);break;case"a":case"aa":case"aaa":t=Kt(dt.DayPeriods,J.Abbreviated);break;case"aaaa":t=Kt(dt.DayPeriods,J.Wide);break;case"aaaaa":t=Kt(dt.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":t=Kt(dt.DayPeriods,J.Abbreviated,X.Standalone,!0);break;case"bbbb":t=Kt(dt.DayPeriods,J.Wide,X.Standalone,!0);break;case"bbbbb":t=Kt(dt.DayPeriods,J.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":t=Kt(dt.DayPeriods,J.Abbreviated,X.Format,!0);break;case"BBBB":t=Kt(dt.DayPeriods,J.Wide,X.Format,!0);break;case"BBBBB":t=Kt(dt.DayPeriods,J.Narrow,X.Format,!0);break;case"h":t=Ot(ft.Hours,1,-12);break;case"hh":t=Ot(ft.Hours,2,-12);break;case"H":t=Ot(ft.Hours,1);break;case"HH":t=Ot(ft.Hours,2);break;case"m":t=Ot(ft.Minutes,1);break;case"mm":t=Ot(ft.Minutes,2);break;case"s":t=Ot(ft.Seconds,1);break;case"ss":t=Ot(ft.Seconds,2);break;case"S":t=Ot(ft.FractionalSeconds,1);break;case"SS":t=Ot(ft.FractionalSeconds,2);break;case"SSS":t=Ot(ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Nn(ln.Short);break;case"ZZZZZ":t=Nn(ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nn(ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nn(ln.Long);break;default:return null}return W[n]=t,t}(D);v+=S?S(r,e,g):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Rn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ri(n,t){const e=function Be(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(An[e]=An[e]||{},An[e][t])return An[e][t];let i="";switch(t){case"shortDate":i=hn(n,he.Short);break;case"mediumDate":i=hn(n,he.Medium);break;case"longDate":i=hn(n,he.Long);break;case"fullDate":i=hn(n,he.Full);break;case"shortTime":i=an(n,he.Short);break;case"mediumTime":i=an(n,he.Medium);break;case"longTime":i=an(n,he.Long);break;case"fullTime":i=an(n,he.Full);break;case"short":const r=ri(n,"shortTime"),o=ri(n,"shortDate");i=mi(Wt(n,he.Short),[r,o]);break;case"medium":const u=ri(n,"mediumTime"),h=ri(n,"mediumDate");i=mi(Wt(n,he.Medium),[u,h]);break;case"long":const g=ri(n,"longTime"),v=ri(n,"longDate");i=mi(Wt(n,he.Long),[g,v]);break;case"full":const D=ri(n,"fullTime"),S=ri(n,"fullDate");i=mi(Wt(n,he.Full),[D,S])}return i&&(An[e][t]=i),i}function mi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Tt(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function Ot(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Si(n,t){switch(n){case ft.FullYear:return t.getFullYear();case ft.Month:return t.getMonth();case ft.Date:return t.getDate();case ft.Hours:return t.getHours();case ft.Minutes:return t.getMinutes();case ft.Seconds:return t.getSeconds();case ft.FractionalSeconds:return t.getMilliseconds();case ft.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===ft.Hours)0===h&&-12===e&&(h=12);else if(n===ft.FractionalSeconds)return function Ii(n,t){return Tt(n,3).substring(0,t)}(h,t);const g=St(u,oe.MinusSign);return Tt(h,t,g,i,r)}}function Kt(n,t,e=X.Format,i=!1){return function(r,o){return function Jn(n,t,e,i,r,o){switch(e){case dt.Months:return function Rt(n,t,e){const i=(0,l.cg1)(n),o=tt([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return tt(o,e)}(t,r,i)[n.getMonth()];case dt.Days:return function on(n,t,e){const i=(0,l.cg1)(n),o=tt([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return tt(o,e)}(t,r,i)[n.getDay()];case dt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const v=function Xn(n){const t=(0,l.cg1)(n);return Qn(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Cn(i):[Cn(i[0]),Cn(i[1])])}(t),D=function Di(n,t,e){const i=(0,l.cg1)(n);Qn(i);const o=tt([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return tt(o,e)||[]}(t,r,i),S=v.findIndex(N=>{if(Array.isArray(N)){const[U,j]=N,K=u>=U.hours&&h>=U.minutes,ae=u<j.hours||u===j.hours&&h<j.minutes;if(U.hours<j.hours){if(K&&ae)return!0}else if(K||ae)return!0}else if(N.hours===u&&N.minutes===h)return!0;return!1});if(-1!==S)return D[S]}return function gt(n,t,e){const i=(0,l.cg1)(n),o=tt([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return tt(o,e)}(t,r,i)[u<12?0:1];case dt.Eras:return function We(n,t){return tt((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Nn(n){return function(t,e,i){const r=-1*i,o=St(e,oe.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ln.Short:return(r>=0?"+":"")+Tt(u,2,o)+Tt(Math.abs(r%60),2,o);case ln.ShortGMT:return"GMT"+(r>=0?"+":"")+Tt(u,1,o);case ln.Long:return"GMT"+(r>=0?"+":"")+Tt(u,2,o)+":"+Tt(Math.abs(r%60),2,o);case ln.Extended:return 0===i?"Z":(r>=0?"+":"")+Tt(u,2,o)+":"+Tt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function vt(n){return Rn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function At(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=vt(e),u=function rt(n){const t=Rn(n,0,1).getDay();return Rn(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Tt(r,n,St(i,oe.MinusSign))}}function Xt(n,t=!1){return function(e,i){return Tt(vt(e).getFullYear(),n,St(i,oe.MinusSign),t)}}const W={};function R(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ce(n){return n instanceof Date&&!isNaN(n.valueOf())}let yn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $s{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $s(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Es(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Es(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Es(n,t){n.context.$implicit=t.item}let En=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ki("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ki("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bl{constructor(){this.$implicit=null,this.ngIf=null}}function ki(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Xi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ss=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Xi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Vr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),zs=(()=>{class n{constructor(e,i,r){r._addDefault(new Xi(e,i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Vr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function Tr(n,t){return new l.vHH(2100,!1)}class Ip{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class os{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const zd=new os,$a=new Ip;let Gs=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return zd;if((0,l.F4k)(e))return $a;throw Tr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const du=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ra=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return pt(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Tr()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(du,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const as="browser";function Ri(n){return n===as}function Is(n){return"server"===n}let pu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Wd((0,l.LFG)(ne),window)}),n})();class Wd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function tr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Yr(this.window.history)||Yr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ya extends class kp extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){H||(H=n)}(new Ya)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function W_(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}();return null==e?null:function Js(n){si=si||document.createElement("a"),si.setAttribute("href",n);const t=si.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Qi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let si,ua=null;const oi=new l.OlP("TRANSITION_ID"),q_=[{provide:l.ip1,useFactory:function Rp(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[oi,ne,l.zs3],multi:!0}];let Z_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Xd=new l.OlP("EventManagerPlugins");let yu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xd),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Yl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Zl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),da=(()=>{class n extends Zl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Jd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Jd))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Jd(n){P().remove(n)}const eh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Op=/%COMP%/g;function vu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?vu(n,r,e):(r=r.replace(Op,n),e.push(r))}return e}function bu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ih=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new eo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Pp(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new X_(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=vu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yu),l.LFG(da),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class eo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(eh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ql(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ql(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=eh[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=eh[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bu(i)):this.eventManager.addEventListener(t,e,bu(i))}}function Ql(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pp extends eo{constructor(t,e,i,r){super(t),this.component=i;const o=vu(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Kl(n){return"_ngcontent-%COMP%".replace(Op,n)}(r+"-"+i.id),this.hostAttr=function nh(n){return"_nghost-%COMP%".replace(Op,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class X_ extends eo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=vu(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ha=(()=>{class n extends Yl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const J_=["alt","control","meta","shift"],Co={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wu=(()=>{class n extends Yl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),J_.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),u+=v+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(e,i){let r=Co[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),J_.forEach(u=>{u!==r&&(0,oh[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:as},{provide:l.g9A,useValue:function ty(){Ya.makeCurrent()},multi:!0},{provide:ne,useFactory:function ah(){return(0,l.RDi)(document),document},deps:[]}]),Jl=new l.OlP(""),ec=[{provide:l.rWj,useClass:class Y_{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Eu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function fa(){return new l.qLn},deps:[]},{provide:Xd,useClass:ha,multi:!0,deps:[ne,l.R0b,l.Lbi]},{provide:Xd,useClass:wu,multi:!0,deps:[ne]},{provide:ih,useClass:ih,deps:[yu,da,l.AFp]},{provide:l.FYo,useExisting:ih},{provide:Zl,useExisting:da},{provide:da,useClass:da,deps:[ne]},{provide:yu,useClass:yu,deps:[Xd,l.R0b]},{provide:class aa{},useClass:Z_,deps:[]},[]];let pa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:oi,useExisting:l.AFp},q_]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Jl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Eu,...ec],imports:[Ji,l.hGG]}),n})(),Ms=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tc(){return new Ms((0,l.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Do=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(sy),i},providedIn:"root"}),n})(),sy=(()=>{class n extends Do{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Pw(n){return new sy(n.get(ne))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Qa=O(9934),un=O(2090),Ts=O(9681),Io=O(1877),Hi=O(4859),ct=O(7579);class Ci extends ct.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var qe=O(4004),us=O(4671),ai=O(4482),zn=O(5403);function ds(n,t=us.y){return n=n??Xa,(0,ai.e)((e,i)=>{let r,o=!0;e.subscribe((0,zn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function Xa(n,t){return n===t}function nn(n,t){return(0,ai.e)((e,i)=>{let r=0;e.subscribe((0,zn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ga=O(3269),dn=O(8996);function Ke(...n){const t=(0,ga.yG)(n);return(0,dn.D)(n,t)}var Zn=O(9751),dr=O(6451),Ja=O(5363),xs=O(8421);function cn(n,t){return(0,ai.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,zn.x)(i,g=>{r?.unsubscribe();let v=0;const D=o++;(0,xs.Xf)(n(g,D)).subscribe(r=(0,zn.x)(i,S=>i.next(t?t(g,S,D,v++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var oy=O(6063);class ch extends ct.x{constructor(t=1/0,e=1/0,i=oy.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var jp=O(3099);function sc(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,jp.B)({connector:()=>new ch(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const _a=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kr=O(515);function pn(n){return n<=0?()=>Kr.E:(0,ai.e)((t,e)=>{let i=0;t.subscribe((0,zn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function el(n){return(0,ai.e)((t,e)=>{let i=!1;t.subscribe((0,zn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ya(n=uh){return(0,ai.e)((t,e)=>{let i=!1;t.subscribe((0,zn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function uh(){return new _a}function hs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):us.y,pn(1),e?el(t):ya(()=>new _a))}var Qr=O(576);function Tu(n,t){return(0,Qr.m)(t)?cn(()=>n,t):cn(()=>n)}var So=O(9468),Ht=O(880),Cr=O(2011),Hn=O(5867);class ks{constructor(t){return t}}class dh{constructor(){return(0,Hn.C6)()}}const hh=new l.OlP("angularfire2._apps"),ay={provide:ks,useFactory:function va(n){return n&&1===n.length?n[0]:new ks((0,Hn.Mq)())},deps:[[new l.FiY,hh]]},fh={provide:dh,deps:[[new l.FiY,hh]]};function ph(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new ks(i)}}let ba=(()=>{class n{constructor(e){(0,Hn.KN)("angularfire",Ht.q4.full,"core"),(0,Hn.KN)("angularfire",Ht.q4.full,"app"),(0,Hn.KN)("angular",l.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ay,fh]}),n})();function xu(n,...t){return{ngModule:ba,providers:[{provide:hh,useFactory:ph(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,...t]}]}}const ac=(0,Ht.u3)(Hn.ZF,!0);var Ee=O(5861);const Ao=new Map,wa={activated:!1,tokenObservers:[]},uy={initialized:!1,enabled:!1};function nr(n){return Ao.get(n)||wa}function Hr(n,t){Ao.set(n,t)}function nl(){return uy}class fy{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new un.BH,yield function Yp(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new un.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const hr=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ru(n){if(!nr(n).activated)throw hr.create("use-before-activation",{appName:n.name})}function il(n,t){return lc.apply(this,arguments)}function lc(){return(lc=(0,Ee.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const U=yield u.getHeartbeatsHeader();U&&(o["X-Firebase-Client"]=U)}const h={method:"POST",body:JSON.stringify(t),headers:o};let g,v;try{g=yield fetch(n,h)}catch(U){throw hr.create("fetch-network-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}if(200!==g.status)throw hr.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(U){throw hr.create("fetch-parse-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(D[1]),N=Date.now();return{token:v.token,expireTimeMillis:N+S,issuedAtTimeMillis:N}})).apply(this,arguments)}function my(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Ea="firebase-app-check-store";let cc=null;function uc(){return cc||(cc=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(hr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ea,{keyPath:"compositeKey"})}}catch(i){t(hr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),cc)}function dc(){return(dc=(0,Ee.Z)(function*(n,t){const i=(yield uc()).transaction(Ea,"readwrite"),o=i.objectStore(Ea).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;h(hr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const hc=new Io.Yd("@firebase/app-check");function Ch(n,t){return(0,un.hl)()?function vh(n,t){return function Kp(n,t){return dc.apply(this,arguments)}(function bh(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{hc.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Qp(){return nl().enabled}function by(){return b.apply(this,arguments)}function b(){return(b=(0,Ee.Z)(function*(){const n=nl();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _={error:"UNKNOWN_ERROR"};function C(n){return un.US.encodeString(JSON.stringify(n),!1)}function M(n){return F.apply(this,arguments)}function F(){return(F=(0,Ee.Z)(function*(n,t=!1){const e=n.app;Ru(e);const i=nr(e);let o,r=i.token;if(r&&!Mn(r)&&(Hr(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(Mn(g)?r=g:yield Ch(e,void 0))}if(!t&&r&&Mn(r))return{token:r.token};let h,u=!1;if(Qp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=il(my(e,yield by()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield Ch(e,g),Hr(e,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?hc.warn(g.message):hc.error(g),o=g}return r?o?h=Mn(r)?{token:r.token,internalError:o}:jr(o):(h={token:r.token},Hr(e,Object.assign(Object.assign({},i),{token:r})),yield Ch(e,r)):h=jr(o),u&&rn(e,h),h})).apply(this,arguments)}function Re(n,t){const e=nr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Hr(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function at(n){const{app:t}=n,e=nr(t);let i=e.tokenRefresher;i||(i=function xt(n){const{app:t}=n;return new fy((0,Ee.Z)(function*(){let i;if(i=nr(t).token?yield M(n,!0):yield M(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=nr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hr(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function rn(n,t){const e=nr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Mn(n){return n.expireTimeMillis-Date.now()>0}function jr(n){return{token:C(_),error:n}}class Ia{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=nr(this.app);for(const e of t)Re(this.app,e.next);return Promise.resolve()}}const Ey="app-check-internal";!function US(){(0,Ts._registerComponent)(new Hi.wA("app-check",n=>function Eh(n,t){return new Ia(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Ey).initialize()})),(0,Ts._registerComponent)(new Hi.wA(Ey,n=>function Dh(n){return{getToken:t=>M(n,t),addTokenListener:t=>function re(n,t,e,i){const{app:r}=n,o=nr(r),u={next:e,error:i,type:t};if(Hr(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&Mn(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),at(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>at(n))}(n,"INTERNAL",t),removeTokenListener:t=>Re(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ts.registerVersion)("@firebase/app-check","0.5.14")}();class Pu{constructor(){return(0,Ht.vb)("app-check")}}typeof window<"u"&&window;var rm=O(127);const My=new l.OlP("angularfire2.auth.use-emulator"),_c=new l.OlP("angularfire2.auth.settings"),Ww=new l.OlP("angularfire2.auth.tenant-id"),qw=new l.OlP("angularfire2.auth.langugage-code"),Yw=new l.OlP("angularfire2.auth.use-device-language"),Zw=new l.OlP("angularfire.auth.persistence"),sm=(n,t,e,i,r,o,u,h)=>(0,Cr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))g.settings[v]=D;return h&&g.setPersistence(h),g},[e,i,r,o,u,h]);let Th=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D,S,N,U){const j=new ct.x,K=Ke(void 0).pipe((0,Ja.Q)(u.outsideAngular),cn(()=>o.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,qe.U)(()=>(0,Cr.on)(e,o,i)),(0,qe.U)(ae=>sm(ae,o,h,v,D,S,g,N)),sc({bufferSize:1,refCount:!1}));if(Is(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{K.pipe(hs()).subscribe();const Ze=K.pipe(cn(Ct=>Ct.getRedirectResult().then(Vt=>Vt,()=>null)),Ht.iC,sc({bufferSize:1,refCount:!1})),ot=K.pipe(cn(Ct=>new Zn.y(Vt=>({unsubscribe:o.runOutsideAngular(()=>Ct.onAuthStateChanged(Gt=>Vt.next(Gt),Gt=>Vt.error(Gt),()=>Vt.complete()))})))),Dt=K.pipe(cn(Ct=>new Zn.y(Vt=>({unsubscribe:o.runOutsideAngular(()=>Ct.onIdTokenChanged(Gt=>Vt.next(Gt),Gt=>Vt.error(Gt),()=>Vt.complete()))}))));this.authState=Ze.pipe(Tu(ot),(0,So.R)(u.outsideAngular),(0,Ja.Q)(u.insideAngular)),this.user=Ze.pipe(Tu(Dt),(0,So.R)(u.outsideAngular),(0,Ja.Q)(u.insideAngular)),this.idToken=this.user.pipe(cn(Ct=>Ct?(0,dn.D)(Ct.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(cn(Ct=>Ct?(0,dn.D)(Ct.getIdTokenResult()):Ke(null))),this.credential=(0,dr.T)(Ze,j,this.authState.pipe(nn(Ct=>!Ct))).pipe((0,qe.U)(Ct=>Ct?.user?Ct:null),(0,So.R)(u.outsideAngular),(0,Ja.Q)(u.insideAngular))}return(0,Cr.pX)(this,K,o,{spy:{apply:(ae,Ze,ot)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&ot.then(Dt=>j.next(Dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr.Dh),l.LFG(Cr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ht.HU),l.LFG(My,8),l.LFG(_c,8),l.LFG(Ww,8),l.LFG(qw,8),l.LFG(Yw,8),l.LFG(Zw,8),l.LFG(Pu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ty=(()=>{class n{constructor(){rm.Z.registerVersion("angularfire",Ht.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Th]}),n})();const Er_production=!0,Er_appVersion="0.3.1",Er_firebase={projectId:"office-buddy-trieste",appId:"1:1068194485548:web:6aa016842792c2728a0889",storageBucket:"office-buddy-trieste.appspot.com",apiKey:"AIzaSyAaOlWtCuWDd6ujq6fvRY7Nm_XqU-Uo93g",authDomain:"office-buddy-trieste.firebaseapp.com",messagingSenderId:"1068194485548",measurementId:"G-YLR034EBYB",databaseURL:"https://office-buddy-trieste-default-rtdb.europe-west1.firebasedatabase.app/"},Er_firebaseApiUrls={badges:"badges",users:"users"},Er_defaults={debounceTime:100},Er_formatter={shortDate:"",longDate:"",badgeIsoDateTime:"yyyy-MM-ddTHH:mm",badgeHumanDateTime:"dd/MM/yyyy HH:mm"};var xh=O(4986),kh=O(8189);function Nu(...n){return function Rh(){return(0,kh.J)(1)}()((0,dn.D)(n,(0,ga.yG)(n)))}function _i(...n){const t=(0,ga.yG)(n);return(0,ai.e)((e,i)=>{(t?Nu(n,e,t):Nu(n,e)).subscribe(i)})}function sl(){return(0,ai.e)((n,t)=>{let e,i=!1;n.subscribe((0,zn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function WS(n,t,e,i,r){return(o,u)=>{let h=e,g=t,v=0;o.subscribe((0,zn.x)(u,D=>{const S=v++;g=h?n(g,D,S):(h=!0,D),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function om(n,t){return(0,ai.e)(WS(n,t,arguments.length>=2,!0))}O(5881);var Et,YS=O(3942),ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Aa={},am=am||{},Yt=ZS||self;function lm(){}function cm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function yc(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Kw="closure_uid_"+(1e9*Math.random()>>>0),xy=0;function Tk(n,t,e){return n.call.apply(n.bind,arguments)}function xk(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function $r(n,t,e){return($r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tk:xk).apply(null,arguments)}function ky(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function ol(){this.s=this.s,this.o=this.o}var Ry={};ol.prototype.s=!1,ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Mk(n){return Object.prototype.hasOwnProperty.call(n,Kw)&&n[Kw]||(n[Kw]=++xy)}(this);delete Ry[n]}},ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oy=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function um(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Py(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(cm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function fr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var KS=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",lm,t),Yt.removeEventListener("test",lm,t)}catch{}return n}();function Lu(n){return/^[\s\xa0]*$/.test(n)}var Vu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fy(n,t){return n<t?-1:n>t?1:0}function dm(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function To(n){return-1!=dm().indexOf(n)}function hm(n){return hm[" "](n),n}hm[" "]=lm;var Ph,n,XS=To("Opera"),Bu=To("Trident")||To("MSIE"),Xw=To("Edge"),Oh=Xw||Bu,Jw=To("Gecko")&&!(-1!=dm().toLowerCase().indexOf("webkit")&&!To("Edge"))&&!(To("Trident")||To("MSIE"))&&!To("Edge"),JS=-1!=dm().toLowerCase().indexOf("webkit")&&!To("Edge");function eC(){var n=Yt.document;return n?n.documentMode:void 0}e:{var Ny="",Ly=(n=dm(),Jw?/rv:([^\);]+)(\)|;)/.exec(n):Xw?/Edge\/([\d\.]+)/.exec(n):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JS?/WebKit\/(\S+)/.exec(n):XS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ly&&(Ny=Ly?Ly[1]:""),Bu){var Dr=eC();if(null!=Dr&&Dr>parseFloat(Ny)){Ph=String(Dr);break e}}Ph=Ny}var Vy={};var Nh=Yt.document&&Bu&&(eC()||parseInt(Ph,10))||void 0;function Uu(n,t){if(fr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Jw){e:{try{hm(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uu.X.h.call(this)}}xr(Uu,fr);var eA={2:"touch",3:"pen",4:"mouse"};Uu.prototype.h=function(){Uu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lh="closure_listenable_"+(1e6*Math.random()|0),nC=0;function tA(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++nC,this.ba=this.ea=!1}function Vh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function By(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Uy(n){const t={};for(const e in n)t[e]=n[e];return t}const iC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rC(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<iC.length;o++)e=iC[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function fm(n){this.src=n,this.g={},this.h=0}function Hy(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Oy(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Vh(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function jy(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}fm.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=jy(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new tA(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var al="closure_lm_"+(1e6*Math.random()|0),no={};function sC(n,t,e,i,r){if(i&&i.once)return nA(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sC(n,t[o],e,i,r);return null}return e=pm(e),n&&n[Lh]?n.N(t,e,yc(i)?!!i.capture:!!i,r):oC(n,t,e,!1,i,r)}function oC(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=yc(r)?!!r.capture:!!r,h=Bh(n);if(h||(n[al]=h=new fm(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function kk(){const t=zy;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)KS||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(io(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function nA(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)nA(n,t[o],e,i,r);return null}return e=pm(e),n&&n[Lh]?n.O(t,e,yc(i)?!!i.capture:!!i,r):oC(n,t,e,!0,i,r)}function $y(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)$y(n,t[o],e,i,r);else i=yc(i)?!!i.capture:!!i,e=pm(e),n&&n[Lh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=jy(o=n.g[t],e,i,r))&&(Vh(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Bh(n))&&(t=n.g[t.toString()],n=-1,t&&(n=jy(t,e,i,r)),(e=-1<n?t[n]:null)&&aC(e))}function aC(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Lh])Hy(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(io(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Bh(t))?(Hy(e,n),0==e.h&&(e.src=null,t[al]=null)):Vh(n)}}}function io(n){return n in no?no[n]:no[n]="on"+n}function zy(n,t){if(n.ba)n=!0;else{t=new Uu(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&aC(n),n=e.call(i,t)}return n}function Bh(n){return(n=n[al])instanceof fm?n:null}var Gy="__closure_events_fn_"+(1e9*Math.random()>>>0);function pm(n){return"function"==typeof n?n:(n[Gy]||(n[Gy]=function(t){return n.handleEvent(t)}),n[Gy])}function pr(){ol.call(this),this.i=new fm(this),this.P=this,this.I=null}function Pi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new fr(t,n);else if(t instanceof fr)t.target=t.target||n;else{var r=t;rC(t=new fr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=mm(u,i,!0,t)&&r}if(r=mm(u=t.g=n,i,!0,t)&&r,r=mm(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=mm(u=t.g=e[o],i,!1,t)&&r}function mm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,g=u.ha||u.src;u.ea&&Hy(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}xr(pr,ol),pr.prototype[Lh]=!0,pr.prototype.removeEventListener=function(n,t,e,i){$y(this,n,t,e,i)},pr.prototype.M=function(){if(pr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Vh(e[i]);delete n.g[t],n.h--}}this.I=null},pr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},pr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Wy=Yt.JSON.stringify;function qy(){var n=lC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var _m,Zy=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Rk,n=>n.reset());class Rk{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Hu(n){Yt.setTimeout(()=>{throw n},0)}function gm(n,t){_m||function iA(){var n=Yt.Promise.resolve(void 0);_m=function(){n.then(rA)}}(),Uh||(_m(),Uh=!0),lC.add(n,t)}var Uh=!1,lC=new class Yy{constructor(){this.h=this.g=null}add(t,e){const i=Zy.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function rA(){for(var n;n=qy();){try{n.h.call(n.g)}catch(e){Hu(e)}var t=Zy;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Uh=!1}function ym(n,t){pr.call(this),this.h=n||1,this.g=t||Yt,this.j=$r(this.lb,this),this.l=Date.now()}function Ky(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Qy(n,t,e){if("function"==typeof n)e&&(n=$r(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$r(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function cC(n){n.g=Qy(()=>{n.g=null,n.i&&(n.i=!1,cC(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}xr(ym,pr),(Et=ym.prototype).ca=!1,Et.R=null,Et.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pi(this,"tick"),this.ca&&(Ky(this),this.start()))}},Et.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){ym.X.M.call(this),Ky(this),delete this.g};class uC extends ol{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cC(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vc(n){ol.call(this),this.h=n,this.g={}}xr(vc,ol);var Xy=[];function vm(n,t,e,i){Array.isArray(e)||(e&&(Xy[0]=e.toString()),e=Xy);for(var r=0;r<e.length;r++){var o=sC(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function dC(n){By(n.g,function(t,e){this.g.hasOwnProperty(e)&&aC(t)},n),n.g={}}function bm(){this.g=!0}function Os(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function mC(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Wy(e)}catch{return t}}(n,e)+(i?" "+i:"")})}vc.prototype.M=function(){vc.X.M.call(this),dC(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bm.prototype.Aa=function(){this.g=!1},bm.prototype.info=function(){};var bc={},sA=null;function wc(){return sA=sA||new pr}function gC(n){fr.call(this,bc.Pa,n)}function ju(n){const t=wc();Pi(t,new gC(t,n))}function Jy(n,t){fr.call(this,bc.STAT_EVENT,n),this.stat=t}function kr(n){const t=wc();Pi(t,new Jy(t,n))}function wm(n,t){fr.call(this,bc.Qa,n),this.size=t}function $u(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}bc.Pa="serverreachability",xr(gC,fr),bc.STAT_EVENT="statevent",xr(Jy,fr),bc.Qa="timingevent",xr(wm,fr);var Cc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Hh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cm(){}function ev(){}Cm.prototype.h=null;var Dm,Ec={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dc(){fr.call(this,"d")}function tv(){fr.call(this,"c")}function Im(){}function jh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new vc(this),this.O=iv,this.T=new ym(n=Oh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new nv}function nv(){this.i=null,this.g="",this.h=!1}xr(Dc,fr),xr(tv,fr),xr(Im,Cm),Im.prototype.g=function(){return new XMLHttpRequest},Im.prototype.i=function(){return{}},Dm=new Im;var iv=45e3,Sm={},rv={};function Am(n,t,e){n.K=1,n.v=qh(xo(t)),n.s=e,n.P=!0,_C(n,null)}function _C(n,t){n.F=Date.now(),zr(n),n.A=xo(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),uA(e.i,"t",i),n.C=0,e=n.l.H,n.h=new nv,n.g=NC(n.l,e?t:null,!n.s),0<n.N&&(n.L=new uC($r(n.La,n,n.g),n.N)),vm(n.S,n.g,"readystatechange",n.ib),t=n.H?Uy(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),ju(1),function hC(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var D=v[0];v=v[1];var S=D.split("_");u=2<=S.length&&"type"==S[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function sv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function yC(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=oA(n,e),r==rv){4==t&&(n.o=4,kr(14),i=!1),Os(n.j,n.m,null,"[Incomplete Response]");break}if(r==Sm){n.o=4,kr(15),Os(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Os(n.j,n.m,r,null),ov(n,r)}sv(n)&&r!=rv&&r!=Sm&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,kr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),mv(t),t.K=!0,kr(11))):(Os(n.j,n.m,e,"[Invalid Chunked Response]"),Ic(n),zh(n))}function oA(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?rv:(e=Number(t.substring(e,i)),isNaN(e)?Sm:(i+=1)+e>t.length?rv:(t=t.substr(i,e),n.C=i+e,t))}function zr(n){n.V=Date.now()+n.O,vC(n,n.O)}function vC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$u($r(n.gb,n),t)}function $h(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function zh(n){0==n.l.G||n.I||_A(n.l,n)}function Ic(n){$h(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Ky(n.T),dC(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function ov(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||lv(e.h,n)))if(!n.J&&lv(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;rf(e),hv(e)}pv(e),kr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=$u($r(e.cb,e),6e3));if(1>=Ac(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else qu(e,11)}else if((n.J||e.g==n)&&rf(e),!Lu(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.T=v[0],v=v[1],2==e.G)if("c"==v[0]){e.I=v[1],e.ka=v[2];const D=v[3];null!=D&&(e.ma=D,e.j.info("VER="+e.ma));const S=v[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(e.J=i=1.5*N,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const U=n.g;if(U){const j=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=i.h;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Tm(o,o.h),o.h=null))}if(i.D){const K=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,yi(i.F,i.D,K))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=_v(i,i.H?i.ka:null,i.V),u.J){Qh(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&($h(h),zr(h)),i.g=u}else OC(i);0<e.i.length&&xc(e)}else"stop"!=v[0]&&"close"!=v[0]||qu(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?qu(e,7):Pm(e):"noop"!=v[0]&&e.l&&e.l.wa(v),e.A=0)}ju(4)}catch{}}function wC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(cm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function bC(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function aA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Et=jh.prototype).setTimeout=function(n){this.O=n},Et.ib=function(n){n=n.target;const t=this.L;t&&3==ro(n)?t.l():this.La(n)},Et.La=function(n){try{if(n==this.g)e:{const D=ro(this.g);var t=this.g.Ea();const S=this.g.aa();if(!(3>D)&&(3!=D||Oh||this.g&&(this.h.h||this.g.fa()||Ro(this.g)))){this.I||4!=D||7==t||ju(8==t||0>=S?3:2),$h(this);var e=this.g.aa();this.Y=e;t:if(sv(this)){var i=Ro(this.g);n="";var r=i.length,o=4==ro(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ic(this),zh(this);var u="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function fC(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lu(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,kr(12),Ic(this),zh(this);break e}Os(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ov(this,e)}this.P?(yC(this,D,u),Oh&&this.i&&3==D&&(vm(this.S,this.T,"tick",this.hb),this.T.start())):(Os(this.j,this.m,u,null),ov(this,u)),4==D&&Ic(this),this.i&&!this.I&&(4==D?_A(this.l,this):(this.i=!1,zr(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Ic(this),zh(this)}}}catch{}},Et.hb=function(){if(this.g){var n=ro(this.g),t=this.g.fa();this.C<t.length&&($h(this),yC(this,n,t),this.i&&4!=n&&zr(this))}},Et.cancel=function(){this.I=!0,Ic(this)},Et.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function pC(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ju(3),kr(17)),Ic(this),this.o=2,zh(this)):vC(this,this.V-n)};var CC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jt(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jt){this.h=void 0!==t?t:n.h,Gh(this,n.j),this.s=n.s,this.g=n.g,Wh(this,n.m),this.l=n.l,t=n.i;var e=new Zh;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),EC(this,e),this.o=n.o}else n&&(e=String(n).match(CC))?(this.h=!!t,Gh(this,e[1]||"",!0),this.s=Yh(e[2]||""),this.g=Yh(e[3]||"",!0),Wh(this,e[4]),this.l=Yh(e[5]||"",!0),EC(this,e[6]||"",!0),this.o=Yh(e[7]||"")):(this.h=!!t,this.i=new Zh(null,this.h))}function xo(n){return new jt(n)}function Gh(n,t,e){n.j=e?Yh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Wh(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function EC(n,t,e){t instanceof Zh?(n.i=t,function Pk(n,t){t&&!n.j&&(ko(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Mm(this,i),uA(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=zu(t,SC)),n.i=new Zh(t,n.h))}function yi(n,t,e){n.i.set(t,e)}function qh(n){return yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zu(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,cA),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jt.prototype.toString=function(){var n=[],t=this.j;t&&n.push(zu(t,DC,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(zu(t,DC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(zu(e,"/"==e.charAt(0)?IC:Ok,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",zu(e,Sc)),n.join("")};var DC=/[#\/\?@]/g,Ok=/[#\?:]/g,IC=/[#\?]/g,SC=/[#\?@]/g,Sc=/#/g;function Zh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ko(n){n.g||(n.g=new Map,n.h=0,n.i&&function lA(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Mm(n,t){ko(n),t=Kh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function AC(n,t){return ko(n),t=Kh(n,t),n.g.has(t)}function uA(n,t,e){Mm(n,t),0<e.length&&(n.i=null,n.g.set(Kh(n,t),um(e)),n.h+=e.length)}function Kh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function av(n){this.l=n||Fk,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ga&&Yt.g.Ga()&&Yt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=Zh.prototype).add=function(n,t){ko(this),this.i=null,n=Kh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Et.forEach=function(n,t){ko(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Et.oa=function(){ko(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Et.W=function(n){ko(this);let t=[];if("string"==typeof n)AC(this,n)&&(t=t.concat(this.g.get(Kh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Et.set=function(n,t){return ko(this),this.i=null,AC(this,n=Kh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Et.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var Fk=10;function MC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ac(n){return n.h?1:n.g?n.g.size:0}function lv(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Tm(n,t){n.g?n.g.add(t):n.h=t}function Qh(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function TC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return um(n.i)}function xm(){}function hA(){this.g=new xm}function fA(n,t,e){const i=e||"";try{wC(n,function(r,o){let u=r;yc(r)&&(u=Wy(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function km(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Xh(n){this.l=n.ac||null,this.j=n.jb||!1}function Jh(n,t){pr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}av.prototype.cancel=function(){if(this.i=TC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xm.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},xm.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},xr(Xh,Cm),Xh.prototype.g=function(){return new Jh(this.l,this.j)},Xh.prototype.i=function(n){return function(){return n}}({}),xr(Jh,pr);var cv=0;function uv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Gu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mc(n)}function Mc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=Jh.prototype).open=function(n,t){if(this.readyState!=cv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Mc(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Yt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gu(this)),this.readyState=cv},Et.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Et.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Gu(this):Mc(this),3==this.readyState&&uv(this)}},Et.Va=function(n){this.g&&(this.response=this.responseText=n,Gu(this))},Et.Ua=function(n){this.g&&(this.response=n,Gu(this))},Et.ga=function(){this.g&&Gu(this)},Et.setRequestHeader=function(n,t){this.v.append(n,t)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nk=Yt.JSON.parse;function vi(n){pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xC,this.K=this.L=!1}xr(vi,pr);var xC="",Lk=/^https?$/i,Wu=["POST","PUT"];function dv(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ef(n),tf(n)}function ef(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function Ps(n){if(n.h&&typeof am<"u"&&(!n.C[1]||4!=ro(n)||2!=n.aa()))if(n.v&&4==ro(n))Qy(n.Ha,0,n);else if(Pi(n,"readystatechange"),4==ro(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(CC)[1]||null;if(!r&&Yt.self&&Yt.self.location){var o=Yt.self.location.protocol;r=o.substr(0,o.length-1)}i=!Lk.test(r?r.toLowerCase():"")}e=i}if(e)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var u=2<ro(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",ef(n)}}finally{tf(n)}}}function tf(n,t){if(n.g){RC(n);const e=n.g,i=n.C[0]?lm:null;n.g=null,n.C=null,t||Pi(n,"ready");try{e.onreadystatechange=i}catch{}}}function RC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function ro(n){return n.g?n.g.readyState:0}function Ro(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Rm(n){let t="";return By(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Om(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Rm(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):yi(n,t,e))}function Tc(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mA(n){this.Ca=0,this.i=[],this.j=new bm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Tc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Tc("baseRetryDelayMs",5e3,n),this.bb=Tc("retryDelaySeedMs",1e4,n),this.$a=Tc("forwardChannelMaxRetries",2,n),this.ta=Tc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new av(n&&n.concurrentRequestLimit),this.Fa=new hA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Pm(n){if(nf(n),3==n.G){var t=n.U++,e=xo(n.F);yi(e,"SID",n.I),yi(e,"RID",t),yi(e,"TYPE","terminate"),kc(n,e),(t=new jh(n,n.j,t,void 0)).K=2,t.v=qh(xo(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(e=Yt.navigator.sendBeacon(t.v.toString(),"")),!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=NC(t.l,null),t.g.da(t.v)),t.F=Date.now(),zr(t)}gv(n)}function hv(n){n.g&&(mv(n),n.g.cancel(),n.g=null)}function nf(n){hv(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),rf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function xc(n){MC(n.h)||n.m||(n.m=!0,gm(n.Ja,n),n.C=0)}function Fm(n,t){var e;e=t?t.m:n.U++;const i=xo(n.F);yi(i,"SID",n.I),yi(i,"RID",e),yi(i,"AID",n.T),kc(n,i),n.o&&n.s&&Om(i,n.o,n.s),e=new jh(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=gA(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Tm(n.h,e),Am(e,i,t)}function kc(n,t){n.ia&&By(n.ia,function(e,i){yi(t,i,e)}),n.l&&wC({},function(e,i){yi(t,i,e)})}function gA(n,t,e){e=Math.min(n.i.length,e);var i=n.l?$r(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let v=r[g].h;const D=r[g].g;if(v-=o,0>v)o=Math.max(0,r[g].h-100),h=!1;else try{fA(D,u,"req"+v+"_")}catch{i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function OC(n){n.g||n.u||(n.Z=1,gm(n.Ia,n),n.A=0)}function pv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=$u($r(n.Ia,n),FC(n,n.A)),n.A++,0))}function mv(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function PC(n){n.g=new jh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=xo(n.sa);yi(t,"RID","rpc"),yi(t,"SID",n.I),yi(t,"CI",n.L?"0":"1"),yi(t,"AID",n.T),yi(t,"TYPE","xmlhttp"),kc(n,t),n.o&&n.s&&Om(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=qh(xo(t)),e.s=null,e.P=!0,_C(e,n)}function rf(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function _A(n,t){var e=null;if(n.g==t){rf(n),mv(n),n.g=null;var i=2}else{if(!lv(n.h,t))return;e=t.D,Qh(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Pi(i=wc(),new wm(i,e,t,r)),xc(n)}else OC(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function fv(n,t){return!(Ac(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=$u($r(n.Ja,n,t),FC(n,n.C)),n.C++,0)))}(n,t)||2==i&&pv(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:qu(n,5);break;case 4:qu(n,10);break;case 3:qu(n,6);break;default:qu(n,2)}}function FC(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function qu(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=$r(n.kb,n);e||(e=new jt("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||Gh(e,"https"),qh(e)),function pA(n,t){const e=new bm;if(Yt.Image){const i=new Image;i.onload=ky(km,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ky(km,e,i,"TestLoadImage: error",!1,t),i.onabort=ky(km,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ky(km,e,i,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else kr(2);n.G=0,n.l&&n.l.va(t),gv(n),nf(n)}function gv(n){if(n.G=0,n.la=[],n.l){const t=TC(n.h);(0!=t.length||0!=n.i.length)&&(Py(n.la,t),Py(n.la,n.i),n.h.i.length=0,um(n.i),n.i.length=0),n.l.ua()}}function _v(n,t,e){var i=e instanceof jt?xo(e):new jt(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Wh(i,i.m);else{var r=Yt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new jt(null,void 0);i&&Gh(o,i),t&&(o.g=t),r&&Wh(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&yi(i,e,t),yi(i,"VER",n.ma),kc(n,i),i}function NC(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vi(e&&n.Da&&!n.ra?new Xh({jb:!0}):n.ra)).Ka(n.H),t}function Nm(){}function yv(){if(Bu&&!(10<=Number(Nh)))throw Error("Environmental error: no available transport.")}function Fs(n,t){pr.call(this),this.g=new mA(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Lu(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lu(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new sf(this)}function yA(n){Dc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function vA(){tv.call(this),this.status=1}function sf(n){this.g=n}(Et=vi.prototype).Ka=function(n){this.L=n},Et.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dm.g(),this.C=function Em(n){return n.h||(n.h=n.i())}(this.u?this.u:Dm),this.g.onreadystatechange=$r(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void dv(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Yt.FormData&&n instanceof Yt.FormData,!(0<=Oy(Wu,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RC(this),0<this.B&&((this.K=function kC(n){return Bu&&function tC(){return function QS(n){var t=Vy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Vu(String(Ph)).split("."),e=Vu("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Fy(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Fy(0==r[2].length,0==o[2].length)||Fy(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$r(this.qa,this)):this.A=Qy(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){dv(this,o)}},Et.qa=function(){typeof am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),tf(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tf(this,!0)),vi.X.M.call(this)},Et.Ha=function(){this.s||(this.F||this.v||this.l?Ps(this):this.fb())},Et.fb=function(){Ps(this)},Et.aa=function(){try{return 2<ro(this)?this.g.status:-1}catch{return-1}},Et.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Nk(t)}},Et.Ea=function(){return this.m},Et.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=mA.prototype).ma=8,Et.G=1,Et.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new jh(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Uy(o),rC(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=gA(this,r,t),yi(e=xo(this.F),"RID",n),yi(e,"CVER",22),this.D&&yi(e,"X-HTTP-Session-Id",this.D),kc(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(Rm(o)))+"&"+t:this.o&&Om(e,this.o,o)),Tm(this.h,r),this.Ya&&yi(e,"TYPE","init"),this.O?(yi(e,"$req",t),yi(e,"SID","null"),r.Z=!0,Am(r,e,null)):Am(r,e,t),this.G=2}}else 3==this.G&&(n?Fm(this,n):0==this.i.length||MC(this.h)||Fm(this))},Et.Ia=function(){if(this.u=null,PC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=$u($r(this.eb,this),n)}},Et.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kr(10),hv(this),PC(this))},Et.cb=function(){null!=this.v&&(this.v=null,hv(this),pv(this),kr(19))},Et.kb=function(n){n?(this.j.info("Successfully pinged google.com"),kr(2)):(this.j.info("Failed to ping google.com"),kr(1))},(Et=Nm.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Ra=function(){},yv.prototype.g=function(n,t){return new Fs(n,t)},xr(Fs,pr),Fs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;kr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=_v(n,null,n.V),xc(n)},Fs.prototype.close=function(){Pm(this.g)},Fs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Wy(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&xc(t)},Fs.prototype.M=function(){this.g.l=null,delete this.j,Pm(this.g),delete this.g,Fs.X.M.call(this)},xr(yA,Dc),xr(vA,tv),xr(sf,Nm),sf.prototype.xa=function(){Pi(this.g,"a")},sf.prototype.wa=function(n){Pi(this.g,new yA(n))},sf.prototype.va=function(n){Pi(this.g,new vA(n))},sf.prototype.ua=function(){Pi(this.g,"b")},yv.prototype.createWebChannel=yv.prototype.g,Fs.prototype.send=Fs.prototype.u,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,Cc.NO_ERROR=0,Cc.TIMEOUT=8,Cc.HTTP_ERROR=6,Hh.COMPLETE="complete",ev.EventType=Ec,Ec.OPEN="a",Ec.CLOSE="b",Ec.ERROR="c",Ec.MESSAGE="d",pr.prototype.listen=pr.prototype.N,vi.prototype.listenOnce=vi.prototype.O,vi.prototype.getLastError=vi.prototype.Oa,vi.prototype.getLastErrorCode=vi.prototype.Ea,vi.prototype.getStatus=vi.prototype.aa,vi.prototype.getResponseJson=vi.prototype.Sa,vi.prototype.getResponseText=vi.prototype.fa,vi.prototype.send=vi.prototype.da,vi.prototype.setWithCredentials=vi.prototype.Ka;var Vk=Aa.createWebChannelTransport=function(){return new yv},Bk=Aa.getStatEventTarget=function(){return wc()},LC=Aa.ErrorCode=Cc,Uk=Aa.EventType=Hh,Hk=Aa.Event=bc,Ma=Aa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vv=Aa.FetchXmlHttpFactory=Xh,Lm=Aa.WebChannel=ev,VC=Aa.XhrIo=vi;const Vm="@firebase/firestore";class ir{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let ll="9.12.0";const cl=new Io.Yd("@firebase/firestore");function Oo(){return cl.logLevel}function Ge(n,...t){if(cl.logLevel<=Io.in.DEBUG){const e=t.map(bv);cl.debug(`Firestore (${ll}): ${n}`,...e)}}function Fi(n,...t){if(cl.logLevel<=Io.in.ERROR){const e=t.map(bv);cl.error(`Firestore (${ll}): ${n}`,...e)}}function ul(n,...t){if(cl.logLevel<=Io.in.WARN){const e=t.map(bv);cl.warn(`Firestore (${ll}): ${n}`,...e)}}function bv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const t=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+n;throw Fi(t),new Error(t)}function Ft(n,t){n||_t()}function st(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends un.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ai{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class wv{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ir.UNAUTHENTICATED))}shutdown(){}}class Cv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ev{constructor(t){this.t=t,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ai,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,Ee.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ai)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new wv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ft(null===t||"string"==typeof t),new ir(t)}}class HC{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Dv{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new HC(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jk{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft("string"==typeof e.token),this.A=e.token,new jC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $C(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class zC{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=$C(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function Rc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function GC(n){return n+"\0"}class vn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vn.fromMillis(Date.now())}static fromDate(t){return vn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new vn(0,0))}static max(){return new Lt(new vn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class af{constructor(t,e,i){void 0===e?e=0:e>t.length&&_t(),void 0===i?i=t.length-e:i>t.length-e&&_t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===af.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof af?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tn extends af{construct(t,e,i){return new Tn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tn(e)}static emptyPath(){return new Tn([])}}const bA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends af{construct(t,e,i){return new bi(t,e,i)}static isValidIdentifier(t){return bA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ve(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ve(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Ve(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bi(e)}static emptyPath(){return new bi([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Tn.fromString(t))}static fromName(t){return new nt(Tn.fromString(t).popFirst(5))}static empty(){return new nt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Tn(t.slice()))}}class Bm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Iv(n){return n.fields.find(t=>2===t.kind)}function Oc(n){return n.fields.filter(t=>2!==t.kind)}Bm.UNKNOWN_ID=-1;class Um{constructor(t,e){this.fieldPath=t,this.kind=e}}class lf{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new lf(0,Xr.min())}}function YC(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new vn(e+1,0):new vn(e,i));return new Xr(r,nt.empty(),t)}function Sv(n){return new Xr(n.readTime,n.key,-1)}class Xr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Xr(Lt.min(),nt.empty(),-1)}static max(){return new Xr(Lt.max(),nt.empty(),-1)}}function Av(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:Qt(n.largestBatchId,t.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dl(n){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,Ee.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==so)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),Mv.apply(this,arguments)}class de{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new de((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof de?e:de.resolve(e)}catch(e){return de.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):de.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):de.reject(e)}static resolve(t){return new de((e,i)=>{e(t)})}static reject(t){return new de((e,i)=>{i(t)})}static waitFor(t){return new de((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},g=>i(g))}),u=!0,o===r&&e()})}static or(t){let e=de.resolve(!1);for(const i of t)e=e.next(r=>r?de.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new de((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const v=g;e(t[v]).next(D=>{u[v]=D,++h,h===o&&i(u)},D=>r(D))}})}static doWhile(t,e){return new de((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class cf{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new uf(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=hf(i.target.error);this.P.reject(new uf(t,r))}}static open(t,e,i,r){try{return new cf(e,t.transaction(r,i))}catch(o){throw new uf(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new CA(e)}}class oo{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===oo.D((0,un.z$)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),Pc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,un.hl)())return!1;if(oo.N())return!0;const t=(0,un.z$)(),e=oo.D(t),i=0<e&&e<10,r=oo.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Ee.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new uf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ve(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ve(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new uf(t,h))},o.onupgradeneeded=u=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ee.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const g=cf.open(o.db,t,u?"readonly":"readwrite",i),v=r(g).next(D=>(g.V(),D)).catch(D=>(g.abort(D),de.reject(D))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,D="FirebaseError"!==v.name&&h<3;if(Ge("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),o.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wA{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Pc(this.U.delete())}}class uf extends Ve{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Po(n){return"IndexedDbTransactionError"===n.name}class CA{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Pc(i)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),Pc(this.store.add(t))}get(t){return Pc(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),Pc(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),Pc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new de((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new de((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new de((i,r)=>{e.onerror=o=>{const u=hf(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new de((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new wA(h),v=e(h.primaryKey,h.value,g);if(v instanceof de){const D=v.catch(S=>(g.done(),de.reject(S)));i.push(D)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>de.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Pc(n){return new de((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=hf(i.target.error);e(r)}})}let df=!1;function hf(n){const t=oo.D((0,un.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return df||(df=!0,setTimeout(()=>{throw i},0)),i}}return n}class jm{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ee.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Po(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dl(i)}yield e.nt(6e4)}))}}class zk{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Ee.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return de.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Ge("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>(Ge("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=Sv(o);Av(u,i)>0&&(i=u)}),new Xr(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Rr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function EA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Tv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Rr.at=-1;class Ei{constructor(t,e){this.comparator=t,this.root=e||rr.EMPTY}insert(t,e){return new Ei(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(t){return new Ei(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ff(this.root,t,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ff(this.root,t,this.comparator,!0)}}class ff{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??rr.RED,this.left=r??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new rr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return rr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1,rr.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,t,e,i,r){return this}insert(n,t,e){return new rr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(t){this.comparator=t,this.data=new Ei(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(t){return new pf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new bn(this.comparator);return e.data=t,e}}class pf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ta(n){return n.hasNext()?n.getNext():void 0}class Sr{constructor(t){this.fields=t,t.sort(bi.comparator)}static empty(){return new Sr([])}unionWith(t){let e=new bn(bi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Sr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Rc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ni{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ni(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Ni(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const ZC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(n){if(Ft(!!n),"string"==typeof n){let t=0;const e=ZC.exec(n);if(Ft(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mi(n.seconds),nanos:Mi(n.nanos)}}function Mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ao(n){return"string"==typeof n?Ni.fromBase64String(n):Ni.fromUint8Array(n)}function xv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function IA(n){const t=n.mapValue.fields.__previous_value__;return xv(t)?IA(t):t}function mf(n){const t=fl(n.mapValue.fields.__local_write_time__.timestampValue);return new vn(t.seconds,t.nanos)}class Gk{constructor(t,e,i,r,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class pl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}function gf(n){return null==n}function _f(n){return 0===n&&1/n==-1/0}function kv(n){return"number"==typeof n&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$m={nullValue:"NULL_VALUE"};function xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:XC(n)?9007199254740991:10:_t()}function No(n,t){if(n===t)return!0;const e=xa(n);if(e!==xa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mf(n).isEqual(mf(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=fl(i.timestampValue),u=fl(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ao(n.bytesValue).isEqual(ao(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Mi(i.geoPointValue.latitude)===Mi(r.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Mi(i.integerValue)===Mi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Mi(i.doubleValue),u=Mi(r.doubleValue);return o===u?_f(o)===_f(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Rc(n.arrayValue.values||[],t.arrayValue.values||[],No);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(EA(o)!==EA(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!No(o[h],u[h])))return!1;return!0}(n,t);default:return _t()}var r}function yf(n,t){return void 0!==(n.values||[]).find(e=>No(e,t))}function ml(n,t){if(n===t)return 0;const e=xa(n),i=xa(t);if(e!==i)return Qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Mi(r.integerValue||r.doubleValue),h=Mi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return KC(n.timestampValue,t.timestampValue);case 4:return KC(mf(n),mf(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=ao(r),h=ao(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Qt(u[g],h[g]);if(0!==v)return v}return Qt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Qt(Mi(r.latitude),Mi(o.latitude));return 0!==u?u:Qt(Mi(r.longitude),Mi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=ml(u[g],h[g]);if(v)return v}return Qt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Fo.mapValue&&o===Fo.mapValue)return 0;if(r===Fo.mapValue)return 1;if(o===Fo.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=o.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let D=0;D<h.length&&D<v.length;++D){const S=Qt(h[D],v[D]);if(0!==S)return S;const N=ml(u[h[D]],g[v[D]]);if(0!==N)return N}return Qt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw _t()}}function KC(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=fl(n),i=fl(t),r=Qt(e.seconds,i.seconds);return 0!==r?r:Qt(e.nanos,i.nanos)}function Zu(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ao(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Rv(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Rv(i.fields[h])}`;return o+"}"}(n.mapValue):_t();var t}function Lo(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ka(n){return!!n&&"integerValue"in n}function zm(n){return!!n&&"arrayValue"in n}function Ku(n){return!!n&&"nullValue"in n}function QC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gm(n){return!!n&&"mapValue"in n}function Fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return hl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Fc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function XC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vo(n){return"nullValue"in n?$m:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Lo(pl.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function vf(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Lo(pl.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fo:_t()}function Ar(n,t){const e=ml(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function gl(n,t){const e=ml(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ji{constructor(t){this.value=t}static empty(){return new ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Gm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fc(e)}setAll(t){let e=bi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Fc(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Gm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return No(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Gm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){hl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ji(Fc(this.value))}}function fs(n){const t=[];return hl(n.fields,(e,i)=>{const r=new bi([e]);if(Gm(i)){const o=fs(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Sr(t)}class Yn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Yn(t,0,Lt.min(),Lt.min(),ji.empty(),0)}static newFoundDocument(t,e,i){return new Yn(t,1,e,Lt.min(),i,0)}static newNoDocument(t,e){return new Yn(t,2,e,Lt.min(),ji.empty(),0)}static newUnknownDocument(t,e){return new Yn(t,3,e,Lt.min(),ji.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qu{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ht=null}}function Nc(n,t=null,e=[],i=[],r=null,o=null,u=null){return new Qu(n,t,e,i,r,o,u)}function Ns(n){const t=st(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Zu(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Zu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Zu(i)).join(",")),t.ht=e}return t.ht}function Bo(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!oE(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!No(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Pv(n.startAt,t.startAt)&&Pv(n.endAt,t.endAt)}function Ra(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Oa(n,t){return n.filters.filter(e=>e instanceof mr&&e.field.isEqual(t))}function Lc(n,t,e){let i=$m,r=!0;for(const o of Oa(n,t)){let u=$m,h=!0;switch(o.op){case"<":case"<=":u=Vo(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=$m}Ar({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Ar({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Vc(n,t,e){let i=Fo,r=!0;for(const o of Oa(n,t)){let u=Fo,h=!0;switch(o.op){case">=":case">":u=vf(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Fo}gl({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];gl({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class mr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new JC(t,e,i):"array-contains"===e?new nE(t,i):"in"===e?new iE(t,i):"not-in"===e?new rE(t,i):"array-contains-any"===e?new sE(t,i):new mr(t,e,i)}static lt(t,e,i){return"in"===e?new eE(t,i):new tE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(ml(e,this.value)):null!==e&&xa(this.value)===xa(e)&&this.ft(ml(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _t()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JC extends mr{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.ft(e)}}class eE extends mr{constructor(t,e){super(t,"in",e),this.keys=Ov(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class tE extends mr{constructor(t,e){super(t,"not-in",e),this.keys=Ov(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Ov(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class nE extends mr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zm(e)&&yf(e.arrayValue,this.value)}}class iE extends mr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&yf(this.value.arrayValue,e)}}class rE extends mr{constructor(t,e){super(t,"not-in",e)}matches(t){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!yf(this.value.arrayValue,e)}}class sE extends mr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>yf(this.value.arrayValue,i))}}class _l{constructor(t,e){this.position=t,this.inclusive=e}}class Ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function oE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function aE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?nt.comparator(nt.fromName(u.referenceValue),e.key):ml(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Pv(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!No(n.position[e],t.position[e]))return!1;return!0}class lo{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this._t=null,this.wt=null}}function Wm(n,t,e,i,r,o,u,h){return new lo(n,t,e,i,r,o,u,h)}function ed(n){return new lo(n)}function bf(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function td(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wf(n){for(const t of n.filters)if(t.dt())return t.field;return null}function Fv(n){return null!==n.collectionGroup}function Pa(n){const t=st(n);if(null===t._t){t._t=[];const e=wf(t),i=td(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Ju(e)),t._t.push(new Ju(bi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ju(bi.keyField(),o))}}}return t._t}function gr(n){const t=st(n);if(!t.wt)if("F"===t.limitType)t.wt=Nc(t.path,t.collectionGroup,Pa(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Pa(t))e.push(new Ju(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new _l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _l(t.startAt.position,t.startAt.inclusive):null;t.wt=Nc(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Cf(n,t,e){return new lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function nd(n,t){return Bo(gr(n),gr(t))&&n.limitType===t.limitType}function qm(n){return`${Ns(gr(n))}|lt:${n.limitType}`}function Ym(n){return`Query(target=${function Xu(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Zu(i.value)}`;var i}).join(", ")}]`),gf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Zu(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Zu(e)).join(",")),`Target(${t})`}(gr(n))}; limitType=${n.limitType})`}function Zm(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=aE(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Pa(e),i)||e.endAt&&!function(r,o,u){const h=aE(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Pa(e),i)));var e,i}function Km(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Qm(n){return(t,e)=>{let i=!1;for(const r of Pa(n)){const o=SA(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function SA(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),g=u.data.field(r);return null!==h&&null!==g?ml(h,g):_t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}function Nv(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function Lv(n){return{integerValue:""+n}}function Vv(n,t){return kv(t)?Lv(t):Nv(n,t)}class Ef{constructor(){this._=void 0}}function AA(n,t,e){return n instanceof Bc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Uo?Uv(n,t):n instanceof yl?Hv(n,t):function(i,r){const o=Bv(i,r),u=jv(o)+jv(i.yt);return ka(o)&&ka(i.yt)?Lv(u):Nv(i.It,u)}(n,t)}function lE(n,t,e){return n instanceof Uo?Uv(n,t):n instanceof yl?Hv(n,t):e}function Bv(n,t){return n instanceof Uc?ka(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Bc extends Ef{}class Uo extends Ef{constructor(t){super(),this.elements=t}}function Uv(n,t){const e=$v(t);for(const i of n.elements)e.some(r=>No(r,i))||e.push(i);return{arrayValue:{values:e}}}class yl extends Ef{constructor(t){super(),this.elements=t}}function Hv(n,t){let e=$v(t);for(const i of n.elements)e=e.filter(r=>!No(r,i));return{arrayValue:{values:e}}}class Uc extends Ef{constructor(t,e){super(),this.It=t,this.yt=e}}function jv(n){return Mi(n.integerValue||n.doubleValue)}function $v(n){return zm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class id{constructor(t,e){this.field=t,this.transform=e}}class Wk{constructor(t,e){this.version=t,this.transformResults=e}}class wi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xm(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Df{}function uE(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new sd(n.key,wi.none()):new Hc(n.key,n.data,wi.none());{const e=n.data,i=ji.empty();let r=new bn(bi.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Fa(n.key,i,new Sr(r.toArray()),wi.none())}}function sr(n,t,e){n instanceof Hc?function(i,r,o){const u=i.value.clone(),h=Gv(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Fa?function(i,r,o){if(!Xm(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=Gv(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(zv(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function rd(n,t,e,i){return n instanceof Hc?function(r,o,u,h){if(!Xm(r.precondition,o))return u;const g=r.value.clone(),v=jc(r.fieldTransforms,h,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Fa?function(r,o,u,h){if(!Xm(r.precondition,o))return u;const g=jc(r.fieldTransforms,h,o),v=o.data;return v.setAll(zv(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,Xm(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function MA(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Bv(i.transform,r||null);null!=o&&(null===e&&(e=ji.empty()),e.set(i.field,o))}return e||null}function dE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Rc(e,i,(r,o)=>function cE(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Uo&&i instanceof Uo||e instanceof yl&&i instanceof yl?Rc(e.elements,i.elements,No):e instanceof Uc&&i instanceof Uc?No(e.yt,i.yt):e instanceof Bc&&i instanceof Bc);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Hc extends Df{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fa extends Df{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zv(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Gv(n,t,e){const i=new Map;Ft(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,lE(u,h,e[r]))}return i}function jc(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,AA(o,u,t))}return i}class sd extends Df{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wv extends Df{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hE{constructor(t){this.count=t}}var $i,Dn;function TA(n){switch(n){default:return _t();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Jm(n){if(void 0===n)return Fi("GRPC error has no .code"),me.UNKNOWN;switch(n){case $i.OK:return me.OK;case $i.CANCELLED:return me.CANCELLED;case $i.UNKNOWN:return me.UNKNOWN;case $i.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case $i.INTERNAL:return me.INTERNAL;case $i.UNAVAILABLE:return me.UNAVAILABLE;case $i.UNAUTHENTICATED:return me.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case $i.NOT_FOUND:return me.NOT_FOUND;case $i.ALREADY_EXISTS:return me.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return me.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case $i.ABORTED:return me.ABORTED;case $i.OUT_OF_RANGE:return me.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return me.UNIMPLEMENTED;case $i.DATA_LOSS:return me.DATA_LOSS;default:return _t()}}(Dn=$i||($i={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class Ho{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){hl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}const jo=new Ei(nt.comparator);function Jr(){return jo}const fE=new Ei(nt.comparator);function es(...n){let t=fE;for(const e of n)t=t.insert(e.key,e);return t}function Ls(n){let t=fE;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function zi(){return od()}function qv(){return od()}function od(){return new Ho(n=>n.toString(),(n,t)=>n.isEqual(t))}const xA=new Ei(nt.comparator),kA=new bn(nt.comparator);function sn(...n){let t=kA;for(const e of n)t=t.add(e);return t}const RA=new bn(Qt);function ad(){return RA}class Na{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,If.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Na(Lt.min(),r,ad(),Jr(),sn())}}class If{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new If(i,e,sn(),sn(),sn())}}class Sf{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class pE{constructor(t,e){this.targetId=t,this.At=e}}class Yv{constructor(t,e,i=Ni.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Zv{constructor(){this.Rt=0,this.bt=Kv(),this.Pt=Ni.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=sn(),e=sn(),i=sn();return this.bt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new If(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Kv()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class eg{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Jr(),this.qt=mE(),this.Kt=new bn(Qt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:_t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const o=r.target;if(Ra(o))if(0===i){const u=new nt(o.path);this.jt(e,u,Yn.newNoDocument(u,Lt.min()))}else Ft(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((o,u)=>{const h=this.Xt(u);if(h){if(o.current&&Ra(h.target)){const g=new nt(h.target.path);null!==this.Ut.get(g)||this.ee(u,g)||this.jt(u,g,Yn.newNoDocument(g,t))}o.Dt&&(e.set(u,o.xt()),o.Nt())}});let i=sn();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,u)=>u.setReadTime(t));const r=new Na(t,e,this.Kt,this.Ut,i);return this.Ut=Jr(),this.qt=mE(),this.Kt=new bn(Qt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new Zv,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new bn(Qt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new Zv),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function mE(){return new Ei(nt.comparator)}function Kv(){return new Ei(nt.comparator)}const gE={asc:"ASCENDING",desc:"DESCENDING"},Qv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tg{constructor(t,e){this.databaseId=t,this.gt=e}}function ld(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xv(n,t){return n.gt?t.toBase64():t.toUint8Array()}function _E(n,t){return ld(n,t.toTimestamp())}function or(n){return Ft(!!n),Lt.fromTimestamp(function(t){const e=fl(t);return new vn(e.seconds,e.nanos)}(n))}function ng(n,t){return(e=n,new Tn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Jv(n){const t=Tn.fromString(n);return Ft(nb(t)),t}function cd(n,t){return ng(n.databaseId,t.path)}function co(n,t){const e=Jv(t);if(e.get(1)!==n.databaseId.projectId)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(vE(e))}function ig(n,t){return ng(n.databaseId,t)}function yE(n){const t=Jv(n);return 4===t.length?Tn.emptyPath():vE(t)}function Af(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vE(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bE(n,t,e){return{name:cd(n,t),fields:e.value.mapValue.fields}}function wE(n,t,e){const i=co(n,t.name),r=or(t.updateTime),o=new ji({mapValue:{fields:t.fields}}),u=Yn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Mf(n,t){let e;if(t instanceof Hc)e={update:bE(n,t.key,t.value)};else if(t instanceof sd)e={delete:cd(n,t.key)};else if(t instanceof Fa)e={update:bE(n,t.key,t.data),updateMask:AE(t.fieldMask)};else{if(!(t instanceof Wv))return _t();e={verify:cd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Uc)return{fieldPath:o.field.canonicalString(),increment:u.yt};throw _t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:_E(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),e;var r}function eb(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?wi.updateTime(or(r.updateTime)):void 0!==r.exists?wi.exists(r.exists):wi.none():wi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Ft("REQUEST_TIME"===u.setToServerValue),h=new Bc):"appendMissingElements"in u?h=new Uo(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new yl(u.removeAllFromArray.values||[]):"increment"in u?h=new Uc(o,u.increment):_t();const g=bi.fromServerFormat(u.fieldPath);return new id(g,h)}(n,r)):[];var r;if(t.update){const r=co(n,t.update.name),o=new ji({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Sr((t.updateMask.fieldPaths||[]).map(v=>bi.fromServerFormat(v)));return new Fa(r,o,u,e,i)}return new Hc(r,o,e,i)}if(t.delete){const r=co(n,t.delete);return new sd(r,e)}if(t.verify){const r=co(n,t.verify);return new Wv(r,e)}return _t()}function CE(n,t){return{documents:[ig(n,t.path)]}}function tb(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=ig(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=ig(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(D=>function(S){if("=="===S.op){if(QC(S.value))return{unaryFilter:{field:$c(S.field),op:"IS_NAN"}};if(Ku(S.value))return{unaryFilter:{field:$c(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(QC(S.value))return{unaryFilter:{field:$c(S.field),op:"IS_NOT_NAN"}};if(Ku(S.value))return{unaryFilter:{field:$c(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(S.field),op:VA(S.op),value:S.value}}}(D));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:$c((D=v).field),direction:LA(D.dir)};var D})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(v=t.limit,n.gt||gf(v)?v:{value:v});var v,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function EE(n){let t=yE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ft(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let o=[];e.where&&(o=DE(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Ju(zc((S=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(D){let S;return S="object"==typeof D?D.value:D,gf(S)?null:S}(e.limit));let g=null;var D;e.startAt&&(g=new _l((D=e.startAt).values||[],!!D.before));let v=null;return e.endAt&&(v=function(D){return new _l(D.values||[],!D.before)}(e.endAt)),Wm(t,r,u,o,h,"F",g,v)}function DE(n){return n?void 0!==n.unaryFilter?[SE(n)]:void 0!==n.fieldFilter?[IE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>DE(t)).reduce((t,e)=>t.concat(e)):_t():[]}function LA(n){return gE[n]}function VA(n){return Qv[n]}function $c(n){return{fieldPath:n.canonicalString()}}function zc(n){return bi.fromServerFormat(n.fieldPath)}function IE(n){return mr.create(zc(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function SE(n){switch(n.unaryFilter.op){case"IS_NAN":const t=zc(n.unaryFilter.field);return mr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=zc(n.unaryFilter.field);return mr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zc(n.unaryFilter.field);return mr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=zc(n.unaryFilter.field);return mr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function AE(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function nb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Or(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ib(t)),t=ME(n.get(e),t);return ib(t)}function ME(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function ib(n){return n+"\x01\x01"}function Vs(n){const t=n.length;if(Ft(t>=2),2===t)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&_t(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:_t()}o=u+2}return new Tn(i)}const rg=["userId","batchId"];function $o(n,t){return[n,Or(t)]}function TE(n,t,e){return[n,Or(t),e]}const BA={},ud=["prefixPath","collectionGroup","readTime","documentId"],qk=["prefixPath","collectionGroup","documentId"],rb=["collectionGroup","readTime","prefixPath","documentId"],Yk=["canonicalId","targetId"],xE=["targetId","path"],kE=["path","targetId"],Zk=["collectionId","parent"],Nt=["indexId","uid"],UA=["uid","sequenceNumber"],HA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jA=["indexId","uid","orderedDocumentKey"],dd=["userId","collectionPath","documentId"],$A=["userId","collectionPath","largestBatchId"],sg=["userId","collectionGroup","largestBatchId"],Tf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ti=[...Tf,"documentOverlays"],zA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sb=zA,RE=[...sb,"indexConfiguration","indexState","indexEntries"];class ob extends Hm{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function ar(n,t){const e=st(n);return oo.M(e.ie,t)}class og{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&sr(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=rd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=rd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=qv();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const g=uE(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),sn())}isEqual(t){return this.batchId===t.batchId&&Rc(this.mutations,t.mutations,(e,i)=>dE(e,i))&&Rc(this.baseMutations,t.baseMutations,(e,i)=>dE(e,i))}}class ag{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ft(t.mutations.length===i.length);let r=xA;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new ag(t,e,i,r)}}class lg{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vl{constructor(t,e,i,r,o=Lt.min(),u=Lt.min(),h=Ni.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new vl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class OE{constructor(t){this.re=t}}function hd(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:cg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:cd(r=n.re,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:ld(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Gc(t.version)};else{if(!t.isUnknownDocument())return _t();i.unknownDocument={path:e.path.toArray(),version:Gc(t.version)}}var r,o;return i}function cg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Gc(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wc(n){const t=new vn(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function zo(n,t){const e=(t.baseMutations||[]).map(o=>eb(n.re,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>eb(n.re,o)),r=vn.fromMillis(t.localWriteTimeMs);return new og(t.batchId,r,e,i)}function fd(n){const t=Wc(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Wc(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=gr(ed(yE(r.documents[0])))):i=gr(EE(n.query)),new vl(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ni.fromBase64String(n.resumeToken))}function ab(n,t){const e=Gc(t.snapshotVersion),i=Gc(t.lastLimboFreeSnapshotVersion);let r;r=Ra(t.target)?CE(n.re,t.target):tb(n.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ns(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ug(n){const t=EE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Cf(t,t.limit,"L"):t}function lb(n,t){return new lg(t.largestBatchId,eb(n.re,t.overlayMutation))}function pd(n,t){const e=t.path.lastSegment();return[n,Or(t.path.popLast()),e]}function md(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Gc(i.readTime),documentKey:Or(i.documentKey.path),largestBatchId:i.largestBatchId}}class WA{getBundleMetadata(t,e){return PE(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wc(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return PE(t).put({bundleId:(i=e).id,createTime:Gc(or(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return FE(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ug(r.bundledQuery),readTime:Wc(r.readTime)};var r})}saveNamedQuery(t,e){return FE(t).put({name:(i=e).name,readTime:Gc(or(i.readTime)),bundledQuery:i.bundledQuery});var i}}function PE(n){return ar(n,"bundles")}function FE(n){return ar(n,"namedQueries")}class xf{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new xf(t,e.uid||"")}getOverlay(t,e){return gd(t).get(pd(this.userId,e)).next(i=>i?lb(this.It,i):null)}getOverlays(t,e){const i=zi();return de.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new lg(e,u);r.push(this.ue(t,h))}),de.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Or(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(gd(t).Y("collectionPathOverlayIndex",h))}),de.waitFor(o)}getOverlaysForCollection(t,e,i){const r=zi(),o=Or(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gd(t).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=lb(this.It,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=zi();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gd(t).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,D)=>{const S=lb(this.It,v);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):D.done()}).next(()=>o)}ue(t,e){return gd(t).put(function(i,r,o){const[u,h,g]=pd(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Mf(i.re,o.mutation)}}(this.It,this.userId,e))}}function gd(n){return ar(n,"documentOverlays")}class bl{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Mi(t.integerValue));else if("doubleValue"in t){const i=Mi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),_f(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(ao(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?XC(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):_t()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),nt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function qA(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function cb(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=qA(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}bl.Te=new bl;class YA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=cb(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=cb(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class ZA{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class Kk{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class dg{constructor(){this.Be=new YA,this.Le=new ZA(this.Be),this.Ue=new Kk(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _d{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new _d(this.indexId,this.documentKey,this.arrayValue,i)}}function yd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=ub(n.arrayValue,t.arrayValue),0!==e?e:(e=ub(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function ub(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class hg{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=Iv(t);if(void 0!==e&&!this.ze(e))return!1;const i=Oc(t);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class KA{constructor(){this.Ye=new db}addToCollectionParentIndex(t,e){return this.Ye.add(e),de.resolve()}getCollectionParents(t,e){return de.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return de.resolve()}deleteFieldIndex(t,e){return de.resolve()}getDocumentsMatchingTarget(t,e){return de.resolve(null)}getIndexType(t,e){return de.resolve(0)}getFieldIndexes(t,e){return de.resolve([])}getNextCollectionGroupToUpdate(t){return de.resolve(null)}getMinOffset(t,e){return de.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,e){return de.resolve(Xr.min())}updateCollectionGroup(t,e,i){return de.resolve()}updateIndexEntries(t,e){return de.resolve()}}class db{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new bn(Tn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new bn(Tn.comparator)).toArray()}}const kf=new Uint8Array(0);class Rf{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new db,this.Ze=new Ho(i=>Ns(i),(i,r)=>Bo(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Or(r)};return NE(t).put(o)}return de.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[GC(e),""],!1,!0);return NE(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Vs(u.parent))}return i})}addFieldIndex(t,e){const i=fg(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=Pf(t);return o.next(h=>{u.put(md(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=fg(t),r=Pf(t),o=Of(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Of(t);let r=!0;const o=new Map;return de.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=sn();const h=[];return de.forEach(o,(g,v)=>{var D;Ge("IndexedDbIndexManager",`Using index ${D=g,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${Ns(e)}`);const S=function(Dt,Ct){const Vt=Iv(Ct);if(void 0===Vt)return null;for(const Gt of Oa(Dt,Vt.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(v,g),N=function(Dt,Ct){const Vt=new Map;for(const Gt of Oc(Ct))for(const xn of Oa(Dt,Gt.fieldPath))switch(xn.op){case"==":case"in":Vt.set(Gt.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return Vt.set(Gt.fieldPath.canonicalString(),xn.value),Array.from(Vt.values())}return null}(v,g),U=function(Dt,Ct){const Vt=[];let Gt=!0;for(const xn of Oc(Ct)){const ws=0===xn.kind?Lc(Dt,xn.fieldPath,Dt.startAt):Vc(Dt,xn.fieldPath,Dt.startAt);Vt.push(ws.value),Gt&&(Gt=ws.inclusive)}return new _l(Vt,Gt)}(v,g),j=function(Dt,Ct){const Vt=[];let Gt=!0;for(const xn of Oc(Ct)){const ws=0===xn.kind?Vc(Dt,xn.fieldPath,Dt.endAt):Lc(Dt,xn.fieldPath,Dt.endAt);Vt.push(ws.value),Gt&&(Gt=ws.inclusive)}return new _l(Vt,Gt)}(v,g),K=this.nn(g,v,U),ae=this.nn(g,v,j),Ze=this.sn(g,v,N),ot=this.rn(g.indexId,S,K,U.inclusive,ae,j.inclusive,Ze);return de.forEach(ot,Dt=>i.J(Dt,e.limit).next(Ct=>{Ct.forEach(Vt=>{const Gt=nt.fromSegments(Vt.documentKey);u.has(Gt)||(u=u.add(Gt),h.push(Gt))})}))}).next(()=>h)}return de.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),v=g/(null!=e?e.length:1),D=[];for(let S=0;S<g;++S){const N=e?this.on(e[S/v]):kf,U=this.un(t,N,i[S%v],r),j=this.cn(t,N,o[S%v],u),K=h.map(ae=>this.un(t,N,ae,!0));D.push(...this.createRange(U,j,K))}return D}un(t,e,i,r){const o=new _d(t,nt.empty(),e,i);return r?o:o.Ke()}cn(t,e,i,r){const o=new _d(t,nt.empty(),e,i);return r?o.Ke():o}en(t,e){const i=new hg(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return de.forEach(this.tn(e),r=>this.en(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new bn(bi.comparator),g=!1;for(const v of u.filters){const D=v;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?g=!0:h=h.add(D.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new dg;for(const r of Oc(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);bl.Te.ce(o,u)}return i.$e()}on(t){const e=new dg;return bl.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new dg;return bl.Te.ce(Lo(this.databaseId,e),i.qe(function(r){const o=Oc(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new dg);let o=0;for(const u of Oc(t)){const h=i[o++];for(const g of r)if(this.ln(e,u.fieldPath)&&zm(h))r=this.fn(r,u,h);else{const v=g.qe(u.kind);bl.Te.ce(h,v)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new dg;g.seed(h.$e()),bl.Te.ce(u,g.qe(e.kind)),o.push(g)}return o}ln(t,e){return!!t.filters.find(i=>i instanceof mr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=fg(t),r=Pf(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return de.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(v,D){const S=D?new lf(D.sequenceNumber,new Xr(Wc(D.readTime),new nt(Vs(D.documentKey)),D.largestBatchId)):lf.empty(),N=v.fields.map(([U,j])=>new Um(bi.fromServerFormat(U),j));return new Bm(v.indexId,v.collectionGroup,N,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=fg(t),o=Pf(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>de.forEach(h,g=>o.put(md(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return de.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?de.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),de.forEach(h,g=>this.wn(t,r,g).next(v=>{const D=this.mn(o,g);return v.isEqual(D)?de.resolve():this.gn(t,o,g,v,D)}))))})}yn(t,e,i,r){return Of(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return Of(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Of(t);let o=new bn(yd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{o=o.add(new _d(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}mn(t,e){let i=new bn(yd);const r=this.an(e,t);if(null==r)return i;const o=Iv(e);if(null!=o){const u=t.data.field(o.fieldPath);if(zm(u))for(const h of u.arrayValue.values||[])i=i.add(new _d(e.indexId,t.key,this.on(h),r))}else i=i.add(new _d(e.indexId,t.key,kf,r));return i}gn(t,e,i,r,o){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,v,D,S){const N=h.getIterator(),U=g.getIterator();let j=Ta(N),K=Ta(U);for(;j||K;){let ae=!1,Ze=!1;if(j&&K){const ot=v(j,K);ot<0?Ze=!0:ot>0&&(ae=!0)}else null!=j?Ze=!0:ae=!0;ae?(D(K),K=Ta(U)):Ze?(S(j),j=Ta(N)):(j=Ta(N),K=Ta(U))}}(r,o,yd,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),de.waitFor(u)}_n(t){let e=1;return Pf(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>yd(u,h)).filter((u,h,g)=>!h||0!==yd(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=yd(u,t),g=yd(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&g<0)r.push(u),r.push(u.Ke());else if(g>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,kf,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,kf,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(LE)}getMinOffset(t,e){return de.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||_t())).next(LE)}}function NE(n){return ar(n,"collectionParents")}function Of(n){return ar(n,"indexEntries")}function fg(n){return ar(n,"indexConfiguration")}function Pf(n){return ar(n,"indexState")}function LE(n){Ft(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Av(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Xr(t.readTime,t.documentKey,e)}const hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ts(t,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.Z({range:u},(D,S,N)=>(h++,N.delete()));o.push(g.next(()=>{Ft(1===h)}));const v=[];for(const D of e.mutations){const S=TE(t,D.key.path,e.batchId);o.push(r.delete(S)),v.push(D.key)}return de.waitFor(o).next(()=>v)}function wl(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw _t();t=n.noDocument}return JSON.stringify(t).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class pg{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ft(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new pg(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=qc(t),u=Cl(t);return u.add({}).next(h=>{Ft("number"==typeof h);const g=new og(h,e,i,r),v=function(N,U,j){const K=j.baseMutations.map(Ze=>Mf(N.re,Ze)),ae=j.mutations.map(Ze=>Mf(N.re,Ze));return{userId:U,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:K,mutations:ae}}(this.It,this.userId,g),D=[];let S=new bn((N,U)=>Qt(N.canonicalString(),U.canonicalString()));for(const N of r){const U=TE(this.userId,N.key.path,h);S=S.add(N.key.path.popLast()),D.push(u.put(v)),D.push(o.put(U,BA))}return S.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.In[h]=g.keys()}),de.waitFor(D).next(()=>g)})}lookupMutationBatch(t,e){return Cl(t).get(e).next(i=>i?(Ft(i.userId===this.userId),zo(this.It,i)):null)}Tn(t,e){return this.In[e]?de.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Cl(t).Z({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Ft(h.batchId>=i),o=zo(this.It,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cl(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).W("userMutationsIndex",e).next(i=>i.map(r=>zo(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=$o(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return qc(t).Z({range:r},(u,h,g)=>{const[v,D,S]=u,N=Vs(D);if(v===this.userId&&e.path.isEqual(N))return Cl(t).get(S).next(U=>{if(!U)throw _t();Ft(U.userId===this.userId),o.push(zo(this.It,U))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new bn(Qt);const r=[];return e.forEach(o=>{const u=$o(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=qc(t).Z({range:h},(v,D,S)=>{const[N,U,j]=v,K=Vs(U);N===this.userId&&o.path.isEqual(K)?i=i.add(j):S.done()});r.push(g)}),de.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=$o(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new bn(Qt);return qc(t).Z({range:u},(g,v,D)=>{const[S,N,U]=g,j=Vs(N);S===this.userId&&i.isPrefixOf(j)?j.length===r&&(h=h.add(U)):D.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Cl(t).get(o).next(u=>{if(null===u)throw _t();Ft(u.userId===this.userId),i.push(zo(this.It,u))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return VE(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qc(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=Vs(o[1]);r.push(g)}else h.done()}).next(()=>{Ft(0===r.length)})})}containsKey(t,e){return fb(t,this.userId,e)}Rn(t){return BE(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fb(n,t,e){const i=$o(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return qc(n).Z({range:o,X:!0},(h,g,v)=>{const[D,S,N]=h;D===t&&S===r&&(u=!0),v.done()}).next(()=>u)}function Cl(n){return ar(n,"mutations")}function qc(n){return ar(n,"documentMutations")}function BE(n){return ar(n,"mutationQueues")}class El{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new El(0)}static vn(){return new El(-1)}}class QA{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new El(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Lt.fromTimestamp(new vn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Dl(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Dl(t).Z((u,h)=>{const g=fd(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>de.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Dl(t).Z((i,r)=>{const o=fd(r);e(o)})}Vn(t){return UE(t).get("targetGlobalKey").next(e=>(Ft(null!==e),e))}Sn(t,e){return UE(t).put("targetGlobalKey",e)}Dn(t,e){return Dl(t).put(ab(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ns(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Dl(t).Z({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const v=fd(h);Bo(e,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=La(t);return e.forEach(u=>{const h=Or(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),de.waitFor(r)}removeMatchingKeys(t,e,i){const r=La(t);return de.forEach(e,o=>{const u=Or(o.path);return de.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=La(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=La(t);let o=sn();return r.Z({range:i,X:!0},(u,h,g)=>{const v=Vs(u[1]),D=new nt(v);o=o.add(D)}).next(()=>o)}containsKey(t,e){const i=Or(e.path),r=IDBKeyRange.bound([i],[GC(i)],!1,!0);let o=0;return La(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}se(t,e){return Dl(t).get(e).next(i=>i?fd(i):null)}}function Dl(n){return ar(n,"targets")}function UE(n){return ar(n,"targetGlobal")}function La(n){return ar(n,"targetDocuments")}function pb([n,t],[e,i]){const r=Qt(n,e);return 0===r?Qt(t,i):r}class XA{constructor(t){this.xn=t,this.buffer=new bn(pb),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();pb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ee.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Po(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dl(i)}yield e.Fn(3e5)}))}}class eM{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return de.resolve(Rr.at);const i=new XA(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(hb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hb):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,o,u,h,g,v;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(v=Date.now(),Oo()<=Io.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(v-g)+`ms\nTotal Duration: ${v-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class mb{constructor(t,e){this.db=t,this.garbageCollector=new eM(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return mg(t,i)}removeReference(t,e,i){return mg(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return mg(t,e)}Gn(t,e){return function(i,r){let o=!1;return BE(i).tt(u=>fb(i,u,r).next(h=>(h&&(o=!0),de.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const g=this.Gn(t,u).next(v=>{if(!v)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Lt.min()),La(t).delete([0,Or(u.path)])))});r.push(g)}}).next(()=>de.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return mg(t,e)}Kn(t,e){const i=La(t);let r,o=Rr.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(o!==Rr.at&&e(new nt(Vs(r)),o),o=v,r=g):o=Rr.at}).next(()=>{o!==Rr.at&&e(new nt(Vs(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function mg(n,t){return La(n).put((i=n.currentSequenceNumber,{targetId:0,path:Or(t.path),sequenceNumber:i}));var i}class gb{constructor(){this.changes=new Ho(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?de.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tM{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Yc(t).put(i)}removeEntry(t,e,i){return Yc(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],cg(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Yn.newInvalidDocument(e);return Yc(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:Yn.newInvalidDocument(e)};return Yc(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(e))},(r,o)=>{i={document:this.jn(e,o),size:wl(o)}}).next(()=>i)}getEntries(t,e){let i=Jr();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Jr(),r=new Ei(nt.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,wl(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return de.resolve();let r=new bn(zE);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(Ff(r.first()),Ff(r.last())),u=r.getIterator();let h=u.getNext();return Yc(t).Z({index:"documentKeyIndex",range:o},(g,v,D)=>{const S=nt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&zE(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?D.j(Ff(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),cg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yc(t).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Jr();for(const g of u){const v=this.jn(nt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Jr();const u=$E(e,i),h=$E(e,Xr.max());return Yc(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,D)=>{const S=this.jn(nt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===r&&D.done()}).next(()=>o)}newChangeBuffer(t){return new nM(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return jE(t).get("remoteDocumentGlobalKey").next(e=>(Ft(!!e),e))}Qn(t,e){return jE(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function GA(n,t){let e;if(t.document)e=wE(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=Wc(t.noDocument.readTime);e=Yn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return _t();{const i=nt.fromSegments(t.unknownDocument.path),r=Wc(t.unknownDocument.version);e=Yn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new vn(i[0],i[1]);return Lt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return Yn.newInvalidDocument(t)}}function HE(n){return new tM(n)}class nM extends gb{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Ho(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new bn((o,u)=>Qt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=hd(this.Yn.It,u);r=r.add(o.path.popLast()),i+=wl(g)-h.size,e.push(this.Yn.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=hd(this.Yn.It,u.convertToNoDocument(Lt.min()));e.push(this.Yn.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),de.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function jE(n){return ar(n,"remoteDocumentGlobal")}function Yc(n){return ar(n,"remoteDocumentsV14")}function Ff(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function $E(n,t){const e=t.documentKey.path.toArray();return[n,cg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function zE(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Qt(e[o],i[o]),r)return r;return r=Qt(e.length,i.length),r||(r=Qt(e[e.length-2],i[i.length-2]),r||Qt(e[e.length-1],i[i.length-1]))}class GE{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _b{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&rd(i.mutation,r,Sr.empty(),vn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,sn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=sn()){const r=zi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=es();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=zi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,sn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Jr();const u=od(),h=od();return e.forEach((g,v)=>{const D=i.get(v.key);r.has(v.key)&&(void 0===D||D.mutation instanceof Fa)?o=o.insert(v.key,v):void 0!==D&&(u.set(v.key,D.mutation.getFieldMask()),rd(D.mutation,v,D.mutation.getFieldMask(),vn.now()))}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((v,D)=>u.set(v,D)),e.forEach((v,D)=>{var S;return h.set(v,new GE(D,null!==(S=u.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=od();let r=new Ei((u,h)=>u-h),o=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=e.get(g);if(null===v)return;let D=i.get(g)||Sr.empty();D=h.applyToLocalView(v,D),i.set(g,D);const S=(r.get(h.batchId)||sn()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,D=g.value,S=qv();D.forEach(N=>{if(!o.has(N)){const U=uE(e.get(N),i.get(N));null!==U&&S.set(N,U),o=o.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,S))}return de.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Fv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):de.resolve(zi());let h=-1,g=o;return u.next(v=>de.forEach(v,(D,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(D)?de.resolve():this.getBaseDocument(t,D,S).next(N=>{g=g.insert(D,N)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,g,v,sn())).next(D=>({batchId:h,changes:Ls(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=es();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=es();return this.indexManager.getCollectionParents(t,r).next(u=>de.forEach(u,h=>{const g=(v=e,D=h.child(r),new lo(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(v=>{v.forEach((D,S)=>{o=o.insert(D,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,Yn.newInvalidDocument(v)))});let u=es();return r.forEach((h,g)=>{const v=o.get(h);void 0!==v&&rd(v.mutation,g,Sr.empty(),vn.now()),Zm(e,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):de.resolve(Yn.newInvalidDocument(e))}}class iM{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return de.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:or(i.createTime)}),de.resolve()}getNamedQuery(t,e){return de.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:ug(i.bundledQuery),readTime:or(i.readTime)}),de.resolve();var i}}class rM{constructor(){this.overlays=new Ei(nt.comparator),this.es=new Map}getOverlay(t,e){return de.resolve(this.overlays.get(e))}getOverlays(t,e){const i=zi();return de.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ue(t,e,o)}),de.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),de.resolve()}getOverlaysForCollection(t,e,i){const r=zi(),o=e.length+1,u=new nt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return de.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ei((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let D=o.get(v.largestBatchId);null===D&&(D=zi(),o=o.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const h=zi(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,D)=>h.set(v,D)),!(h.size()>=r)););return de.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new lg(e,i));let o=this.es.get(e);void 0===o&&(o=sn(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class gg{constructor(){this.ns=new bn(_r.ss),this.rs=new bn(_r.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new _r(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new _r(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new nt(new Tn([])),i=new _r(e,t),r=new _r(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new nt(new Tn([])),i=new _r(e,t),r=new _r(e,t+1);let o=sn();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new _r(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class _r{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return nt.comparator(t.key,e.key)||Qt(t._s,e._s)}static os(t,e){return Qt(t._s,e._s)||nt.comparator(t.key,e.key)}}class sM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new bn(_r.ss)}checkEmpty(t){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new og(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new _r(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(t,e){return de.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new _r(e,0),r=new _r(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new bn(Qt);return e.forEach(r=>{const o=new _r(r,0),u=new _r(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),de.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;nt.isDocumentKey(o)||(o=o.child(""));const u=new _r(new nt(o),0);let h=new bn(Qt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g._s)),!0)},u),de.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ft(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return de.forEach(e.mutations,r=>{const o=new _r(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new _r(e,0),r=this.gs.firstAfterOrEqual(i);return de.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return de.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oM{constructor(t){this.Es=t,this.docs=new Ei(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return de.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(e))}getEntries(t,e){let i=Jr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Yn.newInvalidDocument(r))}),de.resolve(i)}getAllFromCollection(t,e,i){let r=Jr();const o=new nt(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Av(Sv(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return de.resolve(r)}getAllFromCollectionGroup(t,e,i,r){_t()}As(t,e){return de.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new yb(this)}getSize(t){return de.resolve(this.size)}}class yb extends gb{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),de.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class vb{constructor(t){this.persistence=t,this.Rs=new Ho(e=>Ns(e),Bo),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gg,this.targetCount=0,this.vs=El.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),de.resolve()}getLastRemoteSnapshotVersion(t){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return de.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),de.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new El(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,de.resolve()}updateTargetData(t,e){return this.Dn(e),de.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,de.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),de.waitFor(o).next(()=>r)}getTargetCount(t){return de.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return de.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),de.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),de.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),de.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return de.resolve(i)}containsKey(t,e){return de.resolve(this.Ps.containsKey(e))}}class bb{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Rr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new vb(this),this.indexManager=new KA,this.remoteDocumentCache=new oM(i=>this.referenceDelegate.xs(i)),this.It=new OE(e),this.Ns=new iM(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new sM(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("MemoryPersistence","Starting transaction:",t);const r=new wb(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return de.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class wb extends Hm{constructor(t){super(),this.currentSequenceNumber=t}}class _g{constructor(t){this.persistence=t,this.Fs=new gg,this.$s=null}static Bs(t){return new _g(t)}get Ls(){if(this.$s)return this.$s;throw _t()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),de.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),de.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),de.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,i=>{const r=nt.fromPath(i);return this.Us(t,r).next(o=>{o||e.removeEntry(r,Lt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return de.or([()=>de.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class aM{constructor(t){this.It=t}$(t,e,i,r){const o=new cf("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rg,{unique:!0}),h.createObjectStore("documentMutations"),yg(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=de.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),yg(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rg,{unique:!0});const D=g.store("mutations"),S=v.map(N=>D.put(N));return de.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:dd});g.createIndex("collectionPathOverlayIndex",$A,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",sg,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:ud});g.createIndex("documentKeyIndex",qk),g.createIndex("collectionGroupIndex",rb)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Nt}).createIndex("sequenceNumberIndex",UA,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:HA}).createIndex("documentKeyIndex",jA,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=wl(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>de.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>de.forEach(h,g=>{Ft(g.userId===o.userId);const v=zo(this.It,g);return VE(t,o.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const g=new Tn(u),v=[0,Or(g)];o.push(e.get(v).next(D=>D?de.resolve():e.put({targetId:0,path:Or(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:Zk});const i=e.store("collectionParents"),r=new db,o=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:Or(g)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new Tn(u);return o(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,g],v)=>{const D=Vs(h);return o(D.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=fd(r),u=ab(this.It,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(v=u,v.document?new nt(Tn.fromString(v.document.name).popFirst(5)):v.noDocument?nt.fromSegments(v.noDocument.path):v.unknownDocument?nt.fromSegments(v.unknownDocument.path):_t()).path.toArray();var v;const D={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>de.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=HE(this.It),o=new bb(_g.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var v;let D=null!==(v=h.get(g.userId))&&void 0!==v?v:sn();zo(this.It,g).keys().forEach(S=>D=D.add(S)),h.set(g.userId,D)}),de.forEach(h,(g,v)=>{const D=new ir(v),S=xf.oe(this.It,D),N=o.getIndexManager(D),U=pg.oe(D,this.It,N,o.referenceDelegate);return new _b(r,U,S,N).recalculateAndSaveOverlaysForDocumentKeys(new ob(e,Rr.at),g).next()})})}}function yg(n){n.createObjectStore("targetDocuments",{keyPath:xE}).createIndex("documentTargetsIndex",kE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yk,{unique:!0}),n.createObjectStore("targetGlobal")}const Cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vg{constructor(t,e,i,r,o,u,h,g,v,D,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=v,this.Ys=D,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!vg.C())throw new Ve(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mb(this,r),this.ii=e+"main",this.It=new OE(g),this.ri=new oo(this.ii,this.Xs,new aM(this.It)),this.Cs=new QA(this.referenceDelegate,this.It),this.remoteDocumentCache=HE(this.It),this.Ns=new WA,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,Cb);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Rr(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Ee.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Nf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Po(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Go(t).get("owner").next(e=>de.resolve(this.mi(e)))}gi(t){return Nf(t).delete(this.clientId)}yi(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ar(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return de.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?de.resolve(!0):Go(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,Cb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nf(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new ob(e,Rr.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Nf(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return pg.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Rf(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return xf.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?RE:14===u?sb:13===u?zA:12===u?Ti:11===u?Tf:void _t();var u;let h;return this.ri.runTransaction(t,r,o,g=>(h=new ob(g,this.Ss?this.Ss.next():Rr.at),"readwrite-primary"===e?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Fi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(me.FAILED_PRECONDITION,so);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(t){return Go(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ve(me.FAILED_PRECONDITION,Cb)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Go(t).put("owner",e)}static C(){return oo.C()}_i(t){const e=Go(t);return e.get("owner").next(i=>this.mi(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):de.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Fi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,un.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Fi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Go(n){return ar(n,"owner")}function Nf(n){return ar(n,"clientMetadata")}function Eb(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class WE{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=sn(),r=sn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new WE(t,e.fromCache,i,r)}}class Db{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(bf(e))return de.resolve(null);let i=gr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Cf(e,null,"F"),i=gr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=sn(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(g=>{const v=this.Fi(e,h);return this.$i(e,v,u,g.readTime)?this.ki(t,Cf(e,null,"F")):this.Bi(t,v,e,g)}))})))}Oi(t,e,i,r){return bf(e)||r.isEqual(Lt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Mi(t,e):(Oo()<=Io.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ym(e)),this.Bi(t,u,e,YC(r,-1)))})}Fi(t,e){let i=new bn(Qm(t));return e.forEach((r,o)=>{Zm(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return Oo()<=Io.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Ym(e)),this.Ni.getDocumentsMatchingQuery(t,e,Xr.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class Ib{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Ei(Qt),this.qi=new Ho(o=>Ns(o),Bo),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _b(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function qE(n,t,e,i){return new Ib(n,t,e,i)}function bg(n,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,Ee.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=sn();for(const v of r){u.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}for(const v of o){h.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}return e.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),Sb.apply(this,arguments)}function YE(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const D=g.batch,S=D.keys();let N=de.resolve();return S.forEach(U=>{N=N.next(()=>v.getEntry(h,U)).next(j=>{const K=g.docVersions.get(U);Ft(null!==K),j.version.compareTo(K)<0&&(D.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=sn();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function wg(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function ZE(n,t){const e=st(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((D,S)=>{const N=r.get(S);if(!N)return;h.push(e.Cs.removeMatchingKeys(o,D.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(o,D.addedDocuments,S)));let U=N.withSequenceNumber(o.currentSequenceNumber);var j,K,ae;t.targetMismatches.has(S)?U=U.withResumeToken(Ni.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):D.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(D.resumeToken,i)),r=r.insert(S,U),K=U,ae=D,(0===(j=N).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,U))});let g=Jr(),v=sn();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(Ab(o,u,t.documentUpdates).next(D=>{g=D.Wi,v=D.zi})),!i.isEqual(Lt.min())){const D=e.Cs.getLastRemoteSnapshotVersion(o).next(S=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(D)}return de.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(e.Ui=r,o))}function Ab(n,t,e){let i=sn(),r=sn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Jr();return e.forEach((h,g)=>{const v=o.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Lt.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):Ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function KE(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Zc(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,de.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new vl(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function vd(n,t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=i.Ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Po(u))throw u;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),Mb.apply(this,arguments)}function Cg(n,t,e){const i=st(n);let r=Lt.min(),o=sn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const D=st(h),S=D.qi.get(v);return void 0!==S?de.resolve(D.Ui.get(S)):D.Cs.getTargetData(g,v)}(i,u,gr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Lt.min(),e?o:sn())).next(h=>(lM(i,Km(t),h),{documents:h,Hi:o})))}function QE(n,t){const e=st(n),i=st(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.se(o,t).next(u=>u?u.target:null))}function Tb(n,t){const e=st(n),i=e.Ki.get(t)||Lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,YC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(lM(e,t,r),r))}function lM(n,t,e){let i=n.Ki.get(t)||Lt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function xb(){return xb=(0,Ee.Z)(function*(n,t,e,i){const r=st(n);let o=sn(),u=Jr();for(const v of e){const D=t.Ji(v.metadata.name);v.document&&(o=o.add(D));const S=t.Yi(v);S.setReadTime(t.Xi(v.metadata.readTime)),u=u.insert(D,S)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield Zc(r,(v=i,gr(ed(Tn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Ab(v,h,u).next(D=>(h.apply(v),D)).next(D=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,D.Wi,D.zi)).next(()=>D.Wi)))}),xb.apply(this,arguments)}function cM(n,t){return JE.apply(this,arguments)}function JE(){return JE=(0,Ee.Z)(function*(n,t,e=sn()){const i=yield Zc(n,gr(ug(t.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=or(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Ni.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),JE.apply(this,arguments)}function uM(n,t){return`firestore_clients_${n}_${t}`}function eD(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function kb(n,t){return`firestore_targets_${n}_${t}`}class Lf{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ve(r.error.code,r.error.message))),u?new Lf(t,e,r.state,o):(Fi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vf{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ve(i.error.code,i.error.message))),o?new Vf(t,i.state,r):(Fi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Eg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=ad();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=kv(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new Eg(t,o):(Fi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Rb{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Rb(e.clientId,e.onlineState):(Fi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ob{constructor(){this.activeTargetIds=ad()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pb{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ei(Qt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=uM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ob),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(uM(t.persistenceKey,r));if(o){const u=Eg.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(kb(this.persistenceKey,t));if(i){const r=Vf.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(kb(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=Rr.at;if(null!=o)try{const h=JSON.parse(o);Ft("number"==typeof h),u=h}catch(h){Fi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Rr.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new Lf(this.currentUser,t,e,i),o=eD(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=eD(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=kb(this.persistenceKey,t),o=new Vf(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Eg.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return Lf.Zi(new ir(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Vf.Zi(r,e)}yr(t){return Rb.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Ee.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=ad();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class tD{constructor(){this.Lr=new Ob,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Ob,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dM{qr(t){}shutdown(){}}class nD{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bf{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class iD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const u=this.ho(t,e);Ge("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(g=>(Ge("RestConnection","Received: ",g),g),g=>{throw ul("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,o,u){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ll,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${hM[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new VC;h.setWithCredentials(!0),h.listenOnce(Uk.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case LC.NO_ERROR:const v=h.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(v)),o(v);break;case LC.TIMEOUT:Ge("Connection",'RPC "'+t+'" timed out'),u(new Ve(me.DEADLINE_EXCEEDED,"Request time out"));break;case LC.HTTP_ERROR:const D=h.getStatus();if(Ge("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const N=function(U){const j=U.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(j)>=0?j:me.UNKNOWN}(S.status);u(new Ve(N,S.message))}else u(new Ve(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ve(me.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ge("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);h.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Vk(),u=Bk(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new vv({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=r.join("");Ge("Connection","Creating WebChannel: "+g,h);const v=o.createWebChannel(g,h);let D=!1,S=!1;const N=new Bf({Hr:j=>{S?Ge("Connection","Not sending because WebChannel is closed:",j):(D||(Ge("Connection","Opening WebChannel transport."),v.open(),D=!0),Ge("Connection","WebChannel sending:",j),v.send(j))},Jr:()=>v.close()}),U=(j,K,ae)=>{j.listen(K,Ze=>{try{ae(Ze)}catch(ot){setTimeout(()=>{throw ot},0)}})};return U(v,Lm.EventType.OPEN,()=>{S||Ge("Connection","WebChannel transport opened.")}),U(v,Lm.EventType.CLOSE,()=>{S||(S=!0,Ge("Connection","WebChannel transport closed"),N.io())}),U(v,Lm.EventType.ERROR,j=>{S||(S=!0,ul("Connection","WebChannel transport errored:",j),N.io(new Ve(me.UNAVAILABLE,"The operation could not be completed")))}),U(v,Lm.EventType.MESSAGE,j=>{var K;if(!S){const ae=j.data[0];Ft(!!ae);const Ze=ae,ot=Ze.error||(null===(K=Ze[0])||void 0===K?void 0:K.error);if(ot){Ge("Connection","WebChannel received error:",ot);const Dt=ot.status;let Ct=function(Gt){const xn=$i[Gt];if(void 0!==xn)return Jm(xn)}(Dt),Vt=ot.message;void 0===Ct&&(Ct=me.INTERNAL,Vt="Unknown error status: "+Dt+" with message "+ot.message),S=!0,N.io(new Ve(Ct,Vt)),v.close()}else Ge("Connection","WebChannel received:",ae),N.ro(ae)}}),U(u,Hk.STAT_EVENT,j=>{j.stat===Ma.PROXY?Ge("Connection","Detected buffering proxy"):j.stat===Ma.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function Fb(){return typeof window<"u"?window:null}function Uf(){return typeof document<"u"?document:null}function bd(n){return new tg(n,!0)}class Dg{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Nb{constructor(t,e,i,r,o,u,h,g){this.Hs=t,this.vo=i,this.Vo=r,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Dg(t,e)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Ee.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Ee.Z)(function*(){if(t.Oo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Ee.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Fi(e.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Ve(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.No.Ro((0,Ee.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Hs.enqueueAndForget(()=>this.Do===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fM extends Nb{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function PA(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:_t(),r=t.targetChange.targetIds||[],o=function(g,v){return g.gt?(Ft(void 0===v||"string"==typeof v),Ni.fromBase64String(v||"")):(Ft(void 0===v||v instanceof Uint8Array),Ni.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const v=void 0===g.code?me.UNKNOWN:Jm(g.code);return new Ve(v,g.message||"")}(u);e=new Yv(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=co(n,i.document.name),o=or(i.document.updateTime),u=new ji({mapValue:{fields:i.document.fields}}),h=Yn.newFoundDocument(r,o,u);e=new Sf(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=co(n,i.document),o=i.readTime?or(i.readTime):Lt.min(),u=Yn.newNoDocument(r,o);e=new Sf([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=co(n,i.document);e=new Sf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return _t();{const i=t.filter,o=new hE(i.count||0);e=new pE(i.targetId,o)}}var g;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Lt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?or(o.readTime):Lt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=Af(this.It),e.addTarget=function(r,o){let u;const h=o.target;return u=Ra(h)?{documents:CE(r,h)}:{query:tb(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=Xv(r,o.resumeToken):o.snapshotVersion.compareTo(Lt.min())>0&&(u.readTime=ld(r,o.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function NA(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=Af(this.It),e.removeTarget=t,this.Lo(e)}}class Qk extends Nb{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function FA(n,t){return n&&n.length>0?(Ft(void 0!==t),n.map(e=>function(i,r){let o=or(i.updateTime?i.updateTime:r);return o.isEqual(Lt.min())&&(o=or(r)),new Wk(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=or(t.commitTime);return this.listener.tu(i,e)}return Ft(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=Af(this.It),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Mf(this.It,i))};this.Lo(e)}}class rD extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.It=r,this.su=!1}iu(){if(this.su)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(me.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So._o(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(me.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class pM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.au("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.au(t)}au(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Fi(e),this.uu=!1):Ge("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class mM{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.qr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var g;Us(u)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ee.Z)(function*(v){const D=st(v);D.wu.add(4),yield Il(D),D.yu.set("Unknown"),D.wu.delete(4),yield Va(D)}),function(v){return g.apply(this,arguments)})(u))}))}),this.yu=new pM(i,r)}}function Va(n){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,Ee.Z)(function*(n){if(Us(n))for(const t of n.mu)yield t(!0)}),Vb.apply(this,arguments)}function Il(n){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,Ee.Z)(function*(n){for(const t of n.mu)yield t(!1)}),Bs.apply(this,arguments)}function Ig(n,t){const e=st(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),Ub(e)?Bb(e):wd(e).Oo()&&Kc(e,t))}function Sl(n,t){const e=st(n),i=wd(e);e._u.delete(t),i.Oo()&&oD(e,t),0===e._u.size&&(i.Oo()?i.$o():Us(e)&&e.yu.set("Unknown"))}function Kc(n,t){n.pu.Mt(t.targetId),wd(n).Ho(t)}function oD(n,t){n.pu.Mt(t),wd(n).Jo(t)}function Bb(n){n.pu=new eg({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n._u.get(t)||null}),wd(n).start(),n.yu.cu()}function Ub(n){return Us(n)&&!wd(n).ko()&&n._u.size>0}function Us(n){return 0===st(n).wu.size}function Hf(n){n.pu=void 0}function gM(n){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Ee.Z)(function*(n){n._u.forEach((t,e)=>{Kc(n,t)})}),Hb.apply(this,arguments)}function aD(n,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Ee.Z)(function*(n,t){Hf(n),Ub(n)?(n.yu.lu(t),Bb(n)):n.yu.set("Unknown")}),Sg.apply(this,arguments)}function jb(n,t,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,Ee.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof Yv&&2===t.state&&t.cause)try{yield(i=(0,Ee.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Mg(n,i)}else if(t instanceof Sf?n.pu.Gt(t):t instanceof pE?n.pu.Yt(t):n.pu.Wt(t),!e.isEqual(Lt.min()))try{const i=yield wg(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.pu.te(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r._u.get(g);v&&r._u.set(g,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const g=r._u.get(h);if(!g)return;r._u.set(h,g.withResumeToken(Ni.EMPTY_BYTE_STRING,g.snapshotVersion)),oD(r,h);const v=new vl(g.target,h,1,g.sequenceNumber);Kc(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield Mg(n,i)}var i}),Ag.apply(this,arguments)}function Mg(n,t,e){return $b.apply(this,arguments)}function $b(){return $b=(0,Ee.Z)(function*(n,t,e){if(!Po(t))throw t;n.wu.add(1),yield Il(n),n.yu.set("Offline"),e||(e=()=>wg(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield Va(n)}))}),$b.apply(this,arguments)}function _M(n,t){return t().catch(e=>Mg(n,e,t))}function Al(n){return jf.apply(this,arguments)}function jf(){return jf=(0,Ee.Z)(function*(n){const t=st(n),e=Ba(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;lD(t);)try{const r=yield KE(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,zb(t,r)}catch(r){yield Mg(t,r)}Tg(t)&&cD(t)}),jf.apply(this,arguments)}function lD(n){return Us(n)&&n.du.length<10}function zb(n,t){n.du.push(t);const e=Ba(n);e.Oo()&&e.Xo&&e.Zo(t.mutations)}function Tg(n){return Us(n)&&!Ba(n).ko()&&n.du.length>0}function cD(n){Ba(n).start()}function yM(n){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,Ee.Z)(function*(n){Ba(n).nu()}),Gb.apply(this,arguments)}function vM(n){return xg.apply(this,arguments)}function xg(){return xg=(0,Ee.Z)(function*(n){const t=Ba(n);for(const e of n.du)t.Zo(e.mutations)}),xg.apply(this,arguments)}function Wb(n,t,e){return kg.apply(this,arguments)}function kg(){return kg=(0,Ee.Z)(function*(n,t,e){const i=n.du.shift(),r=ag.from(i,t,e);yield _M(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Al(n)}),kg.apply(this,arguments)}function uD(n,t){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Ee.Z)(function*(n,t){var e;t&&Ba(n).Xo&&(yield(e=(0,Ee.Z)(function*(i,r){if(TA(o=r.code)&&o!==me.ABORTED){const u=i.du.shift();Ba(i).Fo(),yield _M(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Al(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),Tg(n)&&cD(n)}),Rg.apply(this,arguments)}function qb(n,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,Ee.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=Us(e);e.wu.add(3),yield Il(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield Va(e)}),Yb.apply(this,arguments)}function Og(n,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ee.Z)(function*(n,t){const e=st(n);t?(e.wu.delete(2),yield Va(e)):t||(e.wu.add(2),yield Il(e),e.yu.set("Unknown"))}),Pg.apply(this,arguments)}function wd(n){return n.Iu||(n.Iu=function(t,e,i){const r=st(t);return r.iu(),new fM(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:gM.bind(null,n),Zr:aD.bind(null,n),zo:jb.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Iu.Fo(),Ub(n)?Bb(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Hf(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function Ba(n){return n.Tu||(n.Tu=function(t,e,i){const r=st(t);return r.iu(),new Qk(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:yM.bind(null,n),Zr:uD.bind(null,n),eu:vM.bind(null,n),tu:Wb.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Tu.Fo(),yield Al(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class Fg{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Fg(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gi(n,t){if(Fi("AsyncQueue",`${t}: ${n}`),Po(n))return new Ve(me.UNAVAILABLE,`${t}: ${n}`);throw n}class uo{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=es(),this.sortedSet=new Ei(this.comparator)}static emptySet(t){return new uo(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new uo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class dD{constructor(){this.Eu=new Ei(nt.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):_t():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Cd{constructor(t,e,i,r,o,u,h,g,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Cd(t,e,uo.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Xk{constructor(){this.Ru=void 0,this.listeners=[]}}class Jk{constructor(){this.queries=new Ho(t=>qm(t),nd),this.onlineState="Unknown",this.bu=new Set}}function Ng(n,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Xk),r)try{o.Ru=yield e.onListen(i)}catch(u){const h=Gi(u,`Initialization of query '${Ym(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.vu(o.Ru)&&Vg(e)}),Lg.apply(this,arguments)}function Qc(n,t){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Zb.apply(this,arguments)}function Kb(n,t){const e=st(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.vu(r)&&(i=!0);u.Ru=r}}i&&Vg(e)}function bM(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function Vg(n){n.bu.forEach(t=>{t.next()})}class Qb{constructor(t,e,i){this.query=t,this.Vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Cd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Su?this.Cu(t)&&(this.Vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.Vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||(!this.options.ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Cd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Su=!0,this.Vu.next(t)}}class wM{constructor(t,e){this.payload=t,this.byteLength=e}Ou(){return"metadata"in this.payload}}class hD{constructor(t){this.It=t}Ji(t){return co(this.It,t)}Yi(t){return t.metadata.exists?wE(this.It,t.document,!1):Yn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return or(t)}}class Xb{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jb(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Tn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new hD(this.It);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||sn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Ee.Z)(function*(){const e=yield function XE(n,t,e,i){return xb.apply(this,arguments)}(t.localStore,new hD(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield cM(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function Jb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class e0{constructor(t){this.key=t}}class $f{constructor(t){this.key=t}}class Bg{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=Qm(t),this.Qu=new uo(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new dD,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,S)=>{const N=r.get(D),U=Zm(this.query,S)?S:null,j=!!N&&this.mutatedKeys.has(N.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ae=!1;N&&U?N.data.isEqual(U.data)?j!==K&&(i.track({type:3,doc:U}),ae=!0):this.Hu(N,U)||(i.track({type:2,doc:U}),ae=!0,(g&&this.Gu(U,g)>0||v&&this.Gu(U,v)<0)&&(h=!0)):!N&&U?(i.track({type:0,doc:U}),ae=!0):N&&!U&&(i.track({type:1,doc:N}),ae=!0,(g||v)&&(h=!0)),ae&&(U?(u=u.add(U),o=K?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),i.track({type:1,doc:D})}return{Qu:u,zu:i,$i:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((v,D)=>function(S,N){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return U(S)-U(N)}(v.type,D.type)||this.Gu(v.doc,D.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==o.length||g?{snapshot:new Cd(this.query,t.Qu,r,o,t.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dD,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=sn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new $f(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new e0(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=sn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Cd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class eR{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class fD{constructor(t){this.key=t,this.nc=!1}}class CM{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Ho(h=>qm(h),nd),this.rc=new Map,this.oc=new Set,this.uc=new Ei(nt.comparator),this.cc=new Map,this.ac=new gg,this.hc={},this.lc=new Map,this.fc=El.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function pD(n,t){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,Ee.Z)(function*(n,t){const e=DD(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield Zc(e.localStore,gr(t));e.isPrimaryClient&&Ig(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield t0(e,t,i,"current"===h,u.resumeToken)}return r}),Ml.apply(this,arguments)}function t0(n,t,e,i,r){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Ee.Z)(function*(n,t,e,i,r){n._c=(S,N,U)=>{return(j=(0,Ee.Z)(function*(K,ae,Ze,ot){let Dt=ae.view.Wu(Ze);Dt.$i&&(Dt=yield Cg(K.localStore,ae.query,!1).then(({documents:Gt})=>ae.view.Wu(Gt,Dt)));const Ct=ot&&ot.targetChanges.get(ae.targetId),Vt=ae.view.applyChanges(Dt,K.isPrimaryClient,Ct);return Gg(K,ae.targetId,Vt.Xu),Vt.snapshot}),function(K,ae,Ze,ot){return j.apply(this,arguments)})(n,S,N,U);var j};const o=yield Cg(n.localStore,t,!0),u=new Bg(t,o.Hi),h=u.Wu(o.documents),g=If.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(h,n.isPrimaryClient,g);Gg(n,e,v.Xu);const D=new eR(t,e,u);return n.ic.set(t,D),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),v.snapshot}),Ug.apply(this,arguments)}function n0(n,t){return mD.apply(this,arguments)}function mD(){return mD=(0,Ee.Z)(function*(n,t){const e=st(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!nd(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Sl(e.remoteStore,i.targetId),Xc(e,i.targetId)}).catch(dl))):(Xc(e,i.targetId),yield vd(e.localStore,i.targetId,!0))}),mD.apply(this,arguments)}function gD(){return gD=(0,Ee.Z)(function*(n,t,e){const i=d0(n);try{const r=yield function(o,u){const h=st(o),g=vn.now(),v=u.reduce((N,U)=>N.add(U.key),sn());let D,S;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Jr(),j=sn();return h.Gi.getEntries(N,v).next(K=>{U=K,U.forEach((ae,Ze)=>{Ze.isValidDocument()||(j=j.add(ae))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,U)).next(K=>{D=K;const ae=[];for(const Ze of u){const ot=MA(Ze,D.get(Ze.key).overlayedDocument);null!=ot&&ae.push(new Fa(Ze.key,ot,fs(ot.value.mapValue),wi.exists(!0)))}return h.mutationQueue.addMutationBatch(N,g,ae,u)}).next(K=>{S=K;const ae=K.applyToLocalDocumentSet(D,j);return h.documentOverlayCache.saveOverlays(N,K.batchId,ae)})}).then(()=>({batchId:S.batchId,changes:Ls(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let g=o.hc[o.currentUser.toKey()];g||(g=new Ei(Qt)),g=g.insert(u,h),o.hc[o.currentUser.toKey()]=g}(i,r.batchId,e),yield Tl(i,r.changes),yield Al(i.remoteStore)}catch(r){const o=Gi(r,"Failed to persist write");e.reject(o)}}),gD.apply(this,arguments)}function _D(n,t){return r0.apply(this,arguments)}function r0(){return r0=(0,Ee.Z)(function*(n,t){const e=st(n);try{const i=yield ZE(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.cc.get(o);u&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Ft(u.nc):r.removedDocuments.size>0&&(Ft(u.nc),u.nc=!1))}),yield Tl(e,i,t)}catch(i){yield dl(i)}}),r0.apply(this,arguments)}function yD(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,u)=>{const h=u.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=st(o);h.onlineState=u;let g=!1;h.queries.forEach((v,D)=>{for(const S of D.listeners)S.Pu(u)&&(g=!0)}),g&&Vg(h)}(i.eventManager,t),r.length&&i.sc.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function vD(n,t,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,Ee.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let u=new Ei(nt.comparator);u=u.insert(o,Yn.newNoDocument(o,Lt.min()));const h=sn().add(o),g=new Na(Lt.min(),new Map,new bn(Qt),u,h);yield _D(i,g),i.uc=i.uc.remove(o),i.cc.delete(t),l0(i)}else yield vd(i.localStore,t,!1).then(()=>Xc(i,t,e)).catch(dl)}),Hg.apply(this,arguments)}function DM(n,t){return jg.apply(this,arguments)}function jg(){return jg=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield YE(e.localStore,t);zg(e,i,null),o0(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Tl(e,r)}catch(r){yield dl(r)}}),jg.apply(this,arguments)}function bD(n,t,e){return s0.apply(this,arguments)}function s0(){return s0=(0,Ee.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(o,u){const h=st(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(D=>(Ft(null!==D),v=D.keys(),h.mutationQueue.removeMutationBatch(g,D))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,t);zg(i,t,e),o0(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Tl(i,r)}catch(r){yield dl(r)}}),s0.apply(this,arguments)}function $g(){return $g=(0,Ee.Z)(function*(n,t){const e=st(n);Us(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=st(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Gi(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),$g.apply(this,arguments)}function o0(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function zg(n,t,e){const i=st(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Xc(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||a0(n,i)})}function a0(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(Sl(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),l0(n))}function Gg(n,t,e){for(const i of e)i instanceof e0?(n.ac.addReference(i.key,t),SM(n,i)):i instanceof $f?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||a0(n,i.key)):_t()}function SM(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Ge("SyncEngine","New document in limbo: "+e),n.oc.add(i),l0(n))}function l0(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new nt(Tn.fromString(t)),i=n.fc.next();n.cc.set(i,new fD(e)),n.uc=n.uc.insert(e,i),Ig(n.remoteStore,new vl(gr(ed(e.path)),i,2,Rr.at))}}function Tl(n,t,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=[],o=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{u.push(i._c(g,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const D=WE.Ci(g.targetId,v);o.push(D)}}))}),yield Promise.all(u),i.sc.zo(r),yield(h=(0,Ee.Z)(function*(g,v){const D=st(g);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>de.forEach(v,N=>de.forEach(N.Si,U=>D.persistence.referenceDelegate.addReference(S,N.targetId,U)).next(()=>de.forEach(N.Di,U=>D.persistence.referenceDelegate.removeReference(S,N.targetId,U)))))}catch(S){if(!Po(S))throw S;Ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const U=D.Ui.get(N),K=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);D.Ui=D.Ui.insert(N,K)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,o))}),Wg.apply(this,arguments)}function tR(n,t){return wD.apply(this,arguments)}function wD(){return wD=(0,Ee.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const i=yield bg(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Ve(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Tl(e,i.ji)}var r}),wD.apply(this,arguments)}function nR(n,t){const e=st(n),i=e.cc.get(t);if(i&&i.nc)return sn().add(i.key);{let r=sn();const o=e.rc.get(t);if(!o)return r;for(const u of o){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function iR(n,t){return CD.apply(this,arguments)}function CD(){return CD=(0,Ee.Z)(function*(n,t){const e=st(n),i=yield Cg(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&Gg(e,t.targetId,r.Xu),r}),CD.apply(this,arguments)}function rR(n,t){return ED.apply(this,arguments)}function ED(){return ED=(0,Ee.Z)(function*(n,t){const e=st(n);return Tb(e.localStore,t).then(i=>Tl(e,i))}),ED.apply(this,arguments)}function sR(n,t,e,i){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Ee.Z)(function*(n,t,e,i){const r=st(n),o=yield function(u,h){const g=st(u),v=st(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Tn(D,h).next(S=>S?g.localDocuments.getDocuments(D,S):de.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Al(r.remoteStore):"acknowledged"===e||"rejected"===e?(zg(r,t,i||null),o0(r,t),h=t,st(st(r.localStore).mutationQueue).An(h)):_t(),yield Tl(r,o)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),Ed.apply(this,arguments)}function qg(){return qg=(0,Ee.Z)(function*(n,t){const e=st(n);if(DD(e),d0(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield zf(e,i.toArray());e.dc=!0,yield Og(e.remoteStore,!0);for(const o of r)Ig(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Xc(e,u),vd(e.localStore,u,!0))),Sl(e.remoteStore,u)}),yield r,yield zf(e,i),function(o){const u=st(o);u.cc.forEach((h,g)=>{Sl(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Ei(nt.comparator)}(e),e.dc=!1,yield Og(e.remoteStore,!1)}}),qg.apply(this,arguments)}function zf(n,t,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=[],o=[];for(const u of t){let h;const g=i.rc.get(u);if(g&&0!==g.length){h=yield Zc(i.localStore,gr(g[0]));for(const v of g){const D=i.ic.get(v),S=yield iR(i,D);S.snapshot&&o.push(S.snapshot)}}else{const v=yield QE(i.localStore,u);h=yield Zc(i.localStore,v),yield t0(i,c0(v),u,!1,h.resumeToken)}r.push(h)}return i.sc.zo(o),r}),Yg.apply(this,arguments)}function c0(n){return Wm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aR(n){const t=st(n);return st(st(t.localStore).persistence).vi()}function u0(n,t,e,i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Ee.Z)(function*(n,t,e,i){const r=st(n);if(r.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield Tb(r.localStore,Km(o[0])),h=Na.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ni.EMPTY_BYTE_STRING);yield Tl(r,u,h);break}case"rejected":yield vd(r.localStore,t,!0),Xc(r,t,i);break;default:_t()}}),Zg.apply(this,arguments)}function AM(n,t,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ee.Z)(function*(n,t,e){const i=DD(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const o=yield QE(i.localStore,r),u=yield Zc(i.localStore,o);yield t0(i,c0(o),u.targetId,!1,u.resumeToken),Ig(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield vd(i.localStore,r,!1).then(()=>{Sl(i.remoteStore,r),Xc(i,r)}).catch(dl))}}),Kg.apply(this,arguments)}function DD(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_D.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vD.bind(null,t),t.sc.zo=Kb.bind(null,t.eventManager),t.sc.wc=bM.bind(null,t.eventManager),t}function d0(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,t),t}class ID{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ee.Z)(function*(){e.It=bd(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return qE(this.persistence,new Db,t.initialUser,this.It)}yc(t){return new bb(_g.Bs,this.It)}gc(t){return new tD}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Gf extends ID{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield d0(i.Ac.syncEngine),yield Al(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return qE(this.persistence,new Db,t.initialUser,this.It)}Tc(t,e){return new JA(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new zk(e,this.persistence);return new jm(t.asyncQueue,i)}yc(t){const e=Eb(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new vg(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Fb(),Uf(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new tD}}class TM extends Gf{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof Pb&&(i.sharedClientState.syncEngine={Fr:sR.bind(null,r),$r:u0.bind(null,r),Br:AM.bind(null,r),vi:aR.bind(null,r),Mr:rR.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Ee.Z)(function*(u){yield function oR(n,t){return qg.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(t){const e=Fb();if(!Pb.C(e))throw new Ve(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Eb(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Pb(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class SD{initialize(t,e){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yD(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=tR.bind(null,i.syncEngine),yield Og(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Jk}createDatastore(t){const e=bd(t.databaseInfo.databaseId),i=new iD(t.databaseInfo);return new rD(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>yD(this.syncEngine,h,0),u=nD.C()?new nD:new dM,new mM(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,g,v){const D=new CM(i,r,o,u,h,g);return v&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ee.Z)(function*(e){const i=st(e);Ge("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Il(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function AD(n,t,e){if(!e)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xM(n,t,e,i){if(!0===t&&!0===i)throw new Ve(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function MD(n){if(!nt.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TD(n){if(nt.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":_t()}function In(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ve(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qg(n);throw new Ve(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function xD(n,t){if(t<=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const h0=new Map;class f0{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ve(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ve(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new UC;switch(e.type){case"gapi":return new Dv(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ve(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=h0.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),h0.delete(t),e.terminate())}(this),Promise.resolve()}}function Hs(n,t,e,i={}){var r;const o=(n=In(n,Xg))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=ir.MOCK_USER;else{u=(0,un.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ve(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ir(g)}n._authCredentials=new Cv(new wv(u,h))}}class li{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new li(this.firestore,t,this._key)}}class yr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yr(this.firestore,t,this._query)}}class Wo extends yr{constructor(t,e,i){super(t,e,ed(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new li(this.firestore,null,new nt(t))}withConverter(t){return new Wo(this.firestore,t,this._path)}}function ps(n,t,...e){if(n=(0,un.m9)(n),AD("collection","path",t),n instanceof Xg){const i=Tn.fromString(t,...e);return TD(i),new Wo(n,null,i)}{if(!(n instanceof li||n instanceof Wo))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return TD(i),new Wo(n.firestore,null,i)}}function Dd(n,t,...e){if(n=(0,un.m9)(n),1===arguments.length&&(t=zC.R()),AD("doc","path",t),n instanceof Xg){const i=Tn.fromString(t,...e);return MD(i),new li(n,null,new nt(i))}{if(!(n instanceof li||n instanceof Wo))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return MD(i),new li(n.firestore,n instanceof Wo?n.converter:null,new nt(i))}}function kD(n,t){return n=(0,un.m9)(n),t=(0,un.m9)(t),(n instanceof li||n instanceof Wo)&&(t instanceof li||t instanceof Wo)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function p0(n,t){return n=(0,un.m9)(n),t=(0,un.m9)(t),n instanceof yr&&t instanceof yr&&n.firestore===t.firestore&&nd(n._query,t._query)&&n.converter===t.converter}function Jg(n,t=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Wf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class RD{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new Ai,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new wM(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Ee.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class RM{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ve(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(o,u){const h=st(o),g=Af(h.It)+"/documents",v={documents:u.map(U=>cd(h.It,U))},D=yield h._o("BatchGetDocuments",g,v,u.length),S=new Map;D.forEach(U=>{const j=function OA(n,t){return"found"in t?function(e,i){Ft(!!i.found);const r=co(e,i.found.name),o=or(i.found.updateTime),u=new ji({mapValue:{fields:i.found.fields}});return Yn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Ft(!!i.missing),Ft(!!i.readTime);const r=co(e,i.missing),o=or(i.readTime);return Yn.newNoDocument(r,o)}(n,t):_t()}(h.It,U);S.set(j.key.toString(),j)});const N=[];return u.forEach(U=>{const j=S.get(U.toString());Ft(!!j),N.push(j)}),N}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new sd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=nt.fromPath(r);t.mutations.push(new Wv(o,t.precondition(o)))}),yield(i=(0,Ee.Z)(function*(r,o){const u=st(r),h=Af(u.It)+"/documents",g={writes:o.map(v=>Mf(u.It,v))};yield u.ao("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ve(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Lt.min())?wi.exists(!1):wi.updateTime(e):wi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new Ve(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(e)}return wi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class FD{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.No=new Dg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.No.Ro((0,Ee.Z)(function*(){const e=new RM(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!gf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!TA(e)}return!1}}class OM{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ir.UNAUTHENTICATED,this.clientId=zC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ee.Z)(function*(h){Ge("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Gi(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function e_(n,t){return qo.apply(this,arguments)}function qo(){return qo=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(o){i.isEqual(o)||(yield bg(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),qo.apply(this,arguments)}function m0(n,t){return qf.apply(this,arguments)}function qf(){return qf=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ho(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>qb(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>qb(t.remoteStore,o)),n.onlineComponents=t}),qf.apply(this,arguments)}function ho(n){return g0.apply(this,arguments)}function g0(){return g0=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield e_(n,new ID)),n.offlineComponents}),g0.apply(this,arguments)}function _0(n){return y0.apply(this,arguments)}function y0(){return y0=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield m0(n,new SD)),n.onlineComponents}),y0.apply(this,arguments)}function ND(n){return ho(n).then(t=>t.persistence)}function t_(n){return ho(n).then(t=>t.localStore)}function v0(n){return _0(n).then(t=>t.remoteStore)}function n_(n){return _0(n).then(t=>t.syncEngine)}function Jc(n){return b0.apply(this,arguments)}function b0(){return b0=(0,Ee.Z)(function*(n){const t=yield _0(n),e=t.eventManager;return e.onListen=pD.bind(null,t.syncEngine),e.onUnlisten=n0.bind(null,t.syncEngine),e}),b0.apply(this,arguments)}function C0(n,t,e={}){const i=new Ai;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,o,u,h,g){const v=new Wf({next:S=>{o.enqueueAndForget(()=>Qc(r,D));const N=S.docs.has(u);!N&&S.fromCache?g.reject(new Ve(me.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&"server"===h.source?g.reject(new Ve(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),D=new Qb(ed(u.path),v,{includeMetadataChanges:!0,ku:!0});return Ng(r,D)}(yield Jc(n),n.asyncQueue,t,e,i)})),i.promise}function E0(n,t,e={}){const i=new Ai;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,o,u,h,g){const v=new Wf({next:S=>{o.enqueueAndForget(()=>Qc(r,D)),S.fromCache&&"server"===h.source?g.reject(new Ve(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),D=new Qb(u,v,{includeMetadataChanges:!0,ku:!0});return Ng(r,D)}(yield Jc(n),n.asyncQueue,t,e,i)})),i.promise}class r_{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Dg(this,"async_queue_retry"),this.Wc=()=>{const e=Uf();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=Uf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=Uf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new Ai;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.No.reset()}catch(e){if(!Po(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.No.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=Fg.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.qc.push(r),r}zc(){this.Kc&&_t()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Ee.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function s_(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class FM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ni extends Xg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new r_,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LM(this),this._firestoreClient.terminate()}}function NM(n,t){const e="object"==typeof n?n:(0,Ts.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Ts._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,un.P0)("firestore");o&&Hs(r,...o)}return r}function Wi(n){return n._firestoreClient||LM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LM(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Gk(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new OM(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $D(n,t,e){const i=new Ai;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield e_(n,e),yield m0(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;ul("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function Yf(n){if(n._initialized||n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yo(Ni.fromBase64String(t))}catch(e){throw new Ve(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yo(Ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ua{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ve(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function zD(){return new Ua("__name__")}class ms{constructor(t){this._methodName=t}}class Zf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ve(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ve(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const D0=/^__.*__$/;class I0{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Fa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hc(t,this.data,e,this.fieldTransforms)}}class GD{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Fa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function o_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Id{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Id(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Ad(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(o_(this.sa)&&D0.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class a_{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||bd(t)}da(t,e,i,r=!1){return new Id({sa:t,methodName:e,fa:i,path:bi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Sd(n){const t=n._freezeSettings(),e=bd(n._databaseId);return new a_(n._databaseId,!!t.ignoreUndefinedProperties,e)}function S0(n,t,e,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,t,e,r);d_("Data must be an object, but it was:",u,i);const h=WD(i,u);let g,v;if(o.merge)g=new Sr(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const S of o.mergeFields){const N=Kf(t,S,e);if(!u.contains(N))throw new Ve(me.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);YD(D,N)||D.push(N)}g=new Sr(D),v=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=u.fieldTransforms;return new I0(new ji(h),g,v)}class l_ extends ms{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof l_}}function HM(n,t,e){return new Id({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class c_ extends ms{_toFieldTransform(t){return new id(t.path,new Bc)}isEqual(t){return t instanceof c_}}class jM extends ms{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=HM(this,t,!0),i=this._a.map(o=>xl(o,e)),r=new Uo(i);return new id(t.path,r)}isEqual(t){return this===t}}class $M extends ms{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=HM(this,t,!0),i=this._a.map(o=>xl(o,e)),r=new yl(i);return new id(t.path,r)}isEqual(t){return this===t}}class zM extends ms{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Uc(t.It,Vv(t.It,this.wa));return new id(t.path,e)}isEqual(t){return this===t}}function A0(n,t,e,i){const r=n.da(1,t,e);d_("Data must be an object, but it was:",r,i);const o=[],u=ji.empty();hl(i,(g,v)=>{const D=Qf(t,g,e);v=(0,un.m9)(v);const S=r.ca(D);if(v instanceof l_)o.push(D);else{const N=xl(v,S);null!=N&&(o.push(D),u.set(D,N))}});const h=new Sr(o);return new GD(u,h,r.fieldTransforms)}function u_(n,t,e,i,r,o){const u=n.da(1,t,e),h=[Kf(t,i,e)],g=[r];if(o.length%2!=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)h.push(Kf(t,o[N])),g.push(o[N+1]);const v=[],D=ji.empty();for(let N=h.length-1;N>=0;--N)if(!YD(v,h[N])){const U=h[N];let j=g[N];j=(0,un.m9)(j);const K=u.ca(U);if(j instanceof l_)v.push(U);else{const ae=xl(j,K);null!=ae&&(v.push(U),D.set(U,ae))}}const S=new Sr(v);return new GD(D,S,u.fieldTransforms)}function M0(n,t,e,i=!1){return xl(e,n.da(i?4:3,t))}function xl(n,t){if(qD(n=(0,un.m9)(n)))return d_("Unsupported field value:",t,n),WD(n,t);if(n instanceof ms)return function(e,i){if(!o_(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=xl(u,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,un.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vv(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=vn.fromDate(e);return{timestampValue:ld(i.It,r)}}if(e instanceof vn){const r=new vn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ld(i.It,r)}}if(e instanceof Zf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yo)return{bytesValue:Xv(i.It,e._byteString)};if(e instanceof li){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ng(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${Qg(e)}`)}(n,t)}function WD(n,t){const e={};return Tv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hl(n,(i,r)=>{const o=xl(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function qD(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vn||n instanceof Zf||n instanceof Yo||n instanceof li||n instanceof ms)}function d_(n,t,e){if(!qD(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Qg(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Kf(n,t,e){if((t=(0,un.m9)(t))instanceof Ua)return t._internalPath;if("string"==typeof t)return Qf(n,t);throw Ad("Field path arguments must be of type string or ",n,!1,void 0,e)}const mR=new RegExp("[~\\*/\\[\\]]");function Qf(n,t,e){if(t.search(mR)>=0)throw Ad(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ua(...t.split("."))._internalPath}catch{throw Ad(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ad(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Ve(me.INVALID_ARGUMENT,h+n+g)}function YD(n,t){return n.some(e=>e.isEqual(t))}class Xf{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new gR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(T0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class gR extends Xf{data(){return super.data()}}function T0(n,t){return"string"==typeof t?Qf(n,t):t instanceof Ua?t._internalPath:t._delegate._internalPath}function ZD(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jf{}function kl(n,...t){for(const e of t)n=e._apply(n);return n}class _R extends Jf{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Sd(t.firestore),i=function(r,o,u,h,g,v,D){let S;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){d(D,v);const U=[];for(const j of D)U.push(c(h,r,j));S={arrayValue:{values:U}}}else S=c(h,r,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||d(D,v),S=M0(u,"where",D,"in"===v||"not-in"===v);const N=mr.create(g,v,S);return function(U,j){if(j.dt()){const ae=wf(U);if(null!==ae&&!ae.isEqual(j.field))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ae.toString()}' and '${j.field.toString()}'`);const Ze=td(U);null!==Ze&&f(0,j.field,Ze)}const K=function(ae,Ze){for(const ot of ae.filters)if(Ze.indexOf(ot.op)>=0)return ot.op;return null}(U,function(ae){switch(ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==K)throw new Ve(me.INVALID_ARGUMENT,K===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${K.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new yr(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class vR extends Jf{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ju(r,o);return function(h,g){if(null===td(h)){const v=wf(h);null!==v&&f(0,v,g.field)}}(i,u),u}(t._query,this.ma,this.pa);return new yr(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new lo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class GM extends Jf{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new yr(t.firestore,t.converter,Cf(t._query,this.Ia,this.Ta))}}class qM extends Jf{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=a(t,this.type,this.Ea,this.Aa);return new yr(t.firestore,t.converter,(r=e,new lo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class YM extends Jf{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=a(t,this.type,this.Ea,this.Aa);return new yr(t.firestore,t.converter,(r=e,new lo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function a(n,t,e,i){if(e[0]=(0,un.m9)(e[0]),e[0]instanceof Xf)return function(r,o,u,h,g){if(!h)throw new Ve(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Pa(r))if(D.field.isKeyField())v.push(Lo(o,h.key));else{const S=h.data.field(D.field);if(xv(S))throw new Ve(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=D.field.canonicalString();throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(S)}return new _l(v,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Sd(n.firestore);return function(o,u,h,g,v,D){const S=o.explicitOrderBy;if(v.length>S.length)throw new Ve(me.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<v.length;U++){const j=v[U];if(S[U].field.isKeyField()){if("string"!=typeof j)throw new Ve(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof j}`);if(!Fv(o)&&-1!==j.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${j}' contains a slash.`);const K=o.path.child(Tn.fromString(j));if(!nt.isDocumentKey(K))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const ae=new nt(K);N.push(Lo(u,ae))}else{const K=M0(h,g,j);N.push(K)}}return new _l(N,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function c(n,t,e){if("string"==typeof(e=(0,un.m9)(e))){if(""===e)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fv(t)&&-1!==e.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tn.fromString(e));if(!nt.isDocumentKey(i))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lo(n,new nt(i))}if(e instanceof li)return Lo(n,e._key);throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qg(e)}.`)}function d(n,t){if(!Array.isArray(n)||0===n.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function f(n,t,e){if(!e.isEqual(t))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class p{convertValue(t,e="none"){switch(xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ao(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _t()}}convertObject(t,e){const i={};return hl(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Zf(Mi(t.latitude),Mi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=IA(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mf(t));default:return null}}convertTimestamp(t){const e=fl(t);return new vn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tn.fromString(t);Ft(nb(i));const r=new pl(i.get(1),i.get(3)),o=new nt(i.popFirst(5));return r.isEqual(e)||Fi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function y(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class w extends p{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,e)}}class E{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class I extends Xf{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new T(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(T0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class T extends I{data(t={}){return super.data(t)}}class B{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new E(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new T(this._firestore,this._userDataWriter,i.key,i,new E(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ve(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new T(i._firestore,i._userDataWriter,u.doc.key,u.doc,new E(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new T(i._firestore,i._userDataWriter,u.doc.key,u.doc,new E(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:Y(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Y(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function se(n,t){return n instanceof I&&t instanceof I?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof B&&t instanceof B&&n._firestore===t._firestore&&p0(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class $e extends p{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,e)}}function On(n,t,e){n=In(n,li);const i=In(n.firestore,ni),r=y(n.converter,t,e);return Rl(i,[S0(Sd(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,wi.none())])}function ci(n,t,e,...i){n=In(n,li);const r=In(n.firestore,ni),o=Sd(r);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof Ua?u_(o,"updateDoc",n._key,t,e,i):A0(o,"updateDoc",n._key,t),Rl(r,[u.toMutation(n._key,wi.exists(!0))])}function h_(n,...t){var e,i,r;n=(0,un.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||s_(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(s_(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,v,D;if(n instanceof li)v=In(n.firestore,ni),D=ed(n._key.path),g={next:S=>{t[u]&&t[u](ep(v,n,S))},error:t[u+1],complete:t[u+2]};else{const S=In(n,yr);v=In(S.firestore,ni),D=S._query;const N=new $e(v);g={next:U=>{t[u]&&t[u](new B(v,N,S,U))},error:t[u+1],complete:t[u+2]},ZD(n._query)}return function(S,N,U,j){const K=new Wf(j),ae=new Qb(N,K,U);return S.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ng(yield Jc(S),ae)})),()=>{K.bc(),S.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Qc(yield Jc(S),ae)}))}}(Wi(v),D,h,g)}function Rl(n,t){return function(e,i){const r=new Ai;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function EM(n,t,e){return gD.apply(this,arguments)}(yield n_(e),i,r)})),r.promise}(Wi(n),t)}function ep(n,t,e){const i=e.docs.get(t._key),r=new $e(n);return new I(n,r,t._key,i,new E(e.hasPendingWrites,e.fromCache),t.converter)}const R0={maxAttempts:5};class f_{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Sd(t)}set(t,e,i){this._verifyNotCommitted();const r=Md(t,this._firestore),o=y(r.converter,e,i),u=S0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,wi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Md(t,this._firestore);let u;return u="string"==typeof(e=(0,un.m9)(e))||e instanceof Ua?u_(this._dataReader,"WriteBatch.update",o._key,e,i,r):A0(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,wi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Md(t,this._firestore);return this._mutations=this._mutations.concat(new sd(e._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Md(n,t){if((n=(0,un.m9)(n)).firestore!==t)throw new Ve(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class AL extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Sd(t)}get(t){const e=Md(t,this._firestore),i=new w(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return _t();const o=r[0];if(o.isFoundDocument())return new Xf(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Xf(this._firestore,i,e._key,null,e.converter);throw _t()})}set(t,e,i){const r=Md(t,this._firestore),o=y(r.converter,e,i),u=S0(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Md(t,this._firestore);let u;return u="string"==typeof(e=(0,un.m9)(e))||e instanceof Ua?u_(this._dataReader,"Transaction.update",o._key,e,i,r):A0(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Md(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Md(t,this._firestore),i=new $e(this._firestore);return super.get(t).then(r=>new I(this._firestore,i,e._key,r._document,new E(!1,!1),e.converter))}}function ZM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function SR(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function AR(){if(!function DA(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ll=Ts.SDK_VERSION,(0,Ts._registerComponent)(new Hi.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new ni(new Ev(e.getProvider("auth-internal")),new jk(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ve(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ts.registerVersion)(Vm,"3.7.0",n),(0,Ts.registerVersion)(Vm,"3.7.0","esm2017")}();class O0{constructor(t){this._delegate=t}static fromBase64String(t){return AR(),new O0(Yo.fromBase64String(t))}static fromUint8Array(t){return SR(),new O0(Yo.fromUint8Array(t))}toBase64(){return AR(),this._delegate.toBase64()}toUint8Array(){return SR(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KM(n){return function NL(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class LL{enableIndexedDbPersistence(t,e){return function jD(n,t){Yf(n=In(n,ni));const e=Wi(n),i=n._freezeSettings(),r=new SD;return $D(e,r,new Gf(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function VM(n){Yf(n=In(n,ni));const t=Wi(n),e=n._freezeSettings(),i=new SD;return $D(t,i,new TM(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function BM(n){if(n._initialized&&!n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(i){if(!oo.C())return Promise.resolve();const r=i+"main";yield oo.delete(r)}),function(i){return e.apply(this,arguments)})(Eb(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class MR{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof pl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){Hs(this._delegate,t,e,i)}enableNetwork(){return function hR(n){return function LD(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield ND(n),e=yield v0(n);return t.setNetworkEnabled(!0),function(i){const r=st(i);return r.wu.delete(0),Va(r)}(e)}))}(Wi(n=In(n,ni)))}(this._delegate)}disableNetwork(){return function fR(n){return function cR(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield ND(n),e=yield v0(n);return t.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const o=st(r);o.wu.add(0),yield Il(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Wi(n=In(n,ni)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,xM("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dR(n){return function(t){const e=new Ai;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function IM(n,t){return $g.apply(this,arguments)}(yield n_(t),e)})),e.promise}(Wi(n=In(n,ni)))}(this._delegate)}onSnapshotsInSync(t){return function k0(n,t){return function BD(n,t){const e=new Wf(t);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Jc(n),r=e,st(i).bu.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Jc(n),r=e,void st(i).bu.delete(r);var i,r}))}}(Wi(n=In(n,ni)),s_(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new p_(this,ps(this._delegate,t))}catch(e){throw gs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Zo(this,Dd(this._delegate,t))}catch(e){throw gs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new _s(this,function kM(n,t){if(n=In(n,Xg),AD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yr(n,null,(e=t,new lo(Tn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw gs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function ML(n,t,e){n=In(n,ni);const i=Object.assign(Object.assign({},R0),e);return function(r){if(r.maxAttempts<1)throw new Ve(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new Ai;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const g=yield function PM(n){return _0(n).then(t=>t.datastore)}(r);new FD(r.asyncQueue,g,u,o,h).run()})),h.promise}(Wi(n),r=>t(new AL(n,r)),i)}(this._delegate,e=>t(new TR(this,e)))}batch(){return Wi(this._delegate),new xR(new f_(this._delegate,t=>Rl(this._delegate,t)))}loadBundle(t){return function pR(n,t){const e=Wi(n=In(n,ni)),i=new FM;return function UD(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return Jg(g,v);if(g instanceof ArrayBuffer)return Jg(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new RD(g,u);var g}(e,bd(t));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function MM(n,t,e){const i=st(n);var r;(r=(0,Ee.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(N,U){const j=st(N),K=or(U.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ae=>j.Ns.getBundleMetadata(ae,U.id)).then(ae=>!!ae&&ae.createTime.compareTo(K)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=g).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(Jb(g));const v=new Xb(g,o.localStore,u.It);let D=yield u.mc();for(;D;){const N=yield v.Fu(D);N&&h._updateProgress(N),D=yield u.mc()}const S=yield v.complete();return yield Tl(o,S.Lu,void 0),yield function(N,U){const j=st(N);return j.persistence.runTransaction("Save bundle","readwrite",K=>j.Ns.saveBundleMetadata(K,U))}(o.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return ul("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var N}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield n_(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function UM(n,t){return function i_(n,t){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,i){const r=st(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield t_(n),t)}))}(Wi(n=In(n,ni)),t).then(e=>e?new yr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new _s(this,e):null)}}class XD extends p{constructor(t){super(),this.firestore=t}convertBytes(t){return new O0(new Yo(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Zo.forKey(e,this.firestore,null)}}class TR{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}get(t){const e=np(t);return this._delegate.get(e).then(i=>new P0(this._firestore,new I(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=np(t);return i?(ZM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=np(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=np(t);return this._delegate.delete(e),this}}class xR{constructor(t){this._delegate=t}set(t,e,i){const r=np(t);return i?(ZM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=np(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=np(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class tp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new T(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new F0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=tp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new tp(t,new XD(t),e),r.set(e,o)),o}}tp.INSTANCES=new WeakMap;class Zo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Zo(e,new li(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new Zo(e,new li(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new p_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new p_(this.firestore,ps(this._delegate,t))}catch(e){throw gs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,un.m9)(t))instanceof li&&kD(this._delegate,t)}set(t,e){e=ZM("DocumentReference.set",e);try{return e?On(this._delegate,t,e):On(this._delegate,t)}catch(i){throw gs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?ci(this._delegate,t):ci(this._delegate,t,e,...i)}catch(r){throw gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function eu(n){return Rl(In(n.firestore,ni),[new sd(n._key,wi.none())])}(this._delegate)}onSnapshot(...t){const e=kR(t),i=RR(t,r=>new P0(this.firestore,new I(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return h_(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function it(n){n=In(n,li);const t=In(n.firestore,ni),e=Wi(t),i=new $e(t);return function w0(n,t){const e=new Ai;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,o,u){try{const h=yield function(g,v){const D=st(g);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,v))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ve(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Gi(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield t_(n),t,e);var i})),e.promise}(e,n._key).then(r=>new I(t,i,n._key,r,new E(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function yt(n){n=In(n,li);const t=In(n.firestore,ni);return C0(Wi(t),n._key,{source:"server"}).then(e=>ep(t,n,e))}(this._delegate):function Te(n){n=In(n,li);const t=In(n.firestore,ni);return C0(Wi(t),n._key).then(e=>ep(t,n,e))}(this._delegate),e.then(i=>new P0(this.firestore,new I(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Zo(this.firestore,this._delegate.withConverter(t?tp.getInstance(this.firestore,t):null))}}function gs(n,t,e){return n.message=n.message.replace(t,e),n}function kR(n){for(const t of n)if("object"==typeof t&&!KM(t))return t;return{}}function RR(n,t){var e,i;let r;return r=KM(n[0])?n[0]:KM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class P0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Zo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return se(this._delegate,t._delegate)}}class F0 extends P0{data(t){const e=this._delegate.data(t);return function Yu(n,t){n||_t()}(void 0!==e),e}}class _s{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new XD(t)}where(t,e,i){try{return new _s(this.firestore,kl(this._delegate,function yR(n,t,e){const i=t,r=T0("where",n);return new _R(r,i,e)}(t,e,i)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new _s(this.firestore,kl(this._delegate,function bR(n,t="asc"){const e=t,i=T0("orderBy",n);return new vR(i,e)}(t,e)))}catch(i){throw gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new _s(this.firestore,kl(this._delegate,function WM(n){return xD("limit",n),new GM("limit",n,"F")}(t)))}catch(e){throw gs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new _s(this.firestore,kl(this._delegate,function wR(n){return xD("limitToLast",n),new GM("limitToLast",n,"L")}(t)))}catch(e){throw gs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new _s(this.firestore,kl(this._delegate,function CR(...n){return new qM("startAt",n,!0)}(...t)))}catch(e){throw gs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new _s(this.firestore,kl(this._delegate,function ER(...n){return new qM("startAfter",n,!1)}(...t)))}catch(e){throw gs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new _s(this.firestore,kl(this._delegate,function DR(...n){return new YM("endBefore",n,!1)}(...t)))}catch(e){throw gs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new _s(this.firestore,kl(this._delegate,function s(...n){return new YM("endAt",n,!0)}(...t)))}catch(e){throw gs(e,"endAt()","Query.endAt()")}}isEqual(t){return p0(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Le(n){n=In(n,yr);const t=In(n.firestore,ni),e=Wi(t),i=new $e(t);return function VD(n,t){const e=new Ai;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,o,u){try{const h=yield Cg(r,o,!0),g=new Bg(o,h.Hi),v=g.Wu(h.documents),D=g.applyChanges(v,!1);u.resolve(D.snapshot)}catch(h){const g=Gi(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield t_(n),t,e);var i})),e.promise}(e,n._query).then(r=>new B(t,i,n,r))}(this._delegate):"server"===t?.source?function $t(n){n=In(n,yr);const t=In(n.firestore,ni),e=Wi(t),i=new $e(t);return E0(e,n._query,{source:"server"}).then(r=>new B(t,i,n,r))}(this._delegate):function kt(n){n=In(n,yr);const t=In(n.firestore,ni),e=Wi(t),i=new $e(t);return ZD(n._query),E0(e,n._query).then(r=>new B(t,i,n,r))}(this._delegate),e.then(i=>new QM(this.firestore,new B(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=kR(t),i=RR(t,r=>new QM(this.firestore,new B(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return h_(this._delegate,e,i)}withConverter(t){return new _s(this.firestore,this._delegate.withConverter(t?tp.getInstance(this.firestore,t):null))}}class BL{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new F0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new F0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new BL(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new F0(this._firestore,i))})}isEqual(t){return se(this._delegate,t._delegate)}}class p_ extends _s{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Zo(this.firestore,t):null}doc(t){try{return new Zo(this.firestore,void 0===t?Dd(this._delegate):Dd(this._delegate,t))}catch(e){throw gs(e,"doc()","CollectionReference.doc()")}}add(t){return function x0(n,t){const e=In(n.firestore,ni),i=Dd(n),r=y(n.converter,t);return Rl(e,[S0(Sd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Zo(this.firestore,e))}isEqual(t){return kD(this._delegate,t._delegate)}withConverter(t){return new p_(this.firestore,this._delegate.withConverter(t?tp.getInstance(this.firestore,t):null))}}function np(n){return In(n,li)}class XM{constructor(...t){this._delegate=new Ua(...t)}static documentId(){return new XM(bi.keyField().canonicalString())}isEqual(t){return(t=(0,un.m9)(t))instanceof Ua&&this._delegate._internalPath.isEqual(t._internalPath)}}class ip{constructor(t){this._delegate=t}static serverTimestamp(){const t=function xL(){return new c_("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ip(t)}static delete(){const t=function TL(){return new l_("deleteField")}();return t._methodName="FieldValue.delete",new ip(t)}static arrayUnion(...t){const e=function kL(...n){return new jM("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ip(e)}static arrayRemove(...t){const e=function RL(...n){return new $M("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ip(e)}static increment(t){const e=function OL(n){return new zM("increment",n)}(t);return e._methodName="FieldValue.increment",new ip(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const UL={Firestore:MR,GeoPoint:Zf,Timestamp:vn,Blob:O0,Transaction:TR,WriteBatch:xR,DocumentReference:Zo,DocumentSnapshot:P0,Query:_s,QueryDocumentSnapshot:F0,QuerySnapshot:QM,CollectionReference:p_,FieldPath:XM,FieldValue:ip,setLogLevel:function VL(n){!function BC(n){cl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function OR(n,t){return function $L(n,t=xh.z){return new Zn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function JM(n,t){return OR(n,t).pipe((0,qe.U)(e=>({payload:e,type:"query"})))}function JD(n,t){return JM(n,t).pipe(_i(void 0),sl(),(0,qe.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(D=>D.doc.ref.isEqual(u.ref)),v=e?.payload.docs.find(D=>D.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function PR(n,t,e){return JD(n,e).pipe(om((i,r)=>function GL(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function WL(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return eT(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return eT(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return eT(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ds(),(0,qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function eT(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function FR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function jL(n){(function HL(n,t){n.INTERNAL.registerComponent(new Hi.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},UL)))})(n,(t,e)=>new MR(t,e,new LL)),n.registerVersion("@firebase/firestore-compat","0.2.0")}(YS.Z);class NR{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=JD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(_i(void 0),sl(),nn(([i,r])=>r.length>0||!i),(0,qe.U)(([i,r])=>r),Ht.iC)}auditTrail(t){return this.stateChanges(t).pipe(om((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=FR(t);return PR(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return JM(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ht.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(Ht.iC)}add(t){return this.ref.add(t)}doc(t){return new LR(this.ref.doc(t),this.afs)}}class LR{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=VR(i,e);return new NR(r,o,this.afs)}snapshotChanges(){return function zL(n,t){return OR(n,t).pipe(_i(void 0),sl(),(0,qe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(Ht.iC)}}class qL{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?JD(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),nn(e=>e.length>0),Ht.iC):JD(this.query,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}auditTrail(t){return this.stateChanges(t).pipe(om((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=FR(t);return PR(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(t={}){return JM(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Ht.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(Ht.iC)}}const YL=new l.OlP("angularfire2.enableFirestorePersistence"),ZL=new l.OlP("angularfire2.firestore.persistenceSettings"),KL=new l.OlP("angularfire2.firestore.settings"),QL=new l.OlP("angularfire2.firestore.use-emulator");function VR(n,t=(e=>e)){return{query:t(n),ref:n}}let BR=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D,S,N,U,j,K,ae,Ze,ot){this.schedulers=g;const Dt=(0,Cr.on)(e,h,i),Ct=D;S&&sm(Dt,h,N,j,K,ae,U,Ze),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Vt=h.runOutsideAngular(()=>Dt.firestore());if(o&&Vt.settings(o),Ct&&Vt.useEmulator(...Ct),r&&!Is(u)){const Gt=()=>{try{return(0,dn.D)(Vt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(xn){return typeof console<"u"&&console.warn(xn),Ke(!1)}};return[Vt,h.runOutsideAngular(Gt)]}return[Vt,Ke(!1)]},[o,Ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=VR(r,i),h=this.schedulers.ngZone.run(()=>o);return new NR(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new qL(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new LR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr.Dh),l.LFG(Cr.xv,8),l.LFG(YL,8),l.LFG(KL,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ht.HU),l.LFG(ZL,8),l.LFG(QL,8),l.LFG(Th,8),l.LFG(My,8),l.LFG(_c,8),l.LFG(Ww,8),l.LFG(qw,8),l.LFG(Yw,8),l.LFG(Zw,8),l.LFG(Pu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function N0(n,t=xh.z){return(0,ai.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=u+n,D=t.now();if(D<v)return r=this.schedule(void 0,v-D),void i.add(r);h()}e.subscribe((0,zn.x)(i,v=>{o=v,u=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}let UR=(()=>{class n{constructor(){this.debounceTime=Er_defaults.debounceTime}collection(e,{debounceMs:i}={debounceMs:this.debounceTime}){return e.valueChanges({idField:"key"}).pipe(ds(),N0(i))}doc(e,{debounceMs:i}={debounceMs:this.debounceTime}){return e.valueChanges({idField:"key"}).pipe(ds(),N0(i))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tT=(()=>{class n{constructor(e,i){this.db=e,this.firebaseHelper=i,this.users=this.db.collection(Er_firebaseApiUrls.users)}ngOnInit(){}getList(){return this.firebaseHelper.collection(this.users).pipe((0,qe.U)(e=>e.filter(i=>!!i)))}getByKey(e){return this.firebaseHelper.doc(this.db.doc(`${Er_firebaseApiUrls.users}/${e}`))}create(e){return this.users.add(e)}update(e,i){return this.users.doc(e).update(i)}deleteByKey(e){return this.users.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(BR),l.LFG(UR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:XL}=Array,{getPrototypeOf:JL,prototype:eV,keys:tV}=Object;function HR(n){if(1===n.length){const t=n[0];if(XL(t))return{args:t,keys:null};if(function nV(n){return n&&"object"==typeof n&&JL(n)===eV}(t)){const e=tV(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:iV}=Array;function nT(n){return(0,qe.U)(t=>function rV(n,t){return iV(t)?n(...t):n(t)}(n,t))}function jR(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var sV=O(9672);function iT(...n){const t=(0,ga.yG)(n),e=(0,ga.jO)(n),{args:i,keys:r}=HR(n);if(0===i.length)return(0,dn.D)([],t);const o=new Zn.y(function oV(n,t,e=us.y){return i=>{$R(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)$R(t,()=>{const v=(0,dn.D)(n[g],t);let D=!1;v.subscribe((0,zn.x)(i,S=>{o[g]=S,D||(D=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>jR(r,u):us.y));return e?o.pipe(nT(e)):o}function $R(n,t,e){n?(0,sV.f)(e,n,t):t()}function Td(n){return new Zn.y(t=>{(0,xs.Xf)(n()).subscribe(t)})}var aV=O(9635);function rp(n,t){const e=(0,Qr.m)(n)?n:()=>n,i=r=>r.error(e());return new Zn.y(t?r=>t.schedule(i,0,r):i)}var vr=O(727);function rT(){return(0,ai.e)((n,t)=>{let e=null;n._refCount++;const i=(0,zn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sT extends Zn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,zn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vr.w0.EMPTY)}return t}refCount(){return rT()(this)}}var Pr=O(5577);function xd(n,t){return(0,Qr.m)(t)?(0,Pr.z)(n,t,1):(0,Pr.z)(n,1)}var ui=O(8505);function Ha(n){return(0,ai.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,zn.x)(e,void 0,void 0,u=>{o=(0,xs.Xf)(n(u,Ha(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function oT(n){return n<=0?()=>Kr.E:(0,ai.e)((t,e)=>{let i=[];t.subscribe((0,zn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function zR(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):us.y,oT(1),e?el(t):ya(()=>new _a))}function GR(n,t=!1){return(0,ai.e)((e,i)=>{let r=0;e.subscribe((0,zn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}function WR(n){return(0,qe.U)(()=>n)}function eI(n){return(0,ai.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const gn="primary",L0=Symbol("RouteTitle");class lV{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function m_(n){return new lV(n)}function cV(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ol(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!qR(n[r],t[r]))return!1;return!0}function qR(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function YR(n){return Array.prototype.concat.apply([],n)}function ZR(n){return n.length>0?n[n.length-1]:null}function Gr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function kd(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Ke(n)}const hV={exact:function XR(n,t,e){if(!op(n.segments,t.segments)||!tI(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!XR(n.children[i],t.children[i],e))return!1;return!0},subset:JR},KR={exact:function fV(n,t){return Ol(n,t)},subset:function pV(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qR(n[e],t[e]))},ignored:()=>!0};function QR(n,t,e){return hV[e.paths](n.root,t.root,e.matrixParams)&&KR[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function JR(n,t,e){return eO(n,t,t.segments,e)}function eO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!op(r,e)||t.hasChildren()||!tI(r,e,i))}if(n.segments.length===e.length){if(!op(n.segments,e)||!tI(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!JR(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(op(n.segments,r)&&tI(n.segments,r,i)&&n.children[gn])&&eO(n.children[gn],t,o,i)}}function tI(n,t,e){return t.every((i,r)=>KR[e](n[r].parameters,i.parameters))}class sp{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m_(this.queryParams)),this._queryParamMap}toString(){return _V.serialize(this)}}class wn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nI(this)}}class V0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=m_(this.parameters)),this._parameterMap}toString(){return rO(this)}}function op(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let tO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new lT},providedIn:"root"}),n})();class lT{parse(t){const e=new SV(t);return new sp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${B0(t.root,!0)}`,i=function bV(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${iI(e)}=${iI(r)}`).join("&"):`${iI(e)}=${iI(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function yV(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const _V=new lT;function nI(n){return n.segments.map(t=>rO(t)).join("/")}function B0(n,t){if(!n.hasChildren())return nI(n);if(t){const e=n.children[gn]?B0(n.children[gn],!1):"",i=[];return Gr(n.children,(r,o)=>{o!==gn&&i.push(`${o}:${B0(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function gV(n,t){let e=[];return Gr(n.children,(i,r)=>{r===gn&&(e=e.concat(t(i,r)))}),Gr(n.children,(i,r)=>{r!==gn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===gn?[B0(n.children[gn],!1)]:[`${r}:${B0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gn]?`${nI(n)}/${e[0]}`:`${nI(n)}/(${e.join("//")})`}}function nO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iI(n){return nO(n).replace(/%3B/gi,";")}function cT(n){return nO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rI(n){return decodeURIComponent(n)}function iO(n){return rI(n.replace(/\+/g,"%20"))}function rO(n){return`${cT(n.path)}${function vV(n){return Object.keys(n).map(t=>`;${cT(t)}=${cT(n[t])}`).join("")}(n.parameters)}`}const wV=/^[^\/()?;=#]+/;function sI(n){const t=n.match(wV);return t?t[0]:""}const CV=/^[^=?&#]+/,DV=/^[^&#]+/;class SV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gn]=new wn(t,e)),i}parseSegment(){const t=sI(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new V0(rI(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=sI(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=sI(this.remaining);r&&(i=r,this.capture(i))}t[rI(e)]=rI(i)}parseQueryParam(t){const e=function EV(n){const t=n.match(CV);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function IV(n){const t=n.match(DV);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=iO(e),o=iO(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=sI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=gn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[gn]:new wn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function uT(n){return n.segments.length>0?new wn([],{[gn]:n}):n}function oI(n){const t={};for(const i of Object.keys(n.children)){const o=oI(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function AV(n){if(1===n.numberOfChildren&&n.children[gn]){const t=n.children[gn];return new wn(n.segments.concat(t.segments),t.children)}return n}(new wn(n.segments,t))}function ap(n){return n instanceof sp}function xV(n,t,e,i,r){if(0===e.length)return g_(t.root,t.root,t.root,i,r);const o=function aO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Gr(o.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new oO(e,t,i)}(e);return o.toRoot()?g_(t.root,t.root,new wn([],{}),i,r):function u(g){const v=function RV(n,t,e,i){if(n.isAbsolute)return new __(t.root,!0,0);if(-1===i)return new __(e,e===t.root,0);return function lO(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new __(i,!1,r-o)}(e,i+(U0(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),D=v.processChildren?j0(v.segmentGroup,v.index,o.commands):hT(v.segmentGroup,v.index,o.commands);return g_(t.root,v.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function U0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function H0(n){return"object"==typeof n&&null!=n&&n.outlets}function g_(n,t,e,i,r){let u,o={};i&&Gr(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),u=n===t?e:sO(n,t,e);const h=uT(oI(u));return new sp(h,o,r)}function sO(n,t,e){const i={};return Gr(n.children,(r,o)=>{i[o]=r===t?e:sO(r,t,e)}),new wn(n.segments,i)}class oO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&U0(i[0]))throw new l.vHH(4003,!1);const r=i.find(H0);if(r&&r!==ZR(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class __{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function hT(n,t,e){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return j0(n,t,e);const i=function PV(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(H0(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!uO(g,v,u))return o;i+=2}else{if(!uO(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new wn(n.segments.slice(0,i.pathIndex),{});return o.children[gn]=new wn(n.segments.slice(i.pathIndex),n.children),j0(o,0,r)}return i.match&&0===r.length?new wn(n.segments,{}):i.match&&!n.hasChildren()?fT(n,t,e):i.match?j0(n,0,r):fT(n,t,e)}function j0(n,t,e){if(0===e.length)return new wn(n.segments,{});{const i=function OV(n){return H0(n[0])?n[0].outlets:{[gn]:n}}(e),r={};return Gr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=hT(n.children[u],t,o))}),Gr(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new wn(n.segments,r)}}function fT(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(H0(o)){const g=FV(o.outlets);return new wn(i,g)}if(0===r&&U0(e[0])){i.push(new V0(n.segments[t].path,cO(e[0]))),r++;continue}const u=H0(o)?o.outlets[gn]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&U0(h)?(i.push(new V0(u,cO(h))),r+=2):(i.push(new V0(u,{})),r++)}return new wn(i,{})}function FV(n){const t={};return Gr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fT(new wn([],{}),0,e))}),t}function cO(n){const t={};return Gr(n,(e,i)=>t[i]=`${e}`),t}function uO(n,t,e){return n==e.path&&Ol(t,e.parameters)}class tu{constructor(t,e){this.id=t,this.url=e}}class pT extends tu{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lp extends tu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class aI extends tu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dO extends tu{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NV extends tu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LV extends tu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VV extends tu{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BV extends tu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UV extends tu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HV{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $V{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hO{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mT(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=mT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gT(t,this._root).map(e=>e.value)}}function mT(n,t){if(n===t.value)return t;for(const e of t.children){const i=mT(n,e);if(i)return i}return null}function gT(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gT(n,e);if(i.length)return i.unshift(t),i}return[]}class nu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function y_(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mO extends pO{constructor(t,e){super(t),this.snapshot=e,_T(this,t)}toString(){return this.snapshot.toString()}}function gO(n,t){const e=function qV(n,t){const u=new lI([],{},{},"",{},gn,t,null,n.root,-1,{});return new yO("",new nu(u,[]))}(n,t),i=new Ci([new V0("",{})]),r=new Ci({}),o=new Ci({}),u=new Ci({}),h=new Ci(""),g=new cp(i,r,u,h,o,gn,t,e.root);return g.snapshot=e.root,new mO(new nu(g,[]),e)}class cp{constructor(t,e,i,r,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,qe.U)(v=>v[L0]))??Ke(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(t=>m_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(t=>m_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _O(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function YV(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class lI{constructor(t,e,i,r,o,u,h,g,v,D,S,N){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[L0],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=D,this._correctedLastPathIndex=N??D,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=m_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yO extends pO{constructor(t,e){super(e),this.url=t,_T(this,e)}toString(){return vO(this._root)}}function _T(n,t){t.value._routerState=n,t.children.forEach(e=>_T(n,e))}function vO(n){const t=n.children.length>0?` { ${n.children.map(vO).join(", ")} } `:"";return`${n.value}${t}`}function yT(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ol(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ol(t.params,e.params)||n.params.next(e.params),function uV(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ol(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ol(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vT(n,t){const e=Ol(n.params,t.params)&&function mV(n,t){return op(n,t)&&n.every((e,i)=>Ol(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||vT(n.parent,t.parent))}function $0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function KV(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $0(n,i,r);return $0(n,i)})}(n,t,e);return new nu(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>$0(n,h)),u}}const i=function QV(n){return new cp(new Ci(n.url),new Ci(n.params),new Ci(n.queryParams),new Ci(n.fragment),new Ci(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>$0(n,o));return new nu(i,r)}}const bT="ngNavigationCancelingError";function bO(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ap(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=wO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function wO(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[bT]=!0,i.cancellationCode=t,e&&(i.url=e),i}function CO(n){return EO(n)&&ap(n.url)}function EO(n){return n&&n[bT]}class XV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new z0,this.attachRef=null}}let z0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new XV,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cI=!1;let wT=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||gn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,cI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,cI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,cI);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,cI);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new JV(e,h,r.injector);if(i&&function eB(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(z0),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class JV{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===cp?this.route:t===z0?this.childContexts:this.parent.get(t,e)}}let uI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[wT],encapsulation:2}),n})();function DO(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ET(n){const t=n.children&&n.children.map(ET),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gn&&(e.component=uI),e}function Ko(n){return n.outlet||gn}function IO(n,t){const e=n.filter(i=>Ko(i)===t);return e.push(...n.filter(i=>Ko(i)!==t)),e}function G0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sB{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),yT(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=y_(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Gr(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=y_(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=y_(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=y_(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new hO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zV(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(yT(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),yT(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=G0(r.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class SO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dI{constructor(t,e){this.component=t,this.route=e}}function oB(n,t,e){const i=n._root;return W0(i,t?t._root:null,e,[i.value])}function v_(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function W0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=y_(t);return n.children.forEach(u=>{(function lB(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function cB(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!op(n.url,t.url);case"pathParamsOrQueryParamsChange":return!op(n.url,t.url)||!Ol(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vT(n,t)||!Ol(n.queryParams,t.queryParams);default:return!vT(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new SO(i)):(o.data=u.data,o._resolvedData=u._resolvedData),W0(n,t,o.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new dI(h.outlet.component,u))}else u&&q0(t,h,r),r.canActivateChecks.push(new SO(i)),W0(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),Gr(o,(u,h)=>q0(u,e.getContext(h),r)),r}function q0(n,t,e){const i=y_(n),r=n.value;Gr(i,(o,u)=>{q0(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new dI(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Y0(n){return"function"==typeof n}function DT(n){return n instanceof _a||"EmptyError"===n?.name}const hI=Symbol("INITIAL_VALUE");function b_(){return cn(n=>iT(n.map(t=>t.pipe(pn(1),_i(hI)))).pipe((0,qe.U)(t=>{for(const e of t)if(!0!==e){if(e===hI)return hI;if(!1===e||e instanceof sp)return e}return!0}),nn(t=>t!==hI),pn(1)))}function AO(n){return(0,aV.z)((0,ui.b)(t=>{if(ap(t))throw bO(0,t)}),(0,qe.U)(t=>!0===t))}const IT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MO(n,t,e,i,r){const o=ST(n,t,e);return o.matched?function SB(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ke(r.map(u=>{const h=v_(u,n);return kd(function mB(n){return n&&Y0(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(b_(),AO()):Ke(!0)}(i=DO(t,i),t,e).pipe((0,qe.U)(u=>!0===u?o:{...IT})):Ke(o)}function ST(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...IT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||cV)(e,n,t);if(!r)return{...IT};const o={};Gr(r.posParams,(h,g)=>{o[g]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function fI(n,t,e,i,r="corrected"){if(e.length>0&&function TB(n,t,e){return e.some(i=>pI(n,t,i)&&Ko(i)!==gn)}(n,e,i)){const u=new wn(t,function MB(n,t,e,i){const r={};r[gn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ko(o)!==gn){const u=new wn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Ko(o)]=u}return r}(n,t,i,new wn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function xB(n,t,e){return e.some(i=>pI(n,t,i))}(n,e,i)){const u=new wn(n.segments,function AB(n,t,e,i,r,o){const u={};for(const h of i)if(pI(n,e,h)&&!r[Ko(h)]){const g=new wn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Ko(h)]=g}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new wn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function pI(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function TO(n,t,e,i){return!!(Ko(n)===i||i!==gn&&pI(t,e,n))&&("**"===n.path||ST(t,n,e).matched)}function xO(n,t,e){return 0===t.length&&!n.children[e]}const mI=!1;class gI{constructor(t){this.segmentGroup=t||null}}class kO{constructor(t){this.urlTree=t}}function Z0(n){return rp(new gI(n))}function RO(n){return rp(new kO(n))}class PB{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=fI(this.urlTree.root,[],[],this.config).segmentGroup,e=new wn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,gn).pipe((0,qe.U)(o=>this.createUrlTree(oI(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ha(o=>{if(o instanceof kO)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof gI?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,gn).pipe((0,qe.U)(r=>this.createUrlTree(oI(r),t.queryParams,t.fragment))).pipe(Ha(r=>{throw r instanceof gI?this.noMatchError(r):r}))}noMatchError(t){return new l.vHH(4002,mI)}createUrlTree(t,e,i){const r=uT(t);return new sp(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,qe.U)(o=>new wn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dn.D)(r).pipe(xd(o=>{const u=i.children[o],h=IO(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,qe.U)(g=>({segment:g,outlet:o})))}),om((o,u)=>(o[u.outlet]=u.segment,o),{}),zR())}expandSegment(t,e,i,r,o,u){return(0,dn.D)(i).pipe(xd(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Ha(v=>{if(v instanceof gI)return Ke(null);throw v}))),hs(h=>!!h),Ha((h,g)=>{if(DT(h))return xO(e,r,o)?Ke(new wn([],{})):Z0(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return TO(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Z0(e):Z0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RO(o):this.lineralizeSegments(i,o).pipe((0,Pr.z)(u=>{const h=new wn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:D}=ST(e,r,o);if(!h)return Z0(e);const S=this.applyRedirectCommands(g,r.redirectTo,D);return r.redirectTo.startsWith("/")?RO(S):this.lineralizeSegments(r,S).pipe((0,Pr.z)(N=>this.expandSegment(t,e,i,N.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=DO(i,t),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,qe.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new wn(r,{})))):Ke(new wn(r,{}))):MO(e,i,r,t).pipe(cn(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Pr.z)(D=>{const S=D.injector??t,N=D.routes,{segmentGroup:U,slicedSegments:j}=fI(e,h,g,N),K=new wn(U.segments,U.children);if(0===j.length&&K.hasChildren())return this.expandChildren(S,N,K).pipe((0,qe.U)(Dt=>new wn(h,Dt)));if(0===N.length&&0===j.length)return Ke(new wn(h,{}));const ae=Ko(i)===o;return this.expandSegment(S,K,N,j,ae?gn:o,!0).pipe((0,qe.U)(ot=>new wn(h.concat(ot.segments),ot.children)))})):Z0(e)))}getChildConfig(t,e,i){return e.children?Ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function IB(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(u=>{const h=v_(u,n);return kd(function dB(n){return n&&Y0(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(b_(),AO())}(t,e,i).pipe((0,Pr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ui.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function RB(n){return rp(wO(mI,3))}())):Ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[gn])return rp(new l.vHH(4e3,mI));r=r.children[gn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new sp(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Gr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return Gr(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new wn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,mI);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class NB{}class BB{constructor(t,e,i,r,o,u,h,g){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const t=fI(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,gn).pipe((0,qe.U)(e=>{if(null===e)return null;const i=new lI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nu(i,e),o=new yO(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=_O(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,dn.D)(Object.keys(i.children)).pipe(xd(r=>{const o=i.children[r],u=IO(e,r);return this.processSegmentGroup(t,u,o,r)}),om((r,o)=>r&&o?(r.push(...o),r):null),GR(r=>null!==r),el(null),zR(),(0,qe.U)(r=>{if(null===r)return null;const o=OO(r);return function UB(n){n.sort((t,e)=>t.value.outlet===gn?-1:e.value.outlet===gn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,dn.D)(e).pipe(xd(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),hs(u=>!!u),Ha(u=>{if(DT(u))return xO(i,r,o)?Ke([]):Ke(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!TO(e,i,r,o))return Ke(null);let u;if("**"===e.path){const h=r.length>0?ZR(r).parameters:{},g=FO(i)+r.length;u=Ke({snapshot:new lI(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LO(e),Ko(e),e.component??e._loadedComponent??null,e,PO(i),g,VO(e),g),consumedSegments:[],remainingSegments:[]})}else u=MO(i,e,r,t).pipe((0,qe.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:D})=>{if(!h)return null;const S=FO(i)+g.length;return{snapshot:new lI(g,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LO(e),Ko(e),e.component??e._loadedComponent??null,e,PO(i),S,VO(e),S),consumedSegments:g,remainingSegments:v}}));return u.pipe(cn(h=>{if(null===h)return Ke(null);const{snapshot:g,consumedSegments:v,remainingSegments:D}=h;t=e._injector??t;const S=e._loadedInjector??t,N=function HB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:U,slicedSegments:j}=fI(i,v,D,N.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===j.length&&U.hasChildren())return this.processChildren(S,N,U).pipe((0,qe.U)(ae=>null===ae?null:[new nu(g,ae)]));if(0===N.length&&0===j.length)return Ke([new nu(g,[])]);const K=Ko(e)===o;return this.processSegment(S,N,U,j,K?gn:o).pipe((0,qe.U)(ae=>null===ae?null:[new nu(g,ae)]))}))}}function jB(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function OO(n){const t=[],e=new Set;for(const i of n){if(!jB(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=OO(i.children);t.push(new nu(i.value,r))}return t.filter(i=>!e.has(i))}function PO(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function FO(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function LO(n){return n.data||{}}function VO(n){return n.resolve||{}}function BO(n){return"string"==typeof n.title||null===n.title}function AT(n){return cn(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,qe.U)(()=>t)):Ke(t)})}let UO=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===gn);return i}getResolvedTitleForRoute(e){return e.data[L0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(HO)},providedIn:"root"}),n})(),HO=(()=>{class n extends UO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ms))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KB{}class XB extends class QB{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yI=new l.OlP("",{providedIn:"root",factory:()=>({})}),MT=new l.OlP("ROUTES");let TT=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=kd(e.loadComponent()).pipe((0,ui.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),eI(()=>{this.componentLoaders.delete(e)})),r=new sT(i,()=>new ct.x).pipe(rT());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qe.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,D=!1;Array.isArray(h)?v=h:(g=h.create(e).injector,v=YR(g.get(MT,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(ET),injector:g}}),eI(()=>{this.childrenLoaders.delete(i)})),u=new sT(o,()=>new ct.x).pipe(rT());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return kd(e()).pipe((0,Pr.z)(i=>i instanceof l.YKP||Array.isArray(i)?Ke(i):(0,dn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class e2{}class t2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function n2(n){throw n}function r2(n,t,e){return t.parse("/")}const s2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $O(){const n=(0,l.f3M)(tO),t=(0,l.f3M)(z0),e=(0,l.f3M)(Fe),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),o=(0,l.f3M)(MT,{optional:!0})??[],u=(0,l.f3M)(yI,{optional:!0})??{},h=(0,l.f3M)(HO),g=(0,l.f3M)(UO,{optional:!0}),v=(0,l.f3M)(e2,{optional:!0}),D=(0,l.f3M)(KB,{optional:!0}),S=new qi(null,n,t,e,i,r,YR(o));return v&&(S.urlHandlingStrategy=v),D&&(S.routeReuseStrategy=D),S.titleStrategy=g??h,function a2(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let qi=(()=>{class n{constructor(e,i,r,o,u,h,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct.x,this.errorHandler=n2,this.malformedUriErrorHandler=r2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ke(void 0),this.urlHandlingStrategy=new t2,this.routeReuseStrategy=new XB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(TT),this.configLoader.onLoadEndListener=N=>this.triggerEvent(new jV(N)),this.configLoader.onLoadStartListener=N=>this.triggerEvent(new HV(N)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const S=u.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function dV(){return new sp(new wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gO(this.currentUrlTree,this.rootComponentType),this.transitions=new Ci({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(r=>0!==r.id),(0,qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),cn(r=>{let o=!1,u=!1;return Ke(r).pipe((0,ui.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return zO(h.source)&&(this.browserUrlTree=h.extractedUrl),Ke(h).pipe(cn(S=>{const N=this.transitions.getValue();return i.next(new pT(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions.getValue()?Kr.E:Promise.resolve(S)}),function FB(n,t,e,i){return cn(r=>function OB(n,t,e,i,r){return new PB(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,qe.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ui.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function zB(n,t,e,i,r,o){return(0,Pr.z)(u=>function VB(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new BB(n,t,e,i,r,u,h,o).recognize().pipe(cn(g=>null===g?function LB(n){return new Zn.y(t=>t.error(n))}(new NB):Ke(g)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,qe.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ui.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(U,S)}this.browserUrlTree=S.urlAfterRedirects}const N=new NV(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(N)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:U,source:j,restoredState:K,extras:ae}=h,Ze=new pT(N,this.serializeUrl(U),j,K);i.next(Ze);const ot=gO(U,this.rootComponentType).snapshot;return Ke(r={...h,targetSnapshot:ot,urlAfterRedirects:U,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Kr.E}),(0,ui.b)(h=>{const g=new LV(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,qe.U)(h=>r={...h,guards:oB(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function _B(n,t){return(0,Pr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Ke({...e,guardsResult:!0}):function yB(n,t,e,i){return(0,dn.D)(n).pipe((0,Pr.z)(r=>function DB(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ke(o.map(h=>{const g=G0(t)??r,v=v_(h,g);return kd(function pB(n){return n&&Y0(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):g.runInContext(()=>v(n,t,e,i))).pipe(hs())})).pipe(b_()):Ke(!0)}(r.component,r.route,e,t,i)),hs(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Pr.z)(h=>h&&function uB(n){return"boolean"==typeof n}(h)?function vB(n,t,e,i){return(0,dn.D)(t).pipe(xd(r=>Nu(function wB(n,t){return null!==n&&t&&t(new $V(n)),Ke(!0)}(r.route.parent,i),function bB(n,t){return null!==n&&t&&t(new GV(n)),Ke(!0)}(r.route,i),function EB(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function aB(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Td(()=>Ke(u.guards.map(g=>{const v=G0(u.node)??e,D=v_(g,v);return kd(function fB(n){return n&&Y0(n.canActivateChild)}(D)?D.canActivateChild(i,n):v.runInContext(()=>D(i,n))).pipe(hs())})).pipe(b_())));return Ke(o).pipe(b_())}(n,r.path,e),function CB(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(o=>Td(()=>{const u=G0(t)??e,h=v_(o,u);return kd(function hB(n){return n&&Y0(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(hs())}));return Ke(r).pipe(b_())}(n,r.route,e))),hs(r=>!0!==r,!0))}(i,o,n,t):Ke(h)),(0,qe.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ui.b)(h=>{if(r.guardsResult=h.guardsResult,ap(h.guardsResult))throw bO(0,h.guardsResult);const g=new VV(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),nn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),AT(h=>{if(h.guards.canActivateChecks.length)return Ke(h).pipe((0,ui.b)(g=>{const v=new BV(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),cn(g=>{let v=!1;return Ke(g).pipe(function GB(n,t){return(0,Pr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let o=0;return(0,dn.D)(r).pipe(xd(u=>function WB(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!BO(r)&&(o[L0]=r.title),function qB(n,t,e,i){const r=function YB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const o={};return(0,dn.D)(r).pipe((0,Pr.z)(u=>function ZB(n,t,e,i){const r=G0(t)??i,o=v_(n,r);return kd(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(hs(),(0,ui.b)(h=>{o[u]=h}))),oT(1),WR(o),Ha(u=>DT(u)?Kr.E:rp(u)))}(o,n,t,i).pipe((0,qe.U)(u=>(n._resolvedData=u,n.data=_O(n,e).resolve,r&&BO(r)&&(n.data[L0]=r.title),null)))}(u.route,i,n,t)),(0,ui.b)(()=>o++),oT(1),(0,Pr.z)(u=>o===r.length?Ke(e):Kr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ui.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,ui.b)(g=>{const v=new UV(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),AT(h=>{const g=v=>{const D=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ui.b)(S=>{v.component=S}),(0,qe.U)(()=>{})));for(const S of v.children)D.push(...g(S));return D};return iT(g(h.targetSnapshot.root)).pipe(el(),pn(1))}),AT(()=>this.afterPreactivation()),(0,qe.U)(h=>{const g=function ZV(n,t,e){const i=$0(n,t._root,e?e._root:void 0);return new mO(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,ui.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,qe.U)(i=>(new sB(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ui.b)({next(){o=!0},complete(){o=!0}}),eI(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ha(h=>{if(u=!0,EO(h)){CO(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new aI(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),CO(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zO(r.source)};this.scheduleNavigation(v,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new dO(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return Kr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ET),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,v=r||this.routerState.root,D=g?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...o};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=o||null}return null!==S&&(S=this.removeEmptyProps(S)),xV(v,this.currentUrlTree,e,S,D??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ap(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function l2(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...s2}:!1===i?{...o2}:i,ap(e))return QR(this.currentUrlTree,e,r);const o=this.parseUrl(e);return QR(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new lp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,g,v;u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((N,U)=>{h=N,g=U});const D=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:D,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(N=>Promise.reject(N))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new aI(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return $O()},providedIn:"root"}),n})();function zO(n){return"imperative"!==n}let bI=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ct.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qi),l.Y36(cp),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),w_=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ct.x,this.subscription=e.events.subscribe(o=>{o instanceof lp&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){return!!(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qi),l.Y36(cp),l.Y36(be))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),GO=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof lp&&this.update()})}ngAfterContentInit(){Ke(this.links.changes,this.linksWithHrefs.changes,Ke(null)).pipe((0,kh.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,dn.D)(e).pipe((0,kh.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function c2(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(bI,8),l.Y36(w_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,bI,5),l.Suo(r,w_,5)),2&e){let o;l.iGM(o=l.CRH())&&(i.links=o),l.iGM(o=l.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class WO{}let u2=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof lp),xd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,dn.D)(r).pipe((0,kh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ke(null);const o=r.pipe((0,Pr.z)(u=>null===u?Ke(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,dn.D)([o,u]).pipe((0,kh.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(WO),l.LFG(TT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xT=new l.OlP("");let qO=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof lp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new fO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function C_(n,t){return{\u0275kind:n,\u0275providers:t}}function kT(n){return[{provide:MT,multi:!0,useValue:n}]}function ZO(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(qi),r=n.get(KO);1===n.get(RT)&&i.initialNavigation(),n.get(QO,null,l.XFs.Optional)?.setUpPreloading(),n.get(xT,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const KO=new l.OlP("",{factory:()=>new ct.x}),RT=new l.OlP("",{providedIn:"root",factory:()=>1});const QO=new l.OlP("");function p2(n){return C_(0,[{provide:QO,useExisting:u2},{provide:WO,useExisting:n}])}const XO=new l.OlP("ROUTER_FORROOT_GUARD"),m2=[Fe,{provide:tO,useClass:lT},{provide:qi,useFactory:$O},z0,{provide:cp,useFactory:function YO(n){return n.routerState.root},deps:[qi]},TT];function g2(){return new l.PXZ("Router",qi)}let _2=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[m2,[],kT(e),{provide:XO,useFactory:w2,deps:[[qi,new l.FiY,new l.tp0]]},{provide:yI,useValue:i||{}},i?.useHash?{provide:be,useClass:Qe}:{provide:be,useClass:lt},{provide:xT,useFactory:()=>{const n=(0,l.f3M)(qi),t=(0,l.f3M)(pu),e=(0,l.f3M)(yI);return e.scrollOffset&&t.setOffset(e.scrollOffset),new qO(n,t,e)}},i?.preloadingStrategy?p2(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:g2},i?.initialNavigation?C2(i):[],[{provide:JO,useFactory:ZO},{provide:l.tb,multi:!0,useExisting:JO}]]}}static forChild(e){return{ngModule:n,providers:[kT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(XO,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[uI]}),n})();function w2(n){return"guarded"}function C2(n){return["disabled"===n.initialNavigation?C_(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(qi);return()=>{t.setUpLocationChangeListener()}}},{provide:RT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?C_(2,[{provide:RT,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const u=t.get(qi),h=t.get(KO);(function r(o){t.get(qi).events.pipe(nn(h=>h instanceof lp||h instanceof aI||h instanceof dO),(0,qe.U)(h=>h instanceof lp||h instanceof aI&&(0===h.code||1===h.code)&&null),nn(h=>null!==h),pn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),u.afterPreactivation=()=>(o(!0),i||h.closed?Ke(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const JO=new l.OlP("");let Pl=(()=>{class n{constructor(e,i,r){this.angularFireAuth=e,this.userApiService=i,this.router=r,this.userSubject=new Ci(null),this.user$=this.userSubject.asObservable(),this.userId$=this.user$.pipe((0,qe.U)(o=>o?.uid),ds()),this.isAdmin$=this.user$.pipe((0,qe.U)(o=>!!o?.isAdmin),ds()),this.isAuthorized$=this.user$.pipe((0,qe.U)(o=>!!o?.isAuthorized),ds()),this.isAuthenticated$=this.user$.pipe((0,qe.U)(o=>!!o),ds()),this.angularFireAuth.authState.pipe(nn(o=>!!o)).subscribe(o=>this.retrieveUserInfo(o))}login(){this.angularFireAuth.signInWithPopup(new Qa.Q).then(e=>{console.debug("[AuthService login",e.user)},e=>{this.resetUserInfo(),alert(e.message)})}logout(){this.angularFireAuth.signOut().then(e=>{this.router.navigate(["login"]),this.resetUserInfo()})}setUserInfo(e){this.userSubject.next(e)}resetUserInfo(){this.userSubject.next(null)}retrieveUserInfo(e){if(!e?.uid)return void this.resetUserInfo();const{uid:i,email:r,displayName:o}=e,u={uid:i,email:r,displayName:o,isAdmin:!1,isAuthorized:!1};this.setUserInfo(u),this.userApiService.getByKey(e.uid).subscribe({next:h=>{console.debug("[AuthService retrieveUserInfo OK]",{...u,isAdmin:h?.isAdmin}),this.setUserInfo({...u,isAdmin:h?.isAdmin,isAuthorized:!!h}),this.router.navigate(["home"])},error:h=>{console.error("[AuthService retrieveUserInfo ERROR]",h)}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Th),l.LFG(tT),l.LFG(qi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var D2=O(1144);const I2=["addListener","removeListener"],S2=["addEventListener","removeEventListener"],A2=["on","off"];function iu(n,t,e,i){if((0,Qr.m)(e)&&(i=e,e=void 0),i)return iu(n,t,e).pipe(nT(i));const[r,o]=function x2(n){return(0,Qr.m)(n.addEventListener)&&(0,Qr.m)(n.removeEventListener)}(n)?S2.map(u=>h=>n[u](t,h,e)):function M2(n){return(0,Qr.m)(n.addListener)&&(0,Qr.m)(n.removeListener)}(n)?I2.map(e1(n,t)):function T2(n){return(0,Qr.m)(n.on)&&(0,Qr.m)(n.off)}(n)?A2.map(e1(n,t)):[];if(!r&&(0,D2.z)(n))return(0,Pr.z)(u=>iu(u,t,e))((0,xs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Zn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function e1(n,t){return e=>i=>n[e](t,i)}var OT=O(5032);const Rd=new Zn.y(OT.Z),R2={connector:()=>new ct.x};function t1(n,t=R2){const{connector:e}=t;return(0,ai.e)((i,r)=>{const o=e();(0,xs.Xf)(n(function k2(n){return new Zn.y(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function n1(n,t){return t?e=>Nu(t.pipe(pn(1),function F2(){return(0,ai.e)((n,t)=>{n.subscribe((0,zn.x)(t,OT.Z))})}()),e.pipe(n1(n))):(0,Pr.z)((e,i)=>n(e,i).pipe(pn(1),WR(e)))}var N2=O(3532);function PT(n=0,t,e=xh.P){let i=-1;return null!=t&&((0,N2.K)(t)?e=t:i=t),new Zn.y(r=>{let o=function L2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function EI(n,t=xh.z){const e=PT(n,t);return n1(()=>e)}const K0="Service workers are disabled or not supported by this browser";class DI{constructor(t){if(this.serviceWorker=t,t){const i=iu(t,"controllerchange").pipe((0,qe.U)(()=>t.controller)),o=Nu(Td(()=>Ke(t.controller)),i);this.worker=o.pipe(nn(D=>!!D)),this.registration=this.worker.pipe(cn(()=>t.getRegistration()));const v=iu(t,"message").pipe((0,qe.U)(D=>D.data)).pipe(nn(D=>D&&D.type)).pipe(function P2(n){return n?t=>t1(n)(t):t=>function O2(n,t){const e=(0,Qr.m)(n)?n:()=>n;return(0,Qr.m)(t)?t1(t,{connector:e}):i=>new sT(i,e)}(new ct.x)(t)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function V2(n){return Td(()=>rp(new Error(n)))}(K0)}postMessage(t,e){return this.worker.pipe(pn(1),(0,ui.b)(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(nn(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(pn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(nn(e=>e.nonce===t),pn(1),(0,qe.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let B2=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new ct.x,!e.isEnabled)return this.messages=Rd,this.notificationClicks=Rd,void(this.subscription=Rd);this.messages=this.sw.eventsOfType("PUSH").pipe((0,qe.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,qe.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,qe.U)(r=>r.pushManager));const i=this.pushManager.pipe(cn(r=>r.getSubscription()));this.subscription=(0,dr.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(K0));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return i.applicationServerKey=o,this.pushManager.pipe(cn(u=>u.subscribe(i)),pn(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(pn(1),cn(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(K0))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(DI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),r1=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Rd,this.available=Rd,this.activated=Rd,void(this.unrecoverable=Rd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(nn(i=>"VERSION_READY"===i.type),(0,qe.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(K0));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(K0));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(DI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class FT{}const s1=new l.OlP("NGSW_REGISTER_SCRIPT");function U2(n,t,e,i){return()=>{if(!Ri(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[u,...h]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(u){case"registerImmediately":r=Ke(null);break;case"registerWithDelay":r=o1(+h[0]||0);break;case"registerWhenStable":r=h[0]?(0,dr.T)(a1(n),o1(+h[0])):a1(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>r.pipe(pn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(u=>console.error("Service worker registration failed with:",u))))}}function o1(n){return Ke(null).pipe(EI(n))}function a1(n){return n.get(l.z2F).isStable.pipe(nn(e=>e))}function H2(n,t){return new DI(Ri(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let NT,j2=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:s1,useValue:e},{provide:FT,useValue:i},{provide:DI,useFactory:H2,deps:[FT,l.Lbi]},{provide:l.ip1,useFactory:U2,deps:[l.zs3,s1,FT,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[B2,r1]}),n})(),l1=(()=>{class n{constructor(e){this.swUpdate=e}init(){this.swUpdate.versionUpdates.pipe(nn(e=>"VERSION_READY"===e.type)).subscribe(e=>{console.debug({versionCheck:e}),confirm("A new version is available, do you want to install it?")&&document.location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(r1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),c1=(()=>{class n{constructor(){this.isLoadingSubject=new Ci(!1),this.isLoading$=this.isLoadingSubject.asObservable()}start(){this.isLoadingSubject.next(!0)}stop(){this.isLoadingSubject.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{NT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NT=!1}let E_,Fr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ri(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d1(){if(E_)return E_;if("object"!=typeof document||!document)return E_=new Set(u1),E_;let n=document.createElement("input");return E_=new Set(u1.filter(t=>(n.setAttribute("type",t),n.type===t))),E_}let Q0,up,LT;function X0(n){return function $2(){if(null==Q0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Q0=!0}))}finally{Q0=Q0||!1}return Q0}()?n:!!n.capture}function z2(){if(null==up){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return up=!1,up;if("scrollBehavior"in document.documentElement.style)up=!0;else{const n=Element.prototype.scrollTo;up=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return up}function h1(n){if(function G2(){if(null==LT){const n=typeof document<"u"?document.head:null;LT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return LT}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function VT(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Od(n){return n.composedPath?n.composedPath()[0]:n.target}function BT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fo(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function p1(n){return nn((t,e)=>n<=e)}function ii(n){return(0,ai.e)((t,e)=>{(0,xs.Xf)(n).subscribe((0,zn.x)(e,()=>e.complete(),OT.Z)),!e.closed&&t.subscribe(e)})}function di(n){return null!=n&&"false"!=`${n}`}function S_(n,t=0){return function nU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function MI(n){return Array.isArray(n)?n:[n]}function br(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ru(n){return n instanceof l.SBq?n.nativeElement:n}let m1=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=ru(e);return new Zn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ct.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(m1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=S_(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(N0(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iU),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[m1]}),n})();const _1=new Set;let A_,sU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function oU(n){if(!_1.has(n))try{A_||(A_=document.createElement("style"),A_.setAttribute("type","text/css"),document.head.appendChild(A_)),A_.sheet&&(A_.sheet.insertRule(`@media ${n} {body{ }}`,0),_1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let HT=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ct.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return y1(MI(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=iT(y1(MI(e)).map(u=>this._registerQuery(u).observable));return o=Nu(o.pipe(pn(1)),o.pipe(p1(1),N0(0))),o.pipe((0,qe.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{h.matches=h.matches||g,h.breakpoints[v]=g}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Zn.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(_i(i),(0,qe.U)(({matches:u})=>({query:e,matches:u})),ii(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(sU),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class w1{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ct.x,this._typeaheadSubscription=vr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ct.x,this.change=new ct.x,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ui.b)(e=>this._pressedLetters.push(e)),N0(t),nn(()=>this._pressedLetters.length>0),(0,qe.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||fo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class dU extends w1{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class C1 extends w1{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let TI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function fU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function hU(n){try{return n.frameElement}catch{return null}}(function wU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===D1(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=D1(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vU(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function bU(n){return!function mU(n){return function _U(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function pU(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gU(n){return function yU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||E1(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function D1(n){if(!E1(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class CU{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(pn(1)).subscribe(t)}}let jT=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new CU(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(TI),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $T(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function zT(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const EU=new l.OlP("cdk-input-modality-detector-options"),DU={ignoreKeys:[18,17,224,91,16]},M_=X0({passive:!0,capture:!0});let IU=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Ci(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Od(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next($T(u)?"keyboard":"mouse"),this._mostRecentTarget=Od(u))},this._onTouchstart=u=>{zT(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Od(u))},this._options={...DU,...o},this.modalityDetected=this._modality.pipe(p1(1)),this.modalityChanged=this.modalityDetected.pipe(ds()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,M_),r.addEventListener("mousedown",this._onMousedown,M_),r.addEventListener("touchstart",this._onTouchstart,M_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,M_),document.removeEventListener("mousedown",this._onMousedown,M_),document.removeEventListener("touchstart",this._onTouchstart,M_))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr),l.LFG(l.R0b),l.LFG(ne),l.LFG(EU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SU=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function AU(){return null}}),MU=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let GT=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(SU,8),l.LFG(l.R0b),l.LFG(ne),l.LFG(MU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TU=new l.OlP("cdk-focus-monitor-default-options"),xI=X0({passive:!0,capture:!0});let fp=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ct.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Od(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=ru(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const o=h1(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new ct.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=ru(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=ru(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Od(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ii(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Fr),l.LFG(IU),l.LFG(ne,8),l.LFG(TU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S1="cdk-high-contrast-black-on-white",A1="cdk-high-contrast-white-on-black",WT="cdk-high-contrast-active";let M1=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(HT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(WT,S1,A1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(WT,S1):2===i&&e.add(WT,A1)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T1=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(M1))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[g1]}),n})();const xU=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function kU(){return(0,l.f3M)(ne)}}),RU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function OU(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?RU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function PU(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=l.oxw();l.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function FU(n,t){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const NU=["*"],VU=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function LU(){return!0}});let Pn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!BT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(M1),l.LFG(VU,8),l.LFG(ne))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ew,ew]}),n})();function qT(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=di(t)}}}function tw(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function nw(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=di(t)}}}function BU(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?S_(e):this.defaultTabIndex}}}function R1(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const UU=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function HU(){return(0,l.f3M)(l.soG)}});class Fl{constructor(){this._localeChanges=new ct.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const YT=new l.OlP("mat-date-formats"),jU=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ZT(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let $U=(()=>{class n extends Fl{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return ZT(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ZT(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return ZT(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(jU.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(UU,8),l.LFG(Fr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zU={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Fl,useClass:$U}]}),n})(),O1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:YT,useValue:zU}],imports:[GU]}),n})(),KT=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();class YU{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const F1={enterDuration:225,exitDuration:150},QT=X0({passive:!0}),N1=["mousedown","touchstart"],L1=["mouseup","mouseleave","touchend","touchcancel"];class KU{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ru(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...F1,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function QU(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,g=e-r.top,v=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=g-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D);const S=window.getComputedStyle(D),U=S.transitionDuration,j="none"===S.transitionProperty||"0s"===U||"0s, 0s"===U,K=new YU(this,D,i,j);D.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let ae=null;return!j&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ze=()=>this._finishRippleTransition(K),ot=()=>this._destroyRipple(K);D.addEventListener("transitionend",Ze),D.addEventListener("transitioncancel",ot),ae={onTransitionEnd:Ze,onTransitionCancel:ot}}),this._activeRipples.set(K,ae),(j||!v)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...F1,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ru(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(N1))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(L1),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=$T(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!zT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,QT)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(N1.forEach(t=>{this._triggerElement.removeEventListener(t,this,QT)}),this._pointerUpEventsRegistered&&L1.forEach(t=>{this._triggerElement.removeEventListener(t,this,QT)}))}}const XU=new l.OlP("mat-ripple-global-options");let rw=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new KU(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Fr),l.Y36(XU,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),kI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})(),V1=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),XT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn]}),n})();const B1=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),U1=new l.OlP("MatOptgroup");let JU=0;class H1{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let eH=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+JU++,this.onSelectionChange=new l.vpe,this._stateChanges=new ct.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=di(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!fo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new H1(this,e))}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),j1=(()=>{class n extends eH{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(B1,8),l.Y36(U1,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:NU,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,PU,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,FU,2,1,"span",2),l._UZ(4,"div",3)),2&e&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[rw,En,V1],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function JT(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let RI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kI,Ji,Pn,XT]}),n})();const tH=["mat-button",""],nH=["*"],rH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sH=tw(qT(nw(class{constructor(n){this._elementRef=n}})));let Fd=(()=>{class n extends sH{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of rH)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(fp),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(rw,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:tH,ngContentSelectors:nH,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[rw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kI,Pn,Pn]}),n})(),oH=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=di(e)}get inset(){return this._inset}set inset(e){this._inset=di(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),ex=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();function z1(...n){const t=(0,ga.jO)(n),{args:e,keys:i}=HR(n),r=new Zn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,v=u;for(let D=0;D<u;D++){let S=!1;(0,xs.Xf)(e[D]).subscribe((0,zn.x)(o,N=>{S||(S=!0,v--),h[D]=N},()=>g--,void 0,()=>{(!g||!S)&&(v||o.next(i?jR(i,h):h),o.complete())}))}});return t?r.pipe(nT(t)):r}class aH{}class Nd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Nd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Nd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Nd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class lH{encodeKey(t){return G1(t)}encodeValue(t){return G1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const uH=/%(\d[a-f0-9])/gi,dH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G1(n){return encodeURIComponent(n).replace(uH,(t,e)=>dH[e]??t)}function PI(n){return`${n}`}class Ld{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cH(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(PI):[PI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ld({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(PI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(PI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hH{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function W1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q1(n){return typeof Blob<"u"&&n instanceof Blob}function Y1(n){return typeof FormData<"u"&&n instanceof FormData}class sw{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function fH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Nd),this.context||(this.context=new hH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Ld,this.urlWithParams=e}serializeBody(){return null===this.body?null:W1(this.body)||q1(this.body)||Y1(this.body)||function pH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ld?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y1(this.body)?null:q1(this.body)?this.body.type||null:W1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ld?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,v=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((S,N)=>S.set(N,t.setHeaders[N]),g)),t.setParams&&(v=Object.keys(t.setParams).reduce((S,N)=>S.set(N,t.setParams[N]),v)),new sw(e,i,o,{params:v,headers:g,context:D,reportProgress:h,responseType:r,withCredentials:u})}}var Wr=(()=>((Wr=Wr||{})[Wr.Sent=0]="Sent",Wr[Wr.UploadProgress=1]="UploadProgress",Wr[Wr.ResponseHeader=2]="ResponseHeader",Wr[Wr.DownloadProgress=3]="DownloadProgress",Wr[Wr.Response=4]="Response",Wr[Wr.User=5]="User",Wr))();class tx extends class mH{constructor(t,e=200,i="OK"){this.headers=t.headers||new Nd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Wr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new tx({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function nx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let K1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof sw)o=e;else{let g,v;g=r.headers instanceof Nd?r.headers:new Nd(r.headers),r.params&&(v=r.params instanceof Ld?r.params:new Ld({fromObject:r.params})),o=new sw(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ke(o).pipe(xd(g=>this.handler.handle(g)));if(e instanceof sw||"events"===r.observe)return u;const h=u.pipe(nn(g=>g instanceof tx));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,qe.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,qe.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,qe.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,qe.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ld).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,nx(r,i))}post(e,i,r={}){return this.request("POST",e,nx(r,i))}put(e,i,r={}){return this.request("PUT",e,nx(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _H=["*"];let FI;function ow(n){return function yH(){if(void 0===FI&&(FI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(FI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return FI}()?.createHTML(n)||n}function Q1(n){return Error(`Unable to find icon with the name "${n}"`)}function X1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function J1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let NI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new pp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw J1(r);const h=ow(u);return this._addSvgIconConfig(e,i,new pp("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new pp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw J1(i);const u=ow(o);return this._addSvgIconSetConfig(e,new pp("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw X1(e);const r=this._cachedIconsByUrl.get(i);return r?Ke(LI(r)):this._loadSvgIconFromConfig(new pp(e,null)).pipe((0,ui.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,qe.U)(o=>LI(o)))}getNamedSvgIcon(e,i=""){const r=eP(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):rp(Q1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ke(LI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,qe.U)(i=>LI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ke(r):z1(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ha(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Ke(null)})))).pipe((0,qe.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw Q1(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ui.b)(i=>e.svgText=i),(0,qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ke(null):this._fetchIcon(e).pipe((0,ui.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(ow("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ow("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function vH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw X1(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const g=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,qe.U)(v=>ow(v)),eI(()=>this._inProgressUrlFetches.delete(u)),(0,jp.B)());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(eP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return wH(o)?new pp(o.url,null,o.options):new pp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K1,8),l.LFG(Do),l.LFG(ne,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LI(n){return n.cloneNode(!0)}function eP(n,t){return n+":"+t}function wH(n){return!(!n.url||!n.options)}const CH=tw(class{constructor(n){this._elementRef=n}}),EH=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),DH=new l.OlP("mat-icon-location",{providedIn:"root",factory:function IH(){const n=(0,l.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),tP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],SH=tP.map(n=>`[${n}]`).join(", "),AH=/^url\(['"]?#(.*?)['"]?\)$/;let VI=(()=>{class n extends CH{constructor(e,i,r,o,u,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=vr.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=di(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(SH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)tP.forEach(u=>{const h=i[o],g=h.getAttribute(u),v=g?g.match(AH):null;if(v){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(pn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(NI),l.$8M("aria-hidden"),l.Y36(DH),l.Y36(l.qLn),l.Y36(EH,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:_H,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();var iP=O(4408);let ix,MH=1;const BI={};function rP(n){return n in BI&&(delete BI[n],!0)}const TH={setImmediate(n){const t=MH++;return BI[t]=!0,ix||(ix=Promise.resolve()),ix.then(()=>rP(t)&&n()),t},clearImmediate(n){rP(n)}},{setImmediate:xH,clearImmediate:kH}=TH,UI={setImmediate(...n){const{delegate:t}=UI;return(t?.setImmediate||xH)(...n)},clearImmediate(n){const{delegate:t}=UI;return(t?.clearImmediate||kH)(n)},delegate:void 0};var sP=O(7565);const rx=new class OH extends sP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RH extends iP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=UI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(UI.clearImmediate(e),t._scheduled=void 0)}});class oP{}const su="*";function ou(n,t){return{type:7,name:n,definitions:t,options:{}}}function js(n,t=null){return{type:4,styles:t,timings:n}}function aP(n,t=null){return{type:3,steps:n,options:t}}function lP(n,t=null){return{type:2,steps:n,options:t}}function hi(n){return{type:6,styles:n,offset:null}}function Qo(n,t,e){return{type:0,name:n,styles:t,options:e}}function ys(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sx(n=null){return{type:9,options:n}}function ox(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function uP(n){Promise.resolve().then(n)}class aw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?uP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class lw extends lx{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class T_ extends lx{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class FH extends lx{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class HI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof lw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T_?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof FH?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class NH extends HI{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let cw=(()=>{class n extends HI{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ne))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const uw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=uw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new vr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=uw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=uw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class VH extends sP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class LH extends iP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=uw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(uw.cancelAnimationFrame(e),t._scheduled=void 0)}});function hP(n,t=xh.z){return function UH(n){return(0,ai.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},g=()=>{o=null,u&&e.complete()};t.subscribe((0,zn.x)(e,v=>{i=!0,r=v,o||(0,xs.Xf)(n(v)).subscribe(o=(0,zn.x)(e,h,g))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>PT(n,t))}let jH=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ct.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Zn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(hP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=ru(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Fr),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ct.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(hP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr),l.LFG(l.R0b),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ew,k_,ew,k_]}),n})();const pP=z2();class zH{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=br(-this._previousScrollPosition.left),t.style.top=br(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),pP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pP&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class GH{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mP{enable(){}disable(){}attach(){}}function cx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function gP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class WH{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cx(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qH=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new mP,this.close=u=>new GH(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new zH(this._viewportRuler,this._document),this.reposition=u=>new WH(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(jH),l.LFG(dw),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R_{constructor(t){if(this.scrollStrategy=new mP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class YH{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _P=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZH=(()=>{class n extends _P{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KH=(()=>{class n extends _P{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Od(o)},this._clickListener=o=>{const u=Od(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const D=g[v];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const S=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Fr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||BT()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),BT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Fr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hw{constructor(t,e,i,r,o,u,h,g,v,D=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new ct.x,this._attachments=new ct.x,this._detachments=new ct.x,this._locationChanges=vr.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new ct.x,this._outsidePointerEvents=new ct.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=br(this._config.width),t.height=br(this._config.height),t.minWidth=br(this._config.minWidth),t.minHeight=br(this._config.minHeight),t.maxWidth=br(this._config.maxWidth),t.maxHeight=br(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=MI(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ii((0,dr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yP="cdk-overlay-connected-position-bounding-box",QH=/([A-Za-z%]+)$/;class XH{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ct.x,this._resizeSubscription=vr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(yP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(g,e,h),D=this._getOverlayFit(v,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(D,v,i)?o.push({position:h,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:v,originPoint:g,position:h,overlayRect:e})}if(o.length){let h=null,g=-1;for(const v of o){const D=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);D>g&&(g=D,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=bP(e);let{x:u,y:h}=t,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(h+=v);let N=0-h,U=h+o.height-i.height,j=this._subtractOverflows(o.width,0-u,u+o.width-i.width),K=this._subtractOverflows(o.height,N,U),ae=j*K;return{visibleArea:ae,isCompletelyWithinViewport:o.width*o.height===ae,fitsInViewportVertically:K===o.height,fitsInViewportHorizontally:j==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=vP(this._overlayRef.getConfig().minHeight),h=vP(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=bP(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let D=0,S=0;return D=r.width<=o.width?v||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,S=r.height<=o.height?g||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:D,y:S},{x:t.x+D,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new YH(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,D,S,N;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const U=Math.min(i.bottom-t.y+i.top,t.y),j=this._lastBoundingBoxSize.height;o=2*U,u=t.y-U,o>j&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-j/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)N=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,D=i.right-t.x;else{const U=Math.min(i.right-t.x+i.left,t.x),j=this._lastBoundingBoxSize.width;D=2*U,S=t.x-U,D>j&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-j/2)}return{top:u,left:S,bottom:h,right:N,width:D,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=br(i.height),r.top=br(i.top),r.bottom=br(i.bottom),r.width=br(i.width),r.left=br(i.left),r.right=br(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=br(o)),u&&(r.maxWidth=br(u))}this._lastBoundingBoxSize=i,mp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){mp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();mp(i,this._getExactOverlayY(e,t,D)),mp(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",g=this._getOffset(e,"x"),v=this._getOffset(e,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=br(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=br(u.maxWidth):o&&(i.maxWidth="")),mp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=br(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=br(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gP(t,i),isOriginOutsideView:cx(t,i),isOverlayClipped:gP(e,i),isOverlayOutsideView:cx(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&MI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function mp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function vP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(QH);return e&&"px"!==e?null:parseFloat(t)}return n||null}function bP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wP="cdk-global-overlay-wrapper";class JH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(wP),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),D=this._xPosition,S=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let U="",j="",K="";g?K="flex-start":"center"===D?(K="center",N?j=S:U=S):N?"left"===D||"end"===D?(K="flex-end",U=S):("right"===D||"start"===D)&&(K="flex-start",j=S):"left"===D||"start"===D?(K="flex-start",U=S):("right"===D||"end"===D)&&(K="flex-end",j=S),t.position=this._cssPosition,t.marginLeft=g?"0":U,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":j,e.justifyContent=K,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(wP),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ej=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new JH}flexibleConnectedTo(e){return new XH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dw),l.LFG(ne),l.LFG(Fr),l.LFG(jI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tj=0,vs=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D,S,N,U){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=v,this._directionality=D,this._location=S,this._outsideClickDispatcher=N,this._animationsModuleType=U}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new R_(e);return u.direction=u.direction||this._directionality.value,new hw(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+tj++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new NH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qH),l.LFG(jI),l.LFG(l._Vd),l.LFG(ej),l.LFG(ZH),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ne),l.LFG(Pd),l.LFG(Fe),l.LFG(KH),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],CP=new l.OlP("cdk-connected-overlay-scroll-strategy");let EP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),DP=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=vr.w0.EMPTY,this._attachSubscription=vr.w0.EMPTY,this._detachSubscription=vr.w0.EMPTY,this._positionSubscription=vr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new T_(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=di(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=di(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=di(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=di(e)}get push(){return this._push}set push(e){this._push=di(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=nj);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!fo(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new R_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof EP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(GR(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vs),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(CP),l.Y36(Pd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const rj={provide:CP,deps:[vs],useFactory:function ij(n){return()=>n.scrollStrategies.reposition()}};let gp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vs,rj],imports:[ew,x_,fP,fP]}),n})();const sj=["mat-menu-item",""];function oj(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const IP=["*"];function aj(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._handleKeydown(r))})("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),l.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const $I={transformMenu:ou("transformMenu",[Qo("void",hi({opacity:0,transform:"scale(0.8)"})),ys("void => enter",js("120ms cubic-bezier(0, 0, 0.2, 1)",hi({opacity:1,transform:"scale(1)"}))),ys("* => void",js("100ms 25ms linear",hi({opacity:0})))]),fadeInItems:ou("fadeInItems",[Qo("showing",hi({opacity:1})),ys("void => *",[hi({opacity:0}),js("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},lj=new l.OlP("MatMenuContent"),ux=new l.OlP("MAT_MENU_PANEL"),cj=nw(qT(class{}));let zI=(()=>{class n extends cj{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new ct.x,this._focused=new ct.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ne),l.Y36(fp),l.Y36(ux,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&l.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:sj,ngContentSelectors:IP,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,oj,2,0,"svg",1)),2&e&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[En,rw],encapsulation:2,changeDetection:0}),n})();const SP=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function uj(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let dj=0,fw=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=vr.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ct.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+dj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=di(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=di(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new C1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(_i(this._directDescendantItems),cn(e=>(0,dr.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(_i(this._directDescendantItems),cn(i=>(0,dr.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:fo(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(_i(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(SP),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,lj,5),l.Suo(r,zI,5),l.Suo(r,zI,4)),2&e){let o;l.iGM(o=l.CRH())&&(i.lazyContent=o.first),l.iGM(o=l.CRH())&&(i._allItems=o),l.iGM(o=l.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&l.Gf(l.Rgc,5),2&e){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),hj=(()=>{class n extends fw{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(SP),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:ux,useExisting:n}]),l.qOj],ngContentSelectors:IP,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,aj,3,6,"ng-template"))},dependencies:[yn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[$I.transformMenu,$I.fadeInItems]},changeDetection:0}),n})();const AP=new l.OlP("mat-menu-scroll-strategy"),pj={provide:AP,deps:[vs],useFactory:function fj(n){return()=>n.scrollStrategies.reposition()}},MP=X0({passive:!0});let mj=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=g,this._focusMonitor=v,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=vr.w0.EMPTY,this._hoverSubscription=vr.w0.EMPTY,this._menuCloseSubscription=vr.w0.EMPTY,this._handleTouchStart=S=>{zT(S)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof fw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,MP),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,MP),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof fw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ii(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof fw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(nn(r=>"void"===r.toState),pn(1),ii(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new R_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,v]=[u,h],[D,S]=[r,o],N=0;if(this.triggersSubmenu()){if(S=r="before"===e.xPosition?"start":"end",o=D="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const U=this._parentMaterialMenu.items.first;this._parentInnerPadding=U?U._getHostElement().offsetTop:0}N="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===u?"bottom":"top",v="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:g,overlayX:D,overlayY:u,offsetY:N},{originX:o,originY:g,overlayX:S,overlayY:u,offsetY:N},{originX:r,originY:v,overlayX:D,overlayY:h,offsetY:-N},{originX:o,originY:v,overlayX:S,overlayY:h,offsetY:-N}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ke(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(nn(u=>u!==this._menuItemInstance),nn(()=>this._menuOpen)):Ke();return(0,dr.T)(e,r,o,i)}_handleMousedown(e){$T(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(nn(e=>e===this._menuItemInstance&&!e.disabled),EI(0,rx)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof fw&&this.menu._isAnimating?this.menu._animationDone.pipe(pn(1),EI(0,rx),ii(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new T_(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vs),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(AP),l.Y36(ux,8),l.Y36(zI,10),l.Y36(Pd,8),l.Y36(fp),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),gj=(()=>{class n extends mj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),TP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pj],imports:[Ji,Pn,kI,gp,k_,Pn]}),n})();const _j=["*",[["mat-toolbar-row"]]],yj=["*","mat-toolbar-row"],vj=tw(class{constructor(n){this._elementRef=n}});let bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),wj=(()=>{class n extends vj{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Fr),l.Y36(ne))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,bj,5),2&e){let o;l.iGM(o=l.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:yj,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(_j),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})(),dx=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=o,this.authService.isAdmin$.subscribe(u=>{u?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl),l.Y36(l.SBq),l.Y36(l.Rgc),l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","obAdminOnly",""]]}),n})(),kP=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=o,this.authService.isAuthorized$.subscribe(u=>{u?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl),l.Y36(l.SBq),l.Y36(l.Rgc),l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","obAuthorizedOnly",""]]}),n})();function Cj(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.login())}),l._uU(1," Login "),l.qZA()}}function Ej(n,t){1&n&&(l.TgZ(0,"a",12),l._uU(1,"Home"),l.qZA())}function Dj(n,t){1&n&&(l.TgZ(0,"a",13),l._uU(1,"Badges"),l.qZA())}function Ij(n,t){1&n&&(l.TgZ(0,"a",14),l._uU(1,"Users"),l.qZA())}function Sj(n,t){if(1&n){const e=l.EpF();l.ynx(0)(1),l.YNc(2,Ej,2,0,"a",9),l.YNc(3,Dj,2,0,"a",10),l.YNc(4,Ij,2,0,"a",11),l._UZ(5,"mat-divider"),l.BQk(),l.TgZ(6,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.logout())}),l._uU(7," Logout "),l.TgZ(8,"em"),l._uU(9),l.ALo(10,"async"),l.qZA()(),l.BQk()}if(2&n){const e=l.oxw();l.xp6(9),l.Oqu(l.lcZ(10,1,e.username$))}}let RP=(()=>{class n{constructor(e){this.authService=e,this.version=Er_appVersion,this.isAuthenticated$=this.authService.isAuthenticated$,this.username$=this.authService.user$.pipe((0,qe.U)(i=>i?.email))}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-toolbar"]],decls:19,vars:8,consts:[["color","primary"],["mat-button","","routerLink","/"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLinkActive","active","routerLink","/home",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/users",4,"obAdminOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/home"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges"],["mat-menu-item","","routerLinkActive","active","routerLink","/users"]],template:function(e,i){if(1&e&&(l.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),l._uU(3,"apartment"),l.qZA(),l.TgZ(4,"span"),l._uU(5,"Office Buddy "),l.TgZ(6,"small")(7,"em"),l._uU(8),l.qZA()()()(),l._UZ(9,"span",2),l.TgZ(10,"button",3)(11,"mat-icon"),l._uU(12,"menu"),l.qZA()(),l.TgZ(13,"mat-menu",4,5),l.YNc(15,Cj,2,0,"button",6),l.ALo(16,"async"),l.YNc(17,Sj,11,3,"ng-container",7),l.ALo(18,"async"),l.qZA()()),2&e){const r=l.MAs(14);l.xp6(8),l.hij("v",i.version||"0",""),l.xp6(2),l.Q6J("matMenuTriggerFor",r),l.xp6(5),l.Q6J("ngIf",!l.lcZ(16,4,i.isAuthenticated$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(18,6,i.isAuthenticated$))}},dependencies:[En,Fd,oH,VI,hj,zI,gj,wj,w_,bI,GO,dx,kP,Gs],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-menu-item.active[_ngcontent-%COMP%]{background-color:#efefef}"]}),n})();function Aj(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}function Mj(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}const xj=tw(class{constructor(n){this._elementRef=n}},"primary"),kj=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Rj(){return{diameter:100}}});class au extends xj{constructor(t,e,i,r,o,u,h,g){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=vr.w0.EMPTY,this.mode="determinate";const v=au._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&g&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=S_(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=S_(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,S_(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=h1(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=au._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}au._diameters=new WeakMap,au.\u0275fac=function(t){return new(t||au)(l.Y36(l.SBq),l.Y36(Fr),l.Y36(ne,8),l.Y36(l.QbO,8),l.Y36(kj),l.Y36(l.sBO),l.Y36(dw),l.Y36(l.R0b))},au.\u0275cmp=l.Xpm({type:au,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,Aj,1,11,"circle",2),l.YNc(3,Mj,1,9,"circle",3),l.qZA()),2&t&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[Vr,ss],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Ji,Pn]}),n})(),GI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-spinner"]],decls:2,vars:1,consts:[[1,"spinner-container"],["mode","indeterminate",3,"diameter"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"mat-progress-spinner",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("diameter",50))},dependencies:[au],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();function Pj(n,t){1&n&&(l.TgZ(0,"div",3),l._UZ(1,"ob-spinner"),l.qZA())}let Fj=(()=>{class n{constructor(e,i,r){this.authService=e,this.appCheckUpdateService=i,this.appLoaderService=r,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$,this.isAppLoading$=this.appLoaderService.isLoading$}ngOnInit(){this.appCheckUpdateService.init()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl),l.Y36(l1),l.Y36(c1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-root"]],decls:5,vars:3,consts:[["id","app-toolbar"],["id","app-content"],["id","app-loader",4,"ngIf"],["id","app-loader"]],template:function(e,i){1&e&&(l._UZ(0,"ob-toolbar",0),l.TgZ(1,"div",1),l._UZ(2,"router-outlet"),l.qZA(),l.YNc(3,Pj,2,0,"div",2),l.ALo(4,"async")),2&e&&(l.xp6(3),l.Q6J("ngIf",l.lcZ(4,1,i.isAppLoading$)))},dependencies:[En,RP,GI,wT,Gs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}#app-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px 20px 100px;overflow:auto}#app-loader[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;background-color:#0006}"]}),n})();var fx=O(655),px=O(7982);function Lj(n){return new Zn.y(function(t){return{unsubscribe:(0,Qa.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class WI{constructor(t){return t}}class FP{constructor(){return(0,Ht.vb)("auth")}}const jj=(0,Ht.u3)(Lj,!0);class pw{constructor(t){return t}}const LP=Ht.nk.async,zj=(0,Ht.u3)(px.Kz,!0),Gj=(0,Ht.u3)(px.Iv,!0);let VP=(()=>{class n{constructor(e,i,r){let o;this.disposables=[],(0,Hn.KN)("angularfire",Ht.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(u=>{o=u})),LP().then(()=>{const u=r.get(pw);u?this.disposables=[jj(e).subscribe(h=>{Gj(u,h?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(WI),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const BP="firebase_screen_id",gx="outlet",mw="screen_class",UP="screen_name";let i$=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const _x={},r$=n=>{const t=[n[mw],n[gx]].join("#");if(_x.hasOwnProperty(t))return _x[t];{const e=i$++;return _x[t]=e,e}},HP=(n,t,e)=>n.events.pipe(nn(r=>r instanceof hO)).pipe(cn(r=>{var o;const h=(null===(o=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,U=>U.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===o?void 0:o.toString())||"",g=n.routerState.root.children.map(U=>U).find(U=>U.outlet===r.snapshot.outlet);if(!g)return Ke(null);let v=g;for(;v.firstChild;)v=v.firstChild;const D=v.pathFromRoot.map(U=>{var j;return null===(j=U.routeConfig)||void 0===j?void 0:j.path}).filter(U=>U).join("/")||"/",S={[UP]:D,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:D,[gx]:r.snapshot.outlet};t&&(S.page_title=t.getTitle());let N=g.component;if(N){if(N===uI){let U=r.snapshot;for(;U.firstChild;)U=U.firstChild;N=U.component}}else N=r.snapshot.component;if("string"==typeof N)return Ke(Object.assign(Object.assign({},S),{[mw]:N}));if(N){const U=e.resolveComponentFactory(N);return Ke(Object.assign(Object.assign({},S),{[mw]:U.selector}))}return Ke(null)}),nn(r=>!!r),(0,qe.U)(r=>Object.assign({firebase_screen_class:r[mw],[BP]:r$(r)},r)),function Nj(n,t,e,i){return(0,ai.e)((r,o)=>{let u;t&&"function"!=typeof t?({duration:e,element:u,connector:i}=t):u=t;const h=new Map,g=j=>{h.forEach(j),j(o)},v=j=>g(K=>K.error(j));let D=0,S=!1;const N=new zn.Q(o,j=>{try{const K=n(j);let ae=h.get(K);if(!ae){h.set(K,ae=i?i():new ct.x);const Ze=function U(j,K){const ae=new Zn.y(Ze=>{D++;const ot=K.subscribe(Ze);return()=>{ot.unsubscribe(),0==--D&&S&&N.unsubscribe()}});return ae.key=j,ae}(K,ae);if(o.next(Ze),e){const ot=(0,zn.x)(ae,()=>{ae.complete(),ot?.unsubscribe()},void 0,void 0,()=>h.delete(K));N.add((0,xs.Xf)(e(Ze)).subscribe(ot))}}ae.next(u?u(j):j)}catch(K){v(K)}},()=>g(j=>j.complete()),v,()=>h.clear(),()=>(S=!0,0===D));r.subscribe(N)})}(r=>r[gx]),(0,Pr.z)(r=>r.pipe(ds((o,u)=>JSON.stringify(o)===JSON.stringify(u)),_i(void 0),sl(),(0,qe.U)(([o,u])=>o?Object.assign({firebase_previous_class:o[mw],firebase_previous_screen:o[UP],firebase_previous_id:o[BP]},u):u))));let s$=(()=>{class n{constructor(e,i,r,o,u,h){(0,Hn.KN)("angularfire",Ht.q4.full,"screen-tracking"),LP().then(()=>{const g=h.get(pw);!e||!g||o.runOutsideAngular(()=>{this.disposable=HP(e,i,r).pipe(cn(v=>(0,fx.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),zj(g,"screen_view",v)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qi,8),l.LFG(Ms,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(VP,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function jP(n){return new l.vHH(3e3,!1)}function $$(){return typeof window<"u"&&typeof window.document<"u"}function vx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vd(n){switch(n.length){case 0:return new aw;case 1:return n[0];default:return new dP(n)}}function $P(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let g=-1,v=null;if(i.forEach(D=>{const S=D.get("offset"),N=S==g,U=N&&v||new Map;D.forEach((j,K)=>{let ae=K,Ze=j;if("offset"!==K)switch(ae=t.normalizePropertyName(ae,u),Ze){case"!":Ze=r.get(K);break;case su:Ze=o.get(K);break;default:Ze=t.normalizeStyleValue(K,ae,Ze,u)}U.set(ae,Ze)}),N||h.push(U),v=U,g=S}),u.length)throw function k$(n){return new l.vHH(3502,!1)}();return h}function bx(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wx(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wx(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wx(e,"destroy",n)))}}function wx(n,t,e){const o=Cx(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Cx(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function po(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function zP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Ex=(n,t)=>!1,GP=(n,t,e)=>[],WP=null;function Dx(n){const t=n.parentNode||n.host;return t===WP?null:t}(vx()||typeof Element<"u")&&($$()?(WP=(()=>document.documentElement)(),Ex=(n,t)=>{for(;t;){if(t===n)return!0;t=Dx(t)}return!1}):Ex=(n,t)=>n.contains(t),GP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let _p=null,qP=!1;const YP=Ex,ZP=GP;let KP=(()=>{class n{validateStyleProperty(e){return function G$(n){_p||(_p=function W$(){return typeof document<"u"?document.body:null}()||{},qP=!!_p.style&&"WebkitAppearance"in _p.style);let t=!0;return _p.style&&!function z$(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _p.style,!t&&qP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _p.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return YP(e,i)}getParentElement(e){return Dx(e)}query(e,i,r){return ZP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],g){return new aw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ix=(()=>{class n{}return n.NOOP=new KP,n})();const Sx="ng-enter",qI="ng-leave",YI="ng-trigger",ZI=".ng-trigger",XP="ng-animating",Ax=".ng-animating";function lu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Mx(parseFloat(t[1]),t[2])}function Mx(n,t){return"s"===t?1e3*n:n}function KI(n,t,e){return n.hasOwnProperty("duration")?n:function Z$(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(jP()),{duration:0,delay:0,easing:""};r=Mx(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=Mx(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function c$(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function u$(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,jP())}return{duration:r,delay:o,easing:u}}(n,t,e)}function gw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function JP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Bd(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function tF(n,t,e){return e?t+":"+e+";":""}function nF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=tF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=tF(0,J$(e),n.style[e]));n.setAttribute("style",t)}function Nl(n,t,e){n.style&&(t.forEach((i,r)=>{const o=xx(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),vx()&&nF(n))}function yp(n,t){n.style&&(t.forEach((e,i)=>{const r=xx(i);n.style[r]=""}),vx()&&nF(n))}function _w(n){return Array.isArray(n)?1==n.length?n[0]:lP(n):n}const Tx=new RegExp("{{\\s*(.+?)\\s*}}","g");function iF(n){let t=[];if("string"==typeof n){let e;for(;e=Tx.exec(n);)t.push(e[1]);Tx.lastIndex=0}return t}function yw(n,t,e){const i=n.toString(),r=i.replace(Tx,(o,u)=>{let h=t[u];return null==h&&(e.push(function h$(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function QI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const X$=/-+([a-z0-9])/g;function xx(n){return n.replace(X$,(...t)=>t[1].toUpperCase())}function J$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function f$(n){return new l.vHH(3004,!1)}()}}function rF(n,t){return window.getComputedStyle(n)[t]}function o3(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function a3(n,t,e){if(":"==n[0]){const g=function l3(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function A$(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function S$(n){return new l.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(sF(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(sF(u,r))}(i,e,t)):e.push(n),e}const tS=new Set(["true","1"]),nS=new Set(["false","0"]);function sF(n,t){const e=tS.has(n)||nS.has(n),i=tS.has(t)||nS.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?tS.has(n):nS.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?tS.has(t):nS.has(t)),u&&h}}const c3=new RegExp("s*:selfs*,?","g");function kx(n,t,e,i){return new u3(n).build(t,e,i)}class u3{constructor(t){this._driver=t}build(t,e,i){const r=new f3(e);return this._resetContextStyleTimingState(r),mo(this,_w(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function m$(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(D=>{g.name=D,o.push(this.visitState(g,e))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function g$(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{iF(g).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(QI(o.values()),e.errors.push(function _$(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=mo(this,_w(t.animation),e);return{type:1,matchers:o3(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>mo(this,i,e)),options:vp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=mo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:vp(t.options)}}visitAnimate(t,e){const i=function m3(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Rx(KI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Rx(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=KI(e,t);return Rx(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:hi({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=hi(v)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===su?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(JP(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const v=e.collectedStyles.get(e.currentQuerySelector),D=v.get(g);let S=!0;D&&(o!=r&&o>=D.startTime&&r<=D.endTime&&(e.errors.push(function v$(n,t,e,i,r){return new l.vHH(3010,!1)}()),S=!1),o=D.startTime),S&&v.set(g,{startTime:o,endTime:r}),e.options&&function Q$(n,t,e){const i=t.params||{},r=iF(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function d$(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function b$(){return new l.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,g=!1,v=0;const D=t.steps.map(Ze=>{const ot=this._makeStyleAst(Ze,e);let Dt=null!=ot.offset?ot.offset:function p3(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ot.styles),Ct=0;return null!=Dt&&(o++,Ct=ot.offset=Dt),g=g||Ct<0||Ct>1,h=h||Ct<v,v=Ct,u.push(Ct),ot});g&&e.errors.push(function w$(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function C$(){return new l.vHH(3200,!1)}());const S=t.steps.length;let N=0;o>0&&o<S?e.errors.push(function E$(){return new l.vHH(3202,!1)}()):0==o&&(N=1/(S-1));const U=S-1,j=e.currentTime,K=e.currentAnimateTimings,ae=K.duration;return D.forEach((Ze,ot)=>{const Dt=N>0?ot==U?1:N*ot:u[ot],Ct=Dt*ae;e.currentTime=j+K.delay+Ct,K.duration=Ct,this._validateStyleAst(Ze,e),Ze.offset=Dt,i.styles.push(Ze)}),i}visitReference(t,e){return{type:8,animation:mo(this,_w(t.animation),e),options:vp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function d3(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(c3,"")),n=n.replace(/@\*/g,ZI).replace(/@\w+/g,e=>ZI+"-"+e.slice(1)).replace(/:animating/g,Ax),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,po(e.collectedStyles,e.currentQuerySelector,new Map);const h=mo(this,_w(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:vp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function D$(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:KI(t.timings,e.errors,!0);return{type:12,animation:mo(this,_w(t.animation),e),timings:i,options:null}}}class f3{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vp(n){return n?(n=gw(n)).params&&(n.params=function h3(n){return n?gw(n):null}(n.params)):n={},n}function Rx(n,t,e){return{duration:n,delay:t,easing:e}}function Ox(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class iS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const y3=new RegExp(":enter","g"),b3=new RegExp(":leave","g");function Px(n,t,e,i,r,o=new Map,u=new Map,h,g,v=[]){return(new w3).buildKeyframes(n,t,e,i,r,o,u,h,g,v)}class w3{buildKeyframes(t,e,i,r,o,u,h,g,v,D=[]){v=v||new iS;const S=new Fx(t,e,v,r,o,D,[]);S.options=g;const N=g.delay?lu(g.delay):0;S.currentTimeline.delayNextStep(N),S.currentTimeline.setStyles([u],null,S.errors,g),mo(this,i,S);const U=S.timelines.filter(j=>j.containsAnimation());if(U.length&&h.size){let j;for(let K=U.length-1;K>=0;K--){const ae=U[K];if(ae.element===e){j=ae;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,S.errors,g)}return U.length?U.map(j=>j.buildKeyframes()):[Ox(e,[],[],[],0,N,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:lu(yw(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?lu(i.duration):null,h=null!=i.delay?lu(i.delay):null;return 0!==u&&t.forEach(g=>{const v=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),mo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rS);const u=lu(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>mo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?lu(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),mo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return KI(e.params?yw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?lu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rS);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((v,D)=>{e.currentQueryIndex=D;const S=e.createSubContext(t.options,v);o&&S.delayNextStep(o),v===e.element&&(g=S.currentTimeline),mo(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const D=e.currentTimeline;g&&D.delayNextStep(g);const S=D.currentTime;mo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const rS={};class Fx{constructor(t,e,i,r,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new sS(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=lu(i.duration)),null!=i.delay&&(r.delay=lu(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=yw(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Fx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=rS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new C3(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(y3,"."+this._enterClassName)).replace(b3,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&u.push(function I$(n){return new l.vHH(3014,!1)}()),h}}class sS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||su),this._currentKeyframe.set(e,su);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function E3(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,su)}else Bd(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of u){const v=yw(g,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??su),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=Bd(h,new Map,this._backFill);v.forEach((D,S)=>{"!"===D?t.add(S):D===su&&e.add(S)}),i||v.set("offset",g/this.duration),r.push(v)});const o=t.size?QI(t.values()):[],u=e.size?QI(e.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return Ox(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class C3 extends sS{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=Bd(t[0]);g.set("offset",0),o.push(g);const v=Bd(t[0]);v.set("offset",lF(h)),o.push(v);const D=t.length-1;for(let S=1;S<=D;S++){let N=Bd(t[S]);const U=N.get("offset");N.set("offset",lF((e+U*i)/u)),o.push(N)}i=u,e=0,r="",t=o}return Ox(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function lF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Nx{}const D3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I3 extends Nx{normalizePropertyName(t,e){return xx(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(D3.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function p$(n,t){return new l.vHH(3005,!1)}())}return u+o}}function cF(n,t,e,i,r,o,u,h,g,v,D,S,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:D,totalTime:S,errors:N}}const Lx={};class uF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function S3(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,g,v,D){const S=[],N=this.ast.options&&this.ast.options.params||Lx,j=this.buildStyles(i,h&&h.params||Lx,S),K=g&&g.params||Lx,ae=this.buildStyles(r,K,S),Ze=new Set,ot=new Map,Dt=new Map,Ct="void"===r,Vt={params:A3(K,N),delay:this.ast.options?.delay},Gt=D?[]:Px(t,e,this.ast.animation,o,u,j,ae,Vt,v,S);let xn=0;if(Gt.forEach(cu=>{xn=Math.max(cu.duration+cu.delay,xn)}),S.length)return cF(e,this._triggerName,i,r,Ct,j,ae,[],[],ot,Dt,xn,S);Gt.forEach(cu=>{const uu=cu.element,bL=po(ot,uu,new Set);cu.preStyleProps.forEach(Cp=>bL.add(Cp));const xw=po(Dt,uu,new Set);cu.postStyleProps.forEach(Cp=>xw.add(Cp)),uu!==e&&Ze.add(uu)});const ws=QI(Ze.values());return cF(e,this._triggerName,i,r,Ct,j,ae,Gt,ws,ot,Dt,xn)}}function A3(n,t){const e=gw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class M3{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=gw(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=yw(u,r,e));const g=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,g,u,e),i.set(g,u)})}),i}}class x3{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new M3(r.style,r.options&&r.options.params||{},i))}),dF(this.states,"true","1"),dF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new uF(t,r,this.states))}),this.fallbackTransition=function k3(n,t,e){return new uF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function dF(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const R3=new iS;class O3{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=kx(this._driver,e,i,[]);if(i.length)throw function R$(n){return new l.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=$P(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=Px(this._driver,e,o,Sx,qI,new Map,new Map,i,R3,r),u.forEach(D=>{const S=po(h,D.element,new Map);D.postStyleProps.forEach(N=>S.set(N,null))})):(r.push(function O$(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function P$(n){return new l.vHH(3504,!1)}();h.forEach((D,S)=>{D.forEach((N,U)=>{D.set(U,this._driver.computeStyle(S,U,su))})});const v=Vd(u.map(D=>{const S=h.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function F$(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=Cx(e,"","","");return bx(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const hF="ng-animate-queued",Vx="ng-animate-disabled",V3=[],fF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xo="__ng_removed";class Bx{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function $3(n){return n??null}(i?t.value:t),i){const o=gw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vw="void",Ux=new Bx(vw);class U3{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jo(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function N$(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function L$(n){return new l.vHH(3303,!1)}();if(!function z3(n){return"start"==n||"done"==n}(i))throw function V$(n,t){return new l.vHH(3400,!1)}();const o=po(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=po(this._engine.statesByElement,t,new Map);return h.has(e)||(Jo(t,YI),Jo(t,YI+"-"+e),h.set(e,Ux)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function B$(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Hx(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Jo(t,YI),Jo(t,YI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const v=new Bx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(e,v),g||(g=Ux),v.value!==vw&&g.value===v.value){if(!function q3(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,v.params)){const K=[],ae=o.matchStyles(g.value,g.params,K),Ze=o.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{yp(t,ae),Nl(t,Ze)})}return}const N=po(this._engine.playersByElement,t,[]);N.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let U=o.matchTransition(g.value,v.value,t,v.params),j=!1;if(!U){if(!r)return;U=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:g,toState:v,player:u,isFallbackTransition:j}),j||(Jo(t,hF),u.onStart(()=>{O_(t,hF)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const ae=this._engine.playersByElement.get(t);if(ae){let Ze=ae.indexOf(u);Ze>=0&&ae.splice(Ze,1)}}),this.players.push(u),N.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ZI,!0);i.forEach(r=>{if(r[Xo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const D=this.trigger(t,v,vw,r);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Vd(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||Ux,D=new Bx(vw),S=new Hx(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:v,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Xo];(!o||o===fF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Jo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=Cx(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,bx(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class H3{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new U3(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(oS(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!oS(e))return;const o=e[Xo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jo(t,Vx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),O_(t,Vx))}removeNode(t,e,i,r){if(oS(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Xo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return oS(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ZI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ax,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Xo];if(e&&e.setForRemoval){if(t[Xo]=fF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Vx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Vd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function U$(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new iS,r=[],o=new Map,u=[],h=new Map,g=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(It=>{D.add(It);const Bt=this.driver.query(It,".ng-animate-queued",!0);for(let Zt=0;Zt<Bt.length;Zt++)D.add(Bt[Zt])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),U=gF(N,this.collectedEnterElements),j=new Map;let K=0;U.forEach((It,Bt)=>{const Zt=Sx+K++;j.set(Bt,Zt),It.forEach(Bn=>Jo(Bn,Zt))});const ae=[],Ze=new Set,ot=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Bt=this.collectedLeaveElements[It],Zt=Bt[Xo];Zt&&Zt.setForRemoval&&(ae.push(Bt),Ze.add(Bt),Zt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(Bn=>Ze.add(Bn)):ot.add(Bt))}const Dt=new Map,Ct=gF(N,Array.from(Ze));Ct.forEach((It,Bt)=>{const Zt=qI+K++;Dt.set(Bt,Zt),It.forEach(Bn=>Jo(Bn,Zt))}),t.push(()=>{U.forEach((It,Bt)=>{const Zt=j.get(Bt);It.forEach(Bn=>O_(Bn,Zt))}),Ct.forEach((It,Bt)=>{const Zt=Dt.get(Bt);It.forEach(Bn=>O_(Bn,Zt))}),ae.forEach(It=>{this.processLeaveNode(It)})});const Vt=[],Gt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(e).forEach(Zt=>{const Bn=Zt.player,Nr=Zt.element;if(Vt.push(Bn),this.collectedEnterElements.length){const ns=Nr[Xo];if(ns&&ns.setForMove){if(ns.previousTriggersValues&&ns.previousTriggersValues.has(Zt.triggerName)){const Ep=ns.previousTriggersValues.get(Zt.triggerName),ea=this.statesByElement.get(Zt.element);if(ea&&ea.has(Zt.triggerName)){const RS=ea.get(Zt.triggerName);RS.value=Ep,ea.set(Zt.triggerName,RS)}}return void Bn.destroy()}}const Vl=!S||!this.driver.containsElement(S,Nr),_o=Dt.get(Nr),jd=j.get(Nr),Li=this._buildInstruction(Zt,i,jd,_o,Vl);if(Li.errors&&Li.errors.length)return void Gt.push(Li);if(Vl)return Bn.onStart(()=>yp(Nr,Li.fromStyles)),Bn.onDestroy(()=>Nl(Nr,Li.toStyles)),void r.push(Bn);if(Zt.isFallbackTransition)return Bn.onStart(()=>yp(Nr,Li.fromStyles)),Bn.onDestroy(()=>Nl(Nr,Li.toStyles)),void r.push(Bn);const EL=[];Li.timelines.forEach(ns=>{ns.stretchStartingKeyframe=!0,this.disabledNodes.has(ns.element)||EL.push(ns)}),Li.timelines=EL,i.append(Nr,Li.timelines),u.push({instruction:Li,player:Bn,element:Nr}),Li.queriedElements.forEach(ns=>po(h,ns,[]).push(Bn)),Li.preStyleProps.forEach((ns,Ep)=>{if(ns.size){let ea=g.get(Ep);ea||g.set(Ep,ea=new Set),ns.forEach((RS,Dk)=>ea.add(Dk))}}),Li.postStyleProps.forEach((ns,Ep)=>{let ea=v.get(Ep);ea||v.set(Ep,ea=new Set),ns.forEach((RS,Dk)=>ea.add(Dk))})});if(Gt.length){const It=[];Gt.forEach(Bt=>{It.push(function H$(n,t){return new l.vHH(3505,!1)}())}),Vt.forEach(Bt=>Bt.destroy()),this.reportError(It)}const xn=new Map,ws=new Map;u.forEach(It=>{const Bt=It.element;i.has(Bt)&&(ws.set(Bt,Bt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,xn))}),r.forEach(It=>{const Bt=It.element;this._getPreviousPlayers(Bt,!1,It.namespaceId,It.triggerName,null).forEach(Bn=>{po(xn,Bt,[]).push(Bn),Bn.destroy()})});const cu=ae.filter(It=>yF(It,g,v)),uu=new Map;mF(uu,this.driver,ot,v,su).forEach(It=>{yF(It,g,v)&&cu.push(It)});const xw=new Map;U.forEach((It,Bt)=>{mF(xw,this.driver,new Set(It),g,"!")}),cu.forEach(It=>{const Bt=uu.get(It),Zt=xw.get(It);uu.set(It,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const Cp=[],wL=[],CL={};u.forEach(It=>{const{element:Bt,player:Zt,instruction:Bn}=It;if(i.has(Bt)){if(D.has(Bt))return Zt.onDestroy(()=>Nl(Bt,Bn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Bn.totalTime),void r.push(Zt);let Nr=CL;if(ws.size>1){let _o=Bt;const jd=[];for(;_o=_o.parentNode;){const Li=ws.get(_o);if(Li){Nr=Li;break}jd.push(_o)}jd.forEach(Li=>ws.set(Li,Nr))}const Vl=this._buildAnimation(Zt.namespaceId,Bn,xn,o,xw,uu);if(Zt.setRealPlayer(Vl),Nr===CL)Cp.push(Zt);else{const _o=this.playersByElement.get(Nr);_o&&_o.length&&(Zt.parentPlayer=Vd(_o)),r.push(Zt)}}else yp(Bt,Bn.fromStyles),Zt.onDestroy(()=>Nl(Bt,Bn.toStyles)),wL.push(Zt),D.has(Bt)&&r.push(Zt)}),wL.forEach(It=>{const Bt=o.get(It.element);if(Bt&&Bt.length){const Zt=Vd(Bt);It.setRealPlayer(Zt)}}),r.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<ae.length;It++){const Bt=ae[It],Zt=Bt[Xo];if(O_(Bt,qI),Zt&&Zt.hasAnimation)continue;let Bn=[];if(h.size){let Vl=h.get(Bt);Vl&&Vl.length&&Bn.push(...Vl);let _o=this.driver.query(Bt,Ax,!0);for(let jd=0;jd<_o.length;jd++){let Li=h.get(_o[jd]);Li&&Li.length&&Bn.push(...Li)}}const Nr=Bn.filter(Vl=>!Vl.destroyed);Nr.length?G3(this,Bt,Nr):this.processLeaveNode(Bt)}return ae.length=0,Cp.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Bt=this.players.indexOf(It);this.players.splice(Bt,1)}),It.play()}),Cp}elementContainsData(t,e){let i=!1;const r=e[Xo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==vw;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const v=g.element,D=v!==o,S=po(i,v,[]);this._getPreviousPlayers(v,D,u,h,e.toState).forEach(U=>{const j=U.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),U.destroy(),S.push(U)})}yp(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,g=e.element,v=[],D=new Set,S=new Set,N=e.timelines.map(j=>{const K=j.element;D.add(K);const ae=K[Xo];if(ae&&ae.removedBeforeQueried)return new aw(j.duration,j.delay);const Ze=K!==g,ot=function W3(n){const t=[];return _F(n,t),t}((i.get(K)||V3).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===K),Dt=o.get(K),Ct=u.get(K),Vt=$P(0,this._normalizer,0,j.keyframes,Dt,Ct),Gt=this._buildPlayer(j,Vt,ot);if(j.subTimeline&&r&&S.add(K),Ze){const xn=new Hx(t,h,K);xn.setRealPlayer(Gt),v.push(xn)}return Gt});v.forEach(j=>{po(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function j3(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,j.element,j))}),D.forEach(j=>Jo(j,XP));const U=Vd(N);return U.onDestroy(()=>{D.forEach(j=>O_(j,XP)),Nl(g,e.toStyles)}),S.forEach(j=>{po(r,j,[]).push(U)}),U}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new aw(t.duration,t.delay)}}class Hx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new aw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>bx(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){po(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function oS(n){return n&&1===n.nodeType}function pF(n,t){const e=n.style.display;return n.style.display=t??"none",e}function mF(n,t,e,i,r){const o=[];e.forEach(g=>o.push(pF(g)));const u=[];i.forEach((g,v)=>{const D=new Map;g.forEach(S=>{const N=t.computeStyle(v,S,r);D.set(S,N),(!N||0==N.length)&&(v[Xo]=B3,u.push(v))}),n.set(v,D)});let h=0;return e.forEach(g=>pF(g,o[h++])),u}function gF(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let g=o.get(h);if(g)return g;const v=h.parentNode;return g=e.has(v)?v:r.has(v)?1:u(v),o.set(h,g),g}return t.forEach(h=>{const g=u(h);1!==g&&e.get(g).push(h)}),e}function Jo(n,t){n.classList?.add(t)}function O_(n,t){n.classList?.remove(t)}function G3(n,t,e){Vd(e).onDone(()=>n.processLeaveNode(t))}function _F(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof dP?_F(i.players,t):t.push(i)}}function yF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class aS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new H3(t,e,i),this._timelineEngine=new O3(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],D=kx(this._driver,o,g,[]);if(g.length)throw function x$(n,t){return new l.vHH(3404,!1)}();h=function T3(n,t,e){return new x3(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=zP(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=zP(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Z3=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nl(this._element,this._initialStyles),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yp(this._element,this._endStyles),this._endStyles=null),Nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jx(n){let t=null;return n.forEach((e,i)=>{(function K3(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class vF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:rF(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Q3{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return YP(t,e)}getParentElement(t){return Dx(t)}query(t,e,i){return ZP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,D=u.filter(U=>U instanceof vF);(function e3(n,t){return 0===n||0===t})(i,r)&&D.forEach(U=>{U.currentSnapshot.forEach((j,K)=>v.set(K,j))});let S=function K$(n){return n.length?n[0]instanceof Map?n:n.map(t=>JP(t)):[]}(e).map(U=>Bd(U));S=function t3(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,rF(n,h)))}}return t}(t,S,v);const N=function Y3(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=jx(t[0]),t.length>1&&(i=jx(t[t.length-1]))):t instanceof Map&&(e=jx(t)),e||i?new Z3(n,e,i):null}(t,S);return new vF(t,S,g,N)}}let X3=(()=>{class n extends oP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?lP(e):e;return bF(this._renderer,null,i,"register",[r]),new J3(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class J3 extends class PH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ez(this._id,t,e||{},this._renderer)}}class ez{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const wF="@.disabled";let tz=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(o);return D||(D=new CF("",o,this.engine),this._rendererCache.set(o,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=D=>{Array.isArray(D)?D.forEach(g):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(g),new nz(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(aS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class CF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==wF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nz extends CF{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function iz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function rz(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let sz=(()=>{class n extends aS{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Ix),l.LFG(Nx),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const EF=[{provide:oP,useClass:X3},{provide:Nx,useFactory:function oz(){return new I3}},{provide:aS,useClass:sz},{provide:l.FYo,useFactory:function az(n,t,e){return new tz(n,t,e)},deps:[ih,aS,l.R0b]}],$x=[{provide:Ix,useFactory:()=>new Q3},{provide:l.QbO,useValue:"BrowserAnimations"},...EF],DF=[{provide:Ix,useClass:KP},{provide:l.QbO,useValue:"NoopAnimations"},...EF];let lz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?DF:$x}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:$x,imports:[pa]}),n})();const uz=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),dz=new l.OlP("angularfire2.analytics.appVersion"),hz=new l.OlP("angularfire2.analytics.appName"),fz=new l.OlP("angularfire2.analytics.debugMode"),pz=new l.OlP("angularfire2.analytics.config"),cS="dataLayer";let bw=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D){if(this.analyticsInitialized=new Promise(()=>{}),Ri(g)){window[cS]=window[cS]||[];const N=(...K)=>"config"===K[0]&&"firebase"===K[2].origin&&(this.measurementId=K[1],!0),U=K=>{window.gtag=(...ae)=>{K&&K(...ae),"event"===ae[0]&&ae[2].send_to===this.measurementId&&(o&&(ae[2].app_name=o),r&&(ae[2].app_version=r)),u&&typeof console<"u"&&console.info(...ae),function(...Ze){window[cS].push(arguments)}(...ae)}};window[cS].some(N)?(this.analyticsInitialized=Promise.resolve(),U()):this.analyticsInitialized=new Promise(K=>{U((...ae)=>{N(...ae)&&K()})}),h&&this.updateConfig(h),u&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=Ke(void 0).pipe((0,Ja.Q)(D.outsideAngular),cn(px.Gb),cn(N=>N?v.runOutsideAngular(()=>O.e(643).then(O.bind(O,8643))):Kr.E),(0,qe.U)(()=>(0,Cr.cc)("analytics","AngularFireAnalytics",e.name,()=>{const N=e.analytics();return!1===i&&N.setAnalyticsCollectionEnabled(!1),N},[e,i,h,u])),sc({bufferSize:1,refCount:!1}));return(0,Cr.pX)(this,S,v)}updateConfig(e){return(0,fx.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr.Ot),l.LFG(uz,8),l.LFG(dz,8),l.LFG(hz,8),l.LFG(fz,8),l.LFG(pz,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ht.HU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SF=(()=>{class n{constructor(e,i,r,o){if(this.disposables=[],rm.Z.registerVersion("angularfire",Ht.q4.full,"compat-user-tracking"),Is(i))this.initialized=Promise.resolve();else{let u;this.initialized=o.runOutsideAngular(()=>new Promise(h=>u=h)),this.disposables=[r.authState.subscribe(h=>{e.setUserId(h?.uid),u()}),r.credential.subscribe(h=>{if(h){const g=h.user.isAnonymous?"anonymous":h.additionalUserInfo.providerId;h.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:g}),e.logEvent("login",{method:g})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bw),l.LFG(l.Lbi),l.LFG(Th),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),wz=(()=>{class n{constructor(e,i,r,o,u,h){if(rm.Z.registerVersion("angularfire",Ht.q4.full,"compat-screen-tracking"),!i||!e)return this;u.runOutsideAngular(()=>{this.disposable=HP(i,r,o).pipe(cn(g=>(0,fx.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),yield e.logEvent("screen_view",g)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bw),l.LFG(qi,8),l.LFG(Ms,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(SF,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cz=(()=>{class n{constructor(e,i,r){rm.Z.registerVersion("angularfire",Ht.q4.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bw),l.LFG(wz,8),l.LFG(SF,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[bw]}),n})();class zx{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ct.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let AF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),bp=(()=>{class n extends AF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const go=new l.OlP("NgValueAccessor"),Dz={provide:go,useExisting:(0,l.Gpc)(()=>uS),multi:!0},Sz=new l.OlP("CompositionEventMode");let uS=(()=>{class n extends AF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iz(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Sz,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[l._Bn([Dz]),l.qOj]}),n})();function Ud(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function TF(n){return null!=n&&"number"==typeof n.length}const qr=new l.OlP("NgValidators"),Hd=new l.OlP("NgAsyncValidators"),Mz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gx{static min(t){return function xF(n){return t=>{if(Ud(t.value)||Ud(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function kF(n){return t=>{if(Ud(t.value)||Ud(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return RF(t)}static requiredTrue(t){return function OF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function PF(n){return Ud(n.value)||Mz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function FF(n){return t=>Ud(t.value)||!TF(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function NF(n){return t=>TF(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function LF(n){if(!n)return dS;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ud(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return $F(t)}static composeAsync(t){return zF(t)}}function RF(n){return Ud(n.value)?{required:!0}:null}function dS(n){return null}function VF(n){return null!=n}function BF(n){return(0,l.QGY)(n)?(0,dn.D)(n):n}function UF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function HF(n,t){return t.map(e=>e(n))}function jF(n){return n.map(t=>function Tz(n){return!n.validate}(t)?t:e=>t.validate(e))}function $F(n){if(!n)return null;const t=n.filter(VF);return 0==t.length?null:function(e){return UF(HF(e,t))}}function Wx(n){return null!=n?$F(jF(n)):null}function zF(n){if(!n)return null;const t=n.filter(VF);return 0==t.length?null:function(e){return z1(HF(e,t).map(BF)).pipe((0,qe.U)(UF))}}function qx(n){return null!=n?zF(jF(n)):null}function GF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function WF(n){return n._rawValidators}function qF(n){return n._rawAsyncValidators}function Yx(n){return n?Array.isArray(n)?n:[n]:[]}function hS(n,t){return Array.isArray(n)?n.includes(t):n===t}function YF(n,t){const e=Yx(t);return Yx(n).forEach(r=>{hS(e,r)||e.push(r)}),e}function ZF(n,t){return Yx(t).filter(e=>!hS(n,e))}class KF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class bs extends KF{get formDirective(){return null}get path(){return null}}class Ll extends KF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let XF=(()=>{class n extends QF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ll,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),JF=(()=>{class n extends QF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const ww="VALID",pS="INVALID",P_="PENDING",Cw="DISABLED";function Xx(n){return(mS(n)?n.validators:n)||null}function tN(n){return Array.isArray(n)?Wx(n):n||null}function Jx(n,t){return(mS(t)?t.asyncValidators:n)||null}function nN(n){return Array.isArray(n)?qx(n):n||null}function mS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sN{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tN(this._rawValidators),this._composedAsyncValidatorFn=nN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ww}get invalid(){return this.status===pS}get pending(){return this.status==P_}get disabled(){return this.status===Cw}get enabled(){return this.status!==Cw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nN(t)}addValidators(t){this.setValidators(YF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ZF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ZF(t,this._rawAsyncValidators))}hasValidator(t){return hS(this._rawValidators,t)}hasAsyncValidator(t){return hS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=P_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cw,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ww,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ww||this.status===P_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cw:ww}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=P_,this._hasOwnPendingAsyncValidator=!0;const e=BF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Cw:this.errors?pS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(P_)?P_:this._anyControlsHaveStatus(pS)?pS:ww}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class gS extends sN{constructor(t,e,i){super(Xx(e),Jx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function rN(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function iN(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Ew(n,t){ek(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Vz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oN(n,t)})}(n,t),function Uz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Bz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oN(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Lz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function yS(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),bS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ek(n,t){const e=WF(n);null!==t.validator?n.setValidators(GF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=qF(n);null!==t.asyncValidator?n.setAsyncValidators(GF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vS(t._rawValidators,r),vS(t._rawAsyncValidators,r)}function bS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=WF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=qF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return vS(t._rawValidators,i),vS(t._rawAsyncValidators,i),e}function oN(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aN(n,t){ek(n,t)}function cN(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Gz={provide:bs,useExisting:(0,l.Gpc)(()=>Iw)},Dw=(()=>Promise.resolve())();let Iw=(()=>{class n extends bs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new gS({},Wx(e),qx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Dw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ew(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Dw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Dw.then(()=>{const i=this._findContainer(e.path),r=new gS({});aN(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Dw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Dw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cN(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qr,10),l.Y36(Hd,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Gz]),l.qOj]}),n})();function uN(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function dN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Sw=class extends sN{constructor(t=null,e,i){super(Xx(e),Jx(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mS(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=dN(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){dN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let gN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),yN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ik=new l.OlP("NgModelWithFormControlWarning"),eG={provide:bs,useExisting:(0,l.Gpc)(()=>F_)};let F_=(()=>{class n extends bs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ew(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){yS(e.control||null,e,!1),function zz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,cN(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(yS(i||null,e),(n=>n instanceof Sw)(r)&&(Ew(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);aN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Hz(n,t){return bS(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ek(this.form,this),this._oldForm&&bS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qr,10),l.Y36(Hd,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([eG]),l.qOj,l.TTD]}),n})();const iG={provide:Ll,useExisting:(0,l.Gpc)(()=>ok)};let ok=(()=>{class n extends Ll{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function nk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===uS?e=o:function $z(n){return Object.getPrototypeOf(n.constructor)===bp}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function tk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function _S(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(bs,13),l.Y36(qr,10),l.Y36(Hd,10),l.Y36(go,10),l.Y36(ik,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([iG]),l.qOj,l.TTD]}),n})(),wp=(()=>{class n{constructor(){this._validator=dS}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dS,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const hG={provide:qr,useExisting:(0,l.Gpc)(()=>wS),multi:!0};let wS=(()=>{class n extends wp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=e=>RF}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([hG]),l.qOj]}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yN]}),n})(),yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PN]}),n})(),FN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ik,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PN]}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[P1,kI,Pn,XT,Ji,P1,Pn,XT,ex]}),n})();const OG=["connectionContainer"],PG=["inputContainer"],FG=["label"];function NG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function LG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function VG(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function BG(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function UG(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function HG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,VG,4,1,"ng-container",12),l.YNc(3,BG,1,0,"ng-content",12),l.YNc(4,UG,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function jG(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function $G(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function zG(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function GG(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function WG(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,GG,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const qG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ZG=new l.OlP("MatError"),KG={transitionMessages:ou("transitionMessages",[Qo("enter",hi({opacity:1,transform:"translateY(0%)"})),ys("void => enter",[hi({opacity:0,transform:"translateY(-5px)"}),js("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let CS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const QG=new l.OlP("MatHint");let ck=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const JG=new l.OlP("MatPrefix"),e6=new l.OlP("MatSuffix");let VN=0;const n6=tw(class{constructor(n){this._elementRef=n}},"primary"),r6=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Aw=new l.OlP("MatFormField");let s6=(()=>{class n extends n6{constructor(e,i,r,o,u,h,g){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ct.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+VN++,this._labelId="mat-form-field-label-"+VN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=di(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(_i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ii(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ii(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,dr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(_i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(_i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ii(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,iu(this._label.nativeElement,"transitionend").pipe(pn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${o}`);for(let S=0;S<D.length;S++)D[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const g=i.querySelectorAll(r),v=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(D),N=e.children,U=this._getStartEnd(N[0].getBoundingClientRect());let j=0;for(let K=0;K<N.length;K++)j+=N[K].offsetWidth;u=Math.abs(U-S)-5,h=j>0?.75*j+10:0}for(let D=0;D<g.length;D++)g[D].style.width=`${u}px`;for(let D=0;D<v.length;D++)v[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Pd,8),l.Y36(r6,8),l.Y36(Fr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,CS,5),l.Suo(r,CS,7),l.Suo(r,ck,5),l.Suo(r,ck,7),l.Suo(r,XG,5),l.Suo(r,ZG,5),l.Suo(r,QG,5),l.Suo(r,JG,5),l.Suo(r,e6,5)),2&e){let o;l.iGM(o=l.CRH())&&(i._controlNonStatic=o.first),l.iGM(o=l.CRH())&&(i._controlStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildNonStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildStatic=o.first),l.iGM(o=l.CRH())&&(i._placeholderChild=o.first),l.iGM(o=l.CRH())&&(i._errorChildren=o),l.iGM(o=l.CRH())&&(i._hintChildren=o),l.iGM(o=l.CRH())&&(i._prefixChildren=o),l.iGM(o=l.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(l.Gf(OG,7),l.Gf(PG,5),l.Gf(FG,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Aw,useExisting:n}]),l.qOj],ngContentSelectors:YG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(qG),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),l.YNc(3,NG,9,0,"ng-container",3),l.YNc(4,LG,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,HG,5,16,"label",8),l.qZA()(),l.YNc(10,jG,2,0,"div",9),l.qZA(),l.YNc(11,$G,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,zG,2,1,"div",12),l.YNc(14,WG,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[En,Vr,ss,rU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[KG.transitionMessages]},changeDetection:0}),n})(),Mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ji,Pn,g1,Pn]}),n})();const UN=X0({passive:!0});let o6=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Kr.E;const i=ru(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new ct.x,u="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,UN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,UN)}}),o}stopMonitoring(e){const i=ru(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Fr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const jN=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),a6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let l6=0;const c6=R1(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ct.x}});let u6=(()=>{class n extends c6{constructor(e,i,r,o,u,h,g,v,D,S){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+l6++,this.focused=!1,this.stateChanges=new ct.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>d1().has(j)),this._iOSKeyupListener=j=>{const K=j.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,U=N.nodeName.toLowerCase();this._inputValueAccessor=g||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=di(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gx.required)??!1}set required(e){this._required=di(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d1().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=di(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){a6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Fr),l.Y36(Ll,10),l.Y36(Iw,8),l.Y36(F_,8),l.Y36(KT),l.Y36(jN,10),l.Y36(o6),l.Y36(l.R0b),l.Y36(Aw,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:CS,useExisting:n}]),l.qOj,l.TTD]}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KT],imports:[HN,Mw,Pn,HN,Mw]}),n})();const p6={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[vs],useFactory:function f6(n){return()=>n.scrollStrategies.reposition()}};let GN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[p6],imports:[gp,RI,Pn,Ji,k_,RI,Pn]}),n})();const y6=["trigger"],v6=["panel"];function b6(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function w6(n,t){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function C6(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function E6(n,t){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,w6,2,1,"span",10),l.YNc(2,C6,1,0,"ng-content",11),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function D6(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o._handleKeydown(r))}),l.Hsn(3,1),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",e._getPanelTheme(),""),l.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),l.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const I6=[[["mat-select-trigger"]],"*"],S6=["mat-select-trigger","*"],WN={transformPanelWrap:ou("transformPanelWrap",[ys("* => void",ox("@transformPanel",[sx()],{optional:!0}))]),transformPanel:ou("transformPanel",[Qo("void",hi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Qo("showing",hi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Qo("showing-multiple",hi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ys("void => *",js("120ms cubic-bezier(0, 0, 0.2, 1)")),ys("* => void",js("100ms 25ms linear",hi({opacity:0})))])};let qN=0;const ZN=new l.OlP("mat-select-scroll-strategy"),x6=new l.OlP("MAT_SELECT_CONFIG"),k6={provide:ZN,deps:[vs],useFactory:function T6(n){return()=>n.scrollStrategies.reposition()}};class R6{constructor(t,e){this.source=t,this.value=e}}const O6=nw(BU(qT(R1(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new ct.x}})))),P6=new l.OlP("MatSelectTrigger");let F6=(()=>{class n extends O6{constructor(e,i,r,o,u,h,g,v,D,S,N,U,j,K){super(u,o,g,v,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=j,this._defaultOptions=K,this._panelOpen=!1,this._compareWith=(ae,Ze)=>ae===Ze,this._uid="mat-select-"+qN++,this._triggerAriaLabelledBy=null,this._destroy=new ct.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+qN++,this._panelDoneAnimatingStream=new ct.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Td(()=>{const ae=this.options;return ae?ae.changes.pipe(_i(ae),cn(()=>(0,dr.T)(...ae.map(Ze=>Ze.onSelectionChange)))):this._ngZone.onStable.pipe(pn(1),cn(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(nn(ae=>ae),(0,qe.U)(()=>{})),this._closedStream=this.openedChange.pipe(nn(ae=>!ae),(0,qe.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=K?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=K.typeaheadDebounceInterval),this._scrollStrategyFactory=U,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(N)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Gx.required)??!1}set required(e){this._required=di(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=di(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=di(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=S_(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new zx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ds(),ii(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ii(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(_i(null),ii(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!fo(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const g=this.selected;g&&h!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||fo(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(h?g.select():g.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(pn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new dU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ii(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ii(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,dr.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ii(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,dr.T)(...this.options.map(i=>i._stateChanges)).pipe(ii(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dw),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(KT),l.Y36(l.SBq),l.Y36(Pd,8),l.Y36(Iw,8),l.Y36(F_,8),l.Y36(Aw,8),l.Y36(Ll,10),l.$8M("tabindex"),l.Y36(ZN),l.Y36(GT),l.Y36(x6,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(y6,5),l.Gf(v6,5),l.Gf(DP,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),N6=(()=>{class n extends F6{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ii(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=JT(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function $1(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new R6(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let v=this._selectionModel.selected[0]||this.options.first;u=v&&v.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),g=e.right+u-i.width+(r?0:o);h>0?u+=h+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;v>u?this._adjustPanelUp(v,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=JT(h,this.options,this.optionGroups);const g=r/2;this._scrollTop=this._calculateOverlayScroll(h,g,u),this._offsetY=this._calculateOverlayOffsetY(h,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,P6,5),l.Suo(r,j1,5),l.Suo(r,U1,5)),2&e){let o;l.iGM(o=l.CRH())&&(i.customTrigger=o.first),l.iGM(o=l.CRH())&&(i.options=o),l.iGM(o=l.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:CS,useExisting:n},{provide:B1,useExisting:n}]),l.qOj],ngContentSelectors:S6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(l.F$t(I6),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,b6,2,1,"span",3),l.YNc(5,E6,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,D6,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[yn,Vr,ss,zs,DP,EP],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[WN.transformPanelWrap,WN.transformPanel]},changeDetection:0}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[k6],imports:[Ji,gp,RI,Pn,k_,Mw,RI,Pn]}),n})(),B6=(()=>{class n{constructor(){this.changes=new ct.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z6={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[vs],useFactory:function Y6(n){return()=>n.scrollStrategies.reposition()}};let eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[B6,Z6],imports:[Ji,OI,gp,T1,x_,Pn,k_]}),n})();const eW=["*",[["mat-card-footer"]]],tW=["*","mat-card-footer"];let uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),hk=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:tW,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(eW),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();function nW(n,t){}class AS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let nL=(()=>{class n extends HI{constructor(e,i,r,o,u,h,g,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=g,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=VT(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=VT();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=VT())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(jT),l.Y36(ne,8),l.Y36(AS),l.Y36(TI),l.Y36(l.R0b),l.Y36(hw),l.Y36(fp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&l.Gf(cw,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,nW,0,0,"ng-template",0)},dependencies:[cw],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class fk{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ct.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!fo(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const iL=new l.OlP("DialogScrollStrategy"),iW=new l.OlP("DialogData"),rW=new l.OlP("DefaultDialogConfig"),oW={provide:iL,deps:[vs],useFactory:function sW(n){return()=>n.scrollStrategies.block()}};let aW=0,rL=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ct.x,this._afterOpenedAtThisLevel=new ct.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Td(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_i(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new AS,...i}).id=i.id||"cdk-dialog-"+aW++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),h=new fk(u,i),g=this._attachContainer(u,h,i);return h.containerInstance=g,this._attachDialogContent(e,h,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){pk(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){pk(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),pk(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new R_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,u=[{provide:AS,useValue:r},{provide:fk,useValue:i},{provide:hw,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=nL;const g=new lw(h,r.viewContainerRef,l.zs3.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,i,r,o){if(e instanceof l.Rgc){const u=this._createInjector(o,i,r,void 0);let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new T_(e,null,h,u))}else{const u=this._createInjector(o,i,r,this._injector),h=r.attachComponentPortal(new lw(e,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,o){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:iW,useValue:e.data},{provide:fk,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(Pd,null,l.XFs.Optional))&&h.push({provide:Pd,useValue:{value:e.direction,change:Ke()}}),l.zs3.create({parent:u||o,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs),l.LFG(l.zs3),l.LFG(rW,8),l.LFG(n,12),l.LFG(jI),l.LFG(iL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pk(n,t){let e=n.length;for(;e--;)t(n[e])}let lW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rL,oW],imports:[gp,x_,T1,x_]}),n})();function cW(n,t){}const V_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},uW={dialogContainer:ou("dialogContainer",[Qo("void, exit",hi({opacity:0,transform:"scale(0.7)"})),Qo("enter",hi({transform:"none"})),ys("* => enter",aP([js("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",hi({transform:"none",opacity:1})),ox("@*",sx(),{optional:!0})]),V_),ys("* => void, * => exit",aP([js("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",hi({opacity:0})),ox("@*",sx(),{optional:!0})]),V_)])};class MS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=V_.params.enterAnimationDuration,this.exitAnimationDuration=V_.params.exitAnimationDuration}}let dW=(()=>{class n extends nL{constructor(e,i,r,o,u,h,g,v){super(e,i,r,o,u,h,g,v),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(jT),l.Y36(ne,8),l.Y36(MS),l.Y36(TI),l.Y36(l.R0b),l.Y36(hw),l.Y36(fp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),hW=(()=>{class n extends dW{constructor(e,i,r,o,u,h,g,v,D){super(e,i,r,o,u,h,g,D),this._changeDetectorRef=v,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||V_.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||V_.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(jT),l.Y36(ne,8),l.Y36(MS),l.Y36(TI),l.Y36(l.R0b),l.Y36(hw),l.Y36(l.sBO),l.Y36(fp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,cW,0,0,"ng-template",0)},dependencies:[cw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[uW.dialogContainer]}}),n})();class mk{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ct.x,this._beforeClosed=new ct.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(nn(r=>"opened"===r.state),pn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(nn(r=>"closed"===r.state),pn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,dr.T)(this.backdropClick(),this.keydownEvents().pipe(nn(r=>27===r.keyCode&&!this.disableClose&&!fo(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function fW(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(nn(e=>"closing"===e.state),pn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const sL=new l.OlP("MatDialogData"),pW=new l.OlP("mat-dialog-default-options"),oL=new l.OlP("mat-dialog-scroll-strategy"),gW={provide:oL,deps:[vs],useFactory:function mW(n){return()=>n.scrollStrategies.block()}};let _W=0,yW=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D,S){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=v,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ct.x,this._afterOpenedAtThisLevel=new ct.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Td(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_i(void 0))),this._scrollStrategy=h,this._dialog=i.get(rL)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new MS,...i}).id=i.id||`${this._idPrefix}${_W++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:MS,useValue:i},{provide:AS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,g)=>(r=new this._dialogRefConstructor(u,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),TS=(()=>{class n extends yW{constructor(e,i,r,o,u,h,g,v){super(e,i,o,h,g,u,mk,hW,sL,v)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs),l.LFG(l.zs3),l.LFG(Fe,8),l.LFG(pW,8),l.LFG(oL),l.LFG(n,12),l.LFG(jI),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vW=0,aL=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+vW++}ngOnInit(){this._dialogRef||(this._dialogRef=function wW(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mk,8),l.Y36(l.SBq),l.Y36(TS))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),bW=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[TS,gW],imports:[lW,gp,x_,Pn,Pn]}),n})();function CW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(2),l.Oqu(e.data.action)}}function EW(n,t){}const uL=new l.OlP("MatSnackBarData");class xS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const DW=Math.pow(2,31)-1;class gk{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ct.x,this._afterOpened=new ct.x,this._onAction=new ct.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,DW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let IW=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gk),l.Y36(uL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,CW,3,1,"div",1)),2&e&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[En,Fd],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const SW={snackBarState:ou("state",[Qo("void, hidden",hi({transform:"scale(0.8)",opacity:0})),Qo("visible",hi({transform:"scale(1)",opacity:1})),ys("* => visible",js("150ms cubic-bezier(0, 0, 0.2, 1)")),ys("* => void, * => hidden",js("75ms cubic-bezier(0.4, 0.0, 1, 1)",hi({opacity:0})))])};let AW=(()=>{class n extends HI{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ct.x,this._onExit=new ct.x,this._onEnter=new ct.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),g},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(pn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Fr),l.Y36(xS))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(cw,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),MW=(()=>{class n extends AW{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&l.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,EW,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&e&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[cw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[SW.snackBarState]}}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gp,x_,Ji,OI,Pn,Pn]}),n})();const yk=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function TW(){return new xS}});let xW=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xS,useValue:i}]}),u=new lw(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new xS,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new gk(u,o);if(e instanceof l.Rgc){const g=new T_(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(r,h),v=new lw(e,void 0,g),D=u.attachComponentPortal(v);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ii(o.detachments())).subscribe(g=>{o.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new R_;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return l.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:gk,useValue:i},{provide:uL,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs),l.LFG(GT),l.LFG(l.zs3),l.LFG(HT),l.LFG(n,12),l.LFG(yk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dL=(()=>{class n extends xW{constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=IW,this.snackBarContainerComponent=MW,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs),l.LFG(GT),l.LFG(l.zs3),l.LFG(HT),l.LFG(n,12),l.LFG(yk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:_k}),n})();const kW=[GN,OI,tL,eL,cL,ex,Mw,nP,$N,LN,TP,O1,OP,KN,_k,xP];let vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:yk,useValue:{duration:3e3}}],imports:[kW,GN,OI,tL,eL,cL,ex,Mw,nP,$N,LN,TP,O1,OP,KN,_k,xP]}),n})();function RW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.logout())}),l._uU(1,"Logout"),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("color",e.color)}}function OW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.login())}),l._uU(1,"Login"),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("color",e.color)}}let hL=(()=>{class n{constructor(e){this.authService=e,this.user$=this.authService.user$}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-login-with-google"]],inputs:{color:"color"},decls:4,vars:4,consts:[["mat-raised-button","",3,"color","click",4,"ngIf","ngIfElse"],["showLogin",""],["mat-raised-button","",3,"color","click"]],template:function(e,i){if(1&e&&(l.YNc(0,RW,2,1,"button",0),l.ALo(1,"async"),l.YNc(2,OW,2,1,"ng-template",null,1,l.W1O)),2&e){const r=l.MAs(3);l.Q6J("ngIf",l.lcZ(1,2,i.user$))("ngIfElse",r)}},dependencies:[En,Fd,Gs]}),n})(),PW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ji,vk,Ty,vk]}),n})(),kS=(()=>{class n{constructor(e){this.datePipe=e}jsToHtmlDate(e){return this.datePipe.transform(e,Er_formatter.badgeIsoDateTime)||void 0}isoToHumanDate(e){return this.datePipe.transform(e,Er_formatter.badgeHumanDateTime)||void 0}isoToHtmlDate(e){if(e)return this.datePipe.transform(new Date(e),Er_formatter.badgeIsoDateTime)||void 0}isoToJsDate(e){if(!e)return;const i=this.datePipe.transform(new Date(e),Er_formatter.badgeIsoDateTime)||void 0;return i?new Date(i):void 0}htmlToIso(e){return new Date(e+":00.000").toISOString()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ra))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FW(n,t){if(1&n&&(l.TgZ(0,"mat-option",11),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}const NW=function(){return["in","out"]};let bk=(()=>{class n{constructor(e){this.dateService=e,this.badge={clock:"in",timestamp:this.dateService.jsToHtmlDate(new Date)},this.formSubmitted=new l.vpe,this.badgeForm=new gS({clock:new Sw(this.badge?.clock),timestamp:new Sw(this.badge?.timestamp),userId:new Sw({value:this.badge?.userId,disabled:!0})})}ngOnInit(){}ngOnChanges(e){e?.badge?.currentValue&&this.badgeForm.patchValue({...e?.badge?.currentValue})}submit(){if(this.badgeForm.invalid)return;const e={...this.badgeForm.getRawValue(),timestamp:this.dateService.htmlToIso(this.badgeForm.value.timestamp)};this.formSubmitted.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(kS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-form"]],inputs:{badge:"badge"},outputs:{formSubmitted:"formSubmitted"},features:[l.TTD],decls:18,vars:3,consts:[[3,"formGroup","submit"],[1,"fields"],["appearance","outline",1,"field-user-uid"],["matInput","","formControlName","userId","required",""],["appearance","outline",1,"field-clock"],["formControlName","clock","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"field-timestamp"],["matInput","","type","datetime-local","formControlName","timestamp","required",""],[1,"buttons"],["mat-raised-button","","color","primary","type","submit"],[3,"value"]],template:function(e,i){1&e&&(l.TgZ(0,"form",0),l.NdJ("submit",function(){return i.submit()}),l.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"user id"),l.qZA(),l._UZ(5,"input",3),l.qZA(),l.TgZ(6,"mat-form-field",4)(7,"mat-label"),l._uU(8,"clock"),l.qZA(),l.TgZ(9,"mat-select",5),l.YNc(10,FW,2,2,"mat-option",6),l.qZA()(),l.TgZ(11,"mat-form-field",7)(12,"mat-label"),l._uU(13,"timestamp"),l.qZA(),l._UZ(14,"input",8),l.qZA()(),l.TgZ(15,"div",9)(16,"button",10),l._uU(17,"Save"),l.qZA()()()),2&e&&(l.Q6J("formGroup",i.badgeForm),l.xp6(10),l.Q6J("ngForOf",l.DdM(2,NW)))},dependencies:[Lr,j1,Fd,s6,ck,u6,N6,gN,uS,XF,JF,wS,F_,ok],styles:[".fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})(),fL=(()=>{class n{constructor(){this.formSubmitted=new l.vpe}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-edit-dialog"]],inputs:{badgeForm:"badgeForm"},outputs:{formSubmitted:"formSubmitted"},decls:4,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(l.TgZ(0,"h1",0),l._uU(1,"Edit Badge"),l.qZA(),l.TgZ(2,"div",1)(3,"ob-badge-form",2),l.NdJ("formSubmitted",function(o){return i.formSubmitted.emit(o)}),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("badge",i.badgeForm))},dependencies:[aL,lL,bk]}),n})();function LW(n,t){if(1&n&&(l.TgZ(0,"h1",6),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.title)}}function VW(n,t){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.message)}}function BW(n,t){if(1&n&&l._UZ(0,"div",7),2&n){const e=l.oxw();l.Q6J("innerHTML",e.data.html,l.oJD)}}function UW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.onCancel())}),l._uU(1),l.qZA()}if(2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.cancelText)}}let pL=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}onEsc(){this.close(!1)}ngOnInit(){}onCancel(){this.close(!1)}onConfirm(){this.close(!0)}close(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(sL),l.Y36(mk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-dialog"]],hostBindings:function(e,i){1&e&&l.NdJ("keydown.esc",function(){return i.onEsc()})},decls:8,vars:5,consts:[["mat-dialog-title","",4,"ngIf"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title",""],[3,"innerHTML"],["mat-flat-button","",3,"click"]],template:function(e,i){1&e&&(l.YNc(0,LW,2,1,"h1",0),l.TgZ(1,"mat-dialog-content"),l.YNc(2,VW,2,1,"p",1),l.YNc(3,BW,1,1,"div",2),l.qZA(),l.TgZ(4,"mat-dialog-actions",3),l.YNc(5,UW,2,1,"button",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.onConfirm()}),l._uU(7),l.qZA()()),2&e&&(l.Q6J("ngIf",!!i.data.title),l.xp6(2),l.Q6J("ngIf",!!i.data.message),l.xp6(1),l.Q6J("ngIf",!!i.data.html),l.xp6(2),l.Q6J("ngIf",!!i.data.cancelText),l.xp6(2),l.Oqu(i.data.confirmText))},dependencies:[En,Fd,aL,lL,bW]}),n})(),mL=(()=>{class n{constructor(e){this.dialog=e}open(e){this.dialogRef=this.dialog.open(pL,{data:{title:e.title,message:e.message,html:e.html,cancelText:e.cancelText,confirmText:e.confirmText}})}confirmed(){return this.dialogRef?this.dialogRef.afterClosed().pipe(pn(1),(0,qe.U)(e=>e)):Ke(!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(TS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HW=[mL];let jW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...HW],imports:[Ji,vk,FN]}),n})();const gL={leading:!0,trailing:!1};let _L=(()=>{class n{constructor(e){this.snackbar=e,this.abortController=new AbortController,this.hasNfcCapabilitySubject=new Ci(!1),this.permissionStateSubject=new Ci("denied"),this.readRunningStateSubject=new Ci("stopped"),this.writeRunningStateSubject=new Ci("stopped"),this.messagesSubject=new ct.x,this.hasNfcCapability$=this.hasNfcCapabilitySubject.asObservable(),this.permissionState$=this.permissionStateSubject.asObservable(),this.readRunningState$=this.readRunningStateSubject.asObservable(),this.writeRunningState$=this.writeRunningStateSubject.asObservable(),this.messages$=this.messagesSubject.asObservable().pipe(function zW(n,t=xh.z,e=gL){const i=PT(n,t);return function $W(n,t=gL){return(0,ai.e)((e,i)=>{const{leading:r,trailing:o}=t;let u=!1,h=null,g=null,v=!1;const D=()=>{g?.unsubscribe(),g=null,o&&(U(),v&&i.complete())},S=()=>{g=null,v&&i.complete()},N=j=>g=(0,xs.Xf)(n(j)).subscribe((0,zn.x)(i,D,S)),U=()=>{if(u){u=!1;const j=h;h=null,i.next(j),!v&&N(j)}};e.subscribe((0,zn.x)(i,j=>{u=!0,h=j,(!g||g.closed)&&(r?U():N(j))},()=>{v=!0,(!(o&&u&&g)||g.closed)&&i.complete()}))})}(()=>i,e)}(500))}init(){var e=this;return(0,Ee.Z)(function*(){if("NDEFReader"in window){console.debug("[NfcService] This browser has NFC capability! <3"),e.hasNfcCapabilitySubject.next(!0);const i=yield navigator.permissions.query({name:"nfc"});e.permissionStateSubject.next(i.state),i.onchange=()=>{console.debug("[NfcService] The user decided to change his settings. New permission: "+i.state),e.permissionStateSubject.next(i.state),"denied"===i.state&&e.stopRead()},"granted"===i.state?(console.debug("[NfcService] The user has granted the NFC permission"),"started"!==e.readRunningStateSubject.value&&e.startRead()):"prompt"===i.state?console.debug("[NfcService] The user should be asked to grant the NFC permission"):console.debug("[NfcService] The user didn't grant the NFC permission")}else console.debug("[NfcService] No NFC capability :(")})()}startRead(){var e=this;return(0,Ee.Z)(function*(){e.stopWrite(),e.abortController=new AbortController,e.ndef=new NDEFReader;try{const i=yield e.ndef.scan({signal:e.abortController.signal});e.readRunningStateSubject.next("started"),console.debug("[NfcService] Scan started successfully.",i),e.ndef.onreadingerror=()=>{console.debug("[NfcService] Cannot read data from the NFC tag. Try another one?")},e.ndef.onreading=r=>{console.debug("[NfcService] NDEF message read.",r);const o=new TextDecoder;for(const u of r.message.records)e.messagesSubject.next({recordType:u.recordType,mediaType:u.mediaType,data:o.decode(u.data)})}}catch(i){console.error(`[NfcService] Error! Scan failed to start: ${i}.`)}})()}stopRead(){this.abortController.abort(),this.readRunningStateSubject.next("stopped")}startWrite(e){e?(this.stopRead(),this.abortController=new AbortController,this.ndef=new NDEFReader,this.writeRunningStateSubject.next("started"),this.ndef.write(e,{signal:this.abortController.signal}).then(i=>{this.writeRunningStateSubject.next("stopped"),console.debug(`[NfcService] NDEF message "${e}" written!`,i),this.snackbar.open(`NDEF message "${e}" written`,"Dismiss"),setTimeout(()=>{this.startRead()},2e3)}).catch(i=>{this.writeRunningStateSubject.next("stopped"),i.toString().startsWith("AbortError")?console.debug("[NfcService] Stop writing NDEF message"):console.error("[NfcService] Error on NDEF message  writing!",i)})):console.error("[NfcService] cannot write an empty text")}stopWrite(){this.abortController.abort(),this.writeRunningStateSubject.next("stopped")}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wk{constructor(t){return t}}const yL="firestore",Ck=new l.OlP("angularfire2.firestore-instances");function qW(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new wk(i)}}const YW={provide:class GW{constructor(){return(0,Ht.vb)(yL)}},deps:[[new l.FiY,Ck]]},ZW={provide:wk,useFactory:function WW(n,t){const e=(0,Ht.JM)(yL,n,t);return e&&new wk(e)},deps:[[new l.FiY,Ck],ks]};let KW=(()=>{class n{constructor(){(0,Hn.KN)("angularfire",Ht.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ZW,YW]}),n})();function QW(n,...t){return{ngModule:KW,providers:[{provide:Ck,useFactory:qW(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,dh,[new l.FiY,FP],[new l.FiY,Pu],...t]}]}}const XW=(0,Ht.u3)(zD,!0),JW=(0,Ht.u3)(NM,!0);let vL=(()=>{class n{constructor(e,i,r){this.db=e,this.dateService=i,this.firebaseHelper=r,this.badges=this.db.collection(Er_firebaseApiUrls.badges)}ngOnInit(){}getCollection(){return this.firebaseHelper.collection(this.badges).pipe(cn(e=>{if(!e.length)return Ke([]);const i=[...new Set(e.map(r=>r?.userId))];return this.firebaseHelper.collection(this.db.collection(Er_firebaseApiUrls.users,r=>r.where(XW(),"in",i))).pipe((0,qe.U)(r=>r.reduce((o,u)=>({...o,[u.key]:u}),{})),(0,qe.U)(r=>e.map(o=>{const u=r[o.userId];if(!u)return null;const{key:h,isAdmin:g,...v}=u;return{...o,timestamp:o.timestamp?.toDate().toISOString(),user:{uid:h,...v}}}).filter(o=>!!o)))}))}getCollectionByUserId(e){return this.firebaseHelper.collection(this.db.collection(Er_firebaseApiUrls.badges,i=>i.where("userId","==",e).orderBy("timestamp","desc").orderBy("clock","desc"))).pipe((0,qe.U)(i=>i.length?i.map(r=>({...r,timestamp:r?.timestamp?.toDate().toISOString()})):[]))}create(e){var i=this;return(0,Ee.Z)(function*(){if(e?.userId)return i.badges.add({clock:e.clock,timestamp:i.dateService.isoToJsDate(e.timestamp)??new Date,userId:e.userId})})()}update(e,i){var r=this;return(0,Ee.Z)(function*(){return r.badges.doc(e).update({clock:i.clock,timestamp:r.dateService.isoToJsDate(i.timestamp)??new Date})})()}deleteByKey(e){return this.badges.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(BR),l.LFG(kS),l.LFG(UR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r.startNfcScan())}),l.TgZ(1,"span"),l._uU(2,"Start"),l.qZA(),l.TgZ(3,"mat-icon"),l._uU(4,"play_arrow"),l.qZA()()}}function tq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",10),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r.stopNfcScan())}),l.TgZ(1,"span"),l._uU(2,"Stop"),l.qZA(),l.TgZ(3,"mat-icon"),l._uU(4,"stop"),l.qZA()()}}function nq(n,t){1&n&&(l.TgZ(0,"li"),l._uU(1," Click the button to start NFC service "),l.qZA())}function iq(n,t){1&n&&(l.TgZ(0,"li")(1,"strong"),l._uU(2,"Grant permission manually in browser settings"),l.qZA(),l._uU(3," (you've blocked NFC permission when asked) "),l.qZA())}function rq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.startWriteNfc("in"))}),l.TgZ(1,"span"),l._uU(2,"Write IN"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"login"),l.qZA()()}}function sq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.startWriteNfc("out"))}),l.TgZ(1,"span"),l._uU(2,"Write OUT"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"logout"),l.qZA()()}}function oq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.stopWriteNfc())}),l.TgZ(1,"span"),l._uU(2,"STOP"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"stop"),l.qZA()()}}function aq(n,t){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"strong"),l._uU(3,"Tag administration section"),l.qZA()(),l.TgZ(4,"div"),l.YNc(5,rq,6,0,"button",11),l.YNc(6,sq,6,0,"button",11),l.YNc(7,oq,6,0,"button",12),l.qZA()()),2&n){const e=l.oxw(2);l.xp6(5),l.Q6J("ngIf","stopped"===e.nfcWriteRunningState),l.xp6(1),l.Q6J("ngIf","stopped"===e.nfcWriteRunningState),l.xp6(1),l.Q6J("ngIf","started"===e.nfcWriteRunningState)}}function lq(n,t){if(1&n&&(l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"NFC badge"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div"),l._uU(5,"Running status: "),l.TgZ(6,"strong"),l._uU(7),l.qZA()(),l.TgZ(8,"div"),l._uU(9,"Permission status: "),l.TgZ(10,"strong"),l._uU(11),l.qZA()(),l.TgZ(12,"div",6),l.YNc(13,eq,5,0,"button",7),l.YNc(14,tq,5,0,"button",8),l.qZA(),l.TgZ(15,"strong"),l._uU(16,"To use NFC:"),l.qZA(),l.TgZ(17,"ul"),l.YNc(18,nq,2,0,"li",1),l.YNc(19,iq,4,0,"li",1),l.TgZ(20,"li"),l._uU(21," Activate the NFC feature in the smartphone settings "),l.qZA(),l.TgZ(22,"li"),l._uU(23," Touch the appropriate smart tag (Black = IN, Red = OUT) "),l.qZA()(),l._UZ(24,"hr"),l.YNc(25,aq,8,3,"div",5),l.qZA()()),2&n){const e=l.oxw();l.xp6(7),l.Oqu(e.nfcReadRunningState),l.xp6(4),l.Oqu(e.nfcPermissionState),l.xp6(2),l.Q6J("ngIf","stopped"===e.nfcReadRunningState&&"denied"!==e.nfcPermissionState),l.xp6(1),l.Q6J("ngIf","started"===e.nfcReadRunningState),l.xp6(4),l.Q6J("ngIf","denied"!==e.nfcPermissionState),l.xp6(1),l.Q6J("ngIf","denied"===e.nfcPermissionState)}}function cq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Manual badge"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"ob-badge-form",15),l.NdJ("formSubmitted",function(r){l.CHM(e);const o=l.oxw();return l.KtG(o.addBadgeItem(r))}),l.qZA()()()}if(2&n){const e=l.oxw();l.xp6(4),l.Q6J("badge",e.newBadge)}}let uq=(()=>{class n{constructor(e,i,r,o,u,h,g,v,D){this.auth=e,this.nfcService=i,this.badgeApiService=r,this.userApiService=o,this.datePipe=u,this.dateService=h,this.confirmDialog=g,this.appLoaderService=v,this.snackbar=D,this.hasNfcCapability$=this.nfcService.hasNfcCapability$,this.nfcMessages$=this.nfcService.messages$,this.nfcPermissionState="denied",this.nfcReadRunningState="stopped",this.nfcWriteRunningState="stopped",this.messages=[],this.newBadge={clock:"in",timestamp:this.datePipe.transform(new Date,Er_formatter.badgeIsoDateTime)??void 0},this.destroySubject=new ct.x}ngOnInit(){var e=this;this.nfcService.init(),this.nfcService.readRunningState$.pipe(ii(this.destroySubject)).subscribe(function(){var i=(0,Ee.Z)(function*(r){e.nfcReadRunningState=r});return function(r){return i.apply(this,arguments)}}()),this.nfcService.writeRunningState$.pipe(ii(this.destroySubject)).subscribe(i=>{this.nfcWriteRunningState=i}),this.nfcService.permissionState$.pipe(ii(this.destroySubject)).subscribe(i=>{this.nfcPermissionState=i}),this.nfcMessages$.pipe(ii(this.destroySubject)).subscribe(i=>{this.doBadge(i.data)}),this.auth.user$.pipe(nn(i=>!!i),(0,ui.b)(i=>{const{uid:r,email:o,displayName:u}=i;this.user={uid:r,email:o,displayName:u},this.newBadge={...this.newBadge,userId:this.user.uid}}),ii(this.destroySubject)).subscribe()}ngOnDestroy(){this.nfcService.stopRead(),this.nfcService.stopWrite(),this.destroySubject.next()}badgeIn(){this.doBadge("in")}badgeOut(){this.doBadge("out")}doBadge(e){if(!this.user)return void alert(`No username to use for badge ${e}`);const i={userId:this.user.uid,clock:e,timestamp:(new Date).toISOString()};this.addBadgeItem(i)}addBadgeItem(e){var i=this;return(0,Ee.Z)(function*(){try{i.appLoaderService.start(),yield i.badgeApiService.create(e),console.debug("Created",e),i.snackbar.open(`${e.clock?.toUpperCase()}: ${e.timestamp?i.dateService.isoToHumanDate(e.timestamp):""}`,"Dismiss")}catch(r){console.error("[Home] error on adding badge item",r)}i.appLoaderService.stop()})()}startNfcScan(){this.nfcService.startRead()}stopNfcScan(){this.nfcService.stopRead()}startWriteNfc(e){this.nfcService.startWrite(e)}stopWriteNfc(){this.nfcService.stopWrite(),this.nfcService.startRead()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl),l.Y36(_L),l.Y36(vL),l.Y36(tT),l.Y36(ra),l.Y36(kS),l.Y36(mL),l.Y36(c1),l.Y36(dL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-home"]],decls:15,vars:3,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"new-badge-buttons"],["mat-fab","","color","primary",1,"new-badge-button","in",3,"click"],["mat-fab","","color","warn",1,"new-badge-button","out",3,"click"],[4,"obAdminOnly"],[1,"nfc-badge-button"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click"],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,lq,26,6,"mat-card",1),l.ALo(2,"async"),l.TgZ(3,"mat-card")(4,"mat-card-title"),l._uU(5,"New badge"),l.qZA(),l.TgZ(6,"mat-card-content")(7,"div",2)(8,"button",3),l.NdJ("click",function(){return i.badgeIn()}),l.TgZ(9,"mat-icon"),l._uU(10,"login"),l.qZA()(),l.TgZ(11,"button",4),l.NdJ("click",function(){return i.badgeOut()}),l.TgZ(12,"mat-icon"),l._uU(13,"logout"),l.qZA()()()()(),l.YNc(14,cq,5,1,"mat-card",5),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,i.hasNfcCapability$)))},dependencies:[En,Fd,hk,uk,dk,VI,dx,bk,Gs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px}.nfc-badge-button[_ngcontent-%COMP%]{margin-block:20px}.new-badge-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;padding-block:20px}.new-badge-button[_ngcontent-%COMP%]{width:120px;height:120px}.new-badge-button[_ngcontent-%COMP%]   .mat-fab.mat-button-wrapper[_ngcontent-%COMP%]{width:90px;height:90px}.new-badge-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:90px;width:90px;height:90px}.new-badge-button.in[_ngcontent-%COMP%]{background-color:#60c687}.new-badge-button.out[_ngcontent-%COMP%]{background-color:#e95e5e}"]}),n})();function dq(n,t){1&n&&l._UZ(0,"ob-spinner")}function hq(n,t){1&n&&(l.TgZ(0,"p",5),l._uU(1,"No data"),l.qZA())}function fq(n,t){1&n&&(l.TgZ(0,"mat-icon",10),l._uU(1,"login"),l.qZA())}function pq(n,t){1&n&&(l.TgZ(0,"mat-icon",11),l._uU(1,"logout"),l.qZA())}function mq(n,t){if(1&n&&(l.TgZ(0,"span")(1,"strong"),l._uU(2),l.ALo(3,"date"),l.qZA()()),2&n){const e=l.oxw().$implicit;l.xp6(2),l.Oqu(l.xi3(3,1,e.timestamp,"dd/MM/yyyy HH:mm"))}}function gq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",5)(1,"span"),l.YNc(2,fq,2,0,"mat-icon",6),l.YNc(3,pq,2,0,"mat-icon",7),l.YNc(4,mq,4,4,"span",1),l.qZA(),l.TgZ(5,"span")(6,"button",8),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.deleteBadgeItem(o))}),l.TgZ(7,"mat-icon"),l._uU(8,"delete"),l.qZA()(),l.TgZ(9,"button",9),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.openUpdateBadgeModal(o))}),l.TgZ(10,"mat-icon"),l._uU(11,"edit"),l.qZA()()()()}if(2&n){const e=t.$implicit;l.xp6(2),l.Q6J("ngIf","in"===e.clock),l.xp6(1),l.Q6J("ngIf","out"===e.clock),l.xp6(1),l.Q6J("ngIf",e.timestamp)}}function _q(n,t){if(1&n&&(l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Badge list"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div",2),l.YNc(5,hq,2,0,"p",3),l.YNc(6,gq,12,3,"div",4),l.qZA()()()),2&n){const e=t.ngIf;l.xp6(5),l.Q6J("ngIf",!e.length),l.xp6(1),l.Q6J("ngForOf",e)}}let yq=(()=>{class n{constructor(e,i,r,o){this.badgeApiService=e,this.dateService=i,this.auth=r,this.dialog=o,this.isLoading=!0,this.destroySubject=new ct.x}ngOnInit(){this.badges$=this.auth.userId$.pipe(ds(),nn(e=>!!e),cn(e=>this.badgeApiService.getCollectionByUserId(e).pipe((0,ui.b)(i=>this.isLoading=!1),Ha(i=>(console.error({err:i}),this.isLoading=!1,Ke([]))))),ii(this.destroySubject))}ngOnDestroy(){this.destroySubject.next()}deleteBadgeItem(e){confirm(`Are you sure to delete badge\n${e.clock?.toUpperCase()}: ${this.dateService.isoToHumanDate(e.timestamp)}?`)&&e.key&&this.badgeApiService.deleteByKey(e.key).then(r=>console.debug("Deleted",e))}openUpdateBadgeModal(e){const i=this.dialog.open(fL,{width:"350px"});i.componentInstance.badgeForm={userId:e.userId,clock:e.clock,timestamp:this.dateService.isoToHtmlDate(e?.timestamp)},i.componentInstance.formSubmitted.subscribe(r=>{this.badgeApiService.update(e.key,{...r,timestamp:r.timestamp}).then(o=>console.debug("Updated",r)),i.close()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vL),l.Y36(kS),l.Y36(Pl),l.Y36(TS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-list"]],decls:4,vars:4,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"badge-list"],["class","badge-list-item",4,"ngIf"],["class","badge-list-item",4,"ngFor","ngForOf"],[1,"badge-list-item"],["class","badge-in",4,"ngIf"],["class","badge-out",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"badge-in"],[1,"badge-out"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,dq,1,0,"ob-spinner",1),l.YNc(2,_q,7,2,"mat-card",1),l.ALo(3,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,2,i.badges$)))},dependencies:[Lr,En,Fd,hk,uk,dk,VI,GI,Gs,ra],styles:[".badge-list[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.badge-list-item[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}.badge-list-item[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#efefef}.badge-list-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.badge-list-item[_ngcontent-%COMP%]   .badge-in[_ngcontent-%COMP%]{color:#60c687}.badge-list-item[_ngcontent-%COMP%]   .badge-out[_ngcontent-%COMP%]{color:#e95e5e}"]}),n})(),vq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-not-found"]],decls:5,vars:0,consts:[[1,"app-content-inner"],["routerLink","/home"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Page not found. Go to "),l.TgZ(3,"a",1),l._uU(4,"HOME"),l.qZA()()())},dependencies:[w_]}),n})();function bq(n,t){1&n&&l._UZ(0,"ob-spinner")}function wq(n,t){1&n&&(l.TgZ(0,"p",5),l._uU(1,"No data"),l.qZA())}function Cq(n,t){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1,"verified_user"),l.qZA())}function Eq(n,t){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1,"person"),l.qZA())}function Dq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",6)(1,"span"),l.YNc(2,Cq,2,0,"mat-icon",1),l.YNc(3,Eq,2,0,"mat-icon",1),l.TgZ(4,"strong"),l._uU(5),l.qZA(),l.TgZ(6,"span"),l._uU(7),l.qZA()(),l.TgZ(8,"span")(9,"button",7),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.deleteUser(o))}),l.TgZ(10,"mat-icon"),l._uU(11,"delete"),l.qZA()(),l.TgZ(12,"button",8),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.openUpdateUserModal(o))}),l.TgZ(13,"mat-icon"),l._uU(14,"edit"),l.qZA()()()()}if(2&n){const e=t.$implicit;l.MGl("title","",e.key,"}"),l.xp6(2),l.Q6J("ngIf",e.isAdmin),l.xp6(1),l.Q6J("ngIf",!e.isAdmin),l.xp6(2),l.Oqu(e.displayName),l.xp6(2),l.hij(" ",e.email," ")}}function Iq(n,t){if(1&n&&(l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Users list"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div",2),l.YNc(5,wq,2,0,"p",3),l.YNc(6,Dq,15,5,"div",4),l.qZA()()()),2&n){const e=t.ngIf;l.xp6(5),l.Q6J("ngIf",!e.length),l.xp6(1),l.Q6J("ngForOf",e)}}let Sq=(()=>{class n{constructor(e){this.userApiService=e,this.isLoading=!0}ngOnInit(){this.users$=this.userApiService.getList().pipe((0,ui.b)(e=>this.isLoading=!1),Ha(e=>(console.error({err:e}),this.isLoading=!1,Ke([]))))}openUpdateUserModal(e){console.log("openUpdateUserModal",e)}deleteUser(e){console.log("deleteUser",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tT))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-user-list"]],decls:4,vars:4,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"user-list"],["class","user-list-item",4,"ngIf"],["class","user-list-item",3,"title",4,"ngFor","ngForOf"],[1,"user-list-item"],[1,"user-list-item",3,"title"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,bq,1,0,"ob-spinner",1),l.YNc(2,Iq,7,2,"mat-card",1),l.ALo(3,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,2,i.users$)))},dependencies:[Lr,En,Fd,hk,uk,dk,VI,GI,Gs],styles:[".user-list[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.user-list-item[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}.user-list-item[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#efefef}.user-list-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px}"]}),n})(),Aq=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAdmin$.pipe((0,qe.U)(r=>r),(0,ui.b)(r=>{r||this.router.navigate(["/"])}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Pl),l.LFG(qi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mq(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You have to be authenticated to use this app. "),l._UZ(3,"ob-login-with-google",2),l.qZA(),l.BQk())}function Tq(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You are not authorized to use this app."),l.qZA(),l.BQk())}function xq(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You are authorized to use this app. Go to "),l.TgZ(3,"a",3),l._uU(4,"HOME"),l.qZA()(),l.BQk())}let kq=(()=>{class n{constructor(e){this.authService=e,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-login"]],decls:8,vars:11,consts:[[1,"app-content-inner"],[4,"ngIf"],["color","primary"],["routerLink","/home"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Mq,4,0,"ng-container",1),l.ALo(2,"async"),l.YNc(3,Tq,3,0,"ng-container",1),l.ALo(4,"async"),l.ALo(5,"async"),l.YNc(6,xq,5,0,"ng-container",1),l.ALo(7,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!l.lcZ(2,3,i.isAuthenticated$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(4,5,i.isAuthenticated$)&&!l.lcZ(5,7,i.isAuthorized$)),l.xp6(3),l.Q6J("ngIf",l.lcZ(7,9,i.isAuthorized$)))},dependencies:[En,hL,w_,Gs],styles:["p[_ngcontent-%COMP%]{text-align:center}"]}),n})(),Ek=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAuthorized$.pipe((0,qe.U)(r=>r),(0,ui.b)(r=>{r||this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}})}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Pl),l.LFG(qi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rq=[{path:"login",component:kq},{path:"home",component:uq,canActivate:[Ek]},{path:"badges",component:yq,canActivate:[Ek]},{path:"users",component:Sq,canActivate:[Ek,Aq]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:vq}];let Oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ji,_2.forRoot(Rq)]}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Fj]}),n.\u0275inj=l.cJS({providers:[l1,ra,_L,s$,VP],imports:[pa,yG,FN,j2.register("ngsw-worker.js",{enabled:Er_production,registrationStrategy:"registerWhenStable:30000"}),Cr.hO.initializeApp(Er_firebase),xu(()=>ac(Er_firebase)),QW(()=>JW()),Cz,Ty,lz,PW,jW,Oq]}),n})();Er_production&&(0,l.G48)(),Xl().bootstrapModule(Pq).catch(n=>console.error(n))},7982:(ht,ke,O)=>{O.d(ke,{Gb:()=>l.Gb,Iv:()=>l.Iv,Kz:()=>l.Kz});var l=O(579)},5867:(ht,ke,O)=>{O.d(ke,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=O(9681);(0,l.registerVersion)("firebase","9.12.0","app")},127:(ht,ke,O)=>{O.d(ke,{Z:()=>l.Z});var l=O(3942);l.Z.registerVersion("firebase","9.12.0","app-compat")},5881:(ht,ke,O)=>{O.r(ke);var l=O(5861),H=O(3942),P=O(9934),ie=O(2090),ne=(O(9681),O(1877),O(4859));function pe(){return window}function G(){return(G=(0,l.Z)(function*(x,A,k){var z;const{BuildInfo:ce}=pe();(0,P.aq)(A.sessionId,"AuthEvent did not contain a session ID");const Ne=yield ue(A.sessionId),ze={};return(0,P.ar)()?ze.ibi=ce.packageName:(0,P.as)()?ze.apn=ce.packageName:(0,P.at)(x,"operation-not-supported-in-this-environment"),ce.displayName&&(ze.appDisplayName=ce.displayName),ze.sessionId=Ne,(0,P.au)(x,k,A.type,void 0,null!==(z=A.eventId)&&void 0!==z?z:void 0,ze)})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(x){const{BuildInfo:A}=pe(),k={};(0,P.ar)()?k.iosBundleId=A.packageName:(0,P.as)()?k.androidPackageName=A.packageName:(0,P.at)(x,"operation-not-supported-in-this-environment"),yield(0,P.av)(x,k)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(x,A,k){const{cordova:z}=pe();let ce=()=>{};try{yield new Promise((Ne,ze)=>{let _e=null;function xe(){var Mt;Ne();const qt=null===(Mt=z.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof qt&&qt(),"function"==typeof k?.close&&k.close()}function ut(){_e||(_e=window.setTimeout(()=>{ze((0,P.aw)(x,"redirect-cancelled-by-user"))},2e3))}function en(){"visible"===document?.visibilityState&&ut()}A.addPassiveListener(xe),document.addEventListener("resume",ut,!1),(0,P.as)()&&document.addEventListener("visibilitychange",en,!1),ce=()=>{A.removePassiveListener(xe),document.removeEventListener("resume",ut,!1),document.removeEventListener("visibilitychange",en,!1),_e&&window.clearTimeout(_e)}})}finally{ce()}})).apply(this,arguments)}function ue(x){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(x){const A=Qe(x),k=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(k)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(x){if((0,P.aq)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const A=new ArrayBuffer(x.length),k=new Uint8Array(A);for(let z=0;z<x.length;z++)k[z]=x.charCodeAt(z);return k}class Pe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(A)),super.onEvent(A)}initialized(){var A=this;return(0,l.Z)(function*(){yield A.initPromise})()}}function te(x){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(x){const A=yield J()._get(he(x));return A&&(yield J()._remove(he(x))),A})).apply(this,arguments)}function X(){const x=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const z=Math.floor(Math.random()*A.length);x.push(A.charAt(z))}return x.join("")}function J(){return(0,P.ay)(P.b)}function he(x){return(0,P.az)("authEvent",x.config.apiKey,x.name)}function Be(x){if(!x?.includes("?"))return{};const[A,...k]=x.split("?");return(0,ie.zd)(k.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Wt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Fn(x=(0,ie.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zi(){try{const x=self.localStorage,A=P.aI();if(x)return x.setItem(A,"1"),x.removeItem(A),!function fi(x=(0,ie.z$)()){return function lr(){return(0,ie.w1)()&&11===document?.documentMode}()||function jn(x=(0,ie.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ie.hl)()}catch{return Qn()&&(0,ie.hl)()}return!1}function Qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function St(){return"http:"===Wt()||"https:"===Wt()}()||(0,ie.ru)()||Fn())&&!function Yi(){return(0,ie.b$)()||(0,ie.UG)()}()&&Zi()&&!Qn()}function Di(){return Fn()&&typeof document<"u"}function tt(){return(tt=(0,l.Z)(function*(){return!!Di()&&new Promise(x=>{const A=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),x(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},_n=P.ax,pi="persistence";function An(x){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(x){yield x._initializationPromise;const A=ft(),k=P.az(pi,x.config.apiKey,x.name);A&&A.setItem(k,x._getPersistence())})).apply(this,arguments)}function ft(){var x;try{return(null===(x=function Cn(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const dt=P.ax;class pt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class on{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(A){var k=this;return(0,l.Z)(function*(){const z=A._key();let ce=k.eventManagers.get(z);return ce||(ce=new Pe(A),k.eventManagers.set(z,ce),k.attachCallbackListeners(A,ce)),ce})()}_openPopup(A){(0,P.at)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){!function be(x){var A,k,z,ce,Ne,ze,_e,xe,ut,en;const Mt=pe();(0,P.ax)("function"==typeof(null===(A=Mt?.universalLinks)||void 0===A?void 0:A.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=Mt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Ne=null===(ce=null===(z=Mt?.cordova)||void 0===z?void 0:z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ne?void 0:Ne.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(xe=null===(_e=null===(ze=Mt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===xe?void 0:xe.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(en=null===(ut=Mt?.cordova)||void 0===ut?void 0:ut.InAppBrowser)||void 0===en?void 0:en.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const ze=yield Ne._initialize(A);yield ze.initialized(),ze.resetRedirect(),(0,P.aD)(),yield Ne._originValidation(A);const _e=function De(x,A,k=null){return{type:A,eventId:k,urlResponse:null,sessionId:X(),postBody:null,tenantId:x.tenantId,error:(0,P.aw)(x,"no-auth-event")}}(A,z,ce);yield function Ye(x,A){return J()._set(he(x),A)}(A,_e);const xe=yield function q(x,A,k){return G.apply(this,arguments)}(A,_e,k),ut=yield function Se(x){const{cordova:A}=pe();return new Promise(k=>{A.plugins.browsertab.isAvailable(z=>{let ce=null;z?A.plugins.browsertab.openUrl(x):ce=A.InAppBrowser.open(x,(0,P.ap)()?"_blank":"_system","location=yes"),k(ce)})})}(xe);return function Ae(x,A,k){return Je.apply(this,arguments)}(A,ze,ut)})()}_isIframeWebStorageSupported(A,k){throw new Error("Method not implemented.")}_originValidation(A){const k=A._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Q(x){return Oe.apply(this,arguments)}(A)),this.originValidationPromises[k]}attachCallbackListeners(A,k){const{universalLinks:z,handleOpenURL:ce,BuildInfo:Ne}=pe(),ze=setTimeout((0,l.Z)(function*(){yield te(A),k.onEvent(We())}),500),_e=function(){var en=(0,l.Z)(function*(Mt){clearTimeout(ze);const qt=yield te(A);let wr=null;qt&&Mt?.url&&(wr=function we(x,A){var k,z;const ce=function He(x){const A=Be(x),k=A.link?decodeURIComponent(A.link):void 0,z=Be(k).link,ce=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return Be(ce).link||ce||z||k||x}(A);if(ce.includes("/__/auth/callback")){const Ne=Be(ce),ze=Ne.firebaseError?function oe(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,_e=null===(z=null===(k=ze?.code)||void 0===k?void 0:k.split("auth/"))||void 0===z?void 0:z[1],xe=_e?(0,P.aw)(_e):null;return xe?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ce,postBody:null}}return null}(qt,Mt.url)),k.onEvent(wr||We())});return function(qt){return en.apply(this,arguments)}}();typeof z<"u"&&"function"==typeof z.subscribe&&z.subscribe(null,_e);const xe=ce,ut=`${Ne.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var en=(0,l.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(ut)&&_e({url:Mt}),"function"==typeof xe)try{xe(Mt)}catch(qt){console.error(qt)}});return function(Mt){return en.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(A){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(A,k,z,ce)})()}_openRedirect(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(A,k,z,ce)})()}_isIframeWebStorageSupported(A,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,k)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return Di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,l.Z)(function*(){if(A.underlyingResolver)return;const k=yield function cr(){return tt.apply(this,arguments)}();A.underlyingResolver=k?A.cordovaResolver:A.browserResolver})()}}function Rn(x){return x.unwrap()}function mi(x){return Ii(x)}function Ii(x){const{_tokenResponse:A}=x instanceof ie.ZR?x.customData:x;if(!A)return null;if(!(x instanceof ie.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return P.P.credentialFromResult(x);const k=A.providerId;if(!k||k===P.o.PASSWORD)return null;let z;switch(k){case P.o.GOOGLE:z=P.Q;break;case P.o.FACEBOOK:z=P.N;break;case P.o.GITHUB:z=P.T;break;case P.o.TWITTER:z=P.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Ne,oauthTokenSecret:ze,pendingToken:_e,nonce:xe}=A;return Ne||ze||ce||_e?_e?k.startsWith("saml.")?P.aL._create(k,_e):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:_e,idToken:ce,accessToken:Ne}):new P.U(k).credential({idToken:ce,accessToken:Ne,rawNonce:xe}):null}return x instanceof ie.ZR?z.credentialFromError(x):z.credentialFromResult(x)}function Ot(x,A){return A.catch(k=>{throw k instanceof ie.ZR&&function Tt(x,A){var k,z;const ce=null===(k=A.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===(z=A)||void 0===z?void 0:z.code))A.resolver=new Jn(x,P.an(x,A));else if(ce){const Ne=Ii(A),ze=A;Ne&&(ze.credential=Ne,ze.tenantId=ce.tenantId||void 0,ze.email=ce.email||void 0,ze.phoneNumber=ce.phoneNumber||void 0)}}(x,k),k}).then(k=>{const ce=k.user;return{operationType:k.operationType,credential:mi(k),additionalUserInfo:P.al(k),user:Nn.getOrCreate(ce)}})}function Si(x,A){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(x,A){const k=yield A;return{verificationId:k.verificationId,confirm:z=>Ot(x,k.confirm(z))}})).apply(this,arguments)}class Jn{constructor(A,k){this.resolver=k,this.auth=function ri(x){return x.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Ot(Rn(this.auth),this.resolver.resolveSignIn(A))}}class Nn{constructor(A){this._delegate=A,this.multiFactor=P.ao(A)}static getOrCreate(A){return Nn.USER_MAP.has(A)||Nn.USER_MAP.set(A,new Nn(A)),Nn.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var k=this;return(0,l.Z)(function*(){return Ot(k.auth,P.Z(k._delegate,A))})()}linkWithPhoneNumber(A,k){var z=this;return(0,l.Z)(function*(){return Si(z.auth,P.l(z._delegate,A,k))})()}linkWithPopup(A){var k=this;return(0,l.Z)(function*(){return Ot(k.auth,P.d(k._delegate,A,pt))})()}linkWithRedirect(A){var k=this;return(0,l.Z)(function*(){return yield An(P.aE(k.auth)),P.g(k._delegate,A,pt)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var k=this;return(0,l.Z)(function*(){return Ot(k.auth,P._(k._delegate,A))})()}reauthenticateWithPhoneNumber(A,k){return Si(this.auth,P.r(this._delegate,A,k))}reauthenticateWithPopup(A){return Ot(this.auth,P.e(this._delegate,A,pt))}reauthenticateWithRedirect(A){var k=this;return(0,l.Z)(function*(){return yield An(P.aE(k.auth)),P.h(k._delegate,A,pt)})()}sendEmailVerification(A){return P.ab(this._delegate,A)}unlink(A){var k=this;return(0,l.Z)(function*(){return yield P.ak(k._delegate,A),k})()}updateEmail(A){return P.ag(this._delegate,A)}updatePassword(A){return P.ah(this._delegate,A)}updatePhoneNumber(A){return P.u(this._delegate,A)}updateProfile(A){return P.af(this._delegate,A)}verifyBeforeUpdateEmail(A,k){return P.ac(this._delegate,A,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nn.USER_MAP=new WeakMap;const et=P.ax;let Me=(()=>{class x{constructor(k,z){if(this.app=k,z.isInitialized())return this._delegate=z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=k.options;et(ce,"invalid-api-key",{appName:k.name}),et(ce,"invalid-api-key",{appName:k.name});const Ne=typeof window<"u"?pt:void 0;this._delegate=z.initialize({options:{persistence:vt(ce,k.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,z){P.G(this._delegate,k,z)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,z){return P.a1(this._delegate,k,z)}createUserWithEmailAndPassword(k,z){var ce=this;return(0,l.Z)(function*(){return Ot(ce._delegate,P.a5(ce._delegate,k,z))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,l.Z)(function*(){et(Xn(),k._delegate,"operation-not-supported-in-this-environment");const z=yield P.j(k._delegate,pt);return z?Ot(k._delegate,Promise.resolve(z)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function mn(x,A){(0,P.aE)(x)._logFramework(A)}(this._delegate,k)}onAuthStateChanged(k,z,ce){const{next:Ne,error:ze,complete:_e}=rt(k,z,ce);return this._delegate.onAuthStateChanged(Ne,ze,_e)}onIdTokenChanged(k,z,ce){const{next:Ne,error:ze,complete:_e}=rt(k,z,ce);return this._delegate.onIdTokenChanged(Ne,ze,_e)}sendSignInLinkToEmail(k,z){return P.a7(this._delegate,k,z)}sendPasswordResetEmail(k,z){return P.a0(this._delegate,k,z||void 0)}setPersistence(k){var z=this;return(0,l.Z)(function*(){let ce;switch(function xi(x,A){_n(Object.values(Wn).includes(A),x,"invalid-persistence-type"),(0,ie.b$)()?_n(A!==Wn.SESSION,x,"unsupported-persistence-type"):(0,ie.UG)()?_n(A===Wn.NONE,x,"unsupported-persistence-type"):Qn()?_n(A===Wn.NONE||A===Wn.LOCAL&&(0,ie.hl)(),x,"unsupported-persistence-type"):_n(A===Wn.NONE||Zi(),x,"unsupported-persistence-type")}(z._delegate,k),k){case Wn.SESSION:ce=P.a;break;case Wn.LOCAL:ce=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case Wn.NONE:ce=P.L;break;default:return P.at("argument-error",{appName:z._delegate.name})}return z._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Ot(this._delegate,P.X(this._delegate))}signInWithCredential(k){return Ot(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return Ot(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,z){return Ot(this._delegate,P.a6(this._delegate,k,z))}signInWithEmailLink(k,z){return Ot(this._delegate,P.a9(this._delegate,k,z))}signInWithPhoneNumber(k,z){return Si(this._delegate,P.s(this._delegate,k,z))}signInWithPopup(k){var z=this;return(0,l.Z)(function*(){return et(Xn(),z._delegate,"operation-not-supported-in-this-environment"),Ot(z._delegate,P.c(z._delegate,k,pt))})()}signInWithRedirect(k){var z=this;return(0,l.Z)(function*(){return et(Xn(),z._delegate,"operation-not-supported-in-this-environment"),yield An(z._delegate),P.f(z._delegate,k,pt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Wn,x})();function rt(x,A,k){let z=x;"function"!=typeof x&&({next:z,error:A,complete:k}=x);const ce=z;return{next:ze=>ce(ze&&Nn.getOrCreate(ze)),error:A,complete:k}}function vt(x,A){const k=function ln(x,A){const k=ft();if(!k)return[];const z=P.az(pi,x,A);switch(k.getItem(z)){case Wn.NONE:return[P.L];case Wn.LOCAL:return[P.i,P.a];case Wn.SESSION:return[P.a];default:return[]}}(x,A);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const z of[P.b,P.a])k.includes(z)||k.push(z);return k.includes(P.L)||k.push(P.L),k}class At{constructor(){this.providerId="phone",this._delegate=new P.P(Rn(H.Z.auth()))}static credential(A,k){return P.P.credential(A,k)}verifyPhoneNumber(A,k){return this._delegate.verifyPhoneNumber(A,k)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=P.P.PROVIDER_ID;const Xt=P.ax;class W{constructor(A,k,z=H.Z.app()){var ce;Xt(null===(ce=z.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:z.name}),this._delegate=new P.R(A,k,z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(x){x.INTERNAL.registerComponent(new ne.wA("auth-compat",A=>{const k=A.getProvider("app-compat").getImmediate(),z=A.getProvider("auth");return new Me(k,z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:At,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:W,TwitterAuthProvider:P.W,Auth:Me,AuthCredential:P.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.22")}(H.Z)},9751:(ht,ke,O)=>{O.d(ke,{y:()=>pe});var l=O(930),H=O(727),P=O(8822),ie=O(9635),ge=O(2416),ve=O(576),ne=O(2806);let pe=(()=>{class Q{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ae=new Q;return Ae.source=this,Ae.operator=Se,Ae}subscribe(Se,Ae,Je){const be=function G(Q){return Q&&Q instanceof l.Lv||function q(Q){return Q&&(0,ve.m)(Q.next)&&(0,ve.m)(Q.error)&&(0,ve.m)(Q.complete)}(Q)&&(0,H.Nn)(Q)}(Se)?Se:new l.Hp(Se,Ae,Je);return(0,ne.x)(()=>{const{operator:ue,source:lt}=this;be.add(ue?ue.call(be,lt):lt?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ae){Se.error(Ae)}}forEach(Se,Ae){return new(Ae=ye(Ae))((Je,be)=>{const ue=new l.Hp({next:lt=>{try{Se(lt)}catch(Qe){be(Qe),ue.unsubscribe()}},error:be,complete:Je});this.subscribe(ue)})}_subscribe(Se){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Se)}[P.L](){return this}pipe(...Se){return(0,ie.U)(Se)(this)}toPromise(Se){return new(Se=ye(Se))((Ae,Je)=>{let be;this.subscribe(ue=>be=ue,ue=>Je(ue),()=>Ae(be))})}}return Q.create=Oe=>new Q(Oe),Q})();function ye(Q){var Oe;return null!==(Oe=Q??ge.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(ht,ke,O)=>{O.d(ke,{x:()=>ne});var l=O(9751),H=O(727);const ie=(0,O(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=O(8737),ve=O(2806);let ne=(()=>{class ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new pe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ie}next(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Oe,observers:Se}=this;return Q||Oe?H.Lc:(this.currentObservers=null,Se.push(G),new H.w0(()=>{this.currentObservers=null,(0,ge.P)(Se,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Oe,isStopped:Se}=this;Q?G.error(Oe):Se&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return ye.create=(q,G)=>new pe(q,G),ye})();class pe extends ne{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,q)}error(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==Q?Q:H.Lc}}},930:(ht,ke,O)=>{O.d(ke,{Hp:()=>Je,Lv:()=>Q});var l=O(576),H=O(727),P=O(2416),ie=O(7849),ge=O(5032);const ve=ye("C",void 0,void 0);function ye(Fe,Pe,De){return{kind:Fe,value:Pe,error:De}}var q=O(3410),G=O(2806);class Q extends H.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,H.Nn)(Pe)&&Pe.add(this)):this.destination=Qe}static create(Pe,De,Ye){return new Je(Pe,De,Ye)}next(Pe){this.isStopped?lt(function pe(Fe){return ye("N",Fe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?lt(function ne(Fe){return ye("E",void 0,Fe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?lt(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Se(Fe,Pe){return Oe.call(Fe,Pe)}class Ae{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:De}=this;if(De.next)try{De.next(Pe)}catch(Ye){be(Ye)}}error(Pe){const{partialObserver:De}=this;if(De.error)try{De.error(Pe)}catch(Ye){be(Ye)}else be(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(De){be(De)}}}class Je extends Q{constructor(Pe,De,Ye){let te;if(super(),(0,l.m)(Pe)||!Pe)te={next:Pe??void 0,error:De??void 0,complete:Ye??void 0};else{let le;this&&P.v.useDeprecatedNextContext?(le=Object.create(Pe),le.unsubscribe=()=>this.unsubscribe(),te={next:Pe.next&&Se(Pe.next,le),error:Pe.error&&Se(Pe.error,le),complete:Pe.complete&&Se(Pe.complete,le)}):te=Pe}this.destination=new Ae(te)}}function be(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Fe):(0,ie.h)(Fe)}function lt(Fe,Pe){const{onStoppedNotification:De}=P.v;De&&q.z.setTimeout(()=>De(Fe,Pe))}const Qe={closed:!0,next:ge.Z,error:function ue(Fe){throw Fe},complete:ge.Z}},727:(ht,ke,O)=>{O.d(ke,{Lc:()=>ve,w0:()=>ge,Nn:()=>ne});var l=O(576);const P=(0,O(3888).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Oe)=>`${Oe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ie=O(8737);class ge{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Se){q=Se instanceof P?Se.errors:[Se]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Se of Oe)try{pe(Se)}catch(Ae){q=q??[],Ae instanceof P?q=[...q,...Ae.errors]:q.push(Ae)}}if(q)throw new P(q)}}add(q){var G;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof ge){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,ie.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,ie.P)(G,q),q instanceof ge&&q._removeParent(this)}}ge.EMPTY=(()=>{const ye=new ge;return ye.closed=!0,ye})();const ve=ge.EMPTY;function ne(ye){return ye instanceof ge||ye&&"closed"in ye&&(0,l.m)(ye.remove)&&(0,l.m)(ye.add)&&(0,l.m)(ye.unsubscribe)}function pe(ye){(0,l.m)(ye)?ye():ye.unsubscribe()}},2416:(ht,ke,O)=>{O.d(ke,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,ke,O)=>{O.d(ke,{E:()=>H});const H=new(O(9751).y)(ge=>ge.complete())},8996:(ht,ke,O)=>{O.d(ke,{D:()=>Pe});var l=O(8421),H=O(5363),P=O(9468),ve=O(9751),pe=O(2202),ye=O(576),q=O(9672);function Q(De,Ye){if(!De)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,q.f)(te,Ye,()=>{const le=De[Symbol.asyncIterator]();(0,q.f)(te,Ye,()=>{le.next().then(we=>{we.done?te.complete():te.next(we.value)})},0,!0)})})}var Oe=O(3670),Se=O(8239),Ae=O(1144),Je=O(6495),be=O(2206),ue=O(4532),lt=O(3260);function Pe(De,Ye){return Ye?function Fe(De,Ye){if(null!=De){if((0,Oe.c)(De))return function ie(De,Ye){return(0,l.Xf)(De).pipe((0,P.R)(Ye),(0,H.Q)(Ye))}(De,Ye);if((0,Ae.z)(De))return function ne(De,Ye){return new ve.y(te=>{let le=0;return Ye.schedule(function(){le===De.length?te.complete():(te.next(De[le++]),te.closed||this.schedule())})})}(De,Ye);if((0,Se.t)(De))return function ge(De,Ye){return(0,l.Xf)(De).pipe((0,P.R)(Ye),(0,H.Q)(Ye))}(De,Ye);if((0,be.D)(De))return Q(De,Ye);if((0,Je.T)(De))return function G(De,Ye){return new ve.y(te=>{let le;return(0,q.f)(te,Ye,()=>{le=De[pe.h](),(0,q.f)(te,Ye,()=>{let we,X;try{({value:we,done:X}=le.next())}catch(J){return void te.error(J)}X?te.complete():te.next(we)},0,!0)}),()=>(0,ye.m)(le?.return)&&le.return()})}(De,Ye);if((0,lt.L)(De))return function Qe(De,Ye){return Q((0,lt.Q)(De),Ye)}(De,Ye)}throw(0,ue.z)(De)}(De,Ye):(0,l.Xf)(De)}},8421:(ht,ke,O)=>{O.d(ke,{Xf:()=>Oe});var l=O(655),H=O(1144),P=O(8239),ie=O(9751),ge=O(3670),ve=O(2206),ne=O(4532),pe=O(6495),ye=O(3260),q=O(576),G=O(7849),Q=O(8822);function Oe(Fe){if(Fe instanceof ie.y)return Fe;if(null!=Fe){if((0,ge.c)(Fe))return function Se(Fe){return new ie.y(Pe=>{const De=Fe[Q.L]();if((0,q.m)(De.subscribe))return De.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,H.z)(Fe))return function Ae(Fe){return new ie.y(Pe=>{for(let De=0;De<Fe.length&&!Pe.closed;De++)Pe.next(Fe[De]);Pe.complete()})}(Fe);if((0,P.t)(Fe))return function Je(Fe){return new ie.y(Pe=>{Fe.then(De=>{Pe.closed||(Pe.next(De),Pe.complete())},De=>Pe.error(De)).then(null,G.h)})}(Fe);if((0,ve.D)(Fe))return ue(Fe);if((0,pe.T)(Fe))return function be(Fe){return new ie.y(Pe=>{for(const De of Fe)if(Pe.next(De),Pe.closed)return;Pe.complete()})}(Fe);if((0,ye.L)(Fe))return function lt(Fe){return ue((0,ye.Q)(Fe))}(Fe)}throw(0,ne.z)(Fe)}function ue(Fe){return new ie.y(Pe=>{(function Qe(Fe,Pe){var De,Ye,te,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Fe);!(Ye=yield De.next()).done;)if(Pe.next(Ye.value),Pe.closed)return}catch(we){te={error:we}}finally{try{Ye&&!Ye.done&&(le=De.return)&&(yield le.call(De))}finally{if(te)throw te.error}}Pe.complete()})})(Fe,Pe).catch(De=>Pe.error(De))})}},6451:(ht,ke,O)=>{O.d(ke,{T:()=>ve});var l=O(8189),H=O(8421),P=O(515),ie=O(3269),ge=O(8996);function ve(...ne){const pe=(0,ie.yG)(ne),ye=(0,ie._6)(ne,1/0),q=ne;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,l.J)(ye)((0,ge.D)(q,pe)):P.E}},5403:(ht,ke,O)=>{O.d(ke,{Q:()=>P,x:()=>H});var l=O(930);function H(ie,ge,ve,ne,pe){return new P(ie,ge,ve,ne,pe)}class P extends l.Lv{constructor(ge,ve,ne,pe,ye,q){super(ge),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=ve?function(G){try{ve(G)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){ge.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(ht,ke,O)=>{O.d(ke,{U:()=>P});var l=O(4482),H=O(5403);function P(ie,ge){return(0,l.e)((ve,ne)=>{let pe=0;ve.subscribe((0,H.x)(ne,ye=>{ne.next(ie.call(ge,ye,pe++))}))})}},8189:(ht,ke,O)=>{O.d(ke,{J:()=>P});var l=O(5577),H=O(4671);function P(ie=1/0){return(0,l.z)(H.y,ie)}},5577:(ht,ke,O)=>{O.d(ke,{z:()=>pe});var l=O(4004),H=O(8421),P=O(4482),ie=O(9672),ge=O(5403),ne=O(576);function pe(ye,q,G=1/0){return(0,ne.m)(q)?pe((Q,Oe)=>(0,l.U)((Se,Ae)=>q(Q,Se,Oe,Ae))((0,H.Xf)(ye(Q,Oe))),G):("number"==typeof q&&(G=q),(0,P.e)((Q,Oe)=>function ve(ye,q,G,Q,Oe,Se,Ae,Je){const be=[];let ue=0,lt=0,Qe=!1;const Fe=()=>{Qe&&!be.length&&!ue&&q.complete()},Pe=Ye=>ue<Q?De(Ye):be.push(Ye),De=Ye=>{Se&&q.next(Ye),ue++;let te=!1;(0,H.Xf)(G(Ye,lt++)).subscribe((0,ge.x)(q,le=>{Oe?.(le),Se?Pe(le):q.next(le)},()=>{te=!0},void 0,()=>{if(te)try{for(ue--;be.length&&ue<Q;){const le=be.shift();Ae?(0,ie.f)(q,Ae,()=>De(le)):De(le)}Fe()}catch(le){q.error(le)}}))};return ye.subscribe((0,ge.x)(q,Pe,()=>{Qe=!0,Fe()})),()=>{Je?.()}}(Q,Oe,ye,G)))}},5363:(ht,ke,O)=>{O.d(ke,{Q:()=>ie});var l=O(9672),H=O(4482),P=O(5403);function ie(ge,ve=0){return(0,H.e)((ne,pe)=>{ne.subscribe((0,P.x)(pe,ye=>(0,l.f)(pe,ge,()=>pe.next(ye),ve),()=>(0,l.f)(pe,ge,()=>pe.complete(),ve),ye=>(0,l.f)(pe,ge,()=>pe.error(ye),ve)))})}},3099:(ht,ke,O)=>{O.d(ke,{B:()=>ge});var l=O(8421),H=O(7579),P=O(930),ie=O(4482);function ge(ne={}){const{connector:pe=(()=>new H.x),resetOnError:ye=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=ne;return Q=>{let Oe,Se,Ae,Je=0,be=!1,ue=!1;const lt=()=>{Se?.unsubscribe(),Se=void 0},Qe=()=>{lt(),Oe=Ae=void 0,be=ue=!1},Fe=()=>{const Pe=Oe;Qe(),Pe?.unsubscribe()};return(0,ie.e)((Pe,De)=>{Je++,!ue&&!be&&lt();const Ye=Ae=Ae??pe();De.add(()=>{Je--,0===Je&&!ue&&!be&&(Se=ve(Fe,G))}),Ye.subscribe(De),!Oe&&Je>0&&(Oe=new P.Hp({next:te=>Ye.next(te),error:te=>{ue=!0,lt(),Se=ve(Qe,ye,te),Ye.error(te)},complete:()=>{be=!0,lt(),Se=ve(Qe,q),Ye.complete()}}),(0,l.Xf)(Pe).subscribe(Oe))})(Q)}}function ve(ne,pe,...ye){if(!0===pe)return void ne();if(!1===pe)return;const q=new P.Hp({next:()=>{q.unsubscribe(),ne()}});return pe(...ye).subscribe(q)}},9468:(ht,ke,O)=>{O.d(ke,{R:()=>H});var l=O(4482);function H(P,ie=0){return(0,l.e)((ge,ve)=>{ve.add(P.schedule(()=>ge.subscribe(ve),ie))})}},8505:(ht,ke,O)=>{O.d(ke,{b:()=>ge});var l=O(576),H=O(4482),P=O(5403),ie=O(4671);function ge(ve,ne,pe){const ye=(0,l.m)(ve)||ne||pe?{next:ve,error:ne,complete:pe}:ve;return ye?(0,H.e)((q,G)=>{var Q;null===(Q=ye.subscribe)||void 0===Q||Q.call(ye);let Oe=!0;q.subscribe((0,P.x)(G,Se=>{var Ae;null===(Ae=ye.next)||void 0===Ae||Ae.call(ye,Se),G.next(Se)},()=>{var Se;Oe=!1,null===(Se=ye.complete)||void 0===Se||Se.call(ye),G.complete()},Se=>{var Ae;Oe=!1,null===(Ae=ye.error)||void 0===Ae||Ae.call(ye,Se),G.error(Se)},()=>{var Se,Ae;Oe&&(null===(Se=ye.unsubscribe)||void 0===Se||Se.call(ye)),null===(Ae=ye.finalize)||void 0===Ae||Ae.call(ye)}))}):ie.y}},4408:(ht,ke,O)=>{O.d(ke,{o:()=>ge});var l=O(727);class H extends l.w0{constructor(ne,pe){super()}schedule(ne,pe=0){return this}}const P={setInterval(ve,ne,...pe){const{delegate:ye}=P;return ye?.setInterval?ye.setInterval(ve,ne,...pe):setInterval(ve,ne,...pe)},clearInterval(ve){const{delegate:ne}=P;return(ne?.clearInterval||clearInterval)(ve)},delegate:void 0};var ie=O(8737);class ge extends H{constructor(ne,pe){super(ne,pe),this.scheduler=ne,this.work=pe,this.pending=!1}schedule(ne,pe=0){var ye;if(this.closed)return this;this.state=ne;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(G,this.id,pe),this}requestAsyncId(ne,pe,ye=0){return P.setInterval(ne.flush.bind(ne,this),ye)}recycleAsyncId(ne,pe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return pe;null!=pe&&P.clearInterval(pe)}execute(ne,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ne,pe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,pe){let q,ye=!1;try{this.work(ne)}catch(G){ye=!0,q=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ne,scheduler:pe}=this,{actions:ye}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ye,this),null!=ne&&(this.id=this.recycleAsyncId(pe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,ke,O)=>{O.d(ke,{v:()=>P});var l=O(6063);class H{constructor(ge,ve=H.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,ne){return new this.schedulerActionCtor(this,ge).schedule(ne,ve)}}H.now=l.l.now;class P extends H{constructor(ge,ve=H.now){super(ge,ve),this.actions=[],this._active=!1}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let ne;this._active=!0;do{if(ne=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,ne){for(;ge=ve.shift();)ge.unsubscribe();throw ne}}}},4986:(ht,ke,O)=>{O.d(ke,{P:()=>ie,z:()=>P});var l=O(4408);const P=new(O(7565).v)(l.o),ie=P},6063:(ht,ke,O)=>{O.d(ke,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ht,ke,O)=>{O.d(ke,{z:()=>l});const l={setTimeout(H,P,...ie){const{delegate:ge}=l;return ge?.setTimeout?ge.setTimeout(H,P,...ie):setTimeout(H,P,...ie)},clearTimeout(H){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ht,ke,O)=>{O.d(ke,{h:()=>H});const H=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,ke,O)=>{O.d(ke,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,ke,O)=>{O.d(ke,{_6:()=>ve,jO:()=>ie,yG:()=>ge});var l=O(576),H=O(3532);function P(ne){return ne[ne.length-1]}function ie(ne){return(0,l.m)(P(ne))?ne.pop():void 0}function ge(ne){return(0,H.K)(P(ne))?ne.pop():void 0}function ve(ne,pe){return"number"==typeof P(ne)?ne.pop():pe}},8737:(ht,ke,O)=>{function l(H,P){if(H){const ie=H.indexOf(P);0<=ie&&H.splice(ie,1)}}O.d(ke,{P:()=>l})},3888:(ht,ke,O)=>{function l(H){const ie=H(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(ke,{d:()=>l})},2806:(ht,ke,O)=>{O.d(ke,{O:()=>ie,x:()=>P});var l=O(2416);let H=null;function P(ge){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!H;if(ve&&(H={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:ne,error:pe}=H;if(H=null,ne)throw pe}}else ge()}function ie(ge){l.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=ge)}},9672:(ht,ke,O)=>{function l(H,P,ie,ge=0,ve=!1){const ne=P.schedule(function(){ie(),ve?H.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(H.add(ne),!ve)return ne}O.d(ke,{f:()=>l})},4671:(ht,ke,O)=>{function l(H){return H}O.d(ke,{y:()=>l})},1144:(ht,ke,O)=>{O.d(ke,{z:()=>l});const l=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ht,ke,O)=>{O.d(ke,{D:()=>H});var l=O(576);function H(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(ht,ke,O)=>{function l(H){return"function"==typeof H}O.d(ke,{m:()=>l})},3670:(ht,ke,O)=>{O.d(ke,{c:()=>P});var l=O(8822),H=O(576);function P(ie){return(0,H.m)(ie[l.L])}},6495:(ht,ke,O)=>{O.d(ke,{T:()=>P});var l=O(2202),H=O(576);function P(ie){return(0,H.m)(ie?.[l.h])}},8239:(ht,ke,O)=>{O.d(ke,{t:()=>H});var l=O(576);function H(P){return(0,l.m)(P?.then)}},3260:(ht,ke,O)=>{O.d(ke,{L:()=>ie,Q:()=>P});var l=O(655),H=O(576);function P(ge){return(0,l.FC)(this,arguments,function*(){const ne=ge.getReader();try{for(;;){const{value:pe,done:ye}=yield(0,l.qq)(ne.read());if(ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{ne.releaseLock()}})}function ie(ge){return(0,H.m)(ge?.getReader)}},3532:(ht,ke,O)=>{O.d(ke,{K:()=>H});var l=O(576);function H(P){return P&&(0,l.m)(P.schedule)}},4482:(ht,ke,O)=>{O.d(ke,{A:()=>H,e:()=>P});var l=O(576);function H(ie){return(0,l.m)(ie?.lift)}function P(ie){return ge=>{if(H(ge))return ge.lift(function(ve){try{return ie(ve,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,ke,O)=>{function l(){}O.d(ke,{Z:()=>l})},9635:(ht,ke,O)=>{O.d(ke,{U:()=>P,z:()=>H});var l=O(4671);function H(...ie){return P(ie)}function P(ie){return 0===ie.length?l.y:1===ie.length?ie[0]:function(ve){return ie.reduce((ne,pe)=>pe(ne),ve)}}},7849:(ht,ke,O)=>{O.d(ke,{h:()=>P});var l=O(2416),H=O(3410);function P(ie){H.z.setTimeout(()=>{const{onUnhandledError:ge}=l.v;if(!ge)throw ie;ge(ie)})}},4532:(ht,ke,O)=>{function l(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ke,{z:()=>l})},655:(ht,ke,O)=>{function ie(X,J){var he={};for(var oe in X)Object.prototype.hasOwnProperty.call(X,oe)&&J.indexOf(oe)<0&&(he[oe]=X[oe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(oe=Object.getOwnPropertySymbols(X);He<oe.length;He++)J.indexOf(oe[He])<0&&Object.prototype.propertyIsEnumerable.call(X,oe[He])&&(he[oe[He]]=X[oe[He]])}return he}function pe(X,J,he,oe){return new(he||(he=Promise))(function(Be,gt){function on(mn){try{We(oe.next(mn))}catch(Gn){gt(Gn)}}function Rt(mn){try{We(oe.throw(mn))}catch(Gn){gt(Gn)}}function We(mn){mn.done?Be(mn.value):function He(Be){return Be instanceof he?Be:new he(function(gt){gt(Be)})}(mn.value).then(on,Rt)}We((oe=oe.apply(X,J||[])).next())})}function be(X){return this instanceof be?(this.v=X,this):new be(X)}function ue(X,J,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,oe=he.apply(X,J||[]),Be=[];return He={},gt("next"),gt("throw"),gt("return"),He[Symbol.asyncIterator]=function(){return this},He;function gt(hn){oe[hn]&&(He[hn]=function(an){return new Promise(function(Wt,St){Be.push([hn,an,Wt,St])>1||on(hn,an)})})}function on(hn,an){try{!function Rt(hn){hn.value instanceof be?Promise.resolve(hn.value.v).then(We,mn):Gn(Be[0][2],hn)}(oe[hn](an))}catch(Wt){Gn(Be[0][3],Wt)}}function We(hn){on("next",hn)}function mn(hn){on("throw",hn)}function Gn(hn,an){hn(an),Be.shift(),Be.length&&on(Be[0][0],Be[0][1])}}function Qe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,J=X[Symbol.asyncIterator];return J?J.call(X):(X=function Q(X){var J="function"==typeof Symbol&&Symbol.iterator,he=J&&X[J],oe=0;if(he)return he.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&oe>=X.length&&(X=void 0),{value:X&&X[oe++],done:!X}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),he={},oe("next"),oe("throw"),oe("return"),he[Symbol.asyncIterator]=function(){return this},he);function oe(Be){he[Be]=X[Be]&&function(gt){return new Promise(function(on,Rt){!function He(Be,gt,on,Rt){Promise.resolve(Rt).then(function(We){Be({value:We,done:on})},gt)}(on,Rt,(gt=X[Be](gt)).done,gt.value)})}}}O.d(ke,{FC:()=>ue,KL:()=>Qe,_T:()=>ie,mG:()=>pe,qq:()=>be})},4650:(ht,ke,O)=>{O.d(ke,{$8M:()=>Mu,$Z:()=>kC,AFp:()=>Yg,ALo:()=>Nb,AaK:()=>pe,BQk:()=>gr,CHM:()=>ti,CRH:()=>qb,CZH:()=>zf,CqO:()=>Zm,D6c:()=>kl,DdM:()=>Lf,EJc:()=>TM,EiD:()=>Sa,EpF:()=>nd,F$t:()=>lE,F4k:()=>Ym,FYo:()=>qS,FiY:()=>ba,G48:()=>NM,Gf:()=>uD,GfV:()=>Et,Gpc:()=>G,Gre:()=>ig,Hsn:()=>Bv,Ikx:()=>Vs,JOm:()=>io,JVY:()=>hc,KtG:()=>Ut,L6k:()=>yy,LAX:()=>Ch,LFG:()=>Hn,LSH:()=>wy,Lbi:()=>AM,Lck:()=>Eb,MAs:()=>Pv,MGl:()=>Uo,MMx:()=>bg,NdJ:()=>Km,O4$:()=>Rp,OlP:()=>qn,Oqu:()=>Qv,PXZ:()=>ND,Q6J:()=>lo,QGY:()=>qm,QP$:()=>ce,QbO:()=>d0,Qsj:()=>YS,R0b:()=>ps,RDi:()=>_h,Rgc:()=>Kc,SBq:()=>sl,Sil:()=>TD,Suo:()=>Rg,TTD:()=>Ws,TgZ:()=>bf,Udp:()=>Jm,W1O:()=>Fg,WFA:()=>Qm,X6Q:()=>uR,XFs:()=>tt,Xpm:()=>Me,Xts:()=>Mh,Y36:()=>Wu,YKP:()=>Nf,YNc:()=>oE,Yjl:()=>x,Yz7:()=>an,Z0I:()=>Yi,ZZ4:()=>Kf,_Bn:()=>vg,_UZ:()=>wf,_Vd:()=>Rh,_c5:()=>ZD,_uU:()=>gE,aQg:()=>Ad,c2e:()=>MM,cJS:()=>St,cg1:()=>rb,d8E:()=>rg,dDg:()=>RM,dqk:()=>pt,eBb:()=>wh,eFA:()=>Jc,ekj:()=>Ho,eoX:()=>FD,f3M:()=>dh,g9A:()=>Zg,h0i:()=>Go,hGG:()=>Jf,hij:()=>tg,iGM:()=>kg,ifc:()=>dt,ip1:()=>qg,jDz:()=>YE,kL8:()=>xE,lG2:()=>R,lcZ:()=>rD,lqb:()=>Fu,lri:()=>OD,mCW:()=>_,n5z:()=>Eo,n_E:()=>Sl,oAB:()=>Xt,oJD:()=>tm,oxw:()=>Ef,pB0:()=>vy,q3G:()=>Kn,q4F:()=>am,qLn:()=>Vu,qOj:()=>Fo,qZA:()=>td,qzn:()=>to,rWj:()=>PD,sBO:()=>VM,sIi:()=>Ku,s_b:()=>Hf,soG:()=>Gf,tb:()=>Kg,tp0:()=>tl,uIk:()=>Yn,vHH:()=>Ae,vpe:()=>Bs,wAp:()=>Nt,xi3:()=>sD,xp6:()=>xo,ynx:()=>Pa,z2F:()=>i_,z3N:()=>Rs,zSh:()=>$w,zs3:()=>Sc});var l=O(7579),H=O(727),P=O(9751),ie=O(6451),ge=O(3099);function ve(s){for(let a in s)if(s[a]===ve)return a;throw Error("Could not find renamed property on target object.")}function ne(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ye(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const q=ve({__forward_ref__:ve});function G(s){return s.__forward_ref__=G,s.toString=function(){return pe(this())},s}function Q(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===G}class Ae extends Error{constructor(a,c){super(function Je(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,a){throw new Ae(-201,!1)}function Rt(s,a){null==s&&function We(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function St(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fn(s){return lr(s,Qn)||lr(s,Di)}function Yi(s){return null!==Fn(s)}function lr(s,a){return s.hasOwnProperty(a)?s[a]:null}function Zi(s){return s&&(s.hasOwnProperty(Xn)||s.hasOwnProperty(cr))?s[Xn]:null}const Qn=ve({\u0275prov:ve}),Xn=ve({\u0275inj:ve}),Di=ve({ngInjectableDef:ve}),cr=ve({ngInjectorDef:ve});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Cn;function _n(s){const a=Cn;return Cn=s,a}function pi(s,a,c){const d=Fn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==a?a:void Pe(pe(s))}function An(s){return{toString:s}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),dt=(()=>{return(s=dt||(dt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",dt;var s})();const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mi={},Tt=[],Ii=ve({\u0275cmp:ve}),Ot=ve({\u0275dir:ve}),Si=ve({\u0275pipe:ve}),Kt=ve({\u0275mod:ve}),Jn=ve({\u0275fac:ve}),Nn=ve({__NG_ELEMENT_ID__:ve});let et=0;function Me(s){return An(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Tt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||dt.Emulated,id:"c"+et++,styles:s.styles||Tt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=$(s.inputs,d),f.outputs=$(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(vt).filter(At):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(z).filter(At):null,f})}function vt(s){return A(s)||k(s)}function At(s){return null!==s}function Xt(s){return An(()=>({type:s.type,bootstrap:s.bootstrap||Tt,declarations:s.declarations||Tt,imports:s.imports||Tt,exports:s.exports||Tt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function $(s,a){if(null==s)return mi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,a&&(a[f]=p)}return c}const R=Me;function x(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function A(s){return s[Ii]||null}function k(s){return s[Ot]||null}function z(s){return s[Si]||null}function ce(s){const a=A(s)||k(s)||z(s);return null!==a&&a.standalone}function Ne(s,a){const c=s[Kt]||null;if(!c&&!0===a)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return c}function ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function Xi(s){return Array.isArray(s)&&!0===s[1]}function Vr(s){return 0!=(8&s.flags)}function ss(s){return 2==(2&s.flags)}function zs(s){return 1==(1&s.flags)}function Mr(s){return null!==s.template}function ja(s){return 0!=(256&s[2])}function Vi(s,a){return s.hasOwnProperty(Jn)?s[Jn]:null}class oa{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ws(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Wa),jl}function jl(){const s=vo(this),a=s?.current;if(a){const c=s.previous;if(c===mi)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Wa(s,a,c,d){const f=vo(s)||function Ji(s,a){return s[$l]=a}(s,{previous:mi,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new oa(E&&E.currentValue,a,y===mi),s[d]=a}Ws.ngInherit=!0;const $l="__ngSimpleChanges__";function vo(s){return s[$l]||null}function ei(s){for(;Array.isArray(s);)s=s[0];return s}function Yr(s,a){return ei(a[s])}function tr(s,a){return ei(a[s.index])}function aa(s,a){return s.data[a]}function ur(s,a){return s[a]}function Sn(s,a){const c=a[s];return ki(c)?c:c[0]}function Zs(s){return 64==(64&s[2])}function Br(s,a){return null==a?null:s[a]}function la(s){s[18]=0}function ca(s,a){s[5]+=a;let c=s,d=s[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const zt={lFrame:Qd(null),bindingsEnabled:!0};function Xe(){return zt.bindingsEnabled}function Ie(){return zt.lFrame.lView}function Pt(){return zt.lFrame.tView}function ti(s){return zt.lFrame.contextLView=s,s[8]}function Ut(s){return zt.lFrame.contextLView=null,s}function $n(){let s=Ks();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ks(){return zt.lFrame.currentTNode}function Bi(s,a){const c=zt.lFrame;c.currentTNode=s,c.isParent=a}function Ss(){return zt.lFrame.isParent}function qa(){zt.lFrame.isParent=!1}function gi(){const s=zt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ql(){return zt.lFrame.bindingIndex++}function wo(s){const a=zt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function xp(s,a){const c=zt.lFrame;c.bindingIndex=c.bindingRootIndex=s,gu(a)}function gu(s){zt.lFrame.currentDirectiveIndex=s}function qd(s){const a=zt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Yd(){return zt.lFrame.currentQueryIndex}function Zd(s){zt.lFrame.currentQueryIndex=s}function Kd(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function $_(s,a,c){if(c&tt.SkipSelf){let f=a,p=s;for(;!(f=f.parent,null!==f||c&tt.Host||(f=Kd(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,s=p}const d=zt.lFrame=z_();return d.currentTNode=a,d.lView=s,!0}function _u(s){const a=z_(),c=s[1];zt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function z_(){const s=zt.lFrame,a=null===s?null:s.child;return null===a?Qd(s):a}function Qd(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function G_(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kp=G_;function Ya(){const s=G_();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function si(){return zt.lFrame.selectedIndex}function Js(s){zt.lFrame.selectedIndex=s}function oi(){const s=zt.lFrame;return aa(s.tView,s.selectedIndex)}function Rp(){zt.lFrame.currentNamespace="svg"}function Yl(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:T}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),I&&((s.viewHooks||(s.viewHooks=[])).push(c,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,I)),null!=T&&(s.destroyHooks||(s.destroyHooks=[])).push(c,T)}}function Zl(s,a,c){eh(s,a,3,c)}function da(s,a,c,d){(3&s[2])===c&&eh(s,a,c,d)}function Jd(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function eh(s,a,c,d){const p=d??-1,y=a.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=d&&w>=d)break}else a[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(Op(s,c,a,E),s[18]=(4294901760&s[18])+E+2),E++}function Op(s,a,c,d){const f=c[d]<0,p=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Zr{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function eo(s,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];s.setAttribute(a,y,w,p)}else{const p=f,y=c[++d];sh(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function rh(s){return 3===s||4===s||6===s}function sh(s){return 64===s.charCodeAt(0)}function Ql(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Pp(s,c,f,null,-1===c||2===c?a[++d]:null)}}return s}function Pp(s,a,c,d,f){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function X_(s){return-1!==s}function ha(s){return 32767&s}function Co(s,a){let c=function J_(s){return s>>16}(s),d=a;for(;c>0;)d=d[15],c--;return d}let oh=!0;function wu(s){const a=oh;return oh=s,a}let Fp=0;const cs={};function fa(s,a){const c=Cu(s,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,ah(d.data,s),ah(a,null),ah(d.blueprint,null));const f=Xl(s,a),p=s.injectorIndex;if(X_(f)){const y=ha(f),w=Co(f,a),E=w[1].data;for(let I=0;I<8;I++)a[p+I]=w[y+I]|E[y+I]}return a[p+8]=f,p}function ah(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Cu(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Xl(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=Au(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Jl(s,a,c){!function ty(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Nn)&&(d=c[Nn]),null==d&&(d=c[Nn]=Fp++);const f=255&d;a.data[s+(f>>5)]|=1<<f}(s,a,c)}function Eu(s,a,c){if(c&tt.Optional||void 0!==s)return s;Pe()}function pa(s,a,c,d){if(c&tt.Optional&&void 0===d&&(d=null),0==(c&(tt.Self|tt.Host))){const f=s[9],p=_n(void 0);try{return f?f.get(a,d,c&tt.Optional):pi(a,d,c&tt.Optional)}finally{_n(p)}}return Eu(d,0,c)}function Du(s,a,c,d=tt.Default,f){if(null!==s){if(1024&a[2]){const y=function iy(s,a,c,d,f){let p=s,y=a;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Np(p,y,c,d|tt.Self,cs);if(w!==cs)return w;let E=p.parent;if(!E){const I=y[21];if(I){const T=I.get(c,cs,d);if(T!==cs)return T}E=Au(y),y=y[15]}p=E}return f}(s,a,c,d,cs);if(y!==cs)return y}const p=Np(s,a,c,d,cs);if(p!==cs)return p}return pa(a,c,d,f)}function Np(s,a,c,d,f){const p=function ny(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Nn)?s[Nn]:void 0;return"number"==typeof a?a>=0?255&a:Bp:a}(c);if("function"==typeof p){if(!$_(a,s,d))return d&tt.Host?Eu(f,0,d):pa(a,c,d,f);try{const y=p(d);if(null!=y||d&tt.Optional)return y;Pe()}finally{kp()}}else if("number"==typeof p){let y=null,w=Cu(s,a),E=-1,I=d&tt.Host?a[16][6]:null;for((-1===w||d&tt.SkipSelf)&&(E=-1===w?Xl(s,a):a[w+8],-1!==E&&Vp(d,!1)?(y=a[1],w=ha(E),a=Co(E,a)):w=-1);-1!==w;){const T=a[1];if(Iu(p,w,T.data)){const B=Lp(w,a,c,y,d,I);if(B!==cs)return B}E=a[w+8],-1!==E&&Vp(d,a[1].data[w+8]===I)&&Iu(p,w,a)?(y=T,w=ha(E),a=Co(E,a)):w=-1}}return f}function Lp(s,a,c,d,f,p){const y=a[1],w=y.data[s+8],T=tc(w,y,c,null==d?ss(w)&&oh:d!=y&&0!=(3&w.type),f&tt.Host&&p===w);return null!==T?Ms(a,y,T,w):cs}function tc(s,a,c,d,f){const p=s.providerIndexes,y=a.data,w=1048575&p,E=s.directiveStart,T=p>>20,Y=f?w+T:s.directiveEnd;for(let se=d?w:w+T;se<Y;se++){const Te=y[se];if(se<E&&c===Te||se>=E&&Te.type===c)return se}if(f){const se=y[E];if(se&&Mr(se)&&se.type===c)return E}return null}function Ms(s,a,c,d){let f=s[c];const p=a.data;if(function th(s){return s instanceof Zr}(f)){const y=f;y.resolving&&function lt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}(p[c]));const w=wu(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?_n(y.injectImpl):null;$_(s,d,tt.Default);try{f=s[c]=y.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function yu(s,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(d){const y=Hl(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],a)}finally{null!==E&&_n(E),wu(w),y.resolving=!1,kp()}}return f}function Iu(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Vp(s,a){return!(s&tt.Self||s&tt.Host&&a)}class nc{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Du(this._tNode,this._lView,a,d,c)}}function Bp(){return new nc($n(),Ie())}function Eo(s){return An(()=>{const a=s.prototype.constructor,c=a[Jn]||Su(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[Jn]||Su(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Su(s){return Oe(s)?()=>{const a=Su(Q(s));return a&&a()}:Vi(s)}function Au(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function Mu(s){return function ec(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(rh(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}($n(),s)}const ic="__parameters__";function rc(s,a,c){return An(()=>{const d=function Up(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,I,T){const B=E.hasOwnProperty(ic)?E[ic]:Object.defineProperty(E,ic,{value:[]})[ic];for(;B.length<=T;)B.push(null);return(B[T]=B[T]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class qn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hi(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(a===s&&(a=s.slice(0,c)),Hi(d,a)):a!==s&&a.push(d)}return a}function ct(s,a){s.forEach(c=>Array.isArray(c)?ct(c,a):a(c))}function Ci(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function qe(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function us(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function dn(s,a,c){let d=Zn(s,a);return d>=0?s[1|d]=c:(d=~d,function ds(s,a,c,d){let f=s.length;if(f==a)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function Ke(s,a){const c=Zn(s,a);if(c>=0)return s[1|c]}function Zn(s,a){return function Ja(s,a,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(a===y)return p<<c;y>a?f=p:d=p+1}return~(f<<c)}(s,a,1)}const pn={},el="__NG_DI_FLAG__",ya="ngTempTokenPath",hs=/\n/gm,Tu="__source";let So;function Ht(s){const a=So;return So=s,a}function Cr(s,a=tt.Default){if(void 0===So)throw new Ae(-203,!1);return null===So?pi(s,void 0,a):So.get(s,a&tt.Optional?null:void 0,a)}function Hn(s,a=tt.Default){return(function Wn(){return Cn}()||Cr)(Q(s),a)}function dh(s,a=tt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Hn(s,a)}function $p(s){const a=[];for(let c=0;c<s.length;c++){const d=Q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let f,p=tt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=hh(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}a.push(Hn(f,p))}else a.push(Hn(d))}return a}function va(s,a){return s[el]=a,s.prototype[el]=a,s}function hh(s){return s[el]}const ba=va(rc("Optional"),8),tl=va(rc("SkipSelf"),4);let Ru,il,Ou;function _h(s){Ru=s}function rl(s){return function lc(){if(void 0===il&&(il=null,pt.trustedTypes))try{il=pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return il}()?.createHTML(s)||s}function yh(s){return function Ea(){if(void 0===Ou&&(Ou=null,pt.trustedTypes))try{Ou=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ou}()?.createHTML(s)||s}class Da{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vh extends Da{getTypeName(){return"HTML"}}class _y extends Da{getTypeName(){return"Style"}}class Zp extends Da{getTypeName(){return"Script"}}class Kp extends Da{getTypeName(){return"URL"}}class dc extends Da{getTypeName(){return"ResourceURL"}}function Rs(s){return s instanceof Da?s.changingThisBreaksApplicationSecurity:s}function to(s,a){const c=function bh(s){return s instanceof Da&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function hc(s){return new vh(s)}function yy(s){return new _y(s)}function wh(s){return new Zp(s)}function Ch(s){return new Kp(s)}function vy(s){return new dc(s)}class Qp{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(rl(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class by{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=rl(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=rl(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function C(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function M(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const F=C("area,br,col,hr,img,wbr"),re=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=C("rp,rt"),Mn=M(F,M(re,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),M(Re,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),M(Re,re)),jr=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dh=M(jr,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ih=C("script,style,template");class Xp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Mn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Ih.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!Dh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;jr[w]&&(E=_(E)),this.buf.push(" ",y,'="',Ah(E),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Mn.hasOwnProperty(c)&&!F.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Ah(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Jp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sh=/([^\#-~ |!])/g;function Ah(s){return s.replace(/&/g,"&amp;").replace(Jp,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Sh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pc;function Sa(s,a){let c=null;try{pc=pc||function fc(s){const a=new by(s);return function b(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch{return!1}}()?new Qp(a):a}(s);let d=a?String(a):"";c=pc.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=pc.getInertBodyElement(d)}while(d!==p);return rl((new Xp).sanitizeChildren(mc(c)||c))}finally{if(c){const d=mc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function mc(s){return"content"in s&&function em(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function tm(s){const a=nm();return a?yh(a.sanitize(Kn.HTML,s)||""):to(s,"HTML")?yh(Rs(s)):Sa(function Ca(){return void 0!==Ru?Ru:typeof document<"u"?document:void 0}(),be(s))}function wy(s){const a=nm();return a?a.sanitize(Kn.URL,s)||"":to(s,"URL")?Rs(s):_(be(s))}function nm(){const s=Ie();return s&&s[12]}const Mh=new qn("ENVIRONMENT_INITIALIZER"),BS=new qn("INJECTOR",-1),Uw=new qn("INJECTOR_DEF_TYPES");class Ey{get(a,c=pn){if(c===pn){const d=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw d.name="NullInjectorError",d}return c}}function US(...s){return{\u0275providers:Dy(0,s)}}function Dy(s,...a){const c=[],d=new Set;let f;return ct(a,p=>{const y=p;Pu(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&im(f,c),c}function im(s,a){for(let c=0;c<s.length;c++){const{providers:f}=s[c];ct(f,p=>{a.push(p)})}}function Pu(s,a,c,d){if(!(s=Q(s)))return!1;let f=null,p=Zi(s);const y=!p&&A(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(p=Zi(E),!p)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of E)Pu(I,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let I;d.add(f);try{ct(p.imports,T=>{Pu(T,a,c,d)&&(I||(I=[]),I.push(T))})}finally{}void 0!==I&&im(I,a)}if(!w){const I=Vi(f)||(()=>new f);a.push({provide:f,useFactory:I,deps:Tt},{provide:Uw,useValue:f,multi:!0},{provide:Mh,useValue:()=>Hn(f),multi:!0})}const E=p.providers;null==E||w||ct(E,T=>{a.push(T)})}}return f!==s&&void 0!==s.providers}const Iy=ve({provide:String,useValue:ve});function Hw(s){return null!==s&&"object"==typeof s&&Iy in s}function gc(s){return"function"==typeof s}const $w=new qn("Set Injector scope."),Sy={},$S={};let zw;function Ay(){return void 0===zw&&(zw=new Ey),zw}class Fu{}class zS extends Fu{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sm(a,y=>this.processProvider(y)),this.records.set(BS,_c(void 0,this)),f.has("environment")&&this.records.set(Fu,_c(void 0,this));const p=this.records.get($w);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Uw.multi,Tt,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Ht(this),d=_n(void 0);try{return a()}finally{Ht(c),_n(d)}}get(a,c=pn,d=tt.Default){this.assertNotDestroyed();const f=Ht(this),p=_n(void 0);try{if(!(d&tt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function Yw(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(a)&&Fn(a);w=E&&this.injectableDefInScope(E)?_c(Gw(a),Sy):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&tt.Self?Ay():this.parent).get(a,c=d&tt.Optional&&c===pn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[ya]=y[ya]||[]).unshift(pe(a)),f)throw y;return function ay(s,a,c,d){const f=s[ya];throw a[Tu]&&f.unshift(a[Tu]),s.message=function fh(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=pe(a);if(Array.isArray(a))f=a.map(pe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(hs,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[ya]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{_n(p),Ht(f)}}resolveInjectorInitializers(){const a=Ht(this),c=_n(void 0);try{const d=this.get(Mh.multi,Tt,tt.Self);for(const f of d)f()}finally{Ht(a),_n(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(pe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(a){let c=gc(a=Q(a))?a:Q(a&&a.provide);const d=function GS(s){return Hw(s)?_c(void 0,s.useValue):_c(My(s),Sy)}(a);if(gc(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=_c(void 0,Sy,!0),f.factory=()=>$p(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Sy&&(c.value=$S,c.value=c.factory()),"object"==typeof c.value&&c.value&&function qw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Gw(s){const a=Fn(s),c=null!==a?a.factory:Vi(s);if(null!==c)return c;if(s instanceof qn)throw new Ae(204,!1);if(s instanceof Function)return function rm(s){const a=s.length;if(a>0)throw us(a,"?"),new Ae(204,!1);const c=function jn(s){const a=s&&(s[Qn]||s[Di]);if(a){const c=function fi(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ae(204,!1)}function My(s,a,c){let d;if(gc(s)){const f=Q(s);return Vi(f)||Gw(f)}if(Hw(s))d=()=>Q(s.useValue);else if(function HS(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...$p(s.deps||[]));else if(function jw(s){return!(!s||!s.useExisting)}(s))d=()=>Hn(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function Ww(s){return!!s.deps}(s))return Vi(f)||Gw(f);d=()=>new f(...$p(s.deps))}return d}function _c(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Zw(s){return!!s.\u0275providers}function sm(s,a){for(const c of s)Array.isArray(c)?sm(c,a):Zw(c)?sm(c.\u0275providers,a):a(c)}class Ty{}class kh{resolveComponentFactory(a){throw function Ak(s){const a=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Rh=(()=>{class s{}return s.NULL=new kh,s})();function Nu(){return _i($n(),Ie())}function _i(s,a){return new sl(tr(s,a))}let sl=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Nu,s})();function WS(s){return s instanceof sl?s.nativeElement:s}class qS{}let YS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ZS(){const s=Ie(),c=Sn($n().index,s);return(ki(c)?c:s)[11]}(),s})(),Aa=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Et{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const am=new Et("14.2.5"),Yt={};function Lu(s){return s.ngOriginalError}class Vu{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Lu(a);for(;c&&Lu(c);)c=Lu(c);return c||null}}const Oh=new Map;let Jw=0;const Fh="__ngContext__";function Ir(s,a){ki(a)?(s[Fh]=a[20],function eC(s){Oh.set(s[20],s)}(a)):s[Fh]=a}function no(s){return s instanceof Function?s():s}var io=(()=>((io=io||{})[io.Important=1]="Important",io[io.DashCase=2]="DashCase",io))();function Bh(s,a){return undefined(s,a)}function Pi(s){const a=s[3];return Xi(a)?a[3]:a}function qy(s){return Zy(s[13])}function Yy(s){return Zy(s[4])}function Zy(s){for(;null!==s&&!Xi(s);)s=s[4];return s}function Hu(s,a,c,d,f){if(null!=d){let p,y=!1;Xi(d)?p=d:ki(d)&&(y=!0,d=d[0]);const w=ei(d);0===s&&null!==c?null==f?pC(a,c,w):Os(a,c,w,f||null,!0):1===s&&null!==c?Os(a,c,w,f||null,!0):2===s?function ev(s,a,c){const d=wc(s,a);d&&function bc(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,w,y):3===s&&a.destroyNode(w),null!=p&&function Im(s,a,c,d,f){const p=c[7];p!==ei(c)&&Hu(a,s,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];Dc(E[1],E,s,a,d,p)}}(a,s,p,c,f)}}function Uh(s,a,c){return s.createElement(a,c)}function uC(s,a){const c=s[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,ca(f,-1)),c.splice(d,1)}function vc(s,a){if(s.length<=10)return;const c=10+a,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&uC(f,d),a>0&&(s[c-1][4]=d[4]);const p=qe(s,10+a);!function lC(s,a){Dc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Xy(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Dc(s,a,c,3,null,null),function Ky(s){let a=s[13];if(!a)return vm(s[1],s);for(;a;){let c=null;if(ki(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==s;)ki(a)&&vm(a[1],a),a=a[3];null===a&&(a=s),ki(a)&&vm(a[1],a),c=a&&a[4]}a=c}}(a)}}function vm(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function bm(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Zr)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,a),function dC(s,a){const c=s.cleanup,d=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(a):ei(a[y]),E=d[f=c[p+2]],I=c[p+3];"boolean"==typeof I?w.removeEventListener(c[p],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&Xi(a[3])){c!==a[3]&&uC(c,a);const d=a[19];null!==d&&d.detachView(s)}!function Ny(s){Oh.delete(s[20])}(a)}}function hC(s,a,c){return function fC(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===dt.None||f===dt.Emulated)return null}return tr(d,c)}(s,a.parent,c)}function Os(s,a,c,d,f){s.insertBefore(a,c,d,f)}function pC(s,a,c){s.appendChild(a,c)}function mC(s,a,c,d,f){null!==d?Os(s,a,c,d,f):pC(s,a,c)}function wc(s,a){return s.parentNode(a)}function ju(s,a,c){return kr(s,a,c)}let kr=function Jy(s,a,c){return 40&s.type?tr(s,c):null};function Cc(s,a,c,d){const f=hC(s,d,a),p=a[11],w=ju(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)mC(p,f,c[E],w,!1);else mC(p,f,c,w,!1)}function Hh(s,a){if(null!==a){const c=a.type;if(3&c)return tr(a,s);if(4&c)return Em(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Hh(s,d);{const f=s[a.index];return Xi(f)?Em(-1,f):ei(f)}}if(32&c)return Bh(a,s)()||ei(s[a.index]);{const d=Cm(s,a);return null!==d?Array.isArray(d)?d[0]:Hh(Pi(s[16]),d):Hh(s,a.next)}}return null}function Cm(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Em(s,a){const c=10+s+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return Hh(d,f)}return a[7]}function Ec(s,a,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===a&&(w&&Ir(ei(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)Ec(s,a,c.child,d,f,p,!1),Hu(a,s,f,w,p);else if(32&E){const I=Bh(c,d);let T;for(;T=I();)Hu(a,s,f,T,p);Hu(a,s,f,w,p)}else 16&E?Dm(s,a,d,c,f,p):Hu(a,s,f,w,p);c=y?c.projectionNext:c.next}}function Dc(s,a,c,d,f,p){Ec(c,d,s.firstChild,a,f,p,!1)}function Dm(s,a,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Hu(a,s,f,E[I],p);else Ec(s,a,E,y[3],f,p,!0)}function nv(s,a,c){s.setAttribute(a,"style",c)}function iv(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function Sm(s,a,c){let d=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=a.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const Am="ng-template";function _C(s,a,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==Sm(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function sv(s){return 4===s.type&&s.value!==Am}function yC(s,a,c){return a===(4!==s.type||c?s.value:Am)}function oA(s,a,c){let d=4;const f=s.attrs||[],p=function Ic(s){for(let a=0;a<s.length;a++)if(rh(s[a]))return a;return s.length}(f);let y=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!yC(s,E,c)||""===E&&1===a.length){if(zr(d))return!1;y=!0}}else{const I=8&d?E:a[++w];if(8&d&&null!==s.attrs){if(!_C(s.attrs,I,c)){if(zr(d))return!1;y=!0}continue}const B=vC(8&d?"class":E,f,sv(s),c);if(-1===B){if(zr(d))return!1;y=!0;continue}if(""!==I){let Y;Y=B>p?"":f[B+1].toLowerCase();const se=8&d?Y:null;if(se&&-1!==Sm(se,I,0)||2&d&&I!==Y){if(zr(d))return!1;y=!0}}}}else{if(!y&&!zr(d)&&!zr(E))return!1;if(y&&zr(E))continue;y=!1,d=E|1&d}}return zr(d)||y}function zr(s){return 0==(1&s)}function vC(s,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function ov(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function $h(s,a,c=!1){for(let d=0;d<a.length;d++)if(oA(s,a[d],c))return!0;return!1}function aA(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function bC(s,a){return s?":not("+a.trim()+")":a}function wC(s){let a=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!zr(y)&&(a+=bC(p,f),f=""),d=y,p=p||!zr(d);c++}return""!==f&&(a+=bC(p,f)),a}const jt={};function xo(s){Gh(Pt(),Ie(),si()+s,!1)}function Gh(s,a,c,d){if(!d)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&Zl(a,p,c)}else{const p=s.preOrderHooks;null!==p&&da(a,p,0,c)}Js(c)}function IC(s,a=null,c=null,d){const f=SC(s,a,c,d);return f.resolveInjectorInitializers(),f}function SC(s,a=null,c=null,d,f=new Set){const p=[c||Tt,US(s)];return d=d||("object"==typeof s?void 0:pe(s)),new zS(p,a||Ay(),d||null,f)}let Sc=(()=>{class s{static create(c,d){if(Array.isArray(c))return IC({name:""},d,c,"");{const f=c.name??"";return IC({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=pn,s.NULL=new Ey,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Hn(BS)}),s.__NG_ELEMENT_ID__=-1,s})();function Wu(s,a=tt.Default){const c=Ie();return null===c?Hn(s,a):Du($n(),c,Q(s),a)}function kC(){throw new Error("invalid")}function ef(s,a){return s<<17|a<<2}function Ps(s){return s>>17&32767}function ro(s){return 2|s}function Ro(s){return(131068&s)>>2}function Rm(s,a){return-131069&s|a<<2}function Tc(s){return 1|s}function ul(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];Zd(f),y.contentQueries(2,a[p],p)}}}function Ft(s,a,c,d,f,p,y,w,E,I,T){const B=a.blueprint.slice();return B[0]=f,B[2]=76|d,(null!==T||s&&1024&s[2])&&(B[2]|=1024),la(B),B[3]=B[15]=s,B[8]=c,B[10]=y||s&&s[10],B[11]=w||s&&s[11],B[12]=E||s&&s[12]||null,B[9]=I||s&&s[9]||null,B[6]=p,B[20]=function JS(){return Jw++}(),B[21]=T,B[16]=2==a.type?s[16]:B,B}function Yu(s,a,c,d,f){let p=s.data[a];if(null===p)p=function st(s,a,c,d,f){const p=Ks(),y=Ss(),E=s.data[a]=function zC(s,a,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,f);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,a,c,d,f),function Tp(){return zt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function Qs(){const s=zt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Bi(p,!0),p}function me(s,a,c,d){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function Ve(s,a,c){_u(a);try{const d=s.viewQuery;null!==d&&Rr(1,d,c);const f=s.template;null!==f&&wv(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ul(s,a),s.staticViewQueries&&Rr(2,s.viewQuery,c);const p=s.components;null!==p&&function _t(s,a){for(let c=0;c<a.length;c++)CA(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,Ya()}}function Ai(s,a,c,d){const f=a[2];if(128!=(128&f)){_u(a);try{la(a),function Wl(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&wv(s,a,c,2,d);const y=3==(3&f);if(y){const I=s.preOrderCheckHooks;null!==I&&Zl(a,I,null)}else{const I=s.preOrderHooks;null!==I&&da(a,I,0,null),Jd(a,0)}if(function wA(s){for(let a=qy(s);null!==a;a=Yy(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&ca(p,1),f[2]|=512}}}(a),function oo(s){for(let a=qy(s);null!==a;a=Yy(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];Zs(d)&&Ai(f,d,f.template,d[8])}}(a),null!==s.contentQueries&&ul(s,a),y){const I=s.contentCheckHooks;null!==I&&Zl(a,I)}else{const I=s.contentHooks;null!==I&&da(a,I,1),Jd(a,1)}!function Fi(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Js(~f);else{const p=f,y=c[++d],w=c[++d];xp(y,p),w(2,a[p])}}}finally{Js(-1)}}(s,a);const w=s.components;null!==w&&function bv(s,a){for(let c=0;c<a.length;c++)uf(s,a[c])}(a,w);const E=s.viewQuery;if(null!==E&&Rr(2,E,d),y){const I=s.viewCheckHooks;null!==I&&Zl(a,I)}else{const I=s.viewHooks;null!==I&&da(a,I,2),Jd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,ca(a[3],-1))}finally{Ya()}}}function wv(s,a,c,d,f){const p=si(),y=2&d;try{Js(-1),y&&a.length>22&&Gh(s,a,22,!1),c(d,f)}finally{Js(p)}}function UC(s,a,c){if(Vr(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Cv(s,a,c){!Xe()||(function Iv(s,a,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||fa(c,a),Ir(d,a);const y=c.initialInputs;for(let w=f;w<p;w++){const E=s.data[w],I=Mr(E);I&&Av(a,c,E);const T=Ms(a,s,w,c);Ir(T,a),null!==y&&dl(0,w-f,T,E,0,y),I&&(Sn(c.index,a)[8]=T)}}(s,a,c,tr(c,a)),128==(128&c.flags)&&function Oc(s,a,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function kw(){return zt.lFrame.currentDirectiveIndex}();try{Js(p);for(let w=d;w<f;w++){const E=s.data[w],I=a[w];gu(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&WC(E,I)}}finally{Js(-1),gu(y)}}(s,a,c))}function Ev(s,a,c=tr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(a,s):s[y];s[f++]=w}}}function HC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Dv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Dv(s,a,c,d,f,p,y,w,E,I){const T=22+d,B=T+f,Y=function jC(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:jt);return c}(T,B),se="function"==typeof I?I():I;return Y[1]={type:s,blueprint:Y,template:c,queries:null,viewQuery:w,declTNode:a,data:Y.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function $C(s,a,c,d){const f=hl(a);null===c?f.push(d):(f.push(c),s.firstCreatePass&&Tv(s).push(d,f.length-1))}function Qt(s,a,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function Rc(s,a){const d=a.directiveEnd,f=s.data,p=a.attrs,y=[];let w=null,E=null;for(let I=a.directiveStart;I<d;I++){const T=f[I],B=T.inputs,Y=null===p||sv(a)?null:Mv(B,p);y.push(Y),w=Qt(B,I,w),E=Qt(T.outputs,I,E)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=E}function vn(s,a,c,d,f,p,y,w){const E=tr(a,c);let T,I=a.inputs;!w&&null!=I&&(T=I[d])?(rr(s,c,T,d,f),ss(a)&&Lt(c,a.index)):3&a.type&&(d=function GC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,a.value||"",d):f,p.setProperty(E,d,f))}function Lt(s,a){const c=Sn(a,s);16&c[2]||(c[2]|=32)}function bi(s,a,c,d){let f=!1;if(Xe()){const p=function Um(s,a,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];$h(c,y.selectors,!1)&&(f||(f=[]),Jl(fa(c,a),s,y.type),Mr(y)?(qC(s,c),f.unshift(y)):f.push(y))}return f}(s,a,c),y=null===d?null:{"":-1};if(null!==p){f=!0,Sv(c,s.data.length,p.length);for(let T=0;T<p.length;T++){const B=p[T];B.providersResolver&&B.providersResolver(B)}let w=!1,E=!1,I=me(s,a,p.length,null);for(let T=0;T<p.length;T++){const B=p[T];c.mergedAttrs=Ql(c.mergedAttrs,B.hostAttrs),Xr(s,c,a,I,B),YC(I,B,y),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const Y=B.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),I++}Rc(s,c)}y&&function lf(s,a,c){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new Ae(-301,!1);d.push(a[f],p)}}}(c,d,y)}return c.mergedAttrs=Ql(c.mergedAttrs,c.attrs),f}function nt(s,a,c,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~a.index;(function Bm(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function WC(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function qC(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function YC(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;Mr(a)&&(c[""]=s)}}function Sv(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function Xr(s,a,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=Vi(f.type)),y=new Zr(p,Mr(f),Wu);s.blueprint[d]=y,c[d]=y,nt(s,a,0,d,me(s,c,f.hostVars,jt),f)}function Av(s,a,c){const d=tr(a,s),f=HC(c),p=s[10],y=df(s,Ft(s,f,null,c.onPush?32:16,d,a,p,p.createRenderer(d,c),null,null,null));s[a.index]=y}function so(s,a,c,d,f,p){const y=tr(s,a);!function Hm(s,a,c,d,f,p,y){if(null==p)s.removeAttribute(a,f,c);else{const w=null==y?be(p):y(p,d||"",f);s.setAttribute(a,f,w,c)}}(a[11],y,p,s.value,c,d,f)}function dl(s,a,c,d,f,p){const y=p[a];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const I=y[E++],T=y[E++],B=y[E++];null!==w?d.setInput(c,B,I,T):c[T]=B}}}function Mv(s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function cf(s,a,c,d){return new Array(s,!0,!1,a,null,0,d,c,null,null)}function uf(s,a){const c=Sn(a,s);if(Zs(c)){const d=c[1];48&c[2]?Ai(d,c,d.template,c[8]):c[5]>0&&Po(c)}}function Po(s){for(let d=qy(s);null!==d;d=Yy(d))for(let f=10;f<d.length;f++){const p=d[f];if(Zs(p))if(512&p[2]){const y=p[1];Ai(y,p,y.template,p[8])}else p[5]>0&&Po(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Sn(c[d],s);Zs(f)&&f[5]>0&&Po(f)}}function CA(s,a){const c=Sn(a,s),d=c[1];(function Pc(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),Ve(d,c,c[8])}function df(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function hf(s){for(;s;){s[2]|=32;const a=Pi(s);if(ja(s)&&!a)return s;s=a}return null}function jm(s,a,c,d=!0){const f=a[10];f.begin&&f.begin();try{Ai(s,a,s.template,c)}catch(y){throw d&&ff(a,y),y}finally{f.end&&f.end()}}function Rr(s,a,c){Zd(0),a(s,c)}function hl(s){return s[7]||(s[7]=[])}function Tv(s){return s.cleanup||(s.cleanup=[])}function Ei(s,a,c){return(null===s||Mr(s))&&(c=function pu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[a.index])),c[11]}function ff(s,a){const c=s[9],d=c?c.get(Vu,null):null;d&&d.handleError(a)}function rr(s,a,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=a[y],I=s.data[y];null!==I.setInput?I.setInput(E,f,d,w):E[w]=f}}function pf(s,a,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?f=ye(f,w):2==p&&(d=ye(d,w+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function Ta(s,a,c,d,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(ei(p)),Xi(p))for(let w=10;w<p.length;w++){const E=p[w],I=E[1].firstChild;null!==I&&Ta(E[1],E,I,d)}const y=c.type;if(8&y)Ta(s,a,c.child,d);else if(32&y){const w=Bh(c,a);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Cm(a,c);if(Array.isArray(w))d.push(...w);else{const E=Pi(a[16]);Ta(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Sr{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Ta(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Xi(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(vc(a,d),qe(c,d))}this._attachedToViewContainer=!1}Xy(this._lView[1],this._lView)}onDestroy(a){$C(this._lView[1],this._lView,null,a)}markForCheck(){hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){jm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ym(s,a){Dc(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=a}}class DA extends Sr{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;jm(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Ni extends Rh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=A(a);return new ao(c,this.ngModule)}}function ZC(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class Mi{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,Yt,d);return f!==Yt||c===Yt?f:this.parentInjector.get(a,c,d)}}class ao extends Ty{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function CC(s){return s.map(wC).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return ZC(this.componentDef.inputs)}get outputs(){return ZC(this.componentDef.outputs)}create(a,c,d,f){let p=(f=f||this.ngModule)instanceof Fu?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Mi(a,p):a,w=y.get(qS,null);if(null===w)throw new Ae(407,!1);const E=y.get(Aa,null),I=w.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",B=d?function $k(s,a,c){return s.selectRootElement(a,c===dt.ShadowDom)}(I,d,this.componentDef.encapsulation):Uh(w.createRenderer(null,this.componentDef),T,function fl(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(T)),Y=this.componentDef.onPush?288:272,se=Dv(0,null,null,1,0,null,null,null,null,null),Te=Ft(null,se,null,Y,null,null,w,I,E,y,null);let $e,it;_u(Te);try{const yt=function pl(s,a,c,d,f,p){const y=c[1];c[22]=s;const E=Yu(y,22,2,"#host",null),I=E.mergedAttrs=a.hostAttrs;null!==I&&(pf(E,I,!0),null!==s&&(eo(f,s,I),null!==E.classes&&iv(f,s,E.classes),null!==E.styles&&nv(f,s,E.styles)));const T=d.createRenderer(s,a),B=Ft(c,HC(a),null,a.onPush?32:16,c[22],E,d,T,p||null,null,null);return y.firstCreatePass&&(Jl(fa(E,c),y,a.type),qC(y,E),Sv(E,c.length,1)),df(c,B),c[22]=B}(B,this.componentDef,Te,w,I);if(B)if(d)eo(I,B,["ng-version",am.full]);else{const{attrs:kt,classes:Le}=function lA(s){const a=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&a.push(p,s[++d]):8===f&&c.push(p);else{if(!zr(f))break;f=p}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);kt&&eo(I,B,kt),Le&&Le.length>0&&iv(I,B,Le.join(" "))}if(it=aa(se,22),void 0!==c){const kt=it.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const $t=c[Le];kt.push(null!=$t?Array.from($t):null)}}$e=function gf(s,a,c,d){const f=c[1],p=function bA(s,a,c){const d=$n();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Xr(s,d,a,me(s,a,1,null),c),Rc(s,d));const f=Ms(a,s,d.directiveStart,d);Ir(f,a);const p=tr(d,a);return p&&Ir(p,a),f}(f,c,a);if(s[8]=c[8]=p,null!==d)for(const w of d)w(p,a);if(a.contentQueries){const w=$n();a.contentQueries(1,p,w.directiveStart)}const y=$n();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Js(y.index),nt(c[1],y,0,y.directiveStart,y.directiveEnd,a),WC(a,p)),p}(yt,this.componentDef,Te,[_f]),Ve(se,Te,null)}finally{Ya()}return new mf(this.componentType,$e,_i(it,Te),Te,it)}}class mf extends class Th{}{constructor(a,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new DA(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const p=this._rootLView;rr(p[1],p,f,a,c),Lt(p,this._tNode.index)}}get injector(){return new nc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function _f(){const s=$n();Yl(Ie()[1],s)}function Fo(s){let a=function kv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let f;if(Mr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ae(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=xa(s.inputs),y.declaredInputs=xa(s.declaredInputs),y.outputs=xa(s.outputs);const w=f.hostBindings;w&&ml(s,w);const E=f.viewQuery,I=f.contentQueries;if(E&&No(s,E),I&&yf(s,I),ne(s.inputs,f.inputs),ne(s.declaredInputs,f.declaredInputs),ne(s.outputs,f.outputs),Mr(f)&&f.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Fo&&(c=!1)}}a=Object.getPrototypeOf(a)}!function $m(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Ql(f.hostAttrs,c=Ql(c,f.hostAttrs))}}(d)}function xa(s){return s===mi?{}:s===Tt?[]:s}function No(s,a){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function yf(s,a){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{a(d,f,p),c(d,f,p)}:a}function ml(s,a){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Lo=null;function ka(){if(!Lo){const s=pt.Symbol;if(s&&s.iterator)Lo=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Lo=d)}}}return Lo}function Ku(s){return!!Fc(s)&&(Array.isArray(s)||!(s instanceof Map)&&ka()in s)}function Fc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vo(s,a,c){return s[a]=c}function Ar(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Yn(s,a,c,d){const f=Ie();return Ar(f,ql(),a)&&(Pt(),so(oi(),f,s,a,c,d)),Yn}function Nc(s,a,c,d){return Ar(s,ql(),c)?a+be(c)+d:jt}function oE(s,a,c,d,f,p,y,w){const E=Ie(),I=Pt(),T=s+22,B=I.firstCreatePass?function Ju(s,a,c,d,f,p,y,w,E){const I=a.consts,T=Yu(a,s,4,y||null,Br(I,w));bi(a,c,T,Br(I,E)),Yl(a,T);const B=T.tViews=Dv(2,T,d,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,T),B.queries=a.queries.embeddedTView(T)),T}(T,I,E,a,c,d,f,p,y):I.data[T];Bi(B,!1);const Y=E[11].createComment("");Cc(I,E,Y,B),Ir(Y,E),df(E,E[T]=cf(Y,E,Y,B)),zs(B)&&Cv(I,E,B),null!=y&&Ev(E,B,w)}function Pv(s){return ur(function Xs(){return zt.lFrame.contextLView}(),22+s)}function lo(s,a,c){const d=Ie();return Ar(d,ql(),a)&&vn(Pt(),oi(),d,s,a,d[11],c,!1),lo}function Wm(s,a,c,d,f){const y=f?"class":"style";rr(s,c,a.inputs[y],y,d)}function bf(s,a,c,d){const f=Ie(),p=Pt(),y=22+s,w=f[11],E=f[y]=Uh(w,a,function Xd(){return zt.lFrame.currentNamespace}()),I=p.firstCreatePass?function ed(s,a,c,d,f,p,y){const w=a.consts,I=Yu(a,s,2,f,Br(w,p));return bi(a,c,I,Br(w,y)),null!==I.attrs&&pf(I,I.attrs,!1),null!==I.mergedAttrs&&pf(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,p,f,0,a,c,d):p.data[y];Bi(I,!0);const T=I.mergedAttrs;null!==T&&eo(w,E,T);const B=I.classes;null!==B&&iv(w,E,B);const Y=I.styles;return null!==Y&&nv(w,E,Y),64!=(64&I.flags)&&Cc(p,f,E,I),0===function Z(){return zt.lFrame.elementDepthCount}()&&Ir(E,f),function fe(){zt.lFrame.elementDepthCount++}(),zs(I)&&(Cv(p,f,I),UC(p,I,f)),null!==d&&Ev(f,I),bf}function td(){let s=$n();Ss()?qa():(s=s.parent,Bi(s,!1));const a=s;!function Ue(){zt.lFrame.elementDepthCount--}();const c=Pt();return c.firstCreatePass&&(Yl(c,s),Vr(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function vu(s){return 0!=(16&s.flags)}(a)&&Wm(c,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function bu(s){return 0!=(32&s.flags)}(a)&&Wm(c,a,Ie(),a.stylesWithoutHost,!1),td}function wf(s,a,c,d){return bf(s,a,c,d),td(),wf}function Pa(s,a,c){const d=Ie(),f=Pt(),p=s+22,y=f.firstCreatePass?function Fv(s,a,c,d,f){const p=a.consts,y=Br(p,d),w=Yu(a,s,8,"ng-container",y);return null!==y&&pf(w,y,!0),bi(a,c,w,Br(p,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,f,d,a,c):f.data[p];Bi(y,!0);const w=d[p]=d[11].createComment("");return Cc(f,d,w,y),Ir(w,d),zs(y)&&(Cv(f,d,y),UC(f,y,d)),null!=c&&Ev(d,y),Pa}function gr(){let s=$n();const a=Pt();return Ss()?qa():(s=s.parent,Bi(s,!1)),a.firstCreatePass&&(Yl(a,s),Vr(s)&&a.queries.elementEnd(s)),gr}function nd(){return Ie()}function qm(s){return!!s&&"function"==typeof s.then}function Ym(s){return!!s&&"function"==typeof s.subscribe}const Zm=Ym;function Km(s,a,c,d){const f=Ie(),p=Pt(),y=$n();return Nv(p,f,f[11],y,s,a,0,d),Km}function Qm(s,a){const c=$n(),d=Ie(),f=Pt();return Nv(f,d,Ei(qd(f.data),c,d),c,s,a),Qm}function Nv(s,a,c,d,f,p,y,w){const E=zs(d),T=s.firstCreatePass&&Tv(s),B=a[8],Y=hl(a);let se=!0;if(3&d.type||w){const it=tr(d,a),yt=w?w(it):it,kt=Y.length,Le=w?On=>w(ei(On[d.index])):d.index;let $t=null;if(!w&&E&&($t=function SA(s,a,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=a[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,a,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=p,$t.__ngLastListenerFn__=p,se=!1;else{p=Vv(d,a,B,p,!1);const On=c.listen(yt,f,p);Y.push(p,On),T&&T.push(f,Le,kt,kt+1)}}else p=Vv(d,a,B,p,!1);const Te=d.outputs;let $e;if(se&&null!==Te&&($e=Te[f])){const it=$e.length;if(it)for(let yt=0;yt<it;yt+=2){const ci=a[$e[yt]][$e[yt+1]].subscribe(p),eu=Y.length;Y.push(p,ci),T&&T.push(f,d.index,eu,-(eu+1))}}}function Lv(s,a,c,d){try{return!1!==c(d)}catch(f){return ff(s,f),!1}}function Vv(s,a,c,d,f){return function p(y){if(y===Function)return d;hf(2&s.flags?Sn(s.index,a):a);let E=Lv(a,0,d,y),I=p.__ngNextListenerFn__;for(;I;)E=Lv(a,0,I,y)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Ef(s=1){return function ua(s){return(zt.lFrame.contextLView=function W_(s,a){for(;s>0;)a=a[15],s--;return a}(s,zt.lFrame.contextLView))[8]}(s)}function AA(s,a){let c=null;const d=function zh(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===d?$h(s,p,!0):aA(d,p))return f}else c=f}return c}function lE(s){const a=Ie()[16][6];if(!a.projection){const d=a.projection=us(s?s.length:1,null),f=d.slice();let p=a.child;for(;null!==p;){const y=s?AA(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function Bv(s,a=0,c){const d=Ie(),f=Pt(),p=Yu(f,22+s,16,null,c||null);null===p.projection&&(p.projection=a),qa(),64!=(64&p.flags)&&function tv(s,a,c){Dm(a[11],0,a,c,hC(s,c,a),ju(c.parent||a[6],c,a))}(f,d,p)}function Uo(s,a,c,d,f){const p=Ie(),y=Nc(p,a,c,d);return y!==jt&&vn(Pt(),oi(),p,s,y,p[11],f,!1),Uo}function Df(s,a,c,d,f){const p=s[c+1],y=null===a;let w=d?Ps(p):Ro(p),E=!1;for(;0!==w&&(!1===E||y);){const T=s[w+1];uE(s[w],a)&&(E=!0,s[w+1]=d?Tc(T):ro(T)),w=d?Ps(T):Ro(T)}E&&(s[c+1]=d?ro(p):Tc(p))}function uE(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Zn(s,a)>=0}const sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rd(s){return s.substring(sr.key,sr.keyEnd)}function Hc(s,a){const c=sr.textEnd;return c===a?-1:(a=sr.keyEnd=function sd(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,sr.key=a,c),jc(s,a,c))}function jc(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function Jm(s,a,c){return Ls(s,a,c,!1),Jm}function Ho(s,a){return Ls(s,a,null,!0),Ho}function es(s,a){for(let c=function dE(s){return function Gv(s){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=s.length}(s),Hc(s,jc(s,0,sr.textEnd))}(a);c>=0;c=Hc(a,c))dn(s,rd(a),!0)}function Ls(s,a,c,d){const f=Ie(),p=Pt(),y=wo(2);p.firstUpdatePass&&od(p,s,y,d),a!==jt&&Ar(f,y,a)&&Yv(p,p.data[si()],f,f[11],s,f[y+1]=function mE(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=pe(Rs(s)))),s}(a,c),d,y)}function qv(s,a){return a>=s.expandoStartIndex}function od(s,a,c,d){const f=s.data;if(null===f[c+1]){const p=f[si()],y=qv(s,c);Kv(p,d)&&null===a&&!y&&(a=!1),a=function xA(s,a,c,d){const f=qd(s);let p=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Na(c=ad(null,s,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(c=ad(f,s,a,c,d),null===p){let E=function kA(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Ro(d))return s[Ps(d)]}(s,a,d);void 0!==E&&Array.isArray(E)&&(E=ad(null,s,a,E[1],d),E=Na(E,a.attrs,d),function sn(s,a,c,d){s[Ps(c?a.classBindings:a.styleBindings)]=d}(s,a,d,E))}else p=function RA(s,a,c){let d;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)d=Na(d,s[p].hostAttrs,c);return Na(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,d),function wi(s,a,c,d,f,p){let y=p?a.classBindings:a.styleBindings,w=Ps(y),E=Ro(y);s[d]=c;let T,I=!1;if(Array.isArray(c)){const B=c;T=B[1],(null===T||Zn(B,T)>0)&&(I=!0)}else T=c;if(f)if(0!==E){const Y=Ps(s[w+1]);s[d+1]=ef(Y,w),0!==Y&&(s[Y+1]=Rm(s[Y+1],d)),s[w+1]=function RC(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=ef(w,0),0!==w&&(s[w+1]=Rm(s[w+1],d)),w=d;else s[d+1]=ef(E,0),0===w?w=d:s[E+1]=Rm(s[E+1],d),E=d;I&&(s[d+1]=ro(s[d+1])),Df(s,T,d,!0),Df(s,T,d,!1),function Xm(s,a,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Zn(p,a)>=0&&(c[d+1]=Tc(c[d+1]))}(a,T,s,d,p),y=ef(w,E),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,d)}}function ad(s,a,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=a[w],d=Na(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function Na(s,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),dn(s,y,!!c||a[++p]))}return void 0===s?null:s}function Yv(s,a,c,d,f,p,y,w){if(!(3&a.type))return;const E=s.data,I=E[w+1];eg(function Om(s){return 1==(1&s)}(I)?Zv(E,a,c,f,Ro(I),y):void 0)||(eg(p)||function tf(s){return 2==(2&s)}(I)&&(p=Zv(E,null,c,f,w,y)),function jh(s,a,c,d,f){if(a)f?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:io.DashCase;null==f?s.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=io.Important),s.setStyle(c,d,f,p))}}(d,y,Yr(si(),c),f,p))}function Zv(s,a,c,d,f,p){const y=null===a;let w;for(;f>0;){const E=s[f],I=Array.isArray(E),T=I?E[1]:E,B=null===T;let Y=c[f+1];Y===jt&&(Y=B?Tt:void 0);let se=B?Ke(Y,d):T===d?Y:void 0;if(I&&!eg(se)&&(se=Ke(E,d)),eg(se)&&(w=se,y))return w;const Te=s[f+1];f=y?Ps(Te):Ro(Te)}if(null!==a){let E=p?a.residualClasses:a.residualStyles;null!=E&&(w=Ke(E,d))}return w}function eg(s){return void 0!==s}function Kv(s,a){return 0!=(s.flags&(a?16:32))}function gE(s,a=""){const c=Ie(),d=Pt(),f=s+22,p=d.firstCreatePass?Yu(d,f,1,a,null):d.data[f],y=c[f]=function gm(s,a){return s.createText(a)}(c[11],a);Cc(d,c,y,p),Bi(p,!1)}function Qv(s){return tg("",s,""),Qv}function tg(s,a,c){const d=Ie(),f=Nc(d,s,a,c);return f!==jt&&function bn(s,a,c){const d=Yr(a,s);!function _m(s,a,c){s.setValue(a,c)}(s[11],d,c)}(d,si(),f),tg}function ig(s,a,c){!function zi(s,a,c,d){const f=Pt(),p=wo(2);f.firstUpdatePass&&od(f,null,p,d);const y=Ie();if(c!==jt&&Ar(y,p,c)){const w=f.data[si()];if(Kv(w,d)&&!qv(f,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=ye(E,c||"")),Wm(f,w,y,c,d)}else!function pE(s,a,c,d,f,p,y,w){f===jt&&(f=Tt);let E=0,I=0,T=0<f.length?f[0]:null,B=0<p.length?p[0]:null;for(;null!==T||null!==B;){const Y=E<f.length?f[E+1]:void 0,se=I<p.length?p[I+1]:void 0;let $e,Te=null;T===B?(E+=2,I+=2,Y!==se&&(Te=B,$e=se)):null===B||null!==T&&T<B?(E+=2,Te=T):(I+=2,Te=B,$e=se),null!==Te&&Yv(s,a,c,d,Te,$e,y,w),T=E<f.length?f[E]:null,B=I<p.length?p[I]:null}}(f,w,y,y[11],y[p+1],y[p+1]=function If(s,a,c){if(null==c||""===c)return Tt;const d=[],f=Rs(c);if(Array.isArray(f))for(let p=0;p<f.length;p++)s(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&s(d,p,f[p]);else"string"==typeof f&&a(d,f);return d}(s,a,c),d,p)}}(dn,es,Nc(Ie(),s,a,c),!0)}function Vs(s,a,c){const d=Ie();return Ar(d,ql(),a)&&vn(Pt(),oi(),d,s,a,d[11],c,!0),Vs}function rg(s,a,c){const d=Ie();if(Ar(d,ql(),a)){const p=Pt(),y=oi();vn(p,y,d,s,a,Ei(qd(p.data),y,d),c,!0)}return rg}const $o=void 0;var BA=["en",[["a","p"],["AM","PM"],$o],[["AM","PM"],$o,$o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$o,"{1} 'at' {0}",$o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TE(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ud={};function rb(s){const a=function UA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=kE(a);if(c)return c;const d=a.split("-")[0];if(c=kE(d),c)return c;if("en"===d)return BA;throw new Ae(701,!1)}function xE(s){return rb(s)[Nt.PluralCase]}function kE(s){return s in ud||(ud[s]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[s]),ud[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const dd="en-US";let sb=dd;function yb(s,a,c,d,f){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)yb(s[p],a,c,d,f);else{const p=Pt(),y=Ie();let w=gc(s)?s:Q(s.provide),E=My(s);const I=$n(),T=1048575&I.providerIndexes,B=I.directiveStart,Y=I.providerIndexes>>20;if(gc(s)||!s.multi){const se=new Zr(E,f,Wu),Te=wb(w,a,f?T:T+Y,B);-1===Te?(Jl(fa(I,y),p,w),vb(p,s,a.length),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(se),y.push(se)):(c[Te]=se,y[Te]=se)}else{const se=wb(w,a,T+Y,B),Te=wb(w,a,T,T+Y),$e=se>=0&&c[se],it=Te>=0&&c[Te];if(f&&!it||!f&&!$e){Jl(fa(I,y),p,w);const yt=function Cb(s,a,c,d,f){const p=new Zr(s,c,Wu);return p.multi=[],p.index=a,p.componentProviders=0,bb(p,f,d&&!c),p}(f?aM:_g,c.length,f,d,E);!f&&it&&(c[Te].providerFactory=yt),vb(p,s,a.length,0),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(yt),y.push(yt)}else vb(p,s,se>-1?se:Te,bb(c[f?Te:se],E,!f&&d));!f&&d&&it&&c[Te].componentProviders++}}}function vb(s,a,c,d){const f=gc(a),p=function jS(s){return!!s.useClass}(a);if(f||p){const E=(p?Q(a.useClass):a).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const T=I.indexOf(c);-1===T?I.push(c,[d,E]):I[T+1].push(d,E)}else I.push(c,E)}}}function bb(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function wb(s,a,c,d){for(let f=c;f<d;f++)if(a[f]===s)return f;return-1}function _g(s,a,c,d){return yg(this.multi,[])}function aM(s,a,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ms(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),yg(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],yg(f,p);return p}function yg(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function vg(s,a=[]){return c=>{c.providersResolver=(d,f)=>function oM(s,a,c){const d=Pt();if(d.firstCreatePass){const f=Mr(s);yb(c,d.data,d.blueprint,f,!0),yb(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class Go{}class Nf{}function Eb(s,a){return new Db(s,a??null)}class Db extends Go{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ni(this);const d=Ne(a);this._bootstrapComponents=no(d.bootstrap),this._r3Injector=SC(a,c,[{provide:Go,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Ib extends Nf{constructor(a){super(),this.moduleType=a}create(a){return new Db(this.moduleType,a)}}class qE extends Go{constructor(a,c,d){super(),this.componentFactoryResolver=new Ni(this),this.instance=null;const f=new zS([...a,{provide:Go,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],c||Ay(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function bg(s,a,c=null){return new qE(s,a,c).injector}let Sb=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Dy(0,c.type),f=d.length>0?bg([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=an({token:s,providedIn:"environment",factory:()=>new s(Hn(Fu))}),s})();function YE(s){s.getStandaloneInjector=a=>a.get(Sb).getOrCreateStandaloneInjector(s)}function Lf(s,a,c){const d=gi()+s,f=Ie();return f[d]===jt?Vo(f,d,c?a.call(c):a()):function vf(s,a){return s[a]}(f,d)}function Bf(s,a){const c=s[a];return c===jt?void 0:c}function Fb(s,a,c,d,f,p,y){const w=a+c;return function gl(s,a,c,d){const f=Ar(s,a,c);return Ar(s,a+1,d)||f}(s,w,f,p)?Vo(s,w+2,y?d.call(y,f,p):d(f,p)):Bf(s,w+2)}function Nb(s,a){const c=Pt();let d;const f=s+22;c.firstCreatePass?(d=function fM(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=Vi(d.type)),y=_n(Wu);try{const w=wu(!1),E=p();return wu(w),function aE(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,Ie(),f,E),E}finally{_n(y)}}function rD(s,a,c){const d=s+22,f=Ie(),p=ur(f,d);return Va(f,d)?function iD(s,a,c,d,f,p){const y=a+c;return Ar(s,y,f)?Vo(s,y+1,p?d.call(p,f):d(f)):Bf(s,y+1)}(f,gi(),a,p.transform,c,p):p.transform(c)}function sD(s,a,c,d){const f=s+22,p=Ie(),y=ur(p,f);return Va(p,f)?Fb(p,gi(),a,y.transform,c,d,y):y.transform(c,d)}function Va(s,a){return s[1].data[a].pure}function Il(s){return a=>{setTimeout(s,void 0,a)}}const Bs=class Vb extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const E=a;f=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=Il(p),f&&(f=Il(f)),y&&(y=Il(y)));const w=super.subscribe({next:f,error:p,complete:y});return a instanceof H.w0&&a.add(w),w}};function Ig(){return this._results[ka()]()}class Sl{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ka(),d=Sl.prototype;d[c]||(d[c]=Ig)}get changes(){return this._changes||(this._changes=new Bs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Hi(a);(this._changesDetected=!function Io(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=a[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ub,s})();const oD=Kc,Bb=class extends oD{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=Ft(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Ve(d,f,a),new Sr(f)}};function Ub(){return Us($n(),Ie())}function Us(s,a){return 4&s.type?new Bb(a,s,_i(s,a)):null}let Hf=(()=>{class s{}return s.__NG_ELEMENT_ID__=gM,s})();function gM(){return Ag($n(),Ie())}const Hb=Hf,aD=class extends Hb{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return _i(this._hostTNode,this._hostLView)}get injector(){return new nc(this._hostTNode,this._hostLView)}get parentInjector(){const a=Xl(this._hostTNode,this._hostLView);if(X_(a)){const c=Co(a,this._hostLView),d=ha(a);return new nc(c[1].data[d+8],c)}return new nc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Sg(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=a.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(a,c,d,f,p){const y=a&&!function un(s){return"function"==typeof s}(a);let w;if(y)w=c;else{const B=c||{};w=B.index,d=B.injector,f=B.projectableNodes,p=B.environmentInjector||B.ngModuleRef}const E=y?a:new ao(A(a)),I=d||this.parentInjector;if(!p&&null==E.ngModule){const Y=(y?I:this.parentInjector).get(Fu,null);Y&&(p=Y)}const T=E.create(I,f,void 0,p);return this.insert(T.hostView,w),T}insert(a,c){const d=a._lView,f=d[1];if(function Mp(s){return Xi(s[3])}(d)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const B=d[3],Y=new aD(B,B[6],B[3]);Y.detach(Y.indexOf(a))}}const p=this._adjustIndex(c),y=this._lContainer;!function Qy(s,a,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=a),d<p-10?(a[4]=c[f],Ci(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function cC(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=64}(f,d,y,p);const w=Em(p,y),E=d[11],I=wc(E,y[7]);return null!==I&&function rA(s,a,c,d,f,p){d[0]=f,d[6]=a,Dc(s,d,c,1,f,p)}(f,y[6],E,d,I,w),a.attachToViewContainerRef(),Ci(jb(y),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Sg(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=vc(this._lContainer,c);d&&(qe(jb(this._lContainer),c),Xy(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=vc(this._lContainer,c);return d&&null!=qe(jb(this._lContainer),c)?new Sr(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function Sg(s){return s[8]}function jb(s){return s[8]||(s[8]=[])}function Ag(s,a){let c;const d=a[s.index];if(Xi(d))c=d;else{let f;if(8&s.type)f=ei(d);else{const p=a[11];f=p.createComment("");const y=tr(s,a);Os(p,wc(p,y),f,function gC(s,a){return s.nextSibling(a)}(p,y),!1)}a[s.index]=c=cf(d,a,f,s),df(a,c)}return new aD(c,s,a)}class Al{constructor(a){this.queryList=a,this.matches=null}clone(){return new Al(this.queryList)}setDirty(){this.queryList.setDirty()}}class jf{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new jf(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Ba(a,c).matches&&this.queries[c].setDirty()}}class lD{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class zb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new zb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Tg{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Tg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(a,c,cD(c,p)),this.matchTNodeWithReadOption(a,c,tc(c,a,p,!1,!1))}else d===Kc?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,tc(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===sl||f===Hf||f===Kc&&4&c.type)this.addMatch(c.index,-2);else{const p=tc(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function cD(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Gb(s,a,c,d){return-1===c?function yM(s,a){return 11&s.type?_i(s,a):4&s.type?Us(s,a):null}(a,s):-2===c?function vM(s,a,c){return c===sl?_i(a,s):c===Kc?Us(a,s):c===Hf?Ag(a,s):void 0}(s,a,d):Ms(s,s[1],c,a)}function xg(s,a,c,d){const f=a[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const I=y[E];w.push(I<0?null:Gb(a,p[I],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function Wb(s,a,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=xg(s,a,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const I=p[w+1],T=a[-E];for(let B=10;B<T.length;B++){const Y=T[B];Y[17]===Y[3]&&Wb(Y[1],Y,I,d)}if(null!==T[9]){const B=T[9];for(let Y=0;Y<B.length;Y++){const se=B[Y];Wb(se[1],se,I,d)}}}}}return d}function kg(s){const a=Ie(),c=Pt(),d=Yd();Zd(d+1);const f=Ba(c,d);if(s.dirty&&function Ys(s){return 4==(4&s[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?Wb(c,a,d,[]):xg(c,a,f,d);s.reset(p,WS),s.notifyOnChanges()}return!0}return!1}function uD(s,a,c){const d=Pt();d.firstCreatePass&&(Pg(d,new lD(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Og(d,Ie(),a)}function Rg(s,a,c,d){const f=Pt();if(f.firstCreatePass){const p=$n();Pg(f,new lD(a,c,d),p.index),function wd(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}Og(f,Ie(),c)}function qb(){return function Yb(s,a){return s[19].queries[a].queryList}(Ie(),Yd())}function Og(s,a,c){const d=new Sl(4==(4&c));$C(s,a,d,d.destroy),null===a[19]&&(a[19]=new jf),a[19].queries.push(new Al(d))}function Pg(s,a,c){null===s.queries&&(s.queries=new zb),s.queries.track(new Tg(a,c))}function Ba(s,a){return s.queries.getByIndex(a)}function Fg(s,a){return Us(s,a)}function Ed(...s){}const qg=new qn("Application Initializer");let zf=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Ed,this.reject=Ed,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(qm(p))c.push(p);else if(Zm(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Hn(qg,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Yg=new qn("AppId",{providedIn:"root",factory:function c0(){return`${u0()}${u0()}${u0()}`}});function u0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zg=new qn("Platform Initializer"),AM=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kg=new qn("appBootstrapListener"),d0=new qn("AnimationModuleType");let MM=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Gf=new qn("LocaleId",{providedIn:"root",factory:()=>dh(Gf,tt.Optional|tt.SkipSelf)||function ID(){return typeof $localize<"u"&&$localize.locale||dd}()}),TM=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class MD{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let TD=(()=>{class s{compileModuleSync(c){return new Ib(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=no(Ne(c).declarations).reduce((y,w)=>{const E=A(w);return E&&y.push(new ao(E)),y},[]);return new MD(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const li=(()=>Promise.resolve(0))();function yr(s){typeof Zone>"u"?li.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ps{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Wo(){let s=pt.requestAnimationFrame,a=pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function p0(s){const a=()=>{!function kD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Jg(s),s.isCheckStableRunning=!0,Dd(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Jg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return Wf(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),RD(s)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return Wf(s),c.invoke(f,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&a(),RD(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Jg(s),Dd(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Ae(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,kM,Ed,Ed);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const kM={};function Dd(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Jg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Wf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function RD(s){s._nesting--,Dd(s)}class lR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const OD=new qn(""),PD=new qn("");let e_,RM=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e_||(function OM(s){e_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),yr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yr(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Hn(ps),Hn(FD),Hn(PD))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),FD=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return e_?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),qo=null;const m0=new qn("AllowMultipleToken"),qf=new qn("PlatformDestroyListeners");class ND{constructor(a,c){this.name=a,this.token=c}}function Jc(s,a,c=[]){const d=`Platform: ${a}`,f=new qn(d);return(p=[])=>{let y=w0();if(!y||y.injector.get(m0,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function t_(s){if(qo&&!qo.get(m0,!1))throw new Ae(400,!1);qo=s;const a=s.get(C0);(function n_(s){const a=s.get(Zg,null);a&&a.forEach(c=>c())})(s)}(function LD(s=[],a){return Sc.create({name:a,providers:[{provide:$w,useValue:"platform"},{provide:qf,useValue:new Set([()=>qo=null])},...s]})}(w,d))}return function b0(s){const a=w0();if(!a)throw new Ae(401,!1);return a}()}}function w0(){return qo?.get(C0)??null}let C0=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function E0(s,a){let c;return c="noop"===s?new lR:("zone.js"===s?void 0:s)||new ps(a),c}(d?.ngZone,function VD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:ps,useValue:f}];return f.run(()=>{const y=Sc.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(Vu,null);if(!E)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:T=>{E.handleError(T)}});w.onDestroy(()=>{r_(this._modules,w),I.unsubscribe()})}),function BD(s,a,c){try{const d=c();return qm(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const I=w.injector.get(zf);return I.runInitializers(),I.donePromise.then(()=>(function RE(s){Rt(s,"Expected localeId to be defined"),"string"==typeof s&&(sb=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Gf,dd)||dd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=UD({},d);return function g0(s,a,c){const d=new Ib(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(i_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ae(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(qf,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Hn(Sc))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function UD(s,a){return Array.isArray(a)?a.reduce(UD,s):{...s,...a}}let i_=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),yr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Ty;if(!this._injector.get(zf).done)throw!f&&ce(c),new Ae(405,false);let y;y=f?c:this._injector.get(Rh).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function y0(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Go),I=y.create(Sc.NULL,[],d||y.selector,w),T=I.location.nativeElement,B=I.injector.get(OD,null);return B?.registerApplication(T),I.onDestroy(()=>{this.detachView(I.hostView),r_(this.components,I),B?.unregisterApplication(T)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;r_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Kg,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>r_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ae(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Hn(ps),Hn(Fu),Hn(Vu))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function r_(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let HD=!0,ni=!1;function uR(){return ni=!0,HD}function NM(){if(ni)throw new Error("Cannot enable prod mode after platform setup.");HD=!1}let VM=(()=>{class s{}return s.__NG_ELEMENT_ID__=$D,s})();function $D(s){return function BM(s,a,c){if(ss(s)&&!c){const d=Sn(s.index,a);return new Sr(d,d)}return 47&s.type?new Sr(a[16],a):null}($n(),Ie(),16==(16&s))}class c_{constructor(){}supports(a){return Ku(a)}create(a){return new $M(a)}}const jM=(s,a)=>a;class $M{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||jM}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<M0(d,f,p)?c:d,w=M0(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const I=w-f,T=E-f;if(I!=T){for(let Y=0;Y<I;Y++){const se=Y<p.length?p[Y]:p[Y]=0,Te=se+Y;T<=Te&&Te<I&&(p[Y]=se+1)}p[y.previousIndex]=T-I}}w!==E&&a(y,w,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Ku(a))throw new Ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function Gm(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[ka()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new zM(c,d),p,f),a}_verifyReinsertion(a,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new u_),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class zM{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A0{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class u_{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new A0,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M0(s,a,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class xl{constructor(){}supports(a){return a instanceof Map||Fc(a)}create(){return new WD}}class WD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Fc(a)))throw new Ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new qD(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class qD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d_(){return new Kf([new c_])}let Kf=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||d_()),deps:[[s,new tl,new ba]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ae(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:d_}),s})();function Qf(){return new Ad([new xl])}let Ad=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Qf()),deps:[[s,new tl,new ba]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ae(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Qf}),s})();const ZD=Jc(null,"core",[]);let Jf=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Hn(i_))},s.\u0275mod=Xt({type:s}),s.\u0275inj=St({}),s})();function kl(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},579:(ht,ke,O)=>{O.d(ke,{EI:()=>Me,Gb:()=>Si,Iv:()=>Nn,Kz:()=>vt,Xd:()=>ri,lT:()=>Jn,xP:()=>et});var l=O(5861),H=O(9681),P=O(1877),ie=O(2090),ge=O(4859);O(2833);const ne="analytics",pe="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Oe=new P.Yd("@firebase/analytics");function Se(R){return Promise.all(R.map(x=>x.catch(A=>A)))}function Ae(R,x){const A=document.createElement("script");A.src=`${Q}?l=${R}&id=${x}`,A.async=!0,document.head.appendChild(A)}function be(R,x,A,k,z,ce){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(R,x,A,k,z,ce){const Ne=k[z];try{if(Ne)yield x[Ne];else{const _e=(yield Se(A)).find(xe=>xe.measurementId===z);_e&&(yield x[_e.appId])}}catch(ze){Oe.error(ze)}R("config",z,ce)})).apply(this,arguments)}function lt(R,x,A,k,z){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(R,x,A,k,z){try{let ce=[];if(z&&z.send_to){let Ne=z.send_to;Array.isArray(Ne)||(Ne=[Ne]);const ze=yield Se(A);for(const _e of Ne){const xe=ze.find(en=>en.measurementId===_e),ut=xe&&x[xe.appId];if(!ut){ce=[];break}ce.push(ut)}}0===ce.length&&(ce=Object.values(x)),yield Promise.all(ce),R("event",k,z||{})}catch(ce){Oe.error(ce)}})).apply(this,arguments)}function De(R){const x=window.document.getElementsByTagName("script");for(const A of Object.values(x))if(A.src&&A.src.includes(Q)&&A.src.includes(R))return A;return null}const te=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=new class X{constructor(x={},A=1e3){this.throttleMetadata=x,this.intervalMillis=A}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,A){this.throttleMetadata[x]=A}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function he(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function oe(R){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(R){var x;const{appId:A,apiKey:k}=R,z={method:"GET",headers:he(k)},ce=G.replace("{app-id}",A),Ne=yield fetch(ce,z);if(200!==Ne.status&&304!==Ne.status){let ze="";try{const _e=yield Ne.json();null!==(x=_e.error)&&void 0!==x&&x.message&&(ze=_e.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:ze})}return Ne.json()})).apply(this,arguments)}function Be(R){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(R,x=J,A){const{appId:k,apiKey:z,measurementId:ce}=R.options;if(!k)throw te.create("no-app-id");if(!z){if(ce)return{measurementId:ce,appId:k};throw te.create("no-api-key")}const Ne=x.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Gn;return setTimeout((0,l.Z)(function*(){ze.abort()}),void 0!==A?A:6e4),on({appId:k,apiKey:z,measurementId:ce},Ne,ze,x)})).apply(this,arguments)}function on(R,x,A){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(R,{throttleEndTimeMillis:x,backoffCount:A},k,z=J){var ce,Ne;const{appId:ze,measurementId:_e}=R;try{yield We(k,x)}catch(xe){if(_e)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${null===(ce=xe)||void 0===ce?void 0:ce.message}]`),{appId:ze,measurementId:_e};throw xe}try{const xe=yield oe(R);return z.deleteThrottleMetadata(ze),xe}catch(xe){const ut=xe;if(!mn(ut)){if(z.deleteThrottleMetadata(ze),_e)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ze,measurementId:_e};throw xe}const en=503===Number(null===(Ne=ut?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,ie.$s)(A,z.intervalMillis,30):(0,ie.$s)(A,z.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+en,backoffCount:A+1};return z.setThrottleMetadata(ze,Mt),Oe.debug(`Calling attemptFetch again in ${en} millis`),on(R,Mt,k,z)}})).apply(this,arguments)}function We(R,x){return new Promise((A,k)=>{const z=Math.max(x-Date.now(),0),ce=setTimeout(A,z);R.addEventListener(()=>{clearTimeout(ce),k(te.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function mn(R){if(!(R instanceof ie.ZR&&R.customData))return!1;const x=Number(R.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Gn{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let hn,Xn;function Wt(){return(Wt=(0,l.Z)(function*(R,x,A,k,z){if(z&&z.global)R("event",A,k);else{const ce=yield x;R("event",A,Object.assign(Object.assign({},k),{send_to:ce}))}})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{screen_name:A}),Promise.resolve();R("config",yield x,{update:!0,screen_name:A})})).apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{user_id:A}),Promise.resolve();R("config",yield x,{update:!0,user_id:A})})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(R,x,A,k){if(k&&k.global){const z={};for(const ce of Object.keys(A))z[`user_properties.${ce}`]=A[ce];return R("set",z),Promise.resolve()}R("config",yield x,{update:!0,user_properties:A})})).apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(R,x){const A=yield R;window[`ga-disable-${A}`]=!x})).apply(this,arguments)}function Di(R){Xn=R}function cr(R){hn=R}function tt(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(){var R;if(!(0,ie.hl)())return Oe.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(x){return Oe.warn(te.create("indexeddb-unavailable",{errorInfo:null===(R=x)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(R,x,A,k,z,ce,Ne){var ze;const _e=Be(R);_e.then(qt=>{A[qt.measurementId]=qt.appId,R.options.measurementId&&qt.measurementId!==R.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qt=>Oe.error(qt)),x.push(_e);const xe=tt().then(qt=>{if(qt)return k.getId()}),[ut,en]=yield Promise.all([_e,xe]);De(ce)||Ae(ce,ut.measurementId),Xn&&(z("consent","default",Xn),Di(void 0)),z("js",new Date);const Mt=null!==(ze=Ne?.config)&&void 0!==ze?ze:{};return Mt.origin="firebase",Mt.update=!0,null!=en&&(Mt[pe]=en),z("config",ut.measurementId,Mt),hn&&(z("set",hn),cr(void 0)),ut.measurementId})).apply(this,arguments)}class pi{constructor(x){this.app=x}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},An=[];const kn={};let dt,pt,ln="dataLayer",ft="gtag",Rn=!1;function ri(R){if(Rn)throw te.create("already-initialized");R.dataLayerName&&(ln=R.dataLayerName),R.gtagName&&(ft=R.gtagName)}function Tt(R,x,A){!function mi(){const R=[];if((0,ie.ru)()&&R.push("This is a browser extension environment."),(0,ie.zI)()||R.push("Cookies are not available."),R.length>0){const x=R.map((k,z)=>`(${z+1}) ${k}`).join(" "),A=te.create("invalid-analytics-context",{errorInfo:x});Oe.warn(A.message)}}();const k=R.options.appId;if(!k)throw te.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw te.create("no-api-key");Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[k])throw te.create("already-exists",{id:k});if(!Rn){!function Je(R){let x=[];Array.isArray(window[R])?x=window[R]:window[R]=x}(ln);const{wrappedGtag:ce,gtagCore:Ne}=function Pe(R,x,A,k,z){let ce=function(...Ne){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(ce=window[z]),window[z]=function Fe(R,x,A,k){function ce(){return(ce=(0,l.Z)(function*(Ne,ze,_e){try{"event"===Ne?yield lt(R,x,A,ze,_e):"config"===Ne?yield be(R,x,A,k,ze,_e):"consent"===Ne?R("consent","update",_e):R("set",ze)}catch(xe){Oe.error(xe)}})).apply(this,arguments)}return function z(Ne,ze,_e){return ce.apply(this,arguments)}}(ce,R,x,A),{gtagCore:ce,wrappedGtag:window[z]}}(xi,An,kn,ln,ft);pt=ce,dt=Ne,Rn=!0}return xi[k]=function Wn(R,x,A,k,z,ce,Ne){return _n.apply(this,arguments)}(R,An,kn,x,dt,ln,A),new pi(R)}function Si(){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}function Jn(R,x,A){R=(0,ie.m9)(R),function St(R,x,A,k){return Fn.apply(this,arguments)}(pt,xi[R.app.options.appId],x,A).catch(k=>Oe.error(k))}function Nn(R,x,A){R=(0,ie.m9)(R),function Yi(R,x,A,k){return lr.apply(this,arguments)}(pt,xi[R.app.options.appId],x,A).catch(k=>Oe.error(k))}function et(R,x,A){R=(0,ie.m9)(R),function jn(R,x,A,k){return fi.apply(this,arguments)}(pt,xi[R.app.options.appId],x,A).catch(k=>Oe.error(k))}function Me(R,x){R=(0,ie.m9)(R),function Zi(R,x){return Qn.apply(this,arguments)}(xi[R.app.options.appId],x).catch(A=>Oe.error(A))}function vt(R,x,A,k){R=(0,ie.m9)(R),function an(R,x,A,k,z){return Wt.apply(this,arguments)}(pt,xi[R.app.options.appId],x,A,k).catch(z=>Oe.error(z))}const Xt="@firebase/analytics",W="0.8.2";!function $(){(0,H._registerComponent)(new ge.wA(ne,(x,{options:A})=>Tt(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,H._registerComponent)(new ge.wA("analytics-internal",function R(x){try{const A=x.getProvider(ne).getImmediate();return{logEvent:(k,z,ce)=>vt(A,k,z,ce)}}catch(A){throw te.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,H.registerVersion)(Xt,W),(0,H.registerVersion)(Xt,W,"esm2017")}()},3942:(ht,ke,O)=>{O.d(ke,{Z:()=>Ae});var l=O(2090),H=O(4859),P=O(9681),ie=O(1877);class ge{constructor(be,ue){this._delegate=be,this.firebase=ue,(0,P._addComponent)(be,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(be,ue=P._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(be);return!Qe.isInitialized()&&"EXPLICIT"===(null===(lt=Qe.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ue})}_removeServiceInstance(be,ue=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ue)}_addComponent(be){(0,P._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,P._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const Je=function pe(Je){const be={},ue={__esModule:!0,initializeApp:function Fe(te,le={}){const we=P.initializeApp(te,le);if((0,l.r3)(be,we.name))return be[we.name];const X=new Je(we,ue);return be[we.name]=X,X},app:Qe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(te){const le=te.name,we=le.replace("-compat","");if(P._registerComponent(te)&&"PUBLIC"===te.type){const X=(J=Qe())=>{if("function"!=typeof J[we])throw ne.create("invalid-app-argument",{appName:le});return J[we]()};void 0!==te.serviceProps&&(0,l.ZB)(X,te.serviceProps),ue[we]=X,Je.prototype[we]=function(...J){return this._getService.bind(this,le).apply(this,te.multipleInstances?J:[])}}return"PUBLIC"===te.type?ue[we]:null},removeApp:function lt(te){delete be[te]},useAsService:function Ye(te,le){return"serverAuth"===le?null:le},modularAPIs:P}};function Qe(te){if(!(0,l.r3)(be,te=te||P._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:te});return be[te]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function Pe(){return Object.keys(be).map(te=>be[te])}}),Qe.App=Je,ue}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(ue){(0,l.ZB)(Je,ue)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Je}(),G=new ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=q;!function Se(Je){(0,P.registerVersion)("@firebase/app-compat","0.1.36",Je)}()},9681:(ht,ke,O)=>{O.r(ke),O.d(ke,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Zi,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>an,_apps:()=>mn,_clearComponents:()=>Yi,_components:()=>Gn,_getProvider:()=>St,_registerComponent:()=>Wt,_removeServiceInstance:()=>Fn,deleteApp:()=>cr,getApp:()=>Xn,getApps:()=>Di,initializeApp:()=>Qn,onLog:()=>Wn,registerVersion:()=>Cn,setLogLevel:()=>_n});var l=O(5861),H=O(4859),P=O(1877),ie=O(2090),ge=O(8766);class ve{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ne(et){return"VERSION"===et.getComponent()?.type}(rt)){const vt=rt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",q=new P.Yd("@firebase/app"),Rt="[DEFAULT]",We={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Gn=new Map;function hn(et,Me){try{et.container.addComponent(Me)}catch(rt){q.debug(`Component ${Me.name} failed to register with FirebaseApp ${et.name}`,rt)}}function an(et,Me){et.container.addOrOverwriteComponent(Me)}function Wt(et){const Me=et.name;if(Gn.has(Me))return q.debug(`There were multiple attempts to register component ${Me}.`),!1;Gn.set(Me,et);for(const rt of mn.values())hn(rt,et);return!0}function St(et,Me){const rt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),et.container.getProvider(Me)}function Fn(et,Me,rt=Rt){St(et,Me).clearInstance(rt)}function Yi(){Gn.clear()}const jn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(Me,rt,vt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Zi="9.12.0";function Qn(et,Me={}){let rt=et;"object"!=typeof Me&&(Me={name:Me});const vt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Me),At=vt.name;if("string"!=typeof At||!At)throw jn.create("bad-app-name",{appName:String(At)});if(rt||(rt=(0,ie.aH)()),!rt)throw jn.create("no-options");const Xt=mn.get(At);if(Xt){if((0,ie.vZ)(rt,Xt.options)&&(0,ie.vZ)(vt,Xt.config))return Xt;throw jn.create("duplicate-app",{appName:At})}const W=new H.H0(At);for(const R of Gn.values())W.addComponent(R);const $=new fi(rt,vt,W);return mn.set(At,$),$}function Xn(et=Rt){const Me=mn.get(et);if(!Me&&et===Rt)return Qn();if(!Me)throw jn.create("no-app",{appName:et});return Me}function Di(){return Array.from(mn.values())}function cr(et){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(et){const Me=et.name;mn.has(Me)&&(mn.delete(Me),yield Promise.all(et.container.getProviders().map(rt=>rt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function Cn(et,Me,rt){var vt;let At=null!==(vt=We[et])&&void 0!==vt?vt:et;rt&&(At+=`-${rt}`);const Xt=At.match(/\s|\//),W=Me.match(/\s|\//);if(Xt||W){const $=[`Unable to register library "${At}" with version "${Me}":`];return Xt&&$.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Xt&&W&&$.push("and"),W&&$.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void q.warn($.join(" "))}Wt(new H.wA(`${At}-version`,()=>({library:At,version:Me}),"VERSION"))}function Wn(et,Me){if(null!==et&&"function"!=typeof et)throw jn.create("invalid-log-argument");(0,P.Am)(et,Me)}function _n(et){(0,P.Ub)(et)}const An="firebase-heartbeat-store";let kn=null;function ln(){return kn||(kn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(et,Me)=>{0===Me&&et.createObjectStore(An)}}).catch(et=>{throw jn.create("idb-open",{originalErrorMessage:et.message})})),kn}function dt(){return(dt=(0,l.Z)(function*(et){var Me;try{return(yield ln()).transaction(An).objectStore(An).get(ri(et))}catch(rt){if(rt instanceof ie.ZR)q.warn(rt.message);else{const vt=jn.create("idb-get",{originalErrorMessage:null===(Me=rt)||void 0===Me?void 0:Me.message});q.warn(vt.message)}}})).apply(this,arguments)}function pt(et,Me){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(et,Me){var rt;try{const At=(yield ln()).transaction(An,"readwrite");return yield At.objectStore(An).put(Me,ri(et)),At.done}catch(vt){if(vt instanceof ie.ZR)q.warn(vt.message);else{const At=jn.create("idb-set",{originalErrorMessage:null===(rt=vt)||void 0===rt?void 0:rt.message});q.warn(At.message)}}})).apply(this,arguments)}function ri(et){return`${et.name}!${et.options.appId}`}class Ii{constructor(Me){this.container=Me,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Kt(rt),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Me=this;return(0,l.Z)(function*(){const vt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Ot();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==At&&!Me._heartbeatsCache.heartbeats.some(Xt=>Xt.date===At))return Me._heartbeatsCache.heartbeats.push({date:At,agent:vt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(Xt=>{const W=new Date(Xt.date).valueOf();return Date.now()-W<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,l.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const rt=Ot(),{heartbeatsToSend:vt,unsentEntries:At}=function Si(et,Me=1024){const rt=[];let vt=et.slice();for(const At of et){const Xt=rt.find(W=>W.agent===At.agent);if(Xt){if(Xt.dates.push(At.date),Jn(rt)>Me){Xt.dates.pop();break}}else if(rt.push({agent:At.agent,dates:[At.date]}),Jn(rt)>Me){rt.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:vt}}(Me._heartbeatsCache.heartbeats),Xt=(0,ie.L)(JSON.stringify({version:2,heartbeats:vt}));return Me._heartbeatsCache.lastSentHeartbeatDate=rt,At.length>0?(Me._heartbeatsCache.heartbeats=At,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Xt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,l.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function ft(et){return dt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const Xt=yield rt.read();return pt(rt.app,{lastSentHeartbeatDate:null!==(vt=Me.lastSentHeartbeatDate)&&void 0!==vt?vt:Xt.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const Xt=yield rt.read();return pt(rt.app,{lastSentHeartbeatDate:null!==(vt=Me.lastSentHeartbeatDate)&&void 0!==vt?vt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...Me.heartbeats]})}})()}}function Jn(et){return(0,ie.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Nn(et){Wt(new H.wA("platform-logger",Me=>new ve(Me),"PRIVATE")),Wt(new H.wA("heartbeat",Me=>new Ii(Me),"PRIVATE")),Cn(pe,"0.8.1",et),Cn(pe,"0.8.1","esm2017"),Cn("fire-js","")}("")},4859:(ht,ke,O)=>{O.d(ke,{H0:()=>pe,wA:()=>P});var l=O(5861),H=O(2090);class P{constructor(q,G,Q){this.name=q,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ie="[DEFAULT]";class ge{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const Q=new H.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:G});Oe&&Q.resolve(Oe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const Q=this.normalizeInstanceIdentifier(q?.identifier),Oe=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(Oe)return null;throw Se}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ne(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:Oe});Q.resolve(Se)}catch{}}}}clearInstance(q=ie){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ie){return this.instances.has(q)}getOptions(q=ie){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,Q=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Se,Ae]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&Ae.resolve(Oe);return Oe}onInit(q,G){var Q;const Oe=this.normalizeInstanceIdentifier(G),Se=null!==(Q=this.onInitCallbacks.get(Oe))&&void 0!==Q?Q:new Set;Se.add(q),this.onInitCallbacks.set(Oe,Se);const Ae=this.instances.get(Oe);return Ae&&q(Ae,Oe),()=>{Se.delete(q)}}invokeOnInitCallbacks(q,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Oe of Q)try{Oe(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let Q=this.instances.get(q);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===ie?void 0:ye),options:G}),this.instances.set(q,Q),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(Q,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Q)}catch{}var ye;return Q||null}normalizeInstanceIdentifier(q=ie){return this.component?this.component.multipleInstances?q:ie:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new ge(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(ht,ke,O)=>{var l=O(5861),H=O(9681),P=O(4859),ie=O(2090),ge=O(8766);const ve="@firebase/installations",ne="0.5.14",ye=`w:${ne}`,q="FIS_v2",Je=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(ee){return ee instanceof ie.ZR&&ee.code.includes("request-failed")}function ue({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function lt(ee){return{token:ee.token,requestStatus:2,expiresIn:le(ee.expiresIn),creationTime:Date.now()}}function Qe(ee,Ce){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(ee,Ce){const mt=(yield Ce.json()).error;return Je.create("request-failed",{requestName:ee,serverCode:mt.code,serverMessage:mt.message,serverStatus:mt.status})})).apply(this,arguments)}function Pe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function De(ee,{refreshToken:Ce}){const je=Pe(ee);return je.append("Authorization",function we(ee){return`${q} ${ee}`}(Ce)),je}function Ye(ee){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(ee){const Ce=yield ee();return Ce.status>=500&&Ce.status<600?ee():Ce})).apply(this,arguments)}function le(ee){return Number(ee.replace("s","000"))}function X(ee,Ce){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},{fid:je}){const mt=ue(ee),Jt=Pe(ee),fn=Ce.getImmediate({optional:!0});if(fn){const Qi=yield fn.getHeartbeatsHeader();Qi&&Jt.append("x-firebase-client",Qi)}const Vn={method:"POST",headers:Jt,body:JSON.stringify({fid:je,authVersion:q,appId:ee.appId,sdkVersion:ye})},Ki=yield Ye(()=>fetch(mt,Vn));if(Ki.ok){const Qi=yield Ki.json();return{fid:Qi.fid||je,registrationStatus:2,refreshToken:Qi.refreshToken,authToken:lt(Qi.authToken)}}throw yield Qe("Create Installation",Ki)})).apply(this,arguments)}function he(ee){return new Promise(Ce=>{setTimeout(Ce,ee)})}const He=/^[cdef][\w-]{21}$/;function gt(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const je=function on(ee){return function oe(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return He.test(je)?je:""}catch{return""}}function Rt(ee){return`${ee.appName}!${ee.appId}`}const We=new Map;function mn(ee,Ce){const je=Rt(ee);an(je,Ce),function Wt(ee,Ce){const je=function Fn(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=ee=>{an(ee.data.key,ee.data.fid)}),St}();je&&je.postMessage({key:ee,fid:Ce}),function Yi(){0===We.size&&St&&(St.close(),St=null)}()}(je,Ce)}function an(ee,Ce){const je=We.get(ee);if(je)for(const mt of je)mt(Ce)}let St=null;const fi="firebase-installations-store";let Zi=null;function Qn(){return Zi||(Zi=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,Ce)=>{0===Ce&&ee.createObjectStore(fi)}})),Zi}function Xn(ee,Ce){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(ee,Ce){const je=Rt(ee),Jt=(yield Qn()).transaction(fi,"readwrite"),fn=Jt.objectStore(fi),Un=yield fn.get(je);return yield fn.put(Ce,je),yield Jt.done,(!Un||Un.fid!==Ce.fid)&&mn(ee,Ce.fid),Ce})).apply(this,arguments)}function cr(ee){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(ee){const Ce=Rt(ee),mt=(yield Qn()).transaction(fi,"readwrite");yield mt.objectStore(fi).delete(Ce),yield mt.done})).apply(this,arguments)}function Cn(ee,Ce){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(ee,Ce){const je=Rt(ee),Jt=(yield Qn()).transaction(fi,"readwrite"),fn=Jt.objectStore(fi),Un=yield fn.get(je),Vn=Ce(Un);return void 0===Vn?yield fn.delete(je):yield fn.put(Vn,je),yield Jt.done,Vn&&(!Un||Un.fid!==Vn.fid)&&mn(ee,Vn.fid),Vn})).apply(this,arguments)}function _n(ee){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(ee){let Ce;const je=yield Cn(ee.appConfig,mt=>{const Jt=xi(mt),fn=An(ee,Jt);return Ce=fn.registrationPromise,fn.installationEntry});return""===je.fid?{installationEntry:yield Ce}:{installationEntry:je,registrationPromise:Ce}})).apply(this,arguments)}function xi(ee){return Rn(ee||{fid:gt(),registrationStatus:0})}function An(ee,Ce){if(0===Ce.registrationStatus){if(!navigator.onLine)return{installationEntry:Ce,registrationPromise:Promise.reject(Je.create("app-offline"))};const je={fid:Ce.fid,registrationStatus:1,registrationTime:Date.now()},mt=function kn(ee,Ce){return ln.apply(this,arguments)}(ee,je);return{installationEntry:je,registrationPromise:mt}}return 1===Ce.registrationStatus?{installationEntry:Ce,registrationPromise:ft(ee)}:{installationEntry:Ce}}function ln(){return(ln=(0,l.Z)(function*(ee,Ce){try{const je=yield X(ee,Ce);return Xn(ee.appConfig,je)}catch(je){throw be(je)&&409===je.customData.serverCode?yield cr(ee.appConfig):yield Xn(ee.appConfig,{fid:Ce.fid,registrationStatus:0}),je}})).apply(this,arguments)}function ft(ee){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(ee){let Ce=yield pt(ee.appConfig);for(;1===Ce.registrationStatus;)yield he(100),Ce=yield pt(ee.appConfig);if(0===Ce.registrationStatus){const{installationEntry:je,registrationPromise:mt}=yield _n(ee);return mt||je}return Ce})).apply(this,arguments)}function pt(ee){return Cn(ee,Ce=>{if(!Ce)throw Je.create("installation-not-found");return Rn(Ce)})}function Rn(ee){return function ri(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function mi(ee,Ce){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},je){const mt=Ii(ee,je),Jt=De(ee,je),fn=Ce.getImmediate({optional:!0});if(fn){const Qi=yield fn.getHeartbeatsHeader();Qi&&Jt.append("x-firebase-client",Qi)}const Vn={method:"POST",headers:Jt,body:JSON.stringify({installation:{sdkVersion:ye,appId:ee.appId}})},Ki=yield Ye(()=>fetch(mt,Vn));if(Ki.ok)return lt(yield Ki.json());throw yield Qe("Generate Auth Token",Ki)})).apply(this,arguments)}function Ii(ee,{fid:Ce}){return`${ue(ee)}/${Ce}/authTokens:generate`}function Ot(ee){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(ee,Ce=!1){let je;const mt=yield Cn(ee.appConfig,fn=>{if(!rt(fn))throw Je.create("not-registered");const Un=fn.authToken;if(!Ce&&vt(Un))return fn;if(1===Un.requestStatus)return je=Kt(ee,Ce),fn;{if(!navigator.onLine)throw Je.create("app-offline");const Vn=Xt(fn);return je=et(ee,Vn),Vn}});return je?yield je:mt.authToken})).apply(this,arguments)}function Kt(ee,Ce){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(ee,Ce){let je=yield Nn(ee.appConfig);for(;1===je.authToken.requestStatus;)yield he(100),je=yield Nn(ee.appConfig);const mt=je.authToken;return 0===mt.requestStatus?Ot(ee,Ce):mt})).apply(this,arguments)}function Nn(ee){return Cn(ee,Ce=>{if(!rt(Ce))throw Je.create("not-registered");return function W(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ce.authToken)?Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}}):Ce})}function et(ee,Ce){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(ee,Ce){try{const je=yield mi(ee,Ce),mt=Object.assign(Object.assign({},Ce),{authToken:je});return yield Xn(ee.appConfig,mt),je}catch(je){if(!be(je)||401!==je.customData.serverCode&&404!==je.customData.serverCode){const mt=Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}});yield Xn(ee.appConfig,mt)}else yield cr(ee.appConfig);throw je}})).apply(this,arguments)}function rt(ee){return void 0!==ee&&2===ee.registrationStatus}function vt(ee){return 2===ee.requestStatus&&!function At(ee){const Ce=Date.now();return Ce<ee.creationTime||ee.creationTime+ee.expiresIn<Ce+36e5}(ee)}function Xt(ee){const Ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ce})}function R(){return(R=(0,l.Z)(function*(ee){const Ce=ee,{installationEntry:je,registrationPromise:mt}=yield _n(Ce);return mt?mt.catch(console.error):Ot(Ce).catch(console.error),je.fid})).apply(this,arguments)}function A(){return(A=(0,l.Z)(function*(ee,Ce=!1){const je=ee;return yield k(je),(yield Ot(je,Ce)).token})).apply(this,arguments)}function k(ee){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(ee){const{registrationPromise:Ce}=yield _n(ee);Ce&&(yield Ce)})).apply(this,arguments)}function qt(ee){return Je.create("missing-app-config-values",{valueName:ee})}const wr="installations",is=ee=>{const Ce=ee.getProvider("app").getImmediate(),je=function Mt(ee){if(!ee||!ee.options)throw qt("App Configuration");if(!ee.name)throw qt("App Name");const Ce=["projectId","apiKey","appId"];for(const je of Ce)if(!ee.options[je])throw qt(je);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ce);return{app:Ce,appConfig:je,heartbeatServiceProvider:(0,H._getProvider)(Ce,"heartbeat"),_delete:()=>Promise.resolve()}},Cs=ee=>{const Ce=ee.getProvider("app").getImmediate(),je=(0,H._getProvider)(Ce,wr).getImmediate();return{getId:()=>function $(ee){return R.apply(this,arguments)}(je),getToken:Jt=>function x(ee){return A.apply(this,arguments)}(je,Jt)}};(function bt(){(0,H._registerComponent)(new P.wA(wr,is,"PUBLIC")),(0,H._registerComponent)(new P.wA("installations-internal",Cs,"PRIVATE"))})(),(0,H.registerVersion)(ve,ne),(0,H.registerVersion)(ve,ne,"esm2017")},1877:(ht,ke,O)=>{O.d(ke,{Am:()=>ye,Ub:()=>pe,Yd:()=>ne,in:()=>H});const l=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ie=H.INFO,ge={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ve=(q,G,...Q)=>{if(G<q.logLevel)return;const Oe=(new Date).toISOString(),Se=ge[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${Oe}]  ${q.name}:`,...Q)};class ne{constructor(G){this.name=G,this._logLevel=ie,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in H))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...G),this._logHandler(this,H.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...G),this._logHandler(this,H.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,H.INFO,...G),this._logHandler(this,H.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,H.WARN,...G),this._logHandler(this,H.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...G),this._logHandler(this,H.ERROR,...G)}}function pe(q){l.forEach(G=>{G.setLogLevel(q)})}function ye(q,G){for(const Q of l){let Oe=null;G&&G.level&&(Oe=P[G.level]),Q.userLogHandler=null===q?null:(Se,Ae,...Je)=>{const be=Je.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch{return null}}).filter(ue=>ue).join(" ");Ae>=(Oe??Se.logLevel)&&q({level:H[Ae].toLowerCase(),message:be,args:Je,type:Se.name})}}}},8766:(ht,ke,O)=>{O.d(ke,{Lj:()=>Fe,X3:()=>Qe});var l=O(5861);let P,ie;const ne=new WeakMap,pe=new WeakMap,ye=new WeakMap,q=new WeakMap,G=new WeakMap;let Se={get(le,we,X){if(le instanceof IDBTransaction){if("done"===we)return pe.get(le);if("objectStoreNames"===we)return le.objectStoreNames||ye.get(le);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ue(le[we])},set:(le,we,X)=>(le[we]=X,!0),has:(le,we)=>le instanceof IDBTransaction&&("done"===we||"store"===we)||we in le};function be(le){return"function"==typeof le?function Je(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...we){return le.apply(lt(this),we),ue(ne.get(this))}:function(...we){return ue(le.apply(lt(this),we))}:function(we,...X){const J=le.call(lt(this),we,...X);return ye.set(J,we.sort?we.sort():[we]),ue(J)}}(le):(le instanceof IDBTransaction&&function Oe(le){if(pe.has(le))return;const we=new Promise((X,J)=>{const he=()=>{le.removeEventListener("complete",oe),le.removeEventListener("error",He),le.removeEventListener("abort",He)},oe=()=>{X(),he()},He=()=>{J(le.error||new DOMException("AbortError","AbortError")),he()};le.addEventListener("complete",oe),le.addEventListener("error",He),le.addEventListener("abort",He)});pe.set(le,we)}(le),((le,we)=>we.some(X=>le instanceof X))(le,function ge(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Se):le)}function ue(le){if(le instanceof IDBRequest)return function Q(le){const we=new Promise((X,J)=>{const he=()=>{le.removeEventListener("success",oe),le.removeEventListener("error",He)},oe=()=>{X(ue(le.result)),he()},He=()=>{J(le.error),he()};le.addEventListener("success",oe),le.addEventListener("error",He)});return we.then(X=>{X instanceof IDBCursor&&ne.set(X,le)}).catch(()=>{}),G.set(we,le),we}(le);if(q.has(le))return q.get(le);const we=be(le);return we!==le&&(q.set(le,we),G.set(we,le)),we}const lt=le=>G.get(le);function Qe(le,we,{blocked:X,upgrade:J,blocking:he,terminated:oe}={}){const He=indexedDB.open(le,we),Be=ue(He);return J&&He.addEventListener("upgradeneeded",gt=>{J(ue(He.result),gt.oldVersion,gt.newVersion,ue(He.transaction))}),X&&He.addEventListener("blocked",()=>X()),Be.then(gt=>{oe&&gt.addEventListener("close",()=>oe()),he&&gt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Be}function Fe(le,{blocked:we}={}){const X=indexedDB.deleteDatabase(le);return we&&X.addEventListener("blocked",()=>we()),ue(X).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ye=new Map;function te(le,we){if(!(le instanceof IDBDatabase)||we in le||"string"!=typeof we)return;if(Ye.get(we))return Ye.get(we);const X=we.replace(/FromIndex$/,""),J=we!==X,he=De.includes(X);if(!(X in(J?IDBIndex:IDBObjectStore).prototype)||!he&&!Pe.includes(X))return;const oe=function(){var He=(0,l.Z)(function*(Be,...gt){const on=this.transaction(Be,he?"readwrite":"readonly");let Rt=on.store;return J&&(Rt=Rt.index(gt.shift())),(yield Promise.all([Rt[X](...gt),he&&on.done]))[0]});return function(gt){return He.apply(this,arguments)}}();return Ye.set(we,oe),oe}!function Ae(le){Se=le(Se)}(le=>({...le,get:(we,X,J)=>te(we,X)||le.get(we,X,J),has:(we,X)=>!!te(we,X)||le.has(we,X)}))},5861:(ht,ke,O)=>{function l(P,ie,ge,ve,ne,pe,ye){try{var q=P[pe](ye),G=q.value}catch(Q){return void ge(Q)}q.done?ie(G):Promise.resolve(G).then(ve,ne)}function H(P){return function(){var ie=this,ge=arguments;return new Promise(function(ve,ne){var pe=P.apply(ie,ge);function ye(G){l(pe,ve,ne,ye,q,"next",G)}function q(G){l(pe,ve,ne,ye,q,"throw",G)}ye(void 0)})}}O.d(ke,{Z:()=>H})}},ht=>{ht(ht.s=5655)}]);