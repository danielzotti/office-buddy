"use strict";(self.webpackChunkoffice_buddy=self.webpackChunkoffice_buddy||[]).push([[179],{2011:(ft,ke,F)=>{F.d(ke,{Dh:()=>pe,GT:()=>ve,Ot:()=>ne,cc:()=>Se,hO:()=>Re,on:()=>q,pX:()=>ge,xv:()=>ye});var l=F(4650),j=F(127),N=F(880);ft=F.hmd(ft);const ie=["ngOnDestroy"],ge=(ue,ct,Qe,Pe={})=>new Proxy(ue,{get:(Fe,De)=>Qe.runOutsideAngular(()=>{var Ze;if(ue[De])return!(null===(Ze=Pe?.spy)||void 0===Ze)&&Ze.get&&Pe.spy.get(De,ue[De]),ue[De];if(ie.indexOf(De)>-1)return()=>{};const te=ct.toPromise().then(le=>{const we=le&&le[De];return"function"==typeof we?we.bind(le):we&&we.then?we.then(X=>Qe.run(()=>X)):Qe.run(()=>we)});return new Proxy(()=>{},{get:(le,we)=>te[we],apply:(le,we,X)=>te.then(J=>{var he;const ae=J&&J(...X);return!(null===(he=Pe?.spy)||void 0===he)&&he.apply&&Pe.spy.apply(De,X,ae),ae})})})}),ve=(ue,ct)=>{ct.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Pe=>{Object.defineProperty(ue.prototype,Pe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Pe))})})};class ne{constructor(ct){return ct}}const pe=new l.OlP("angularfire2.app.options"),ye=new l.OlP("angularfire2.app.name");function q(ue,ct,Qe){const Fe="object"==typeof Qe&&Qe||{};Fe.name=Fe.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ze=j.Z.apps.filter(te=>te&&te.name===Fe.name)[0]||ct.runOutsideAngular(()=>j.Z.initializeApp(ue,Fe));try{JSON.stringify(ue)!==JSON.stringify(Ze.options)&&G("error",`${Ze.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ze)}const G=(ue,...ct)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...ct)},Q={provide:ne,useFactory:q,deps:[pe,l.R0b,[new l.FiY,ye]]};let Re=(()=>{class ue{constructor(Qe){j.Z.registerVersion("angularfire",N.q4.full,"core"),j.Z.registerVersion("angularfire",N.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,Qe.toString())}static initializeApp(Qe,Pe){return{ngModule:ue,providers:[{provide:pe,useValue:Qe},{provide:ye,useValue:Pe}]}}}return ue.\u0275fac=function(Qe){return new(Qe||ue)(l.LFG(l.Lbi))},ue.\u0275mod=l.oAB({type:ue}),ue.\u0275inj=l.cJS({providers:[Q]}),ue})();function Se(ue,ct,Qe,Pe,Fe){const[,De,Ze]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===ue)||[];if(De)return function Ae(ue,ct){try{return ue.toString()===ct.toString()}catch{return ue===ct}}(Fe,Ze)||(be("error",`${ct} was already initialized on the ${Qe} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Fe,was:Ze})),De;{const te=Pe();return globalThis.\u0275AngularfireInstanceCache.push([ue,te,Fe]),te}}const Je=!!ft.hot,be=(ue,...ct)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ft,ke,F)=>{F.d(ke,{q4:()=>Oo,iC:()=>Kr,HU:()=>Da,vb:()=>yh,JM:()=>Nu,nk:()=>ai,u3:()=>Wt});var l=F(4650),j=F(5867),N=F(5861),ie=F(9681),ge=F(2090),ve=F(4859),ne=F(1877);F(2833);const ye="@firebase/remote-config",q="0.3.13",Se=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _t{constructor(V,Z,fe,Ue){this.client=V,this.storage=Z,this.storageCache=fe,this.logger=Ue}isCachedDataFresh(V,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-Z,Ue=fe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Ue}.`),Ue}fetch(V){var Z=this;return(0,N.Z)(function*(){const[fe,Ue]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ue&&Z.isCachedDataFresh(V.cacheMaxAgeMillis,fe))return Ue;V.eTag=Ue&&Ue.eTag;const Xe=yield Z.client.fetch(V),Dt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&Dt.push(Z.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(Dt),Xe})()}}function ln(B=navigator){return B.languages&&B.languages[0]||B.language}class Rt{constructor(V,Z,fe,Ue,Xe,Dt){this.firebaseInstallations=V,this.sdkVersion=Z,this.namespace=fe,this.projectId=Ue,this.apiKey=Xe,this.appId=Dt}fetch(V){var Z=this;return(0,N.Z)(function*(){var fe,Ue,Xe;const[Dt,rn]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,li={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},jt={sdk_version:Z.sdkVersion,app_instance_id:Dt,app_instance_id_token:rn,app_id:Z.appId,language_code:ln()},qn={method:"POST",headers:li,body:JSON.stringify(jt)},lo=fetch(Pt,qn),co=new Promise((Ro,Qr)=>{V.signal.addEventListener(()=>{const wi=new Error("The operation was aborted.");wi.name="AbortError",Qr(wi)})});let qi;try{yield Promise.race([lo,co]),qi=yield lo}catch(Ro){let Qr="fetch-client-network";throw"AbortError"===(null===(fe=Ro)||void 0===fe?void 0:fe.name)&&(Qr="fetch-timeout"),Se.create(Qr,{originalErrorMessage:null===(Ue=Ro)||void 0===Ue?void 0:Ue.message})}let Vs=qi.status;const pl=qi.headers.get("ETag")||void 0;let hc,uo;if(200===qi.status){let Ro;try{Ro=yield qi.json()}catch(Qr){throw Se.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Qr)||void 0===Xe?void 0:Xe.message})}hc=Ro.entries,uo=Ro.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?Vs=500:"NO_CHANGE"===uo?Vs=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(hc={}),304!==Vs&&200!==Vs)throw Se.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:pl,config:hc}})()}}class Kn{constructor(V,Z){this.client=V,this.storage=Z}fetch(V){var Z=this;return(0,N.Z)(function*(){const fe=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(V,fe)})()}attemptFetch(V,{throttleEndTimeMillis:Z,backoffCount:fe}){var Ue=this;return(0,N.Z)(function*(){yield function Ye(B,V){return new Promise((Z,fe)=>{const Ue=Math.max(V-Date.now(),0),Xe=setTimeout(Z,Ue);B.addEventListener(()=>{clearTimeout(Xe),fe(Se.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Z);try{const Xe=yield Ue.client.fetch(V);return yield Ue.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function _n(B){if(!(B instanceof ge.ZR&&B.customData))return!1;const V=Number(B.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Xe))throw Xe;const Dt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield Ue.storage.setThrottleMetadata(Dt),Ue.attemptFetch(V,Dt)}})()}}class qt{constructor(V,Z,fe,Ue,Xe){this.app=V,this._client=Z,this._storageCache=fe,this._storage=Ue,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(B,V){var Z;const fe=B.target.error||void 0;return Se.create(V,{originalErrorMessage:fe&&(null===(Z=fe)||void 0===Z?void 0:Z.message)})}const Vn="app_namespace_store";class yi{constructor(V,Z,fe,Ue=function Wn(){return new Promise((B,V)=>{var Z;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Ue=>{V(At(Ue,"storage-open"))},fe.onsuccess=Ue=>{B(Ue.target.result)},fe.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(Vn,{keyPath:"compositeKey"})}}catch(fe){V(Se.create("storage-open",{originalErrorMessage:null===(Z=fe)||void 0===Z?void 0:Z.message}))}})}()){this.appId=V,this.appName=Z,this.namespace=fe,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Z=this;return(0,N.Z)(function*(){const fe=yield Z.openDbPromise;return new Promise((Ue,Xe)=>{var Dt;const Ie=fe.transaction([Vn],"readonly").objectStore(Vn),Pt=Z.createCompositeKey(V);try{const li=Ie.get(Pt);li.onerror=jt=>{Xe(At(jt,"storage-get"))},li.onsuccess=jt=>{const qn=jt.target.result;Ue(qn?qn.value:void 0)}}catch(li){Xe(Se.create("storage-get",{originalErrorMessage:null===(Dt=li)||void 0===Dt?void 0:Dt.message}))}})})()}set(V,Z){var fe=this;return(0,N.Z)(function*(){const Ue=yield fe.openDbPromise;return new Promise((Xe,Dt)=>{var rn;const Pt=Ue.transaction([Vn],"readwrite").objectStore(Vn),li=fe.createCompositeKey(V);try{const jt=Pt.put({compositeKey:li,value:Z});jt.onerror=qn=>{Dt(At(qn,"storage-set"))},jt.onsuccess=()=>{Xe()}}catch(jt){Dt(Se.create("storage-set",{originalErrorMessage:null===(rn=jt)||void 0===rn?void 0:rn.message}))}})})()}delete(V){var Z=this;return(0,N.Z)(function*(){const fe=yield Z.openDbPromise;return new Promise((Ue,Xe)=>{var Dt;const Ie=fe.transaction([Vn],"readwrite").objectStore(Vn),Pt=Z.createCompositeKey(V);try{const li=Ie.delete(Pt);li.onerror=jt=>{Xe(At(jt,"storage-delete"))},li.onsuccess=()=>{Ue()}}catch(li){Xe(Se.create("storage-delete",{originalErrorMessage:null===(Dt=li)||void 0===Dt?void 0:Dt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class rr{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,N.Z)(function*(){const Z=V.storage.getLastFetchStatus(),fe=V.storage.getLastSuccessfulFetchTimestampMillis(),Ue=V.storage.getActiveConfig(),Xe=yield Z;Xe&&(V.lastFetchStatus=Xe);const Dt=yield fe;Dt&&(V.lastSuccessfulFetchTimestampMillis=Dt);const rn=yield Ue;rn&&(V.activeConfig=rn)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function yr(){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function ri(){(0,ie._registerComponent)(new ve.wA("remote-config",function B(V,{instanceIdentifier:Z}){const fe=V.getProvider("app").getImmediate(),Ue=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Se.create("registration-window");if(!(0,ge.hl)())throw Se.create("indexed-db-unavailable");const{projectId:Xe,apiKey:Dt,appId:rn}=fe.options;if(!Xe)throw Se.create("registration-project-id");if(!Dt)throw Se.create("registration-api-key");if(!rn)throw Se.create("registration-app-id");const Ie=new yi(rn,fe.name,Z=Z||"firebase"),Pt=new rr(Ie),li=new ne.Yd(ye);li.logLevel=ne.in.ERROR;const jt=new Rt(Ue,ie.SDK_VERSION,Z,Xe,Dt,rn),qn=new Kn(jt,Ie),lo=new _t(qn,Ie,Pt,li),co=new qt(fe,lo,Pt,Ie,li);return function Ze(B){const V=(0,ge.m9)(B);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(co),co},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ye,q),(0,ie.registerVersion)(ye,q,"esm2017")}();var Sn=F(8766);const Qn="/firebase-messaging-sw.js",bn="/firebase-cloud-messaging-push-scope",vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xn="google.c.a.c_id",Rn="google.c.a.c_l",dn="google.c.a.ts",pt="google.c.a.e";var mt=(()=>{return(B=mt||(mt={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",mt;var B})();function Fn(B){const V=new Uint8Array(B);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ui(B){const Z=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(Z),Ue=new Uint8Array(fe.length);for(let Xe=0;Xe<fe.length;++Xe)Ue[Xe]=fe.charCodeAt(Xe);return Ue}const bi="fcm_token_details_db",ki="fcm_token_object_Store";function Ft(B){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,N.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(bi))return null;let V=null;return(yield(0,Sn.X3)(bi,5,{upgrade:(fe=(0,N.Z)(function*(Ue,Xe,Dt,rn){var Ie;if(Xe<2||!Ue.objectStoreNames.contains(ki))return;const Pt=rn.objectStore(ki),li=yield Pt.index("fcmSenderId").get(B);if(yield Pt.clear(),li)if(2===Xe){const jt=li;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;V={token:jt.fcmToken,createTime:null!==(Ie=jt.createTime)&&void 0!==Ie?Ie:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:Fn(jt.vapidKey)}}}else if(3===Xe){const jt=li;V={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Fn(jt.auth),p256dh:Fn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Fn(jt.vapidKey)}}}else if(4===Xe){const jt=li;V={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Fn(jt.auth),p256dh:Fn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Fn(jt.vapidKey)}}}}),function(Xe,Dt,rn,Ie){return fe.apply(this,arguments)})})).close(),yield(0,Sn.Lj)(bi),yield(0,Sn.Lj)("fcm_vapid_details_db"),yield(0,Sn.Lj)("undefined"),Qt(V)?V:null;var fe}),Oi.apply(this,arguments)}function Qt(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:V}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const et="firebase-messaging-store";let Te=null;function rt(){return Te||(Te=(0,Sn.X3)("firebase-messaging-database",1,{upgrade:(B,V)=>{0===V&&B.createObjectStore(et)}})),Te}function wt(B){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,N.Z)(function*(B){const V=x(B),fe=yield(yield rt()).transaction(et).objectStore(et).get(V);if(fe)return fe;{const Ue=yield Ft(B.appConfig.senderId);if(Ue)return yield Jt(B,Ue),Ue}})).apply(this,arguments)}function Jt(B,V){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(B,V){const Z=x(B),Ue=(yield rt()).transaction(et,"readwrite");return yield Ue.objectStore(et).put(V,Z),yield Ue.done,V})).apply(this,arguments)}function $(B){return R.apply(this,arguments)}function R(){return(R=(0,N.Z)(function*(B){const V=x(B),fe=(yield rt()).transaction(et,"readwrite");yield fe.objectStore(et).delete(V),yield fe.done})).apply(this,arguments)}function x({appConfig:B}){return B.appId}const k=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function z(B,V){return ce.apply(this,arguments)}function ce(){return(ce=(0,N.Z)(function*(B,V){var Z;const fe=yield tn(B),Ue=Yt(V),Xe={method:"POST",headers:fe,body:JSON.stringify(Ue)};let Dt;try{Dt=yield(yield fetch(dt(B.appConfig),Xe)).json()}catch(rn){throw k.create("token-subscribe-failed",{errorInfo:null===(Z=rn)||void 0===Z?void 0:Z.toString()})}if(Dt.error)throw k.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw k.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function Ne(B,V){return ze.apply(this,arguments)}function ze(){return(ze=(0,N.Z)(function*(B,V){var Z;const fe=yield tn(B),Ue=Yt(V.subscriptionOptions),Xe={method:"PATCH",headers:fe,body:JSON.stringify(Ue)};let Dt;try{Dt=yield(yield fetch(`${dt(B.appConfig)}/${V.token}`,Xe)).json()}catch(rn){throw k.create("token-update-failed",{errorInfo:null===(Z=rn)||void 0===Z?void 0:Z.toString()})}if(Dt.error)throw k.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw k.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function _e(B,V){return xe.apply(this,arguments)}function xe(){return(xe=(0,N.Z)(function*(B,V){var Z;const Ue={method:"DELETE",headers:yield tn(B)};try{const Dt=yield(yield fetch(`${dt(B.appConfig)}/${V}`,Ue)).json();if(Dt.error)throw k.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(Xe){throw k.create("token-unsubscribe-failed",{errorInfo:null===(Z=Xe)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function dt({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function tn(B){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,N.Z)(function*({appConfig:B,installations:V}){const Z=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Yt({p256dh:B,auth:V,endpoint:Z,vapidKey:fe}){const Ue={web:{endpoint:Z,auth:V,p256dh:B}};return fe!==vi&&(Ue.web.applicationPubKey=fe),Ue}const Or=6048e5;function Un(B){return ps.apply(this,arguments)}function ps(){return(ps=(0,N.Z)(function*(B){const V=yield en(B.swRegistration,B.vapidKey),Z={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:V.endpoint,auth:Fn(V.getKey("auth")),p256dh:Fn(V.getKey("p256dh"))},fe=yield wt(B.firebaseDependencies);if(fe){if(zn(fe.subscriptionOptions,Z))return Date.now()>=fe.createTime+Or?ee(B,{token:fe.token,createTime:Date.now(),subscriptionOptions:Z}):fe.token;try{yield _e(B.firebaseDependencies,fe.token)}catch(Ue){console.warn(Ue)}return je(B.firebaseDependencies,Z)}return je(B.firebaseDependencies,Z)})).apply(this,arguments)}function Fs(B){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,N.Z)(function*(B){const V=yield wt(B.firebaseDependencies);V&&(yield _e(B.firebaseDependencies,V.token),yield $(B.firebaseDependencies));const Z=yield B.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function ee(B,V){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(B,V){try{const Z=yield Ne(B.firebaseDependencies,V),fe=Object.assign(Object.assign({},V),{token:Z,createTime:Date.now()});return yield Jt(B.firebaseDependencies,fe),Z}catch(Z){throw yield Fs(B),Z}})).apply(this,arguments)}function je(B,V){return gt.apply(this,arguments)}function gt(){return(gt=(0,N.Z)(function*(B,V){const fe={token:yield z(B,V),createTime:Date.now(),subscriptionOptions:V};return yield Jt(B,fe),fe.token})).apply(this,arguments)}function en(B,V){return mn.apply(this,arguments)}function mn(){return(mn=(0,N.Z)(function*(B,V){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ui(V)})})).apply(this,arguments)}function zn(B,V){return V.vapidKey===B.vapidKey&&V.endpoint===B.endpoint&&V.auth===B.auth&&V.p256dh===B.p256dh}function Hn(B){const V={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function sr(B,V){if(!V.notification)return;B.notification={};const Z=V.notification.title;Z&&(B.notification.title=Z);const fe=V.notification.body;fe&&(B.notification.body=fe);const Ue=V.notification.image;Ue&&(B.notification.image=Ue)}(V,B),function or(B,V){!V.data||(B.data=V.data)}(V,B),function wn(B,V){var Z,fe,Ue,Xe,Dt;if(!(V.fcmOptions||null!==(Z=V.notification)&&void 0!==Z&&Z.click_action))return;B.fcmOptions={};const rn=null!==(Ue=null===(fe=V.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ue?Ue:null===(Xe=V.notification)||void 0===Xe?void 0:Xe.click_action;rn&&(B.fcmOptions.link=rn);const Ie=null===(Dt=V.fcmOptions)||void 0===Dt?void 0:Dt.analytics_label;Ie&&(B.fcmOptions.analyticsLabel=Ie)}(V,B),V}function mh(B){return"object"==typeof B&&!!B&&xn in B}function ya(B,V){const Z=[];for(let fe=0;fe<B.length;fe++)Z.push(B.charAt(fe)),fe<V.length&&Z.push(V.charAt(fe));return Z.join("")}function to(B){return k.create("missing-app-config-values",{valueName:B})}ya("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ya("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yr{constructor(V,Z,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function va(B){if(!B||!B.options)throw to("App Configuration Object");if(!B.name)throw to("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=B;for(const fe of V)if(!Z[fe])throw to(fe);return{appName:B.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Ue,installations:Z,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Ps(B){return ms.apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(B){var V;try{B.swRegistration=yield navigator.serviceWorker.register(Qn,{scope:bn}),B.swRegistration.update().catch(()=>{})}catch(Z){throw k.create("failed-service-worker-registration",{browserErrorMessage:null===(V=Z)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function Cn(B,V){return oc.apply(this,arguments)}function oc(){return(oc=(0,N.Z)(function*(B,V){if(!V&&!B.swRegistration&&(yield Ps(B)),V||!B.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw k.create("invalid-sw-registration");B.swRegistration=V}})).apply(this,arguments)}function Li(B,V){return ar.apply(this,arguments)}function ar(){return(ar=(0,N.Z)(function*(B,V){V?B.vapidKey=V:B.vapidKey||(B.vapidKey=vi)})).apply(this,arguments)}function gs(){return(gs=(0,N.Z)(function*(B,V){if(!navigator)throw k.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw k.create("permission-blocked");return yield Li(B,V?.vapidKey),yield Cn(B,V?.serviceWorkerRegistration),Un(B)})).apply(this,arguments)}function no(B,V,Z){return Br.apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(B,V,Z){const fe=cl(V);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:Z[xn],message_name:Z[Rn],message_time:Z[dn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cl(B){switch(B){case mt.NOTIFICATION_CLICKED:return"notification_open";case mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ba(){return(ba=(0,N.Z)(function*(B,V){const Z=V.data;if(!Z.isFirebaseMessaging)return;B.onMessageHandler&&Z.messageType===mt.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Hn(Z)):B.onMessageHandler.next(Hn(Z)));const fe=Z.data;mh(fe)&&"1"===fe[pt]&&(yield no(B,Z.messageType,fe))})).apply(this,arguments)}const ko="@firebase/messaging",Ur=B=>{const V=new Yr(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function em(B,V){return ba.apply(this,arguments)}(V,Z)),V},tm=B=>{const V=B.getProvider("messaging").getImmediate();return{getToken:fe=>function Zr(B,V){return gs.apply(this,arguments)}(V,fe)}};function gh(){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _s(){(0,ie._registerComponent)(new ve.wA("messaging",Ur,"PUBLIC")),(0,ie._registerComponent)(new ve.wA("messaging-internal",tm,"PRIVATE")),(0,ie.registerVersion)(ko,"0.9.18"),(0,ie.registerVersion)(ko,"0.9.18","esm2017")}();var Fu=F(7982),ac=F(4408),Ey=F(7565);const Gi=new class Pu extends Ey.v{}(class hl extends ac.o{constructor(V,Z){super(V,Z),this.scheduler=V,this.work=Z}schedule(V,Z=0){return Z>0?super.schedule(V,Z):(this.delay=Z,this.state=V,this.scheduler.flush(this),this)}execute(V,Z){return Z>0||this.closed?super.execute(V,Z):this._execute(V,Z)}requestAsyncId(V,Z,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(V,Z,fe):(V.flush(this),0)}});var ro=F(4986),lc=F(9751),cc=F(8505),fl=F(9468),uc=F(5363);const Oo=new l.GfV("7.4.1"),Wi="__angularfire_symbol__analyticsIsSupportedValue",ys="__angularfire_symbol__analyticsIsSupported",dc="__angularfire_symbol__remoteConfigIsSupportedValue",lr="__angularfire_symbol__remoteConfigIsSupported",so="__angularfire_symbol__messagingIsSupportedValue",Vi="__angularfire_symbol__messagingIsSupported";globalThis[ys]||(globalThis[ys]=(0,Fu.Gb)().then(B=>globalThis[Wi]=B).catch(()=>globalThis[Wi]=!1)),globalThis[Vi]||(globalThis[Vi]=gh().then(B=>globalThis[so]=B).catch(()=>globalThis[so]=!1)),globalThis[lr]||(globalThis[lr]=yr().then(B=>globalThis[dc]=B).catch(()=>globalThis[dc]=!1));const ai={async:()=>globalThis[ys],sync:()=>{const B=globalThis[Wi];if(void 0===B)throw new Error((B=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${B} in the constructor, first ensure that ${B} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${B})\`.`)("Analytics"));return B}};function Nu(B,V,Z){if(V){if(1===V.length)return V[0];const Xe=V.filter(Dt=>Dt.app===Z);if(1===Xe.length)return Xe[0]}return Z.container.getProvider(B).getImmediate({optional:!0})}const yh=(B,V)=>{const Z=V?[V]:(0,j.C6)(),fe=[];return Z.forEach(Ue=>{Ue.container.getProvider(B).instances.forEach(Dt=>{fe.includes(Dt)||fe.push(Dt)})}),fe};function ss(){}class cr{constructor(V,Z=Gi){this.zone=V,this.delegate=Z}now(){return this.delegate.now()}schedule(V,Z,fe){const Ue=this.zone;return this.delegate.schedule(function(Dt){Ue.runGuarded(()=>{V.apply(this,[Dt])})},Z,fe)}}class Lu{constructor(V){this.zone=V,this.task=null}call(V,Z){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),Z.pipe((0,cc.b)({next:fe,complete:fe,error:fe})).subscribe(V).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Da=(()=>{class B{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new cr(Zone.current)),this.insideAngular=Z.run(()=>new cr(Zone.current,ro.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(Z){return new(Z||B)(l.LFG(l.R0b))},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function vr(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Mn(B){return vr().ngZone.runOutsideAngular(()=>B())}function oo(B){return vr().ngZone.run(()=>B())}function Kr(B){return vr(),function Ia(B){return function(Z){return(Z=Z.lift(new Lu(B.ngZone))).pipe((0,fl.R)(B.outsideAngular),(0,uc.Q)(B.insideAngular))}}(vr())(B)}const Sa=(B,V)=>function(){const fe=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),oo(()=>B.apply(void 0,fe))},Wt=(B,V)=>function(){let Z;const fe=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof fe[Xe]&&(V&&(Z||(Z=oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)))),fe[Xe]=Sa(fe[Xe],Z));const Ue=Mn(()=>B.apply(this,fe));if(!V){if(Ue instanceof lc.y){const Xe=vr();return Ue.pipe((0,fl.R)(Xe.outsideAngular),(0,uc.Q)(Xe.insideAngular))}return oo(()=>Ue)}return Ue instanceof lc.y?Ue.pipe(Kr):Ue instanceof Promise?oo(()=>new Promise((Xe,Dt)=>Ue.then(rn=>oo(()=>Xe(rn)),rn=>oo(()=>Dt(rn))))):"function"==typeof Ue&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Ue.apply(this,arguments)}:oo(()=>Ue)}},9934:(ft,ke,F)=>{F.d(ke,{$:()=>Xe,A:()=>G,B:()=>Se,G:()=>Ce,H:()=>zn,J:()=>_s,L:()=>W,M:()=>Pu,N:()=>lc,P:()=>Cs,Q:()=>cc,R:()=>jy,T:()=>fl,U:()=>ro,V:()=>ys,W:()=>dc,X:()=>Dy,Y:()=>Ia,Z:()=>Wt,_:()=>V,a:()=>Po,a0:()=>li,a1:()=>qn,a2:()=>co,a3:()=>Vs,a4:()=>hc,a5:()=>Ro,a6:()=>wi,a7:()=>Bs,a8:()=>pc,a9:()=>Fo,aA:()=>Ju,aB:()=>Xu,aC:()=>Qu,aD:()=>ls,aE:()=>Ct,aI:()=>gl,aL:()=>Oo,aa:()=>TC,ab:()=>vh,ac:()=>wh,af:()=>Ay,ag:()=>Ty,ah:()=>am,ak:()=>ss,al:()=>Oy,an:()=>Ry,ao:()=>Mh,ap:()=>dt,aq:()=>we,ar:()=>xe,as:()=>Ne,at:()=>Qe,au:()=>kc,av:()=>Uo,aw:()=>Pe,ax:()=>te,ay:()=>J,az:()=>$,b:()=>Ma,c:()=>js,d:()=>ym,e:()=>$y,f:()=>Rr,g:()=>Vh,h:()=>Lh,i:()=>Yu,j:()=>Uh,k:()=>Im,l:()=>Vo,m:()=>zs,o:()=>pe,r:()=>ut,s:()=>hn,u:()=>fi,v:()=>gc});var l=F(5861),j=F(2090),N=F(9681),ie=F(1877),ge=F(655),ve=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new ie.Yd("@firebase/auth");function ct(b,...g){ue.logLevel<=ie.in.ERROR&&ue.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function Qe(b,...g){throw Ze(b,...g)}function Pe(b,...g){return Ze(b,...g)}function Fe(b,g,_){const C=Object.assign(Object.assign({},Ae()),{[g]:_});return new j.LL("auth","Firebase",C).create(g,{appName:b.name})}function De(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Qe(b,"argument-error"),Fe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Je.create(b,...g)}function te(b,g,..._){if(!b)throw Ze(g,..._)}function le(b){const g="INTERNAL ASSERTION FAILED: "+b;throw ct(g),new Error(g)}function we(b,g){b||le(g)}const X=new Map;function J(b){we(b instanceof Function,"Expected a class definition");let g=X.get(b);return g?(we(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,X.set(b,g),g)}function He(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Be(){return"http:"===_t()||"https:"===_t()}function _t(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ye{constructor(g,_){this.shortDelay=g,this.longDelay=_,we(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(b,g){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Kn{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new Ye(3e4,6e4);function qt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function At(b,g,_,C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(b,g,_,C,T={}){return ir(b,T,(0,l.Z)(function*(){let L={},se={};C&&("GET"===g?se=C:L={body:JSON.stringify(C)});const Oe=(0,j.xO)(Object.assign({key:b.config.apiKey},se)).slice(1),at=yield b._getAdditionalHeaders();return at["Content-Type"]="application/json",b.languageCode&&(at["X-Firebase-Locale"]=b.languageCode),Kn.fetch()(rr(b,b.config.apiHost,_,Oe),Object.assign({method:g,headers:at,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ir(b,g,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},pn),g);try{const T=new ri(b),L=yield Promise.race([_(),T.promise]);T.clearNetworkTimeout();const se=yield L.json();if("needConfirmation"in se)throw si(b,"account-exists-with-different-credential",se);if(L.ok&&!("errorMessage"in se))return se;{const Oe=L.ok?se.errorMessage:se.error.message,[at,kt]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw si(b,"credential-already-in-use",se);if("EMAIL_EXISTS"===at)throw si(b,"email-already-in-use",se);if("USER_DISABLED"===at)throw si(b,"user-disabled",se);const on=C[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(kt)throw Fe(b,on,kt);Qe(b,on)}}catch(T){if(T instanceof j.ZR)throw T;Qe(b,"network-request-failed")}})).apply(this,arguments)}function Wn(b,g,_,C){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(b,g,_,C,T={}){const L=yield At(b,g,_,C,T);return"mfaPendingCredential"in L&&Qe(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function rr(b,g,_,C){const T=`${g}${_}?${C}`;return b.config.emulator?_n(b.config,T):`${b.config.apiScheme}://${T}`}class ri{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Pe(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function si(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const T=Pe(b,g,C);return T.customData._tokenResponse=_,T}function yr(){return(yr=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function tt(b,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Qn(b,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function vi(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Rn(){return(Rn=(0,l.Z)(function*(b,g=!1){const _=(0,j.m9)(b),C=yield _.getIdToken(g),T=pt(C);te(T&&T.exp&&T.auth_time&&T.iat,_.auth,"internal-error");const L="object"==typeof T.firebase?T.firebase:void 0,se=L?.sign_in_provider;return{claims:T,token:C,authTime:vi(dn(T.auth_time)),issuedAtTime:vi(dn(T.iat)),expirationTime:vi(dn(T.exp)),signInProvider:se||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(b){return 1e3*Number(b)}function pt(b){var g;const[_,C,T]=b.split(".");if(void 0===_||void 0===C||void 0===T)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,j.tV)(C);return L?JSON.parse(L):(ct("Failed to decode base64 JWT payload"),null)}catch(L){return ct("Caught error parsing JWT payload as JSON",null===(g=L)||void 0===g?void 0:g.toString()),null}}function mt(b,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof j.ZR&&ui(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ui({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class bi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,l.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class xt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ki(b){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),T=yield mt(b,Qn(_,{idToken:C}));te(T?.users.length,_,"internal-error");const L=T.users[0];b._notifyReloadListener(L);const se=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?Bn(L.providerUserInfo):[],Oe=oi(b.providerData,se),on=!!b.isAnonymous&&!(b.email&&L.passwordHash||Oe?.length),kn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Oe,metadata:new xt(L.createdAt,L.lastLoginAt),isAnonymous:on};Object.assign(b,kn)})).apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(b){const g=(0,j.m9)(b);yield ki(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function oi(b,g){return[...b.filter(C=>!g.some(T=>T.providerId===C.providerId)),...g]}function Bn(b){return b.map(g=>{var{providerId:_}=g,C=(0,ge._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Te(){return(Te=(0,l.Z)(function*(b,g){const _=yield ir(b,{},(0,l.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:L}=b.config,se=rr(b,T,"/v1/token",`key=${L}`),Oe=yield b._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",Kn.fetch()(se,{method:"POST",headers:Oe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(typeof g.idToken<"u","internal-error"),te(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ht(b){const g=pt(b);return te(g,"internal-error"),te(typeof g.exp<"u","internal-error"),te(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,l.Z)(function*(){return te(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:L,expiresIn:se}=yield function et(b,g){return Te.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(T,L,Number(se))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:T,expirationTime:L}=_,se=new rt;return C&&(te("string"==typeof C,"internal-error",{appName:g}),se.refreshToken=C),T&&(te("string"==typeof T,"internal-error",{appName:g}),se.accessToken=T),L&&(te("number"==typeof L,"internal-error",{appName:g}),se.expirationTime=L),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return le("not implemented")}}function wt(b,g){te("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Tt{constructor(g){var{uid:_,auth:C,stsTokenManager:T}=g,L=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new xt(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const C=yield mt(_,_.stsTokenManager.getToken(_.auth,g));return te(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function xn(b){return Rn.apply(this,arguments)}(this,g)}reload(){return function Oi(b){return Qt.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Tt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,l.Z)(function*(){let T=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),T=!0),_&&(yield ki(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield mt(g,function xi(b,g){return yr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,T,L,se,Oe,at,kt,on;const kn=null!==(C=_.displayName)&&void 0!==C?C:void 0,Jr=null!==(T=_.email)&&void 0!==T?T:void 0,ja=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,Zh=null!==(se=_.photoURL)&&void 0!==se?se:void 0,Kh=null!==(Oe=_.tenantId)&&void 0!==Oe?Oe:void 0,Qh=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Tm=null!==(kt=_.createdAt)&&void 0!==kt?kt:void 0,Mm=null!==(on=_.lastLoginAt)&&void 0!==on?on:void 0,{uid:Xh,emailVerified:Jh,isAnonymous:Pc,providerData:$a,stsTokenManager:Nc}=_;te(Xh&&Nc,g,"internal-error");const xm=rt.fromJSON(this.name,Nc);te("string"==typeof Xh,g,"internal-error"),wt(kn,g.name),wt(Jr,g.name),te("boolean"==typeof Jh,g,"internal-error"),te("boolean"==typeof Pc,g,"internal-error"),wt(ja,g.name),wt(Zh,g.name),wt(Kh,g.name),wt(Qh,g.name),wt(Tm,g.name),wt(Mm,g.name);const ti=new Tt({uid:Xh,auth:g,email:Jr,emailVerified:Jh,displayName:kn,isAnonymous:Pc,photoURL:Zh,phoneNumber:ja,tenantId:Kh,stsTokenManager:xm,createdAt:Tm,lastLoginAt:Mm});return $a&&Array.isArray($a)&&(ti.providerData=$a.map(km=>Object.assign({},km))),Qh&&(ti._redirectEventId=Qh),ti}static _fromIdTokenResponse(g,_,C=!1){return(0,l.Z)(function*(){const T=new rt;T.updateFromServerResponse(_);const L=new Tt({uid:_.localId,auth:g,stsTokenManager:T,isAnonymous:C});return yield ki(L),L})()}}const W=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var T=this;return(0,l.Z)(function*(){T.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const T=C.storage[_];return void 0===T?null:T})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function $(b,g,_){return`firebase:${b}:${g}:${_}`}class R{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:T,name:L}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,L),this.fullPersistenceKey=$("persistence",T.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Tt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new R(J(W),g,C);const T=(yield Promise.all(_.map(function(){var kt=(0,l.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return kt.apply(this,arguments)}}()))).filter(kt=>kt);let L=T[0]||J(W);const se=$(C,g.config.apiKey,g.name);let Oe=null;for(const kt of _)try{const on=yield kt._get(se);if(on){const kn=Tt._fromJSON(g,on);kt!==L&&(Oe=kn),L=kt;break}}catch{}const at=T.filter(kt=>kt._shouldAllowMigration);return L._shouldAllowMigration&&at.length?(L=at[0],Oe&&(yield L._set(se,Oe.toJSON())),yield Promise.all(_.map(function(){var kt=(0,l.Z)(function*(on){if(on!==L)try{yield on._remove(se)}catch{}});return function(on){return kt.apply(this,arguments)}}())),new R(L,g,C)):new R(L,g,C)})()}}function x(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ce(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(A(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ze(g))return"Blackberry";if(_e(g))return"Webos";if(k(g))return"Safari";if((g.includes("chrome/")||z(g))&&!g.includes("edge/"))return"Chrome";if(Ne(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function A(b=(0,j.z$)()){return/firefox\//i.test(b)}function k(b=(0,j.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function z(b=(0,j.z$)()){return/crios\//i.test(b)}function ce(b=(0,j.z$)()){return/iemobile/i.test(b)}function Ne(b=(0,j.z$)()){return/android/i.test(b)}function ze(b=(0,j.z$)()){return/blackberry/i.test(b)}function _e(b=(0,j.z$)()){return/webos/i.test(b)}function xe(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function dt(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Yt(b=(0,j.z$)()){return xe(b)||Ne(b)||_e(b)||ze(b)||/windows phone/i.test(b)||ce(b)}function Un(b,g=[]){let _;switch(b){case"Browser":_=x((0,j.z$)());break;case"Worker":_=`${x((0,j.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${C}`}class ps{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=L=>new Promise((se,Oe)=>{try{se(g(L))}catch(at){Oe(at)}});C.onAbort=_,this.queue.push(C);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){var C;if(_.auth.currentUser===g)return;const T=[];try{for(const L of _.queue)yield L(g),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const se of T)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=L)||void 0===C?void 0:C.message})}})()}}class Fs{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=J(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,L;if(!C._deleted&&(C.persistenceManager=yield R.create(C,g),!C._deleted)){if(null!==(T=C._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var C;const T=yield _.assertedPersistence.getCurrentUser();let L=T,se=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Oe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,at=L?._redirectEventId,kt=yield _.tryRedirectSignIn(g);(!Oe||Oe===at)&&kt?.user&&(L=kt.user,se=!0)}if(!L)return _.directlySetCurrentUser(null);if(!L._redirectEventId){if(se)try{yield _.beforeStateQueue.runMiddleware(L)}catch(Oe){L=T,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Oe))}return L?_.reloadAndSetCurrentUserOrClear(L):_.directlySetCurrentUser(null)}return te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===L._redirectEventId?_.directlySetCurrentUser(L):_.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){var C;try{yield ki(g)}catch(T){if("auth/network-request-failed"!==(null===(C=T)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const C=g?(0,j.m9)(g):null;return C&&te(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return g&&te(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(J(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,l.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(_);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&J(g)||_._popupRedirectResolver;te(C,_,"argument-error"),_.redirectPersistenceManager=yield R.create(_,[J(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var C,T;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,T){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),se=this._isInitialized?Promise.resolve():this._initializationPromise;return te(se,this,"internal-error"),se.then(()=>L(this.currentUser)),"function"==typeof _?g.addObserver(_,C,T):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return T&&(C["X-Firebase-Client"]=T),C})()}}function Ct(b){return(0,j.m9)(b)}class ee{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(b,g,_){const C=Ct(b);te(C._canInitEmulator,C,"emulator-config-failed"),te(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const T=!!_?.disableWarnings,L=je(g),{host:se,port:Oe}=function gt(b){const g=je(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const L=T[1];return{host:L,port:en(C.substr(L.length+1))}}{const[L,se]=C.split(":");return{host:L,port:en(se)}}}(g);C.config.emulator={url:`${L}//${se}${null===Oe?"":`:${Oe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:se,port:Oe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function mn(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function je(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function en(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class zn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return le("not implemented")}_getIdTokenResponse(g){return le("not implemented")}_linkToIdToken(g,_){return le("not implemented")}_getReauthenticationResolver(g){return le("not implemented")}}function Hn(b,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:resetPassword",qt(b,g))})).apply(this,arguments)}function or(b,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function mh(b,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:update",qt(b,g))})).apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithPassword",qt(b,g))})).apply(this,arguments)}function Yr(b,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:sendOobCode",qt(b,g))})).apply(this,arguments)}function ms(b,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,g){return Yr(b,g)})).apply(this,arguments)}function oc(b,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(b,g){return Yr(b,g)})).apply(this,arguments)}function ar(b,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(b,g){return Yr(b,g)})).apply(this,arguments)}function gs(b,g){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(b,g){return Yr(b,g)})).apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithEmailLink",qt(b,g))})).apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithEmailLink",qt(b,g))})).apply(this,arguments)}class ko extends zn{constructor(g,_,C,T=null){super("password",C),this._email=g,this._password=_,this._tenantId=T}static _fromEmailAndPassword(g,_){return new ko(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new ko(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function va(b,g){return to.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Br(b,g){return cl.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Qe(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return or(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function em(b,g){return ba.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ns(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithIdp",qt(b,g))})).apply(this,arguments)}class _s extends zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new _s(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:T}=_,L=(0,ge._T)(_,["providerId","signInMethod"]);if(!C||!T)return null;const se=new _s(C,T);return se.idToken=L.idToken||void 0,se.accessToken=L.accessToken||void 0,se.secret=L.secret,se.nonce=L.nonce,se.pendingToken=L.pendingToken||null,se}_getIdTokenResponse(g){return Ns(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Ns(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ns(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function gh(b,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:sendVerificationCode",qt(b,g))})).apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,g))})).apply(this,arguments)}function _h(){return(_h=(0,l.Z)(function*(b,g){const _=yield Wn(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,g));if(_.temporaryProof)throw si(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Cy={USER_NOT_FOUND:"user-not-found"};function wa(){return(wa=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Cy)})).apply(this,arguments)}class Ca extends zn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ca({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ca({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function io(b,g){return dl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function nm(b,g){return _h.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ru(b,g){return wa.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:T}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:T,temporaryProof:L}=g;return C||_||T||L?new Ca({verificationId:_,verificationCode:C,phoneNumber:T,temporaryProof:L}):null}}class hl{constructor(g){var _,C,T,L,se,Oe;const at=(0,j.zd)((0,j.pd)(g)),kt=null!==(_=at.apiKey)&&void 0!==_?_:null,on=null!==(C=at.oobCode)&&void 0!==C?C:null,kn=function Fu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=at.mode)&&void 0!==T?T:null);te(kt&&on&&kn,"argument-error"),this.apiKey=kt,this.operation=kn,this.code=on,this.continueUrl=null!==(L=at.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(se=at.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(Oe=at.tenantId)&&void 0!==Oe?Oe:null}static parseLink(g){const _=function ac(b){const g=(0,j.zd)((0,j.pd)(b)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||g||b}(g);try{return new hl(_)}catch{return null}}}let Pu=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return ko._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const T=hl.parseLink(C);return te(T,"argument-error"),ko._fromEmailAndCode(_,T.code,T.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Gi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ea extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ro extends Ea{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return te("providerId"in _&&"signInMethod"in _,"argument-error"),_s._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ro.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ro.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:L,nonce:se,providerId:Oe}=g;if(!C&&!T&&!_&&!L||!Oe)return null;try{return new ro(Oe)._credential({idToken:_,accessToken:C,nonce:se,pendingToken:L})}catch{return null}}}let lc=(()=>{class b extends Ea{constructor(){super("facebook.com")}static credential(_){return _s._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),cc=(()=>{class b extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return _s._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:T}=_;if(!C&&!T)return null;try{return b.credential(C,T)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),fl=(()=>{class b extends Ea{constructor(){super("github.com")}static credential(_){return _s._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Oo extends zn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Ns(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Ns(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ns(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:T,pendingToken:L}=_;return C&&T&&L&&C===T?new Oo(C,L):null}static _create(g,_){return new Oo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ys extends Gi{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ys.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ys.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Oo.fromJSON(g);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Oo._create(C,_)}catch{return null}}}let dc=(()=>{class b extends Ea{constructor(){super("twitter.com")}static credential(_,C){return _s._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=_;if(!C||!T)return null;try{return b.credential(C,T)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function lr(b,g){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signUp",qt(b,g))})).apply(this,arguments)}class Vi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,T=!1){return(0,l.Z)(function*(){const L=yield Tt._fromIdTokenResponse(g,C,T),se=Ls(C);return new Vi({user:L,providerId:se,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const T=Ls(C);return new Vi({user:g,providerId:T,_tokenResponse:C,operationType:_})})()}}function Ls(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Dy(b){return im.apply(this,arguments)}function im(){return(im=(0,l.Z)(function*(b){var g;const _=Ct(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Vi({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield lr(_,{returnSecureToken:!0}),T=yield Vi._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class ai extends j.ZR{constructor(g,_,C,T){var L;super(_.code,_.message),this.operationType=C,this.user=T,Object.setPrototypeOf(this,ai.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,T){return new ai(g,_,C,T)}}function Nu(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?ai._fromErrorAndOperation(b,L,g,C):L})}function yh(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function ss(b,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b);yield vr(!0,_,g);const{providerUserInfo:C}=yield tt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),T=yh(C||[]);return _.providerData=_.providerData.filter(L=>T.has(L.providerId)),T.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Lu(b,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(b,g,_=!1){const C=yield mt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Vi._forOperation(b,"link",C)})).apply(this,arguments)}function vr(b,g,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(b,g,_){yield ki(g);const T=!1===b?"provider-already-linked":"no-such-provider";te(yh(g.providerData).has(_)===b,g.auth,T)})).apply(this,arguments)}function oo(b,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,g,_=!1){var C;const{auth:T}=b,L="reauthenticate";try{const se=yield mt(b,Nu(T,L,g,b),_);te(se.idToken,T,"internal-error");const Oe=pt(se.idToken);te(Oe,T,"internal-error");const{sub:at}=Oe;return te(b.uid===at,T,"user-mismatch"),Vi._forOperation(b,L,se)}catch(se){throw"auth/user-not-found"===(null===(C=se)||void 0===C?void 0:C.code)&&Qe(T,"user-mismatch"),se}})).apply(this,arguments)}function rm(b,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(b,g,_=!1){const C="signIn",T=yield Nu(b,C,g),L=yield Vi._fromIdTokenResponse(b,C,T);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Ia(b,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(b,g){return rm(Ct(b),g)})).apply(this,arguments)}function Wt(b,g){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b);return yield vr(!1,_,g.providerId),Lu(_,g)})).apply(this,arguments)}function V(b,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(b,g){return oo((0,j.m9)(b),g)})).apply(this,arguments)}function fe(b,g){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(b,g){return Wn(b,"POST","/v1/accounts:signInWithCustomToken",qt(b,g))})).apply(this,arguments)}function Xe(b,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(b,g){const _=Ct(b),C=yield fe(_,{token:g,returnSecureToken:!0}),T=yield Vi._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class rn{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ie._fromServerResponse(g,_):Qe(g,"internal-error")}}class Ie extends rn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ie(_)}}function Pt(b,g,_){var C;te((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),te(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function li(b,g,_){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),T={requestType:"PASSWORD_RESET",email:g};_&&Pt(C,T,_),yield oc(C,T)})).apply(this,arguments)}function qn(b,g,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(b,g,_){yield Hn((0,j.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function co(b,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(b,g){yield mh((0,j.m9)(b),{oobCode:g})})).apply(this,arguments)}function Vs(b,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b),C=yield Hn(_,{oobCode:g}),T=C.requestType;switch(te(T,_,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(C.mfaInfo,_,"internal-error");default:te(C.email,_,"internal-error")}let L=null;return C.mfaInfo&&(L=rn._fromServerResponse(Ct(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:T}})).apply(this,arguments)}function hc(b,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(b,g){const{data:_}=yield Vs((0,j.m9)(b),g);return _.email})).apply(this,arguments)}function Ro(b,g,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(b,g,_){const C=Ct(b),T=yield lr(C,{returnSecureToken:!0,email:g,password:_}),L=yield Vi._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function wi(b,g,_){return Ia((0,j.m9)(b),Pu.credential(g,_))}function Bs(b,g,_){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),T={requestType:"EMAIL_SIGNIN",email:g};te(_.handleCodeInApp,C,"argument-error"),_&&Pt(C,T,_),yield ar(C,T)})).apply(this,arguments)}function pc(b,g){return"EMAIL_SIGNIN"===hl.parseLink(g)?.operation}function Fo(b,g,_){return sm.apply(this,arguments)}function sm(){return(sm=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),T=Pu.credentialWithLink(g,_||He());return te(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ia(C,T)})).apply(this,arguments)}function Iy(b,g){return om.apply(this,arguments)}function om(){return(om=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:createAuthUri",qt(b,g))})).apply(this,arguments)}function TC(b,g){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(b,g){const C={identifier:g,continueUri:Be()?He():"http://localhost"},{signinMethods:T}=yield Iy((0,j.m9)(b),C);return T||[]})).apply(this,arguments)}function vh(b,g){return bh.apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b),T={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Pt(_.auth,T,g);const{email:L}=yield ms(_.auth,T);L!==b.email&&(yield b.reload())})).apply(this,arguments)}function wh(b,g,_){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Pt(C.auth,L,_);const{email:se}=yield gs(C.auth,L);se!==b.email&&(yield b.reload())})).apply(this,arguments)}function Sy(b,g){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(b,g){return At(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ay(b,g){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,j.m9)(b),L={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},se=yield mt(C,Sy(C.auth,L));C.displayName=se.displayName||null,C.photoURL=se.photoUrl||null;const Oe=C.providerData.find(({providerId:at})=>"password"===at);Oe&&(Oe.displayName=C.displayName,Oe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(se)})).apply(this,arguments)}function Ty(b,g){return ml((0,j.m9)(b),g,null)}function am(b,g){return ml((0,j.m9)(b),null,g)}function ml(b,g,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(b,g,_){const{auth:C}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(L.email=g),_&&(L.password=_);const se=yield mt(b,or(C,L));yield b._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class di{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class ho extends di{constructor(g,_,C,T){super(g,_,C),this.username=T}}class hi extends di{constructor(g,_){super(g,"facebook.com",_)}}class lm extends ho{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class xy extends di{constructor(g,_){super(g,"google.com",_)}}class ky extends ho{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Oy(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function My(b){var g,_;if(!b)return null;const{providerId:C}=b,T=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const se=null===(_=null===(g=pt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(se)return new di(L,"anonymous"!==se&&"custom"!==se?se:null)}if(!C)return null;switch(C){case"facebook.com":return new hi(L,T);case"github.com":return new lm(L,T);case"google.com":return new xy(L,T);case"twitter.com":return new ky(L,T,b.screenName||null);case"custom":case"anonymous":return new di(L,null);default:return new di(L,C,T)}}(_)}function gc(b,g,_,C){return(0,j.m9)(b).onAuthStateChanged(g,_,C)}class os{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new os("enroll",g,_)}static _fromMfaPendingCredential(g){return new os("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return os._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return os._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ah{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Ct(g),T=_.customData._serverResponse,L=(T.mfaInfo||[]).map(Oe=>rn._fromServerResponse(C,Oe));te(T.mfaPendingCredential,C,"internal-error");const se=os._fromMfaPendingCredential(T.mfaPendingCredential);return new Ah(se,L,function(){var Oe=(0,l.Z)(function*(at){const kt=yield at._process(C,se);delete T.mfaInfo,delete T.mfaPendingCredential;const on=Object.assign(Object.assign({},T),{idToken:kt.idToken,refreshToken:kt.refreshToken});switch(_.operationType){case"signIn":const kn=yield Vi._fromIdTokenResponse(C,_.operationType,on);return yield C._updateCurrentUser(kn.user),kn;case"reauthenticate":return te(_.user,C,"internal-error"),Vi._forOperation(_.user,_.operationType,on);default:Qe(C,"internal-error")}});return function(at){return Oe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function Ry(b,g){var _;const C=(0,j.m9)(b),T=g;return te(g.customData.operationType,C,"argument-error"),te(null===(_=T.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Ah._fromError(C,T)}function _c(b,g){return At(b,"POST","/v2/accounts/mfaEnrollment:start",qt(b,g))}class ju{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>rn._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new ju(g)}getSession(){var g=this;return(0,l.Z)(function*(){return os._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,l.Z)(function*(){const T=g,L=yield C.getSession(),se=yield mt(C.user,T._process(C.user.auth,L,_));return yield C.user._updateTokensIfNecessary(se),C.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){var C;const T="string"==typeof g?g:g.uid,L=yield _.user.getIdToken(),se=yield mt(_.user,function Hu(b,g){return At(b,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(b,g))}(_.user.auth,{idToken:L,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Oe})=>Oe!==T),yield _.user._updateTokensIfNecessary(se);try{yield _.user.reload()}catch(Oe){if("auth/user-token-expired"!==(null===(C=Oe)||void 0===C?void 0:C.code))throw Oe}})()}}const Fy=new WeakMap;function Mh(b){const g=(0,j.m9)(b);return Fy.has(g)||Fy.set(g,ju._fromUser(g)),Fy.get(g)}const fo="__sak";class xh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ma=(()=>{class b extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kh(){const b=(0,j.z$)();return k(b)||xe(b)}()&&function Or(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),L=this.localCache[C];T!==L&&_(C,L,T)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Oe,at,kt)=>{this.notifyListeners(Oe,kt)});const T=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(T);if(_.newValue!==Oe)null!==_.newValue?this.storage.setItem(T,_.newValue):this.storage.removeItem(T);else if(this.localCache[T]===_.newValue&&!C)return}const L=()=>{const Oe=this.storage.getItem(T);!C&&this.localCache[T]===Oe||this.notifyListeners(T,Oe)},se=this.storage.getItem(T);!function Mt(){return(0,j.w1)()&&10===document.documentMode}()||se===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,C){this.localCache[_]=C;const T=this.listeners[_];if(T)for(const L of Array.from(T))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var T=()=>super._set,L=this;return(0,l.Z)(function*(){yield T().call(L,_,C),L.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,T=this;return(0,l.Z)(function*(){const L=yield C().call(T,_);return T.localCache[_]=JSON.stringify(L),L})()}_remove(_){var C=()=>super._remove,T=this;return(0,l.Z)(function*(){yield C().call(T,_),delete T.localCache[_]})()}}return b.type="LOCAL",b})(),Po=(()=>{class b extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let $u=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(L=>L.isListeningto(_));if(C)return C;const T=new b(_);return this.receivers.push(T),T}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const T=_,{eventId:L,eventType:se,data:Oe}=T.data,at=C.handlersMap[se];if(!at?.size)return;T.ports[0].postMessage({status:"ack",eventId:L,eventType:se});const kt=Array.from(at).map(function(){var kn=(0,l.Z)(function*(Jr){return Jr(T.origin,Oe)});return function(Jr){return kn.apply(this,arguments)}}()),on=yield function Oh(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(kt);T.ports[0].postMessage({status:"done",eventId:L,eventType:se,response:on})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function gl(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class Ly{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var T=this;return(0,l.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let se,Oe;return new Promise((at,kt)=>{const on=gl("",20);L.port1.start();const kn=setTimeout(()=>{kt(new Error("unsupported_event"))},C);Oe={messageChannel:L,onMessage(Jr){const ja=Jr;if(ja.data.eventId===on)switch(ja.data.status){case"ack":clearTimeout(kn),se=setTimeout(()=>{kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),at(ja.data.response);break;default:clearTimeout(kn),clearTimeout(se),kt(new Error("invalid_response"))}}},T.handlers.add(Oe),L.port1.addEventListener("message",Oe.onMessage),T.target.postMessage({eventType:g,eventId:on,data:_},[L.port2])}).finally(()=>{Oe&&T.removeMessageHandler(Oe)})})()}}function Bi(){return window}function bs(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function xa(){return(xa=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vc="firebaseLocalStorageDb",wc="firebaseLocalStorage",Gu="fbase_key";class ka{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Wu(b,g){return b.transaction([wc],g?"readwrite":"readonly").objectStore(wc)}function fm(){const b=indexedDB.open(vc,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(wc,{keyPath:Gu})}catch(T){_(T)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(wc)?g(C):(C.close(),yield function hm(){const b=indexedDB.deleteDatabase(vc);return new ka(b).toPromise()}(),g(yield fm()))}))})}function Cc(b,g,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(b,g,_){const C=Wu(b,!0).put({[Gu]:g,value:_});return new ka(C).toPromise()})).apply(this,arguments)}function qu(){return(qu=(0,l.Z)(function*(b,g){const _=Wu(b,!1).get(g),C=yield new ka(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function pm(b,g){const _=Wu(b,!0).delete(g);return new ka(_).toPromise()}const Yu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield fm()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const L=yield C._openDb();return yield _(L)}catch(L){if(T++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return bs()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=$u._getInstance(function zu(){return bs()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(T,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(T,L){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(T,L){return["keyChanged"]});return function(T,L){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,T;if(_.activeServiceWorker=yield function Vy(){return xa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ly(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=L[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Rh(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fm();return yield Cc(_,fo,"1"),yield pm(_,fo),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(L=>Cc(L,_,C)),T.localCache[_]=C,T.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const T=yield C._withRetries(L=>function By(b,g){return qu.apply(this,arguments)}(L,_));return C.localCache[_]=T,T})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(T=>pm(T,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(se=>{const Oe=Wu(se,!1).getAll();return new ka(Oe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const T=[],L=new Set;for(const{fbase_key:se,value:Oe}of C)L.add(se),JSON.stringify(_.localCache[se])!==JSON.stringify(Oe)&&(_.notifyListeners(se,Oe),T.push(se));for(const se of Object.keys(_.localCache))_.localCache[se]&&!L.has(se)&&(_.notifyListeners(se,null),T.push(se));return T})()}notifyListeners(_,C){this.localCache[_]=C;const T=this.listeners[_];if(T)for(const L of Array.from(T))L(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Uy(b,g){return At(b,"POST","/v2/accounts/mfaSignIn:start",qt(b,g))}function Oa(){return(Oa=(0,l.Z)(function*(b){return(yield At(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _l(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=T=>{const L=Pe("internal-error");L.customData=T,_(L)},C.type="text/javascript",C.charset="UTF-8",function Dc(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function Fh(b){return`__${b}${Math.floor(1e6*Math.random())}`}const _m=1e12;class MC{constructor(g){this.auth=g,this.counter=_m,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Xn(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||_m;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||_m))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(g||_m))||void 0===C||C.execute(),""})()}}class Xn{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;te(T,"argument-error",{appName:_}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xC(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hy=Fh("rcb"),$A=new Ye(3e4,6e4);class GA{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bi().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return te(function WA(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Bi().grecaptcha):new Promise((C,T)=>{const L=Bi().setTimeout(()=>{T(Pe(g,"network-request-failed"))},$A.get());Bi()[Hy]=()=>{Bi().clearTimeout(L),delete Bi()[Hy];const Oe=Bi().grecaptcha;if(!Oe)return void T(Pe(g,"internal-error"));const at=Oe.render;Oe.render=(kt,on)=>{const kn=at(kt,on);return this.counter++,kn},this.hostLanguage=_,C(Oe)},_l(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Hy,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),T(Pe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Bi().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qA{load(g){return(0,l.Z)(function*(){return new MC(g)})()}clearedOneInstance(){}}const Lo="recaptcha",kC={theme:"light",type:"image"};class jy{constructor(g,_=Object.assign({},kC),C){this.parameters=_,this.type=Lo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(C),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qA:new GA,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(L=>{const se=Oe=>{!Oe||(g.tokenChangeListeners.delete(se),L(Oe))};g.tokenChangeListeners.add(se),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=Bi()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){te(Be()&&!bs(),g.auth,"internal-error"),yield function Yi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ku(b){return Oa.apply(this,arguments)}(g.auth);te(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yl{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ca._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function hn(b,g,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(b,g,_){const C=Ct(b),T=yield qe(C,g,(0,j.m9)(_));return new yl(T,L=>Ia(C,L))})).apply(this,arguments)}function Vo(b,g,_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);yield vr(!1,C,"phone");const T=yield qe(C.auth,g,(0,j.m9)(_));return new yl(T,L=>Wt(C,L))})).apply(this,arguments)}function ut(b,g,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),T=yield qe(C.auth,g,(0,j.m9)(_));return new yl(T,L=>V(C,L))})).apply(this,arguments)}function qe(b,g,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(b,g,_){var C;const T=yield _.verify();try{let L;if(te("string"==typeof T,b,"argument-error"),te(_.type===Lo,b,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const se=L.session;if("phoneNumber"in L)return te("enroll"===se.type,b,"internal-error"),(yield _c(b,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===se.type,b,"internal-error");const Oe=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return te(Oe,b,"missing-multi-factor-info"),(yield Uy(b,{mfaPendingCredential:se.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield gh(b,{phoneNumber:L.phoneNumber,recaptchaToken:T});return se}}finally{_._reset()}})).apply(this,arguments)}function fi(b,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(b,g){yield Lu((0,j.m9)(b),g)})).apply(this,arguments)}let Cs=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ct(_)}verifyPhoneNumber(_,C){return qe(this.auth,_,(0,j.m9)(C))}static credential(_,C){return Ca._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:T}=_;return C&&T?Ca._fromTokenResponse(C,T):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function vl(b,g){return g?J(g):(te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class nn extends zn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ns(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Ns(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Ns(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Ra(b){return rm(b.auth,new nn(b),b.bypassAuthState)}function fn(b){const{auth:g,user:_}=b;return te(_,g,"internal-error"),oo(_,new nn(b),b.bypassAuthState)}function Ke(b){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return te(_,g,"internal-error"),Lu(_,new nn(b),b.bypassAuthState)})).apply(this,arguments)}class br{constructor(g,_,C,T,L=!1){this.auth=g,this.resolver=C,this.user=T,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(C,T){g.pendingPromise={resolve:C,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(C,T){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:L,tenantId:se,error:Oe,type:at}=g;if(Oe)return void _.reject(Oe);const kt={auth:_.auth,requestUri:C,sessionId:T,tenantId:se||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(kt))}catch(on){_.reject(on)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ra;case"linkViaPopup":case"linkViaRedirect":return Ke;case"reauthViaPopup":case"reauthViaRedirect":return fn;default:Qe(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bl=new Ye(2e3,1e4);function js(b,g,_){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(b,g,_){const C=Ct(b);De(b,g,Gi);const T=vl(C,_);return new Ac(C,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function $y(b,g,_){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Gi);const T=vl(C.auth,_);return new Ac(C.auth,"reauthViaPopup",g,T,C).executeNotNull()})).apply(this,arguments)}function ym(b,g,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Gi);const T=vl(C.auth,_);return new Ac(C.auth,"linkViaPopup",g,T,C).executeNotNull()})).apply(this,arguments)}let Ac=(()=>{class b extends br{constructor(_,C,T,L,se){super(_,C,L,se),this.provider=T,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return te(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const C=gl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(T=>{_.reject(T)}),_.resolver._isIframeWebStorageSupported(_.auth,T=>{T||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,T;this.pollId=null!==(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,bl.get())};_()}}return b.currentPopupAction=null,b})();const as=new Map;class gn extends br{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=as.get(_.auth._key());if(!C){try{const L=(yield function wl(b,g){return Pa.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(L)}catch(T){C=()=>Promise.reject(T)}as.set(_.auth._key(),C)}return _.bypassAuthState||as.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const T=yield C.auth._redirectUserForId(g.eventId);if(T)return C.user=T,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Pa(){return(Pa=(0,l.Z)(function*(b,g){const _=$t(g),C=Bo(b);if(!(yield C._isAvailable()))return!1;const T="true"===(yield C._get(_));return yield C._remove(_),T})).apply(this,arguments)}function Nh(b,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,g){return Bo(b)._set($t(g),"true")})).apply(this,arguments)}function ls(){as.clear()}function Qu(b,g){as.set(b._key(),g)}function Bo(b){return J(b._redirectPersistence)}function $t(b){return $("pendingRedirect",b.config.apiKey,b.name)}function Rr(b,g,_){return function Gn(b,g,_){return $s.apply(this,arguments)}(b,g,_)}function $s(){return($s=(0,l.Z)(function*(b,g,_){const C=Ct(b);De(b,g,Gi);const T=vl(C,_);return yield Nh(T,C),T._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Lh(b,g,_){return function vm(b,g,_){return Na.apply(this,arguments)}(b,g,_)}function Na(){return(Na=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Gi);const T=vl(C.auth,_);yield Nh(T,C.auth);const L=yield Gy(C);return T._openRedirect(C.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function Vh(b,g,_){return function zy(b,g,_){return Bh.apply(this,arguments)}(b,g,_)}function Bh(){return(Bh=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);De(C.auth,g,Gi);const T=vl(C.auth,_);yield vr(!1,C,g.providerId),yield Nh(T,C.auth);const L=yield Gy(C);return T._openRedirect(C.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Uh(b,g){return La.apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(b,g){return yield Ct(b)._initializationPromise,Xu(b,g,!1)})).apply(this,arguments)}function Xu(b,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(b,g,_=!1){const C=Ct(b),T=vl(C,g),se=yield new gn(C,T,_).execute();return se&&!_&&(delete se.user._redirectEventId,yield C._persistUserIfCurrent(se.user),yield C._setRedirectUser(null,g)),se})).apply(this,arguments)}function Gy(b){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,l.Z)(function*(b){const g=gl(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ju{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ee(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wy(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Wy(g)){const T=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,T))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bm(g))}saveEventToCache(g){this.cachedEventUids.add(bm(g)),this.lastProcessedEventTime=Date.now()}}function bm(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Wy({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Uo(b){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,g={}){return At(b,"GET","/v1/projects",g)})).apply(this,arguments)}const qy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ur=/^https?/;function El(){return(El=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Uo(b);for(const _ of g)try{if(wm(_))return}catch{}Qe(b,"unauthorized-domain")})).apply(this,arguments)}function wm(b){const g=He(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const se=new URL(b);return""===se.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&se.hostname===C}if(!ur.test(_))return!1;if(qy.test(b))return C===b;const T=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const Yy=new Ye(3e4,6e4);function Cm(){const b=Bi().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ho=null;function Em(b){return Ho=Ho||function Zy(b){return new Promise((g,_)=>{var C,T,L;function se(){Cm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Cm(),_(Pe(b,"network-request-failed"))},timeout:Yy.get()})}if(null!==(T=null===(C=Bi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==T&&T.Iframe)g(gapi.iframes.getContext());else{if(null===(L=Bi().gapi)||void 0===L||!L.load){const Oe=Fh("iframefcb");return Bi()[Oe]=()=>{gapi.load?se():_(Pe(b,"network-request-failed"))},_l(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(at=>_(at))}se()}}).catch(g=>{throw Ho=null,g})}(b),Ho}const Ky=new Ye(5e3,15e3),wr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ed(b){const g=b.config;te(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?_n(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},T=jh.get(b.config.apiHost);T&&(C.eid=T);const L=b._getFrameworks();return L.length&&(C.fw=L.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Ba(){return Ba=(0,l.Z)(function*(b){const g=yield Em(b),_=Bi().gapi;return te(_,b,"internal-error"),g.open({where:document.body,url:ed(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wr,dontclear:!0},C=>new Promise(function(){var T=(0,l.Z)(function*(L,se){yield C.restyle({setHideOnLeave:!1});const Oe=Pe(b,"network-request-failed"),at=Bi().setTimeout(()=>{se(Oe)},Ky.get());function kt(){Bi().clearTimeout(at),L(C)}C.ping(kt).then(kt,()=>{se(Oe)})});return function(L,se){return T.apply(this,arguments)}}()))}),Ba.apply(this,arguments)}const Dl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jy{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kc(b,g,_,C,T,L){te(b.config.authDomain,b,"auth-domain-config-required"),te(b.config.apiKey,b,"invalid-api-key");const se={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:N.SDK_VERSION,eventId:T};if(g instanceof Gi){g.setDefaultLanguage(b.languageCode),se.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[at,kt]of Object.entries(L||{}))se[at]=kt}if(g instanceof Ea){const at=g.getScopes().filter(kt=>""!==kt);at.length>0&&(se.scopes=at.join(","))}b.tenantId&&(se.tid=b.tenantId);const Oe=se;for(const at of Object.keys(Oe))void 0===Oe[at]&&delete Oe[at];return`${function Ha({config:b}){return b.emulator?_n(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(Oe).slice(1)}`}const Gh="webStorageSupport",Im=class ev{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=Xu,this._overrideRedirectResult=Qu}_openPopup(g,_,C,T){var L=this;return(0,l.Z)(function*(){var se;we(null===(se=L.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const Oe=kc(g,_,C,He(),T);return function td(b,g,_,C=500,T=600){const L=Math.max((window.screen.availHeight-T)/2,0).toString(),se=Math.max((window.screen.availWidth-C)/2,0).toString();let Oe="";const at=Object.assign(Object.assign({},Dl),{width:C.toString(),height:T.toString(),top:L,left:se}),kt=(0,j.z$)().toLowerCase();_&&(Oe=z(kt)?"_blank":_),A(kt)&&(g=g||"http://localhost",at.scrollbars="yes");const on=Object.entries(at).reduce((Jr,[ja,Zh])=>`${Jr}${ja}=${Zh},`,"");if(function tn(b=(0,j.z$)()){var g;return xe(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(kt)&&"_self"!==Oe)return function Ua(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",Oe),new Jy(null);const kn=window.open(g||"",Oe,on);te(kn,b,"popup-blocked");try{kn.focus()}catch{}return new Jy(kn)}(g,Oe,gl())})()}_openRedirect(g,_,C,T){var L=this;return(0,l.Z)(function*(){return yield L._originValidation(g),function dm(b){Bi().location.href=b}(kc(g,_,C,He(),T)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:T,promise:L}=this.eventManagers[_];return T?Promise.resolve(T):(we(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const C=yield function $h(b){return Ba.apply(this,arguments)}(g),T=new Ju(g);return C.register("authEvent",L=>(te(L?.authEvent,g,"invalid-auth-event"),{status:T.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:T},_.iframes[g._key()]=C,T})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Gh,{type:Gh},T=>{var L;const se=null===(L=T?.[0])||void 0===L?void 0:L[Gh];void 0!==se&&_(!!se),Qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xr(b){return El.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Yt()||k()||xe()}};class Oc extends class Sm{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Oc(g)}_finalizeEnroll(g,_,C){return function Th(b,g){return At(b,"POST","/v2/accounts/mfaEnrollment:finalize",qt(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Zu(b,g){return At(b,"POST","/v2/accounts/mfaSignIn:finalize",qt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zs=(()=>{class b{constructor(){}static assertion(_){return Oc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var po="@firebase/auth";class Rc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var T;g((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function qh(b){(0,N._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:L,authDomain:se}=C.options;return((Oe,at)=>{te(L&&!L.includes(":"),"invalid-api-key",{appName:Oe.name}),te(!se?.includes(":"),"argument-error",{appName:Oe.name});const kt={apiKey:L,authDomain:se,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(b)},on=new Fs(Oe,at,kt);return function ae(b,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(J);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(on,_),on})(C,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ve.wA("auth-internal",g=>{const _=Ct(g.getProvider("auth").getImmediate());return new Rc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(po,"0.20.9",function tv(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(po,"0.20.9","esm2017")}("Browser")},2090:(ft,ke,F)=>{F.d(ke,{$s:()=>rt,BH:()=>Rt,G6:()=>De,L:()=>pe,LL:()=>pn,P0:()=>Be,Pz:()=>ln,Sg:()=>Ye,UG:()=>Ae,US:()=>ve,ZB:()=>G,ZR:()=>Kn,aH:()=>_t,b$:()=>ue,eu:()=>te,hl:()=>Ze,jU:()=>Je,m9:()=>Jt,ne:()=>Rn,pd:()=>Ni,r3:()=>ri,ru:()=>be,tV:()=>ye,uI:()=>Se,vZ:()=>tt,w1:()=>Qe,xO:()=>bn,xb:()=>xi,z$:()=>Re,zI:()=>le,zd:()=>vi});const ie=function(W){const $=[];let R=0;for(let x=0;x<W.length;x++){let A=W.charCodeAt(x);A<128?$[R++]=A:A<2048?($[R++]=A>>6|192,$[R++]=63&A|128):55296==(64512&A)&&x+1<W.length&&56320==(64512&W.charCodeAt(x+1))?(A=65536+((1023&A)<<10)+(1023&W.charCodeAt(++x)),$[R++]=A>>18|240,$[R++]=A>>12&63|128,$[R++]=A>>6&63|128,$[R++]=63&A|128):($[R++]=A>>12|224,$[R++]=A>>6&63|128,$[R++]=63&A|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let A=0;A<W.length;A+=3){const k=W[A],z=A+1<W.length,ce=z?W[A+1]:0,Ne=A+2<W.length,ze=Ne?W[A+2]:0;let dt=(15&ce)<<2|ze>>6,tn=63&ze;Ne||(tn=64,z||(dt=64)),x.push(R[k>>2],R[(3&k)<<4|ce>>4],R[dt],R[tn])}return x.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(ie(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let R=0,x=0;for(;R<W.length;){const A=W[R++];if(A<128)$[x++]=String.fromCharCode(A);else if(A>191&&A<224){const k=W[R++];$[x++]=String.fromCharCode((31&A)<<6|63&k)}else if(A>239&&A<365){const Ne=((7&A)<<18|(63&W[R++])<<12|(63&W[R++])<<6|63&W[R++])-65536;$[x++]=String.fromCharCode(55296+(Ne>>10)),$[x++]=String.fromCharCode(56320+(1023&Ne))}else{const k=W[R++],z=W[R++];$[x++]=String.fromCharCode((15&A)<<12|(63&k)<<6|63&z)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const R=$?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let A=0;A<W.length;){const k=R[W.charAt(A++)],ce=A<W.length?R[W.charAt(A)]:0;++A;const ze=A<W.length?R[W.charAt(A)]:64;++A;const xe=A<W.length?R[W.charAt(A)]:64;if(++A,null==k||null==ce||null==ze||null==xe)throw Error();x.push(k<<2|ce>>4),64!==ze&&(x.push(ce<<4&240|ze>>2),64!==xe&&x.push(ze<<6&192|xe))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},pe=function(W){return function(W){const $=ie(W);return ve.encodeByteArray($,!0)}(W).replace(/\./g,"")},ye=function(W){try{return ve.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const R in $)!$.hasOwnProperty(R)||!Q(R)||(W[R]=G(W[R],$[R]));return W}function Q(W){return"__proto__"!==W}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function be(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const W=Re();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function De(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){return"object"==typeof indexedDB}function te(){return new Promise((W,$)=>{try{let R=!0;const x="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(x);A.onsuccess=()=>{A.result.close(),R||self.indexedDB.deleteDatabase(x),W(!0)},A.onupgradeneeded=()=>{R=!1},A.onerror=()=>{var k;$((null===(k=A.error)||void 0===k?void 0:k.message)||"")}}catch(R){$(R)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;const W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),$=W&&ye(W[1]);return $&&JSON.parse($)})(),Be=W=>{const $=(W=>{var $,R;return null===(R=null===($=ae())||void 0===$?void 0:$.emulatorHosts)||void 0===R?void 0:R[W]})(W);if(!$)return;const R=$.lastIndexOf(":");if(R<=0||R+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const x=parseInt($.substring(R+1),10);return"["===$[0]?[$.substring(1,R-1),x]:[$.substring(0,R),x]},_t=()=>{var W;return null===(W=ae())||void 0===W?void 0:W.config},ln=W=>{var $;return null===($=ae())||void 0===$?void 0:$[`_${W}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,R)=>{this.resolve=$,this.reject=R})}wrapCallback($){return(R,x)=>{R?this.reject(R):this.resolve(x),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(R):$(R,x))}}}function Ye(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=$||"demo-project",A=W.iat||0,k=W.sub||W.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const z=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:A,exp:A+3600,auth_time:A,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},W);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(z)),""].join(".")}class Kn extends Error{constructor($,R,x){super(R),this.code=$,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}}class pn{constructor($,R,x){this.service=$,this.serviceName=R,this.errors=x}create($,...R){const x=R[0]||{},A=`${this.service}/${$}`,k=this.errors[$],z=k?function cn(W,$){return W.replace(qt,(R,x)=>{const A=$[x];return null!=A?String(A):`<${x}?>`})}(k,x):"Error";return new Kn(A,`${this.serviceName}: ${z} (${A}).`,x)}}const qt=/\{\$([^}]+)}/g;function ri(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function xi(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function tt(W,$){if(W===$)return!0;const R=Object.keys(W),x=Object.keys($);for(const A of R){if(!x.includes(A))return!1;const k=W[A],z=$[A];if(Sn(k)&&Sn(z)){if(!tt(k,z))return!1}else if(k!==z)return!1}for(const A of x)if(!R.includes(A))return!1;return!0}function Sn(W){return null!==W&&"object"==typeof W}function bn(W){const $=[];for(const[R,x]of Object.entries(W))Array.isArray(x)?x.forEach(A=>{$.push(encodeURIComponent(R)+"="+encodeURIComponent(A))}):$.push(encodeURIComponent(R)+"="+encodeURIComponent(x));return $.length?"&"+$.join("&"):""}function vi(W){const $={};return W.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[A,k]=x.split("=");$[decodeURIComponent(A)]=decodeURIComponent(k)}}),$}function Ni(W){const $=W.indexOf("?");if(!$)return"";const R=W.indexOf("#",$);return W.substring($,R>0?R:void 0)}function Rn(W,$){const R=new dn(W,$);return R.subscribe.bind(R)}class dn{constructor($,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{$(this)}).catch(x=>{this.error(x)})}next($){this.forEachObserver(R=>{R.next($)})}error($){this.forEachObserver(R=>{R.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,R,x){let A;if(void 0===$&&void 0===R&&void 0===x)throw new Error("Missing Observer.");A=function ht(W,$){if("object"!=typeof W||null===W)return!1;for(const R of $)if(R in W&&"function"==typeof W[R])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:R,complete:x},void 0===A.next&&(A.next=mt),void 0===A.error&&(A.error=mt),void 0===A.complete&&(A.complete=mt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,$)}sendOne($,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{R(this.observers[$])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mt(){}function rt(W,$=1e3,R=2){const x=$*Math.pow(R,W),A=Math.round(.5*x*(Math.random()-.5)*2);return Math.min(144e5,x+A)}function Jt(W){return W&&W._delegate?W._delegate:W}},4487:(ft,ke,F)=>{var l=F(4650);let j=null;function N(){return j}const ne=new l.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let G=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new G((0,l.LFG)(ne))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ct)},providedIn:"root"}),n})();const ue=new l.OlP("appBaseHref");let ct=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+Je(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+Je(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+Je(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+Je(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(Ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Je(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Se,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Fe(){return new Pe((0,l.LFG)(be))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function pn(n,t){return tt((0,l.cg1)(n)[l.wAp.DateFormat],t)}function cn(n,t){return tt((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function qt(n,t){return tt((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function At(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ae.CurrencyDecimal)return e[l.wAp.NumberSymbols][ae.Decimal];if(t===ae.CurrencyGroup)return e[l.wAp.NumberSymbols][ae.Group]}return i}function ri(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Sn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Ni=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},Rn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function mt(n,t,e,i){let r=function k(n){if(ce(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return Fn(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Ni))return function z(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,p,y),t}(i)}const t=new Date(n);if(!ce(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ui(e,t)||t;let h,u=[];for(;t;){if(h=Rn.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let p=r.getTimezoneOffset();i&&(p=R(i,p),r=function A(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function x(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(R(t,r)-r))}(r,i,!0));let y="";return u.forEach(E=>{const I=function $(n){if(W[n])return W[n];let t;switch(n){case"G":case"GG":case"GGG":t=Qt(ht.Eras,J.Abbreviated);break;case"GGGG":t=Qt(ht.Eras,J.Wide);break;case"GGGGG":t=Qt(ht.Eras,J.Narrow);break;case"y":t=Ft(pt.FullYear,1,0,!1,!0);break;case"yy":t=Ft(pt.FullYear,2,0,!0,!0);break;case"yyy":t=Ft(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ft(pt.FullYear,4,0,!1,!0);break;case"Y":t=Jt(1);break;case"YY":t=Jt(2,!0);break;case"YYY":t=Jt(3);break;case"YYYY":t=Jt(4);break;case"M":case"L":t=Ft(pt.Month,1,1);break;case"MM":case"LL":t=Ft(pt.Month,2,1);break;case"MMM":t=Qt(ht.Months,J.Abbreviated);break;case"MMMM":t=Qt(ht.Months,J.Wide);break;case"MMMMM":t=Qt(ht.Months,J.Narrow);break;case"LLL":t=Qt(ht.Months,J.Abbreviated,X.Standalone);break;case"LLLL":t=Qt(ht.Months,J.Wide,X.Standalone);break;case"LLLLL":t=Qt(ht.Months,J.Narrow,X.Standalone);break;case"w":t=Tt(1);break;case"ww":t=Tt(2);break;case"W":t=Tt(1,!0);break;case"d":t=Ft(pt.Date,1);break;case"dd":t=Ft(pt.Date,2);break;case"c":case"cc":t=Ft(pt.Day,1);break;case"ccc":t=Qt(ht.Days,J.Abbreviated,X.Standalone);break;case"cccc":t=Qt(ht.Days,J.Wide,X.Standalone);break;case"ccccc":t=Qt(ht.Days,J.Narrow,X.Standalone);break;case"cccccc":t=Qt(ht.Days,J.Short,X.Standalone);break;case"E":case"EE":case"EEE":t=Qt(ht.Days,J.Abbreviated);break;case"EEEE":t=Qt(ht.Days,J.Wide);break;case"EEEEE":t=Qt(ht.Days,J.Narrow);break;case"EEEEEE":t=Qt(ht.Days,J.Short);break;case"a":case"aa":case"aaa":t=Qt(ht.DayPeriods,J.Abbreviated);break;case"aaaa":t=Qt(ht.DayPeriods,J.Wide);break;case"aaaaa":t=Qt(ht.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":t=Qt(ht.DayPeriods,J.Abbreviated,X.Standalone,!0);break;case"bbbb":t=Qt(ht.DayPeriods,J.Wide,X.Standalone,!0);break;case"bbbbb":t=Qt(ht.DayPeriods,J.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qt(ht.DayPeriods,J.Abbreviated,X.Format,!0);break;case"BBBB":t=Qt(ht.DayPeriods,J.Wide,X.Format,!0);break;case"BBBBB":t=Qt(ht.DayPeriods,J.Narrow,X.Format,!0);break;case"h":t=Ft(pt.Hours,1,-12);break;case"hh":t=Ft(pt.Hours,2,-12);break;case"H":t=Ft(pt.Hours,1);break;case"HH":t=Ft(pt.Hours,2);break;case"m":t=Ft(pt.Minutes,1);break;case"mm":t=Ft(pt.Minutes,2);break;case"s":t=Ft(pt.Seconds,1);break;case"ss":t=Ft(pt.Seconds,2);break;case"S":t=Ft(pt.FractionalSeconds,1);break;case"SS":t=Ft(pt.FractionalSeconds,2);break;case"SSS":t=Ft(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Bn(dn.Short);break;case"ZZZZZ":t=Bn(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bn(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bn(dn.Long);break;default:return null}return W[n]=t,t}(E);y+=I?I(r,e,p):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Fn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ui(n,t){const e=function Be(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(xn[e]=xn[e]||{},xn[e][t])return xn[e][t];let i="";switch(t){case"shortDate":i=pn(n,he.Short);break;case"mediumDate":i=pn(n,he.Medium);break;case"longDate":i=pn(n,he.Long);break;case"fullDate":i=pn(n,he.Full);break;case"shortTime":i=cn(n,he.Short);break;case"mediumTime":i=cn(n,he.Medium);break;case"longTime":i=cn(n,he.Long);break;case"fullTime":i=cn(n,he.Full);break;case"short":const r=ui(n,"shortTime"),s=ui(n,"shortDate");i=bi(qt(n,he.Short),[r,s]);break;case"medium":const u=ui(n,"mediumTime"),h=ui(n,"mediumDate");i=bi(qt(n,he.Medium),[u,h]);break;case"long":const p=ui(n,"longTime"),y=ui(n,"longDate");i=bi(qt(n,he.Long),[p,y]);break;case"full":const E=ui(n,"fullTime"),I=ui(n,"fullDate");i=bi(qt(n,he.Full),[E,I])}return i&&(xn[e][t]=i),i}function bi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function xt(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function Ft(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function Oi(n,t){switch(n){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===pt.Hours)0===h&&-12===e&&(h=12);else if(n===pt.FractionalSeconds)return function ki(n,t){return xt(n,3).substring(0,t)}(h,t);const p=At(u,ae.MinusSign);return xt(h,t,p,i,r)}}function Qt(n,t,e=X.Format,i=!1){return function(r,s){return function oi(n,t,e,i,r,s){switch(e){case ht.Months:return function Rt(n,t,e){const i=(0,l.cg1)(n),s=tt([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return tt(s,e)}(t,r,i)[n.getMonth()];case ht.Days:return function ln(n,t,e){const i=(0,l.cg1)(n),s=tt([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return tt(s,e)}(t,r,i)[n.getDay()];case ht.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const y=function si(n){const t=(0,l.cg1)(n);return ri(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Sn(i):[Sn(i[0]),Sn(i[1])])}(t),E=function xi(n,t,e){const i=(0,l.cg1)(n);ri(i);const s=tt([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return tt(s,e)||[]}(t,r,i),I=y.findIndex(O=>{if(Array.isArray(O)){const[P,H]=O,K=u>=P.hours&&h>=P.minutes,re=u<H.hours||u===H.hours&&h<H.minutes;if(P.hours<H.hours){if(K&&re)return!0}else if(K||re)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==I)return E[I]}return function _t(n,t,e){const i=(0,l.cg1)(n),s=tt([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return tt(s,e)}(t,r,i)[u<12?0:1];case ht.Eras:return function Ye(n,t){return tt((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Bn(n){return function(t,e,i){const r=-1*i,s=At(e,ae.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case dn.Short:return(r>=0?"+":"")+xt(u,2,s)+xt(Math.abs(r%60),2,s);case dn.ShortGMT:return"GMT"+(r>=0?"+":"")+xt(u,1,s);case dn.Long:return"GMT"+(r>=0?"+":"")+xt(u,2,s)+":"+xt(Math.abs(r%60),2,s);case dn.Extended:return 0===i?"Z":(r>=0?"+":"")+xt(u,2,s)+":"+xt(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function wt(n){return Fn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Tt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=wt(e),u=function rt(n){const t=Fn(n,0,1).getDay();return Fn(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return xt(r,n,At(i,ae.MinusSign))}}function Jt(n,t=!1){return function(e,i){return xt(wt(e).getFullYear(),n,At(i,ae.MinusSign),t)}}const W={};function R(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ce(n){return n instanceof Date&&!isNaN(n.valueOf())}let wn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class to{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new to(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Ps(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ps(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ps(n,t){n.context.$implicit=t.item}let Cn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new oc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Li("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Li("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class oc{constructor(){this.$implicit=null,this.ngIf=null}}function Li(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class ar{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Zr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),gs=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ar(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Zr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),no=(()=>{class n{constructor(e,i,r){r._addDefault(new ar(e,i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Zr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function Ur(n,t){return new l.vHH(2100,!1)}class tm{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class _s{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const gh=new _s,ul=new tm;let io=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return gh;if((0,l.F4k)(e))return ul;throw Ur()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ru=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let wa=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return mt(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Ur()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(Ru,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Wi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ys="browser";function Vi(n){return n===ys}function Ls(n){return"server"===n}let Nu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new yh((0,l.LFG)(ne),window)}),n})();class yh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function cr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ss(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ml extends class am extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){j||(j=n)}(new ml)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function My(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}();return null==e?null:function ho(n){di=di||document.createElement("a"),di.setAttribute("href",n);const t=di.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function or(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let di,Aa=null;const hi=new l.OlP("TRANSITION_ID"),xy=[{provide:l.ip1,useFactory:function lm(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[hi,ne,l.zs3],multi:!0}];let Oy=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dh=new l.OlP("EventManagerPlugins");let Uu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Dh),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let gc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ta=(()=>{class n extends gc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ih),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ih))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ih(n){N().remove(n)}const Sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cm=/%COMP%/g;function Hu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Hu(n,r,e):(r=r.replace(cm,n),e.push(r))}return e}function ju(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Mh=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new fo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new um(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new Py(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Hu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Uu),l.LFG(Ta),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Sh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(yc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(yc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Sh[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Sh[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ju(i)):this.eventManager.addEventListener(t,e,ju(i))}}function yc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class um extends fo{constructor(t,e,i,r){super(t),this.component=i;const s=Hu(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function _c(n){return"_ngcontent-%COMP%".replace(cm,n)}(r+"-"+i.id),this.hostAttr=function Th(n){return"_nghost-%COMP%".replace(cm,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Py extends fo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Hu(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ma=(()=>{class n extends mc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ny=["alt","control","meta","shift"],Po={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $u=(()=>{class n extends mc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Ny.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),u+=y+".")}),u+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=u,p}static matchEventFullKeyCode(e,i){let r=Po[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ny.forEach(u=>{u!==r&&(0,Oh[u])(e)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:ys},{provide:l.g9A,useValue:function Vy(){ml.makeCurrent()},multi:!0},{provide:ne,useFactory:function Rh(){return(0,l.RDi)(document),document},deps:[]}]),bc=new l.OlP(""),wc=[{provide:l.rWj,useClass:class ky{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Gu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function xa(){return new l.qLn},deps:[]},{provide:Dh,useClass:Ma,multi:!0,deps:[ne,l.R0b,l.Lbi]},{provide:Dh,useClass:$u,multi:!0,deps:[ne]},{provide:Mh,useClass:Mh,deps:[Uu,Ta,l.AFp]},{provide:l.FYo,useExisting:Mh},{provide:gc,useExisting:Ta},{provide:Ta,useClass:Ta,deps:[ne]},{provide:Uu,useClass:Uu,deps:[Dh,l.R0b]},{provide:class Da{},useClass:Oy,deps:[]},[]];let ka=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:hi,useExisting:l.AFp},xy]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bc,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Gu,...wc],imports:[Wi,l.hGG]}),n})(),Us=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Cc(){return new Us((0,l.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(jy),i},providedIn:"root"}),n})(),jy=(()=>{class n extends Lo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function kC(n){return new jy(n.get(ne))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var yl=F(9934),hn=F(2090),Hs=F(9681),Vo=F(1877),Zi=F(4859),ut=F(7579);class Ai extends ut.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var qe=F(4004),ws=F(4671),fi=F(4482),Yn=F(5403);function Cs(n,t=ws.y){return n=n??vl,(0,fi.e)((e,i)=>{let r,s=!0;e.subscribe((0,Yn.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function vl(n,t){return n===t}function nn(n,t){return(0,fi.e)((e,i)=>{let r=0;e.subscribe((0,Yn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Ra=F(3269),fn=F(8996);function Ke(...n){const t=(0,Ra.yG)(n);return(0,fn.D)(n,t)}var ei=F(9751),br=F(6451),bl=F(5363),js=F(8421);function un(n,t){return(0,fi.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Yn.x)(i,p=>{r?.unsubscribe();let y=0;const E=s++;(0,js.Xf)(n(p,E)).subscribe(r=(0,Yn.x)(i,I=>i.next(t?t(p,I,E,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var $y=F(6063);class Ph extends ut.x{constructor(t=1/0,e=1/0,i=$y.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}var ym=F(3099);function Sc(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,ym.B)({connector:()=>new Ph(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Fa=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var as=F(515);function gn(n){return n<=0?()=>as.E:(0,fi.e)((t,e)=>{let i=0;t.subscribe((0,Yn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function wl(n){return(0,fi.e)((t,e)=>{let i=!1;t.subscribe((0,Yn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Pa(n=Nh){return(0,fi.e)((t,e)=>{let i=!1;t.subscribe((0,Yn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Nh(){return new Fa}function Es(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,s)=>n(r,s,i)):ws.y,gn(1),e?wl(t):Pa(()=>new Fa))}var ls=F(576);function Qu(n,t){return(0,ls.m)(t)?un(()=>n,t):un(()=>n)}var Bo=F(9468),$t=F(880),Rr=F(2011),Gn=F(5867);class $s{constructor(t){return t}}class Lh{constructor(){return(0,Gn.C6)()}}const Vh=new l.OlP("angularfire2._apps"),zy={provide:$s,useFactory:function Na(n){return n&&1===n.length?n[0]:new $s((0,Gn.Mq)())},deps:[[new l.FiY,Vh]]},Bh={provide:Lh,deps:[[new l.FiY,Vh]]};function Uh(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new $s(i)}}let La=(()=>{class n{constructor(e){(0,Gn.KN)("angularfire",$t.q4.full,"core"),(0,Gn.KN)("angularfire",$t.q4.full,"app"),(0,Gn.KN)("angular",l.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zy,Bh]}),n})();function Xu(n,...t){return{ngModule:La,providers:[{provide:Vh,useFactory:Uh(n),multi:!0,deps:[l.R0b,l.zs3,$t.HU,...t]}]}}const Tc=(0,$t.u3)(Gn.ZF,!0);var Ee=F(5861);const Uo=new Map,Va={activated:!1,tokenObservers:[]},qy={initialized:!1,enabled:!1};function ur(n){return Uo.get(n)||Va}function Xr(n,t){Uo.set(n,t)}function El(){return qy}class Ky{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new hn.BH,yield function Dm(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new hn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const wr=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ed(n){if(!ur(n).activated)throw wr.create("use-before-activation",{appName:n.name})}function Dl(n,t){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,Ee.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const P=yield u.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const h={method:"POST",body:JSON.stringify(t),headers:s};let p,y;try{p=yield fetch(n,h)}catch(P){throw wr.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw wr.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(P){throw wr.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const I=1e3*Number(E[1]),O=Date.now();return{token:y.token,expireTimeMillis:O+I,issuedAtTimeMillis:O}})).apply(this,arguments)}function Xy(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Ua="firebase-app-check-store";let xc=null;function kc(){return xc||(xc=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(wr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ua,{keyPath:"compositeKey"})}}catch(i){t(wr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),xc)}function Oc(){return(Oc=(0,Ee.Z)(function*(n,t){const i=(yield kc()).transaction(Ua,"readwrite"),s=i.objectStore(Ua).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=p=>{u()},i.onerror=p=>{var y;h(wr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Rc=new Vo.Yd("@firebase/app-check");function Yh(n,t){return(0,hn.hl)()?function Gh(n,t){return function Sm(n,t){return Oc.apply(this,arguments)}(function Wh(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Rc.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Am(){return El().enabled}function iv(){return b.apply(this,arguments)}function b(){return(b=(0,Ee.Z)(function*(){const n=El();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _={error:"UNKNOWN_ERROR"};function C(n){return hn.US.encodeString(JSON.stringify(n),!1)}function T(n){return L.apply(this,arguments)}function L(){return(L=(0,Ee.Z)(function*(n,t=!1){const e=n.app;ed(e);const i=ur(e);let s,r=i.token;if(r&&!kn(r)&&(Xr(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(kn(p)?r=p:yield Yh(e,void 0))}if(!t&&r&&kn(r))return{token:r.token};let h,u=!1;if(Am()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Dl(Xy(e,yield iv()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const p=yield i.exchangeTokenPromise;return yield Yh(e,p),Xr(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Rc.warn(p.message):Rc.error(p),s=p}return r?s?h=kn(r)?{token:r.token,internalError:s}:Jr(s):(h={token:r.token},Xr(e,Object.assign(Object.assign({},i),{token:r})),yield Yh(e,r)):h=Jr(s),u&&on(e,h),h})).apply(this,arguments)}function Oe(n,t){const e=ur(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Xr(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function at(n){const{app:t}=n,e=ur(t);let i=e.tokenRefresher;i||(i=function kt(n){const{app:t}=n;return new Ky((0,Ee.Z)(function*(){let i;if(i=ur(t).token?yield T(n,!0):yield T(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ur(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Xr(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function on(n,t){const e=ur(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function kn(n){return n.expireTimeMillis-Date.now()>0}function Jr(n){return{token:C(_),error:n}}class ja{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ur(this.app);for(const e of t)Oe(this.app,e.next);return Promise.resolve()}}const ov="app-check-internal";!function KA(){(0,Hs._registerComponent)(new Zi.wA("app-check",n=>function Zh(n,t){return new ja(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ov).initialize()})),(0,Hs._registerComponent)(new Zi.wA(ov,n=>function Kh(n){return{getToken:t=>T(n,t),addTokenListener:t=>function se(n,t,e,i){const{app:r}=n,s=ur(r),u={next:e,error:i,type:t};if(Xr(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&kn(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),at(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>at(n))}(n,"INTERNAL",t),removeTokenListener:t=>Oe(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hs.registerVersion)("@firebase/app-check","0.5.14")}();class nd{constructor(){return(0,$t.vb)("app-check")}}typeof window<"u"&&window;var Fm=F(127);const dv=new l.OlP("angularfire2.auth.use-emulator"),Vc=new l.OlP("angularfire2.auth.settings"),$C=new l.OlP("angularfire2.auth.tenant-id"),zC=new l.OlP("angularfire2.auth.langugage-code"),GC=new l.OlP("angularfire2.auth.use-device-language"),WC=new l.OlP("angularfire.auth.persistence"),Pm=(n,t,e,i,r,s,u,h)=>(0,Rr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))p.settings[y]=E;return h&&p.setPersistence(h),p},[e,i,r,s,u,h]);let tf=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E,I,O,P){const H=new ut.x,K=Ke(void 0).pipe((0,bl.Q)(u.outsideAngular),un(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,qe.U)(()=>(0,Rr.on)(e,s,i)),(0,qe.U)(re=>Pm(re,s,h,y,E,I,p,O)),Sc({bufferSize:1,refCount:!1}));if(Ls(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{K.pipe(Es()).subscribe();const We=K.pipe(un(bt=>bt.getRedirectResult().then(Lt=>Lt,()=>null)),$t.iC,Sc({bufferSize:1,refCount:!1})),ot=K.pipe(un(bt=>new ei.y(Lt=>({unsubscribe:s.runOutsideAngular(()=>bt.onAuthStateChanged(Ut=>Lt.next(Ut),Ut=>Lt.error(Ut),()=>Lt.complete()))})))),Et=K.pipe(un(bt=>new ei.y(Lt=>({unsubscribe:s.runOutsideAngular(()=>bt.onIdTokenChanged(Ut=>Lt.next(Ut),Ut=>Lt.error(Ut),()=>Lt.complete()))}))));this.authState=We.pipe(Qu(ot),(0,Bo.R)(u.outsideAngular),(0,bl.Q)(u.insideAngular)),this.user=We.pipe(Qu(Et),(0,Bo.R)(u.outsideAngular),(0,bl.Q)(u.insideAngular)),this.idToken=this.user.pipe(un(bt=>bt?(0,fn.D)(bt.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(un(bt=>bt?(0,fn.D)(bt.getIdTokenResult()):Ke(null))),this.credential=(0,br.T)(We,H,this.authState.pipe(nn(bt=>!bt))).pipe((0,qe.U)(bt=>bt?.user?bt:null),(0,Bo.R)(u.outsideAngular),(0,bl.Q)(u.insideAngular))}return(0,Rr.pX)(this,K,s,{spy:{apply:(re,We,ot)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&ot.then(Et=>H.next(Et))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rr.Dh),l.LFG(Rr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($t.HU),l.LFG(dv,8),l.LFG(Vc,8),l.LFG($C,8),l.LFG(zC,8),l.LFG(GC,8),l.LFG(WC,8),l.LFG(nd,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hv=(()=>{class n{constructor(){Fm.Z.registerVersion("angularfire",$t.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tf]}),n})();const Cr_production=!0,Cr_appVersion="0.4.0",Cr_firebase={projectId:"office-buddy-trieste",appId:"1:1068194485548:web:6aa016842792c2728a0889",storageBucket:"office-buddy-trieste.appspot.com",apiKey:"AIzaSyAaOlWtCuWDd6ujq6fvRY7Nm_XqU-Uo93g",authDomain:"office-buddy-trieste.firebaseapp.com",messagingSenderId:"1068194485548",measurementId:"G-YLR034EBYB",databaseURL:"https://office-buddy-trieste-default-rtdb.europe-west1.firebasedatabase.app/"},Cr_firebaseApiUrls={badges:"badges",users:"users"},Cr_defaults={debounceTime:100},Cr_formatter={shortDate:"",longDate:"",badgeIsoDateTime:"yyyy-MM-ddTHH:mm",badgeHumanDateTime:"dd/MM/yyyy HH:mm"};var nf=F(4986),rf=F(8189);function rd(...n){return function sf(){return(0,rf.J)(1)}()((0,fn.D)(n,(0,Ra.yG)(n)))}function Ci(...n){const t=(0,Ra.yG)(n);return(0,fi.e)((e,i)=>{(t?rd(n,e,t):rd(n,e)).subscribe(i)})}function Sl(){return(0,fi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Yn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function nT(n,t,e,i,r){return(s,u)=>{let h=e,p=t,y=0;s.subscribe((0,Yn.x)(u,E=>{const I=y++;p=h?n(p,E,I):(h=!0,E),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function Nm(n,t){return(0,fi.e)(nT(n,t,arguments.length>=2,!0))}F(5881);var It,rT=F(3942),sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},za={},Lm=Lm||{},Zt=sT||self;function Vm(){}function Bm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Bc(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var qC="closure_uid_"+(1e9*Math.random()>>>0),fv=0;function cR(n,t,e){return n.call.apply(n.bind,arguments)}function uR(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function es(n,t,e){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cR:uR).apply(null,arguments)}function pv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Hr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Al(){this.s=this.s,this.o=this.o}var mv={};Al.prototype.s=!1,Al.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lR(n){return Object.prototype.hasOwnProperty.call(n,qC)&&n[qC]||(n[qC]=++fv)}(this);delete mv[n]}},Al.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gv=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Um(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function _v(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Bm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Er(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var oT=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",Vm,t),Zt.removeEventListener("test",Vm,t)}catch{}return n}();function sd(n){return/^[\s\xa0]*$/.test(n)}var od=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yv(n,t){return n<t?-1:n>t?1:0}function Hm(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function jo(n){return-1!=Hm().indexOf(n)}function jm(n){return jm[" "](n),n}jm[" "]=Vm;var lf,n,lT=jo("Opera"),ad=jo("Trident")||jo("MSIE"),ZC=jo("Edge"),af=ZC||ad,KC=jo("Gecko")&&!(-1!=Hm().toLowerCase().indexOf("webkit")&&!jo("Edge"))&&!(jo("Trident")||jo("MSIE"))&&!jo("Edge"),cT=-1!=Hm().toLowerCase().indexOf("webkit")&&!jo("Edge");function QC(){var n=Zt.document;return n?n.documentMode:void 0}e:{var vv="",bv=(n=Hm(),KC?/rv:([^\);]+)(\)|;)/.exec(n):ZC?/Edge\/([\d\.]+)/.exec(n):ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cT?/WebKit\/(\S+)/.exec(n):lT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(bv&&(vv=bv?bv[1]:""),ad){var Fr=QC();if(null!=Fr&&Fr>parseFloat(vv)){lf=String(Fr);break e}}lf=vv}var wv={};var uf=Zt.document&&ad&&(QC()||parseInt(lf,10))||void 0;function ld(n,t){if(Er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(KC){e:{try{jm(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ld.X.h.call(this)}}Hr(ld,Er);var uT={2:"touch",3:"pen",4:"mouse"};ld.prototype.h=function(){ld.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),JC=0;function dT(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++JC,this.ba=this.ea=!1}function hf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Cv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ev(n){const t={};for(const e in n)t[e]=n[e];return t}const eE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tE(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<eE.length;s++)e=eE[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $m(n){this.src=n,this.g={},this.h=0}function Dv(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=gv(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(hf(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Iv(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}$m.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Iv(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new dT(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var Tl="closure_lm_"+(1e6*Math.random()|0),mo={};function nE(n,t,e,i,r){if(i&&i.once)return hT(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nE(n,t[s],e,i,r);return null}return e=zm(e),n&&n[df]?n.N(t,e,Bc(i)?!!i.capture:!!i,r):iE(n,t,e,!1,i,r)}function iE(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=Bc(r)?!!r.capture:!!r,h=ff(n);if(h||(n[Tl]=h=new $m(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function dR(){const t=Av;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)oT||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(go(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function hT(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)hT(n,t[s],e,i,r);return null}return e=zm(e),n&&n[df]?n.O(t,e,Bc(i)?!!i.capture:!!i,r):iE(n,t,e,!0,i,r)}function Sv(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Sv(n,t[s],e,i,r);else i=Bc(i)?!!i.capture:!!i,e=zm(e),n&&n[df]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Iv(s=n.g[t],e,i,r))&&(hf(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=ff(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Iv(t,e,i,r)),(e=-1<n?t[n]:null)&&rE(e))}function rE(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[df])Dv(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(go(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ff(t))?(Dv(e,n),0==e.h&&(e.src=null,t[Tl]=null)):hf(n)}}}function go(n){return n in mo?mo[n]:mo[n]="on"+n}function Av(n,t){if(n.ba)n=!0;else{t=new ld(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&rE(n),n=e.call(i,t)}return n}function ff(n){return(n=n[Tl])instanceof $m?n:null}var Tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(n){return"function"==typeof n?n:(n[Tv]||(n[Tv]=function(t){return n.handleEvent(t)}),n[Tv])}function Dr(){Al.call(this),this.i=new $m(this),this.P=this,this.I=null}function Ui(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Er(t,n);else if(t instanceof Er)t.target=t.target||n;else{var r=t;tE(t=new Er(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=Gm(u,i,!0,t)&&r}if(r=Gm(u=t.g=n,i,!0,t)&&r,r=Gm(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Gm(u=t.g=e[s],i,!1,t)&&r}function Gm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ba&&u.capture==e){var h=u.listener,p=u.ha||u.src;u.ea&&Dv(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Hr(Dr,Al),Dr.prototype[df]=!0,Dr.prototype.removeEventListener=function(n,t,e,i){Sv(this,n,t,e,i)},Dr.prototype.M=function(){if(Dr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)hf(e[i]);delete n.g[t],n.h--}}this.I=null},Dr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Dr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Mv=Zt.JSON.stringify;function xv(){var n=sE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var qm,Ov=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hR,n=>n.reset());class hR{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function cd(n){Zt.setTimeout(()=>{throw n},0)}function Wm(n,t){qm||function fT(){var n=Zt.Promise.resolve(void 0);qm=function(){n.then(pT)}}(),pf||(qm(),pf=!0),sE.add(n,t)}var pf=!1,sE=new class kv{constructor(){this.h=this.g=null}add(t,e){const i=Ov.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function pT(){for(var n;n=xv();){try{n.h.call(n.g)}catch(e){cd(e)}var t=Ov;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}pf=!1}function Ym(n,t){Dr.call(this),this.h=n||1,this.g=t||Zt,this.j=es(this.lb,this),this.l=Date.now()}function Rv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Fv(n,t,e){if("function"==typeof n)e&&(n=es(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=es(n.handleEvent,n)}return 2147483647<Number(t)?-1:Zt.setTimeout(n,t||0)}function oE(n){n.g=Fv(()=>{n.g=null,n.i&&(n.i=!1,oE(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Hr(Ym,Dr),(It=Ym.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ui(this,"tick"),this.ca&&(Rv(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){Ym.X.M.call(this),Rv(this),delete this.g};class aE extends Al{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:oE(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(n){Al.call(this),this.h=n,this.g={}}Hr(Uc,Al);var Pv=[];function Zm(n,t,e,i){Array.isArray(e)||(e&&(Pv[0]=e.toString()),e=Pv);for(var r=0;r<e.length;r++){var s=nE(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function lE(n){Cv(n.g,function(t,e){this.g.hasOwnProperty(e)&&rE(t)},n),n.g={}}function Km(){this.g=!0}function Gs(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function hE(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return Mv(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Uc.prototype.M=function(){Uc.X.M.call(this),lE(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Km.prototype.Aa=function(){this.g=!1},Km.prototype.info=function(){};var Hc={},mT=null;function jc(){return mT=mT||new Dr}function fE(n){Er.call(this,Hc.Pa,n)}function ud(n){const t=jc();Ui(t,new fE(t,n))}function Nv(n,t){Er.call(this,Hc.STAT_EVENT,n),this.stat=t}function jr(n){const t=jc();Ui(t,new Nv(t,n))}function Qm(n,t){Er.call(this,Hc.Qa,n),this.size=t}function dd(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},t)}Hc.Pa="serverreachability",Hr(fE,Er),Hc.STAT_EVENT="statevent",Hr(Nv,Er),Hc.Qa="timingevent",Hr(Qm,Er);var $c={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mf={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xm(){}function Lv(){}Xm.prototype.h=null;var eg,zc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Gc(){Er.call(this,"d")}function Vv(){Er.call(this,"c")}function tg(){}function gf(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Uc(this),this.O=Uv,this.T=new Ym(n=af?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bv}function Bv(){this.i=null,this.g="",this.h=!1}Hr(Gc,Er),Hr(Vv,Er),Hr(tg,Xm),tg.prototype.g=function(){return new XMLHttpRequest},tg.prototype.i=function(){return{}},eg=new tg;var Uv=45e3,ng={},Hv={};function ig(n,t,e){n.K=1,n.v=wf($o(t)),n.s=e,n.P=!0,pE(n,null)}function pE(n,t){n.F=Date.now(),ts(n),n.A=$o(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),bT(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Bv,n.g=RE(n.l,e?t:null,!n.s),0<n.N&&(n.L=new aE(es(n.La,n,n.g),n.N)),Zm(n.S,n.g,"readystatechange",n.ib),t=n.H?Ev(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),ud(1),function cE(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");u=2<=I.length&&"type"==I[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function jv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function mE(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=gT(n,e),r==Hv){4==t&&(n.o=4,jr(14),i=!1),Gs(n.j,n.m,null,"[Incomplete Response]");break}if(r==ng){n.o=4,jr(15),Gs(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Gs(n.j,n.m,r,null),$v(n,r)}jv(n)&&r!=Hv&&r!=ng&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,jr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Xv(t),t.K=!0,jr(11))):(Gs(n.j,n.m,e,"[Invalid Chunked Response]"),Wc(n),yf(n))}function gT(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Hv:(e=Number(t.substring(e,i)),isNaN(e)?ng:(i+=1)+e>t.length?Hv:(t=t.substr(i,e),n.C=i+e,t))}function ts(n){n.V=Date.now()+n.O,gE(n,n.O)}function gE(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=dd(es(n.gb,n),t)}function _f(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function yf(n){0==n.l.G||n.I||AT(n.l,n)}function Wc(n){_f(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Rv(n.T),lE(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function $v(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Gv(e.h,n)))if(!n.J&&Gv(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;kf(e),Zv(e)}Qv(e),jr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=dd(es(e.cb,e),6e3));if(1>=Yc(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else md(e,11)}else if((n.J||e.g==n)&&kf(e),!sd(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const E=y[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const I=y[4];null!=I&&(e.Ca=I,e.j.info("SVER="+e.Ca));const O=y[5];null!=O&&"number"==typeof O&&0<O&&(e.J=i=1.5*O,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const H=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var s=i.h;s.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sg(s,s.h),s.h=null))}if(i.D){const K=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,Ei(i.F,i.D,K))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=eb(i,i.H?i.ka:null,i.V),u.J){If(i.h,u);var h=u,p=i.J;p&&h.setTimeout(p),h.B&&(_f(h),ts(h)),i.g=u}else xE(i);0<e.i.length&&Qc(e)}else"stop"!=y[0]&&"close"!=y[0]||md(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?md(e,7):ug(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}ud(4)}catch{}}function yE(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Bm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function _E(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Bm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function _T(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Bm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(It=gf.prototype).setTimeout=function(n){this.O=n},It.ib=function(n){n=n.target;const t=this.L;t&&3==_o(n)?t.l():this.La(n)},It.La=function(n){try{if(n==this.g)e:{const E=_o(this.g);var t=this.g.Ea();const I=this.g.aa();if(!(3>E)&&(3!=E||af||this.g&&(this.h.h||this.g.fa()||Go(this.g)))){this.I||4!=E||7==t||ud(8==t||0>=I?3:2),_f(this);var e=this.g.aa();this.Y=e;t:if(jv(this)){var i=Go(this.g);n="";var r=i.length,s=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wc(this),yf(this);var u="";break t}this.h.i=new Zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function uE(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sd(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,jr(12),Wc(this),yf(this);break e}Gs(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$v(this,e)}this.P?(mE(this,E,u),af&&this.i&&3==E&&(Zm(this.S,this.T,"tick",this.hb),this.T.start())):(Gs(this.j,this.m,u,null),$v(this,u)),4==E&&Wc(this),this.i&&!this.I&&(4==E?AT(this.l,this):(this.i=!1,ts(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),Wc(this),yf(this)}}}catch{}},It.hb=function(){if(this.g){var n=_o(this.g),t=this.g.fa();this.C<t.length&&(_f(this),mE(this,n,t),this.i&&4!=n&&ts(this))}},It.cancel=function(){this.I=!0,Wc(this)},It.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function dE(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ud(3),jr(17)),Wc(this),this.o=2,yf(this)):gE(this,this.V-n)};var vE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zt(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zt){this.h=void 0!==t?t:n.h,vf(this,n.j),this.s=n.s,this.g=n.g,bf(this,n.m),this.l=n.l,t=n.i;var e=new Ef;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bE(this,e),this.o=n.o}else n&&(e=String(n).match(vE))?(this.h=!!t,vf(this,e[1]||"",!0),this.s=Cf(e[2]||""),this.g=Cf(e[3]||"",!0),bf(this,e[4]),this.l=Cf(e[5]||"",!0),bE(this,e[6]||"",!0),this.o=Cf(e[7]||"")):(this.h=!!t,this.i=new Ef(null,this.h))}function $o(n){return new zt(n)}function vf(n,t,e){n.j=e?Cf(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function bf(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function bE(n,t,e){t instanceof Ef?(n.i=t,function pR(n,t){t&&!n.j&&(zo(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(rg(this,i),bT(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=hd(t,EE)),n.i=new Ef(t,n.h))}function Ei(n,t,e){n.i.set(t,e)}function wf(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cf(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hd(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,vT),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zt.prototype.toString=function(){var n=[],t=this.j;t&&n.push(hd(t,wE,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(hd(t,wE,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(hd(e,"/"==e.charAt(0)?CE:fR,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",hd(e,qc)),n.join("")};var wE=/[#\/\?@]/g,fR=/[#\?:]/g,CE=/[#\?]/g,EE=/[#\?@]/g,qc=/#/g;function Ef(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function zo(n){n.g||(n.g=new Map,n.h=0,n.i&&function yT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function rg(n,t){zo(n),t=Df(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function DE(n,t){return zo(n),t=Df(n,t),n.g.has(t)}function bT(n,t,e){rg(n,t),0<e.length&&(n.i=null,n.g.set(Df(n,t),Um(e)),n.h+=e.length)}function Df(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function zv(n){this.l=n||mR,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ga&&Zt.g.Ga()&&Zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Ef.prototype).add=function(n,t){zo(this),this.i=null,n=Df(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},It.forEach=function(n,t){zo(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},It.oa=function(){zo(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},It.W=function(n){zo(this);let t=[];if("string"==typeof n)DE(this,n)&&(t=t.concat(this.g.get(Df(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},It.set=function(n,t){return zo(this),this.i=null,DE(this,n=Df(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},It.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var mR=10;function IE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Yc(n){return n.h?1:n.g?n.g.size:0}function Gv(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function sg(n,t){n.g?n.g.add(t):n.h=t}function If(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function SE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Um(n.i)}function og(){}function CT(){this.g=new og}function ET(n,t,e){const i=e||"";try{yE(n,function(r,s){let u=r;Bc(r)&&(u=Mv(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ag(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Sf(n){this.l=n.ac||null,this.j=n.jb||!1}function Af(n,t){Dr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zv.prototype.cancel=function(){if(this.i=SE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},og.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},og.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},Hr(Sf,Xm),Sf.prototype.g=function(){return new Af(this.l,this.j)},Sf.prototype.i=function(n){return function(){return n}}({}),Hr(Af,Dr);var Wv=0;function qv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zc(n)}function Zc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Af.prototype).open=function(n,t){if(this.readyState!=Wv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Zc(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Zt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fd(this)),this.readyState=Wv},It.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?fd(this):Zc(this),3==this.readyState&&qv(this)}},It.Va=function(n){this.g&&(this.response=this.responseText=n,fd(this))},It.Ua=function(n){this.g&&(this.response=n,fd(this))},It.ga=function(){this.g&&fd(this)},It.setRequestHeader=function(n,t){this.v.append(n,t)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gR=Zt.JSON.parse;function Di(n){Dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=AE,this.K=this.L=!1}Hr(Di,Dr);var AE="",_R=/^https?$/i,pd=["POST","PUT"];function Yv(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Tf(n),Mf(n)}function Tf(n){n.D||(n.D=!0,Ui(n,"complete"),Ui(n,"error"))}function Ws(n){if(n.h&&typeof Lm<"u"&&(!n.C[1]||4!=_o(n)||2!=n.aa()))if(n.v&&4==_o(n))Fv(n.Ha,0,n);else if(Ui(n,"readystatechange"),4==_o(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(vE)[1]||null;if(!r&&Zt.self&&Zt.self.location){var s=Zt.self.location.protocol;r=s.substr(0,s.length-1)}i=!_R.test(r?r.toLowerCase():"")}e=i}if(e)Ui(n,"complete"),Ui(n,"success");else{n.m=6;try{var u=2<_o(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Tf(n)}}finally{Mf(n)}}}function Mf(n,t){if(n.g){ME(n);const e=n.g,i=n.C[0]?Vm:null;n.g=null,n.C=null,t||Ui(n,"ready");try{e.onreadystatechange=i}catch{}}}function ME(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function _o(n){return n.g?n.g.readyState:0}function Go(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case AE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lg(n){let t="";return Cv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function cg(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=lg(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ei(n,t,e))}function Kc(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function IT(n){this.Ca=0,this.i=[],this.j=new Km,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Kc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Kc("baseRetryDelayMs",5e3,n),this.bb=Kc("retryDelaySeedMs",1e4,n),this.$a=Kc("forwardChannelMaxRetries",2,n),this.ta=Kc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new zv(n&&n.concurrentRequestLimit),this.Fa=new CT,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ug(n){if(xf(n),3==n.G){var t=n.U++,e=$o(n.F);Ei(e,"SID",n.I),Ei(e,"RID",t),Ei(e,"TYPE","terminate"),Xc(n,e),(t=new gf(n,n.j,t,void 0)).K=2,t.v=wf($o(e)),e=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(e=Zt.navigator.sendBeacon(t.v.toString(),"")),!e&&Zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=RE(t.l,null),t.g.da(t.v)),t.F=Date.now(),ts(t)}Jv(n)}function Zv(n){n.g&&(Xv(n),n.g.cancel(),n.g=null)}function xf(n){Zv(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),kf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function Qc(n){IE(n.h)||n.m||(n.m=!0,Wm(n.Ja,n),n.C=0)}function dg(n,t){var e;e=t?t.m:n.U++;const i=$o(n.F);Ei(i,"SID",n.I),Ei(i,"RID",e),Ei(i,"AID",n.T),Xc(n,i),n.o&&n.s&&cg(i,n.o,n.s),e=new gf(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=ST(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),sg(n.h,e),ig(e,i,t)}function Xc(n,t){n.ia&&Cv(n.ia,function(e,i){Ei(t,i,e)}),n.l&&yE({},function(e,i){Ei(t,i,e)})}function ST(n,t,e){e=Math.min(n.i.length,e);var i=n.l?es(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<e;p++){let y=r[p].h;const E=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),h=!1;else try{ET(E,u,"req"+y+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function xE(n){n.g||n.u||(n.Z=1,Wm(n.Ia,n),n.A=0)}function Qv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=dd(es(n.Ia,n),OE(n,n.A)),n.A++,0))}function Xv(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function kE(n){n.g=new gf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=$o(n.sa);Ei(t,"RID","rpc"),Ei(t,"SID",n.I),Ei(t,"CI",n.L?"0":"1"),Ei(t,"AID",n.T),Ei(t,"TYPE","xmlhttp"),Xc(n,t),n.o&&n.s&&cg(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=wf($o(t)),e.s=null,e.P=!0,pE(e,n)}function kf(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function AT(n,t){var e=null;if(n.g==t){kf(n),Xv(n),n.g=null;var i=2}else{if(!Gv(n.h,t))return;e=t.D,If(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Ui(i=jc(),new Qm(i,e,t,r)),Qc(n)}else xE(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Kv(n,t){return!(Yc(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=dd(es(n.Ja,n,t),OE(n,n.C)),n.C++,0)))}(n,t)||2==i&&Qv(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:md(n,5);break;case 4:md(n,10);break;case 3:md(n,6);break;default:md(n,2)}}function OE(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function md(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=es(n.kb,n);e||(e=new zt("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||vf(e,"https"),wf(e)),function DT(n,t){const e=new Km;if(Zt.Image){const i=new Image;i.onload=pv(ag,e,i,"TestLoadImage: loaded",!0,t),i.onerror=pv(ag,e,i,"TestLoadImage: error",!1,t),i.onabort=pv(ag,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=pv(ag,e,i,"TestLoadImage: timeout",!1,t),Zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else jr(2);n.G=0,n.l&&n.l.va(t),Jv(n),xf(n)}function Jv(n){if(n.G=0,n.la=[],n.l){const t=SE(n.h);(0!=t.length||0!=n.i.length)&&(_v(n.la,t),_v(n.la,n.i),n.h.i.length=0,Um(n.i),n.i.length=0),n.l.ua()}}function eb(n,t,e){var i=e instanceof zt?$o(e):new zt(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),bf(i,i.m);else{var r=Zt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new zt(null,void 0);i&&vf(s,i),t&&(s.g=t),r&&bf(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&Ei(i,e,t),Ei(i,"VER",n.ma),Xc(n,i),i}function RE(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Di(e&&n.Da&&!n.ra?new Sf({jb:!0}):n.ra)).Ka(n.H),t}function hg(){}function tb(){if(ad&&!(10<=Number(uf)))throw Error("Environmental error: no available transport.")}function qs(n,t){Dr.call(this),this.g=new IT(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!sd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sd(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Of(this)}function TT(n){Gc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MT(){Vv.call(this),this.status=1}function Of(n){this.g=n}(It=Di.prototype).Ka=function(n){this.L=n},It.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eg.g(),this.C=function Jm(n){return n.h||(n.h=n.i())}(this.u?this.u:eg),this.g.onreadystatechange=es(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Yv(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Zt.FormData&&n instanceof Zt.FormData,!(0<=gv(pd,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ME(this),0<this.B&&((this.K=function TE(n){return ad&&function XC(){return function aT(n){var t=wv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=od(String(lf)).split("."),e=od("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=yv(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||yv(0==r[2].length,0==s[2].length)||yv(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=es(this.qa,this)):this.A=Fv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Yv(this,s)}},It.qa=function(){typeof Lm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ui(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ui(this,"complete"),Ui(this,"abort"),Mf(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mf(this,!0)),Di.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?Ws(this):this.fb())},It.fb=function(){Ws(this)},It.aa=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),gR(t)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=IT.prototype).ma=8,It.G=1,It.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new gf(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=Ev(s),tE(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=ST(this,r,t),Ei(e=$o(this.F),"RID",n),Ei(e,"CVER",22),this.D&&Ei(e,"X-HTTP-Session-Id",this.D),Xc(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(lg(s)))+"&"+t:this.o&&cg(e,this.o,s)),sg(this.h,r),this.Ya&&Ei(e,"TYPE","init"),this.O?(Ei(e,"$req",t),Ei(e,"SID","null"),r.Z=!0,ig(r,e,null)):ig(r,e,t),this.G=2}}else 3==this.G&&(n?dg(this,n):0==this.i.length||IE(this.h)||dg(this))},It.Ia=function(){if(this.u=null,kE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=dd(es(this.eb,this),n)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jr(10),Zv(this),kE(this))},It.cb=function(){null!=this.v&&(this.v=null,Zv(this),Qv(this),jr(19))},It.kb=function(n){n?(this.j.info("Successfully pinged google.com"),jr(2)):(this.j.info("Failed to ping google.com"),jr(1))},(It=hg.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},tb.prototype.g=function(n,t){return new qs(n,t)},Hr(qs,Dr),qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;jr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=eb(n,null,n.V),Qc(n)},qs.prototype.close=function(){ug(this.g)},qs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Mv(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Qc(t)},qs.prototype.M=function(){this.g.l=null,delete this.j,ug(this.g),delete this.g,qs.X.M.call(this)},Hr(TT,Gc),Hr(MT,Vv),Hr(Of,hg),Of.prototype.xa=function(){Ui(this.g,"a")},Of.prototype.wa=function(n){Ui(this.g,new TT(n))},Of.prototype.va=function(n){Ui(this.g,new MT(n))},Of.prototype.ua=function(){Ui(this.g,"b")},tb.prototype.createWebChannel=tb.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,mf.COMPLETE="complete",Lv.EventType=zc,zc.OPEN="a",zc.CLOSE="b",zc.ERROR="c",zc.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.Oa,Di.prototype.getLastErrorCode=Di.prototype.Ea,Di.prototype.getStatus=Di.prototype.aa,Di.prototype.getResponseJson=Di.prototype.Sa,Di.prototype.getResponseText=Di.prototype.fa,Di.prototype.send=Di.prototype.da,Di.prototype.setWithCredentials=Di.prototype.Ka;var yR=za.createWebChannelTransport=function(){return new tb},vR=za.getStatEventTarget=function(){return jc()},FE=za.ErrorCode=$c,bR=za.EventType=mf,wR=za.Event=Hc,Ga=za.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nb=za.FetchXmlHttpFactory=Sf,fg=za.WebChannel=Lv,PE=za.XhrIo=Di;const pg="@firebase/firestore";class dr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let Ml="9.12.0";const xl=new Vo.Yd("@firebase/firestore");function Wo(){return xl.logLevel}function Ge(n,...t){if(xl.logLevel<=Vo.in.DEBUG){const e=t.map(ib);xl.debug(`Firestore (${Ml}): ${n}`,...e)}}function Hi(n,...t){if(xl.logLevel<=Vo.in.ERROR){const e=t.map(ib);xl.error(`Firestore (${Ml}): ${n}`,...e)}}function kl(n,...t){if(xl.logLevel<=Vo.in.WARN){const e=t.map(ib);xl.warn(`Firestore (${Ml}): ${n}`,...e)}}function ib(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+n;throw Hi(t),new Error(t)}function Nt(n,t){n||yt()}function st(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends hn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class rb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(dr.UNAUTHENTICATED))}shutdown(){}}class sb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ob{constructor(t){this.t=t,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ri,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,Ee.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ri)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Nt("string"==typeof i.accessToken),new rb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Nt(null===t||"string"==typeof t),new dr(t)}}class VE{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Nt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ab{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new VE(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Nt("string"==typeof e.token),this.A=e.token,new BE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UE(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class HE{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=UE(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Xt(n,t){return n<t?-1:n>t?1:0}function Jc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function jE(n){return n+"\0"}class En{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return En.fromMillis(Date.now())}static fromDate(t){return En.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new En(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new En(0,0))}static max(){return new Bt(new En(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rf{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Rf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Rf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class On extends Rf{construct(t,e,i){return new On(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new On(e)}static emptyPath(){return new On([])}}const xT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Rf{construct(t,e,i){return new Ii(t,e,i)}static isValidIdentifier(t){return xT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ve(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ve(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Ve(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ii(e)}static emptyPath(){return new Ii([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(On.fromString(t))}static fromName(t){return new nt(On.fromString(t).popFirst(5))}static empty(){return new nt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===On.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return On.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new On(t.slice()))}}class mg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function lb(n){return n.fields.find(t=>2===t.kind)}function eu(n){return n.fields.filter(t=>2!==t.kind)}mg.UNKNOWN_ID=-1;class gg{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ff{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ff(0,cs.min())}}function GE(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Bt.fromTimestamp(1e9===i?new En(e+1,0):new En(e,i));return new cs(r,nt.empty(),t)}function cb(n){return new cs(n.readTime,n.key,-1)}class cs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new cs(Bt.min(),nt.empty(),-1)}static max(){return new cs(Bt.max(),nt.empty(),-1)}}function ub(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:Xt(n.largestBatchId,t.largestBatchId))}const yo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _g{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ol(n){return db.apply(this,arguments)}function db(){return db=(0,Ee.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==yo)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),db.apply(this,arguments)}class de{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new de((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof de?e:de.resolve(e)}catch(e){return de.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):de.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):de.reject(e)}static resolve(t){return new de((e,i)=>{e(t)})}static reject(t){return new de((e,i)=>{i(t)})}static waitFor(t){return new de((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},p=>i(p))}),u=!0,s===r&&e()})}static or(t){let e=de.resolve(!1);for(const i of t)e=e.next(r=>r?de.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new de((i,r)=>{const s=t.length,u=new Array(s);let h=0;for(let p=0;p<s;p++){const y=p;e(t[y]).next(E=>{u[y]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(t,e){return new de((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class Pf{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ri,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Nf(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Vf(i.target.error);this.P.reject(new Nf(t,r))}}static open(t,e,i,r){try{return new Pf(e,t.transaction(r,i))}catch(s){throw new Nf(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new OT(e)}}class vo{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===vo.D((0,hn.z$)())&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),tu(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,hn.hl)())return!1;if(vo.N())return!0;const t=(0,hn.z$)(),e=vo.D(t),i=0<e&&e<10,r=vo.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Ee.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Nf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ve(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ve(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Nf(t,h))},s.onupgradeneeded=u=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ee.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.F(t);const p=Pf.open(s.db,t,u?"readonly":"readwrite",i),y=r(p).next(E=>(p.V(),E)).catch(E=>(p.abort(E),de.reject(E))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,E="FirebaseError"!==y.name&&h<3;if(Ge("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),s.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kT{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return tu(this.U.delete())}}class Nf extends Ve{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function qo(n){return"IndexedDbTransactionError"===n.name}class OT{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),tu(i)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),tu(this.store.add(t))}get(t){return tu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),tu(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),tu(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new de((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new de((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new de((i,r)=>{e.onerror=s=>{const u=Vf(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new de((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new kT(h),y=e(h.primaryKey,h.value,p);if(y instanceof de){const E=y.catch(I=>(p.done(),de.reject(I)));i.push(E)}p.isDone?r():null===p.G?h.continue():h.continue(p.G)}}).next(()=>de.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function tu(n){return new de((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Vf(i.target.error);e(r)}})}let Lf=!1;function Vf(n){const t=vo.D((0,hn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lf||(Lf=!0,setTimeout(()=>{throw i},0)),i}}return n}class yg{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ee.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){qo(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ol(i)}yield e.nt(6e4)}))}}class DR{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Ee.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return de.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Ge("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,s)).next(h=>(Ge("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=cb(s);ub(u,i)>0&&(i=u)}),new cs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class $r{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function RT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Rl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function hb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}$r.at=-1;class Ti{constructor(t,e){this.comparator=t,this.root=e||hr.EMPTY}insert(t,e){return new Ti(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(t){return new Ti(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bf(this.root,t,this.comparator,!0)}}class Bf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??hr.RED,this.left=r??hr.EMPTY,this.right=s??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new hr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return hr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1,hr.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new hr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(t){this.comparator=t,this.data=new Ti(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(t){return new Uf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Dn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Dn(this.comparator);return e.data=t,e}}class Uf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wa(n){return n.hasNext()?n.getNext():void 0}class Nr{constructor(t){this.fields=t,t.sort(Ii.comparator)}static empty(){return new Nr([])}unionWith(t){let e=new Dn(Ii.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Nr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ji{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ji(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new ji(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const WE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(n){if(Nt(!!n),"string"==typeof n){let t=0;const e=WE.exec(n);if(Nt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fi(n.seconds),nanos:Fi(n.nanos)}}function Fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bo(n){return"string"==typeof n?ji.fromBase64String(n):ji.fromUint8Array(n)}function fb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function PT(n){const t=n.mapValue.fields.__previous_value__;return fb(t)?PT(t):t}function Hf(n){const t=Fl(n.mapValue.fields.__local_write_time__.timestampValue);return new En(t.seconds,t.nanos)}class IR{constructor(t,e,i,r,s,u,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Pl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function jf(n){return null==n}function $f(n){return 0===n&&1/n==-1/0}function pb(n){return"number"==typeof n&&Number.isInteger(n)&&!$f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vg={nullValue:"NULL_VALUE"};function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fb(n)?4:ZE(n)?9007199254740991:10:yt()}function Zo(n,t){if(n===t)return!0;const e=qa(n);if(e!==qa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hf(n).isEqual(Hf(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Fl(i.timestampValue),u=Fl(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,bo(n.bytesValue).isEqual(bo(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Fi(i.geoPointValue.latitude)===Fi(r.geoPointValue.latitude)&&Fi(i.geoPointValue.longitude)===Fi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Fi(i.integerValue)===Fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Fi(i.doubleValue),u=Fi(r.doubleValue);return s===u?$f(s)===$f(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return Jc(n.arrayValue.values||[],t.arrayValue.values||[],Zo);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(RT(s)!==RT(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Zo(s[h],u[h])))return!1;return!0}(n,t);default:return yt()}var r}function zf(n,t){return void 0!==(n.values||[]).find(e=>Zo(e,t))}function Nl(n,t){if(n===t)return 0;const e=qa(n),i=qa(t);if(e!==i)return Xt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=Fi(r.integerValue||r.doubleValue),h=Fi(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return qE(n.timestampValue,t.timestampValue);case 4:return qE(Hf(n),Hf(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return function(r,s){const u=bo(r),h=bo(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=Xt(u[p],h[p]);if(0!==y)return y}return Xt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Xt(Fi(r.latitude),Fi(s.latitude));return 0!==u?u:Xt(Fi(r.longitude),Fi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=Nl(u[p],h[p]);if(y)return y}return Xt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Yo.mapValue&&s===Yo.mapValue)return 0;if(r===Yo.mapValue)return 1;if(s===Yo.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=Xt(h[E],y[E]);if(0!==I)return I;const O=Nl(u[h[E]],p[y[E]]);if(0!==O)return O}return Xt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw yt()}}function qE(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Xt(n,t);const e=Fl(n),i=Fl(t),r=Xt(e.seconds,i.seconds);return 0!==r?r:Xt(e.nanos,i.nanos)}function _d(n){return mb(n)}function mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Fl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bo(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=mb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${mb(i.fields[h])}`;return s+"}"}(n.mapValue):yt();var t}function Ko(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ya(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function yd(n){return!!n&&"nullValue"in n}function YE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wg(n){return!!n&&"mapValue"in n}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Rl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=nu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qo(n){return"nullValue"in n?vg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ko(Pl.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function Gf(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ko(Pl.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yo:yt()}function Lr(n,t){const e=Nl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Ll(n,t){const e=Nl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ki{constructor(t){this.value=t}static empty(){return new Ki({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!wg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=Ii.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=nu(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());wg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Rl(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ki(nu(this.value))}}function Ds(n){const t=[];return Rl(n.fields,(e,i)=>{const r=new Ii([e]);if(wg(i)){const s=Ds(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new Nr(t)}class Jn{constructor(t,e,i,r,s,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(t){return new Jn(t,0,Bt.min(),Bt.min(),Ki.empty(),0)}static newFoundDocument(t,e,i){return new Jn(t,1,e,Bt.min(),i,0)}static newNoDocument(t,e){return new Jn(t,2,e,Bt.min(),Ki.empty(),0)}static newUnknownDocument(t,e){return new Jn(t,3,e,Bt.min(),Ki.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ht=null}}function iu(n,t=null,e=[],i=[],r=null,s=null,u=null){return new vd(n,t,e,i,r,s,u)}function Ys(n){const t=st(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+_d(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),jf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>_d(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>_d(i)).join(",")),t.ht=e}return t.ht}function Xo(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!iD(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Zo(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!_b(n.startAt,t.startAt)&&_b(n.endAt,t.endAt)}function Za(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ka(n,t){return n.filters.filter(e=>e instanceof Ir&&e.field.isEqual(t))}function ru(n,t,e){let i=vg,r=!0;for(const s of Ka(n,t)){let u=vg,h=!0;switch(s.op){case"<":case"<=":u=Qo(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=vg}Lr({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];Lr({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function su(n,t,e){let i=Yo,r=!0;for(const s of Ka(n,t)){let u=Yo,h=!0;switch(s.op){case">=":case">":u=Gf(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Yo}Ll({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];Ll({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Ir extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new KE(t,e,i):"array-contains"===e?new JE(t,i):"in"===e?new eD(t,i):"not-in"===e?new tD(t,i):"array-contains-any"===e?new nD(t,i):new Ir(t,e,i)}static lt(t,e,i){return"in"===e?new QE(t,i):new XE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Nl(e,this.value)):null!==e&&qa(this.value)===qa(e)&&this.ft(Nl(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KE extends Ir{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.ft(e)}}class QE extends Ir{constructor(t,e){super(t,"in",e),this.keys=gb(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XE extends Ir{constructor(t,e){super(t,"not-in",e),this.keys=gb(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function gb(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class JE extends Ir{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bg(e)&&zf(e.arrayValue,this.value)}}class eD extends Ir{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&zf(this.value.arrayValue,e)}}class tD extends Ir{constructor(t,e){super(t,"not-in",e)}matches(t){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!zf(this.value.arrayValue,e)}}class nD extends Ir{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>zf(this.value.arrayValue,i))}}class Vl{constructor(t,e){this.position=t,this.inclusive=e}}class wd{constructor(t,e="asc"){this.field=t,this.dir=e}}function iD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function rD(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?nt.comparator(nt.fromName(u.referenceValue),e.key):Nl(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function _b(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zo(n.position[e],t.position[e]))return!1;return!0}class wo{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this._t=null,this.wt=null}}function Cg(n,t,e,i,r,s,u,h){return new wo(n,t,e,i,r,s,u,h)}function Cd(n){return new wo(n)}function Wf(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ed(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qf(n){for(const t of n.filters)if(t.dt())return t.field;return null}function yb(n){return null!==n.collectionGroup}function Qa(n){const t=st(n);if(null===t._t){t._t=[];const e=qf(t),i=Ed(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new wd(e)),t._t.push(new wd(Ii.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new wd(Ii.keyField(),s))}}}return t._t}function Sr(n){const t=st(n);if(!t.wt)if("F"===t.limitType)t.wt=iu(t.path,t.collectionGroup,Qa(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Qa(t))e.push(new wd(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vl(t.startAt.position,t.startAt.inclusive):null;t.wt=iu(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Yf(n,t,e){return new wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Dd(n,t){return Xo(Sr(n),Sr(t))&&n.limitType===t.limitType}function Eg(n){return`${Ys(Sr(n))}|lt:${n.limitType}`}function Dg(n){return`Query(target=${function bd(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${_d(i.value)}`;var i}).join(", ")}]`),jf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>_d(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>_d(e)).join(",")),`Target(${t})`}(Sr(n))}; limitType=${n.limitType})`}function Ig(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=rD(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,Qa(e),i)||e.endAt&&!function(r,s,u){const h=rD(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,Qa(e),i)));var e,i}function Sg(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ag(n){return(t,e)=>{let i=!1;for(const r of Qa(n)){const s=NT(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function NT(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),p=u.data.field(r);return null!==h&&null!==p?Nl(h,p):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}function vb(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(t)?"-0":t}}function bb(n){return{integerValue:""+n}}function wb(n,t){return pb(t)?bb(t):vb(n,t)}class Zf{constructor(){this._=void 0}}function LT(n,t,e){return n instanceof ou?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Jo?Eb(n,t):n instanceof Bl?Db(n,t):function(i,r){const s=Cb(i,r),u=Ib(s)+Ib(i.yt);return Ya(s)&&Ya(i.yt)?bb(u):vb(i.It,u)}(n,t)}function sD(n,t,e){return n instanceof Jo?Eb(n,t):n instanceof Bl?Db(n,t):e}function Cb(n,t){return n instanceof au?Ya(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ou extends Zf{}class Jo extends Zf{constructor(t){super(),this.elements=t}}function Eb(n,t){const e=Sb(t);for(const i of n.elements)e.some(r=>Zo(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bl extends Zf{constructor(t){super(),this.elements=t}}function Db(n,t){let e=Sb(t);for(const i of n.elements)e=e.filter(r=>!Zo(r,i));return{arrayValue:{values:e}}}class au extends Zf{constructor(t,e){super(),this.It=t,this.yt=e}}function Ib(n){return Fi(n.integerValue||n.doubleValue)}function Sb(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Id{constructor(t,e){this.field=t,this.transform=e}}class SR{constructor(t,e){this.version=t,this.transformResults=e}}class Si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tg(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Kf{}function aD(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ad(n.key,Si.none()):new lu(n.key,n.data,Si.none());{const e=n.data,i=Ki.empty();let r=new Dn(Ii.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Xa(n.key,i,new Nr(r.toArray()),Si.none())}}function fr(n,t,e){n instanceof lu?function(i,r,s){const u=i.value.clone(),h=Tb(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Xa?function(i,r,s){if(!Tg(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=Tb(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Ab(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Sd(n,t,e,i){return n instanceof lu?function(r,s,u,h){if(!Tg(r.precondition,s))return u;const p=r.value.clone(),y=cu(r.fieldTransforms,h,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Xa?function(r,s,u,h){if(!Tg(r.precondition,s))return u;const p=cu(r.fieldTransforms,h,s),y=s.data;return y.setAll(Ab(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,Tg(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function VT(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=Cb(i.transform,r||null);null!=s&&(null===e&&(e=Ki.empty()),e.set(i.field,s))}return e||null}function lD(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Jc(e,i,(r,s)=>function oD(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Jo&&i instanceof Jo||e instanceof Bl&&i instanceof Bl?Jc(e.elements,i.elements,Zo):e instanceof au&&i instanceof au?Zo(e.yt,i.yt):e instanceof ou&&i instanceof ou);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class lu extends Kf{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xa extends Kf{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ab(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Tb(n,t,e){const i=new Map;Nt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,sD(u,h,e[r]))}return i}function cu(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,LT(s,u,t))}return i}class Ad extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mb extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cD{constructor(t){this.count=t}}var Qi,An;function BT(n){switch(n){default:return yt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Mg(n){if(void 0===n)return Hi("GRPC error has no .code"),me.UNKNOWN;switch(n){case Qi.OK:return me.OK;case Qi.CANCELLED:return me.CANCELLED;case Qi.UNKNOWN:return me.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return me.INTERNAL;case Qi.UNAVAILABLE:return me.UNAVAILABLE;case Qi.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Qi.NOT_FOUND:return me.NOT_FOUND;case Qi.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Qi.ABORTED:return me.ABORTED;case Qi.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Qi.DATA_LOSS:return me.DATA_LOSS;default:return yt()}}(An=Qi||(Qi={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Rl(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}const ta=new Ti(nt.comparator);function us(){return ta}const uD=new Ti(nt.comparator);function ds(...n){let t=uD;for(const e of n)t=t.insert(e.key,e);return t}function Zs(n){let t=uD;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Xi(){return Td()}function xb(){return Td()}function Td(){return new ea(n=>n.toString(),(n,t)=>n.isEqual(t))}const UT=new Ti(nt.comparator),HT=new Dn(nt.comparator);function an(...n){let t=HT;for(const e of n)t=t.add(e);return t}const jT=new Dn(Xt);function Md(){return jT}class Ja{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Qf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ja(Bt.min(),r,Md(),us(),an())}}class Qf{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Qf(i,e,an(),an(),an())}}class Xf{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class dD{constructor(t,e){this.targetId=t,this.At=e}}class kb{constructor(t,e,i=ji.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Ob{constructor(){this.Rt=0,this.bt=Rb(),this.Pt=ji.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=an(),e=an(),i=an();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new Qf(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Rb()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class xg{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=us(),this.qt=hD(),this.Kt=new Dn(Xt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(Za(s))if(0===i){const u=new nt(s.path);this.jt(e,u,Jn.newNoDocument(u,Bt.min()))}else Nt(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,u)=>{const h=this.Xt(u);if(h){if(s.current&&Za(h.target)){const p=new nt(h.target.path);null!==this.Ut.get(p)||this.ee(u,p)||this.jt(u,p,Jn.newNoDocument(p,t))}s.Dt&&(e.set(u,s.xt()),s.Nt())}});let i=an();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.Xt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Ut.forEach((s,u)=>u.setReadTime(t));const r=new Ja(t,e,this.Kt,this.Ut,i);return this.Ut=us(),this.qt=hD(),this.Kt=new Dn(Xt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new Ob,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Dn(Xt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new Ob),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function hD(){return new Ti(nt.comparator)}function Rb(){return new Ti(nt.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},Fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kg{constructor(t,e){this.databaseId=t,this.gt=e}}function xd(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pb(n,t){return n.gt?t.toBase64():t.toUint8Array()}function pD(n,t){return xd(n,t.toTimestamp())}function pr(n){return Nt(!!n),Bt.fromTimestamp(function(t){const e=Fl(t);return new En(e.seconds,e.nanos)}(n))}function Og(n,t){return(e=n,new On(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Nb(n){const t=On.fromString(n);return Nt(Bb(t)),t}function kd(n,t){return Og(n.databaseId,t.path)}function Co(n,t){const e=Nb(t);if(e.get(1)!==n.databaseId.projectId)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(gD(e))}function Rg(n,t){return Og(n.databaseId,t)}function mD(n){const t=Nb(n);return 4===t.length?On.emptyPath():gD(t)}function Jf(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gD(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _D(n,t,e){return{name:kd(n,t),fields:e.value.mapValue.fields}}function yD(n,t,e){const i=Co(n,t.name),r=pr(t.updateTime),s=new Ki({mapValue:{fields:t.fields}}),u=Jn.newFoundDocument(i,r,s);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function ep(n,t){let e;if(t instanceof lu)e={update:_D(n,t.key,t.value)};else if(t instanceof Ad)e={delete:kd(n,t.key)};else if(t instanceof Xa)e={update:_D(n,t.key,t.data),updateMask:DD(t.fieldMask)};else{if(!(t instanceof Mb))return yt();e={verify:kd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof au)return{fieldPath:s.field.canonicalString(),increment:u.yt};throw yt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:pD(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),e;var r}function Lb(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Si.updateTime(pr(r.updateTime)):void 0!==r.exists?Si.exists(r.exists):Si.none():Si.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Nt("REQUEST_TIME"===u.setToServerValue),h=new ou):"appendMissingElements"in u?h=new Jo(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Bl(u.removeAllFromArray.values||[]):"increment"in u?h=new au(s,u.increment):yt();const p=Ii.fromServerFormat(u.fieldPath);return new Id(p,h)}(n,r)):[];var r;if(t.update){const r=Co(n,t.update.name),s=new Ki({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Nr((t.updateMask.fieldPaths||[]).map(y=>Ii.fromServerFormat(y)));return new Xa(r,s,u,e,i)}return new lu(r,s,e,i)}if(t.delete){const r=Co(n,t.delete);return new Ad(r,e)}if(t.verify){const r=Co(n,t.verify);return new Mb(r,e)}return yt()}function vD(n,t){return{documents:[Rg(n,t.path)]}}function Vb(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Rg(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Rg(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(E=>function(I){if("=="===I.op){if(YE(I.value))return{unaryFilter:{field:uu(I.field),op:"IS_NAN"}};if(yd(I.value))return{unaryFilter:{field:uu(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(YE(I.value))return{unaryFilter:{field:uu(I.field),op:"IS_NOT_NAN"}};if(yd(I.value))return{unaryFilter:{field:uu(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(I.field),op:YT(I.op),value:I.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:uu((E=y).field),direction:qT(E.dir)};var E})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(y=t.limit,n.gt||jf(y)?y:{value:y});var y,h,p;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function bD(n){let t=mD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Nt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let s=[];e.where&&(s=wD(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new wd(du((I=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,jf(I)?null:I}(e.limit));let p=null;var E;e.startAt&&(p=new Vl((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new Vl(E.values||[],!E.before)}(e.endAt)),Cg(t,r,u,s,h,"F",p,y)}function wD(n){return n?void 0!==n.unaryFilter?[ED(n)]:void 0!==n.fieldFilter?[CD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>wD(t)).reduce((t,e)=>t.concat(e)):yt():[]}function qT(n){return fD[n]}function YT(n){return Fb[n]}function uu(n){return{fieldPath:n.canonicalString()}}function du(n){return Ii.fromServerFormat(n.fieldPath)}function CD(n){return Ir.create(du(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ED(n){switch(n.unaryFilter.op){case"IS_NAN":const t=du(n.unaryFilter.field);return Ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=du(n.unaryFilter.field);return Ir.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=du(n.unaryFilter.field);return Ir.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=du(n.unaryFilter.field);return Ir.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function DD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Ub(t)),t=ID(n.get(e),t);return Ub(t)}function ID(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function Ub(n){return n+"\x01\x01"}function Ks(n){const t=n.length;if(Nt(t>=2),2===t)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&yt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:yt()}s=u+2}return new On(i)}const Fg=["userId","batchId"];function na(n,t){return[n,zr(t)]}function SD(n,t,e){return[n,zr(t),e]}const ZT={},Od=["prefixPath","collectionGroup","readTime","documentId"],AR=["prefixPath","collectionGroup","documentId"],Hb=["collectionGroup","readTime","prefixPath","documentId"],TR=["canonicalId","targetId"],AD=["targetId","path"],TD=["path","targetId"],MR=["collectionId","parent"],Vt=["indexId","uid"],KT=["uid","sequenceNumber"],QT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XT=["indexId","uid","orderedDocumentKey"],Rd=["userId","collectionPath","documentId"],JT=["userId","collectionPath","largestBatchId"],Pg=["userId","collectionGroup","largestBatchId"],tp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pi=[...tp,"documentOverlays"],eM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jb=eM,MD=[...jb,"indexConfiguration","indexState","indexEntries"];class $b extends _g{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function mr(n,t){const e=st(n);return vo.M(e.ie,t)}class Ng{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&fr(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Sd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Sd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=xb();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=e.has(r.key)?null:h;const p=aD(u,h);null!==p&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),an())}isEqual(t){return this.batchId===t.batchId&&Jc(this.mutations,t.mutations,(e,i)=>lD(e,i))&&Jc(this.baseMutations,t.baseMutations,(e,i)=>lD(e,i))}}class Lg{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Nt(t.mutations.length===i.length);let r=UT;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Lg(t,e,i,r)}}class Vg{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ul{constructor(t,e,i,r,s=Bt.min(),u=Bt.min(),h=ji.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class xD{constructor(t){this.re=t}}function Fd(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Bg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:kd(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:xd(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hu(t.version)};else{if(!t.isUnknownDocument())return yt();i.unknownDocument={path:e.path.toArray(),version:hu(t.version)}}var r,s;return i}function Bg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fu(n){const t=new En(n.seconds,n.nanoseconds);return Bt.fromTimestamp(t)}function ia(n,t){const e=(t.baseMutations||[]).map(s=>Lb(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>Lb(n.re,s)),r=En.fromMillis(t.localWriteTimeMs);return new Ng(t.batchId,r,e,i)}function Pd(n){const t=fu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?fu(n.lastLimboFreeSnapshotVersion):Bt.min();let i;var r;return void 0!==n.query.documents?(Nt(1===(r=n.query).documents.length),i=Sr(Cd(mD(r.documents[0])))):i=Sr(bD(n.query)),new Ul(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ji.fromBase64String(n.resumeToken))}function zb(n,t){const e=hu(t.snapshotVersion),i=hu(t.lastLimboFreeSnapshotVersion);let r;r=Za(t.target)?vD(n.re,t.target):Vb(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ys(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Ug(n){const t=bD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yf(t,t.limit,"L"):t}function Gb(n,t){return new Vg(t.largestBatchId,Lb(n.re,t.overlayMutation))}function Nd(n,t){const e=t.path.lastSegment();return[n,zr(t.path.popLast()),e]}function Ld(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:hu(i.readTime),documentKey:zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class nM{getBundleMetadata(t,e){return kD(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fu(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return kD(t).put({bundleId:(i=e).id,createTime:hu(pr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return OD(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Ug(r.bundledQuery),readTime:fu(r.readTime)};var r})}saveNamedQuery(t,e){return OD(t).put({name:(i=e).name,readTime:hu(pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function kD(n){return mr(n,"bundles")}function OD(n){return mr(n,"namedQueries")}class np{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new np(t,e.uid||"")}getOverlay(t,e){return Vd(t).get(Nd(this.userId,e)).next(i=>i?Gb(this.It,i):null)}getOverlays(t,e){const i=Xi();return de.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new Vg(e,u);r.push(this.ue(t,h))}),de.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(zr(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Vd(t).Y("collectionPathOverlayIndex",h))}),de.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Xi(),s=zr(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vd(t).W("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=Gb(this.It,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Xi();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Vd(t).Z({index:"collectionGroupOverlayIndex",range:h},(p,y,E)=>{const I=Gb(this.It,y);s.size()<r||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):E.done()}).next(()=>s)}ue(t,e){return Vd(t).put(function(i,r,s){const[u,h,p]=Nd(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ep(i.re,s.mutation)}}(this.It,this.userId,e))}}function Vd(n){return mr(n,"documentOverlays")}class Hl{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Fi(t.integerValue));else if("doubleValue"in t){const i=Fi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),$f(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(bo(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?ZE(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):yt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),nt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function iM(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function Wb(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=iM(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Hl.Te=new Hl;class rM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=Wb(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=Wb(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class sM{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class xR{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class Hg{constructor(){this.Be=new rM,this.Le=new sM(this.Be),this.Ue=new xR(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Bd{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Bd(this.indexId,this.documentKey,this.arrayValue,i)}}function Ud(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=qb(n.arrayValue,t.arrayValue),0!==e?e:(e=qb(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function qb(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class jg{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=lb(t);if(void 0!==e&&!this.ze(e))return!1;const i=eu(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class oM{constructor(){this.Ye=new Yb}addToCollectionParentIndex(t,e){return this.Ye.add(e),de.resolve()}getCollectionParents(t,e){return de.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return de.resolve()}deleteFieldIndex(t,e){return de.resolve()}getDocumentsMatchingTarget(t,e){return de.resolve(null)}getIndexType(t,e){return de.resolve(0)}getFieldIndexes(t,e){return de.resolve([])}getNextCollectionGroupToUpdate(t){return de.resolve(null)}getMinOffset(t,e){return de.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,e){return de.resolve(cs.min())}updateCollectionGroup(t,e,i){return de.resolve()}updateIndexEntries(t,e){return de.resolve()}}class Yb{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Dn(On.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Dn(On.comparator)).toArray()}}const ip=new Uint8Array(0);class rp{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new Yb,this.Ze=new ea(i=>Ys(i),(i,r)=>Xo(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:zr(r)};return RD(t).put(s)}return de.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[jE(e),""],!1,!0);return RD(t).W(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Ks(u.parent))}return i})}addFieldIndex(t,e){const i=$g(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=op(t);return s.next(h=>{u.put(Ld(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=$g(t),r=op(t),s=sp(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=sp(t);let r=!0;const s=new Map;return de.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=an();const h=[];return de.forEach(s,(p,y)=>{var E;Ge("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${Ys(e)}`);const I=function(Et,bt){const Lt=lb(bt);if(void 0===Lt)return null;for(const Ut of Ka(Et,Lt.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(y,p),O=function(Et,bt){const Lt=new Map;for(const Ut of eu(bt))for(const vn of Ka(Et,Ut.fieldPath))switch(vn.op){case"==":case"in":Lt.set(Ut.fieldPath.canonicalString(),vn.value);break;case"not-in":case"!=":return Lt.set(Ut.fieldPath.canonicalString(),vn.value),Array.from(Lt.values())}return null}(y,p),P=function(Et,bt){const Lt=[];let Ut=!0;for(const vn of eu(bt)){const gr=0===vn.kind?ru(Et,vn.fieldPath,Et.startAt):su(Et,vn.fieldPath,Et.startAt);Lt.push(gr.value),Ut&&(Ut=gr.inclusive)}return new Vl(Lt,Ut)}(y,p),H=function(Et,bt){const Lt=[];let Ut=!0;for(const vn of eu(bt)){const gr=0===vn.kind?su(Et,vn.fieldPath,Et.endAt):ru(Et,vn.fieldPath,Et.endAt);Lt.push(gr.value),Ut&&(Ut=gr.inclusive)}return new Vl(Lt,Ut)}(y,p),K=this.nn(p,y,P),re=this.nn(p,y,H),We=this.sn(p,y,O),ot=this.rn(p.indexId,I,K,P.inclusive,re,H.inclusive,We);return de.forEach(ot,Et=>i.J(Et,e.limit).next(bt=>{bt.forEach(Lt=>{const Ut=nt.fromSegments(Lt.documentKey);u.has(Ut)||(u=u.add(Ut),h.push(Ut))})}))}).next(()=>h)}return de.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,u,h){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),y=p/(null!=e?e.length:1),E=[];for(let I=0;I<p;++I){const O=e?this.on(e[I/y]):ip,P=this.un(t,O,i[I%y],r),H=this.cn(t,O,s[I%y],u),K=h.map(re=>this.un(t,O,re,!0));E.push(...this.createRange(P,H,K))}return E}un(t,e,i,r){const s=new Bd(t,nt.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Bd(t,nt.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new jg(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return de.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(u){let h=new Dn(Ii.comparator),p=!1;for(const y of u.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?p=!0:h=h.add(E.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Hg;for(const r of eu(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);Hl.Te.ce(s,u)}return i.$e()}on(t){const e=new Hg;return Hl.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Hg;return Hl.Te.ce(Ko(this.databaseId,e),i.qe(function(r){const s=eu(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new Hg);let s=0;for(const u of eu(t)){const h=i[s++];for(const p of r)if(this.ln(e,u.fieldPath)&&bg(h))r=this.fn(r,u,h);else{const y=p.qe(u.kind);Hl.Te.ce(h,y)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new Hg;p.seed(h.$e()),Hl.Te.ce(u,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof Ir&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=$g(t),r=op(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const u=[];return de.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,E){const I=E?new Ff(E.sequenceNumber,new cs(fu(E.readTime),new nt(Ks(E.documentKey)),E.largestBatchId)):Ff.empty(),O=y.fields.map(([P,H])=>new gg(Ii.fromServerFormat(P),H));return new mg(y.indexId,y.collectionGroup,O,I)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Xt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=$g(t),s=op(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>de.forEach(h,p=>s.put(Ld(p.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return de.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?de.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),de.forEach(h,p=>this.wn(t,r,p).next(y=>{const E=this.mn(s,p);return y.isEqual(E)?de.resolve():this.gn(t,s,p,y,E)}))))})}yn(t,e,i,r){return sp(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return sp(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=sp(t);let s=new Dn(Ud);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{s=s.add(new Bd(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}mn(t,e){let i=new Dn(Ud);const r=this.an(e,t);if(null==r)return i;const s=lb(e);if(null!=s){const u=t.data.field(s.fieldPath);if(bg(u))for(const h of u.arrayValue.values||[])i=i.add(new Bd(e.indexId,t.key,this.on(h),r))}else i=i.add(new Bd(e.indexId,t.key,ip,r));return i}gn(t,e,i,r,s){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,p,y,E,I){const O=h.getIterator(),P=p.getIterator();let H=Wa(O),K=Wa(P);for(;H||K;){let re=!1,We=!1;if(H&&K){const ot=y(H,K);ot<0?We=!0:ot>0&&(re=!0)}else null!=H?We=!0:re=!0;re?(E(K),K=Wa(P)):We?(I(H),H=Wa(O)):(H=Wa(O),K=Wa(P))}}(r,s,Ud,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),de.waitFor(u)}_n(t){let e=1;return op(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Ud(u,h)).filter((u,h,p)=>!h||0!==Ud(u,p[h-1]));const r=[];r.push(t);for(const u of i){const h=Ud(u,t),p=Ud(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&p<0)r.push(u),r.push(u.Ke());else if(p>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,ip,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,ip,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(FD)}getMinOffset(t,e){return de.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||yt())).next(FD)}}function RD(n){return mr(n,"collectionParents")}function sp(n){return mr(n,"indexEntries")}function $g(n){return mr(n,"indexConfiguration")}function op(n){return mr(n,"indexState")}function FD(n){Nt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ub(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new cs(t.readTime,t.documentKey,e)}const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new hs(t,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PD(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const p=i.Z({range:u},(E,I,O)=>(h++,O.delete()));s.push(p.next(()=>{Nt(1===h)}));const y=[];for(const E of e.mutations){const I=SD(t,E.key.path,e.batchId);s.push(r.delete(I)),y.push(E.key)}return de.waitFor(s).next(()=>y)}function jl(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw yt();t=n.noDocument}return JSON.stringify(t).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class zg{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Nt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new zg(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $l(t).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=pu(t),u=$l(t);return u.add({}).next(h=>{Nt("number"==typeof h);const p=new Ng(h,e,i,r),y=function(O,P,H){const K=H.baseMutations.map(We=>ep(O.re,We)),re=H.mutations.map(We=>ep(O.re,We));return{userId:P,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:K,mutations:re}}(this.It,this.userId,p),E=[];let I=new Dn((O,P)=>Xt(O.canonicalString(),P.canonicalString()));for(const O of r){const P=SD(this.userId,O.key.path,h);I=I.add(O.key.path.popLast()),E.push(u.put(y)),E.push(s.put(P,ZT))}return I.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.In[h]=p.keys()}),de.waitFor(E).next(()=>p)})}lookupMutationBatch(t,e){return $l(t).get(e).next(i=>i?(Nt(i.userId===this.userId),ia(this.It,i)):null)}Tn(t,e){return this.In[e]?de.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return $l(t).Z({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(Nt(h.batchId>=i),s=ia(this.It,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $l(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $l(t).W("userMutationsIndex",e).next(i=>i.map(r=>ia(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=na(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return pu(t).Z({range:r},(u,h,p)=>{const[y,E,I]=u,O=Ks(E);if(y===this.userId&&e.path.isEqual(O))return $l(t).get(I).next(P=>{if(!P)throw yt();Nt(P.userId===this.userId),s.push(ia(this.It,P))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Dn(Xt);const r=[];return e.forEach(s=>{const u=na(this.userId,s.path),h=IDBKeyRange.lowerBound(u),p=pu(t).Z({range:h},(y,E,I)=>{const[O,P,H]=y,K=Ks(P);O===this.userId&&s.path.isEqual(K)?i=i.add(H):I.done()});r.push(p)}),de.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=na(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new Dn(Xt);return pu(t).Z({range:u},(p,y,E)=>{const[I,O,P]=p,H=Ks(O);I===this.userId&&i.isPrefixOf(H)?H.length===r&&(h=h.add(P)):E.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push($l(t).get(s).next(u=>{if(null===u)throw yt();Nt(u.userId===this.userId),i.push(ia(this.It,u))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return PD(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return pu(t).Z({range:i},(s,u,h)=>{if(s[0]===this.userId){const p=Ks(s[1]);r.push(p)}else h.done()}).next(()=>{Nt(0===r.length)})})}containsKey(t,e){return Kb(t,this.userId,e)}Rn(t){return ND(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kb(n,t,e){const i=na(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return pu(n).Z({range:s,X:!0},(h,p,y)=>{const[E,I,O]=h;E===t&&I===r&&(u=!0),y.done()}).next(()=>u)}function $l(n){return mr(n,"mutations")}function pu(n){return mr(n,"documentMutations")}function ND(n){return mr(n,"mutationQueues")}class zl{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new zl(0)}static vn(){return new zl(-1)}}class aM{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new zl(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Bt.fromTimestamp(new En(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Gl(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Nt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Gl(t).Z((u,h)=>{const p=Pd(h);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>de.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Gl(t).Z((i,r)=>{const s=Pd(r);e(s)})}Vn(t){return LD(t).get("targetGlobalKey").next(e=>(Nt(null!==e),e))}Sn(t,e){return LD(t).put("targetGlobalKey",e)}Dn(t,e){return Gl(t).put(zb(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ys(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Gl(t).Z({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=Pd(h);Xo(e,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=el(t);return e.forEach(u=>{const h=zr(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),de.waitFor(r)}removeMatchingKeys(t,e,i){const r=el(t);return de.forEach(e,s=>{const u=zr(s.path);return de.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=el(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=el(t);let s=an();return r.Z({range:i,X:!0},(u,h,p)=>{const y=Ks(u[1]),E=new nt(y);s=s.add(E)}).next(()=>s)}containsKey(t,e){const i=zr(e.path),r=IDBKeyRange.bound([i],[jE(i)],!1,!0);let s=0;return el(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],p,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}se(t,e){return Gl(t).get(e).next(i=>i?Pd(i):null)}}function Gl(n){return mr(n,"targets")}function LD(n){return mr(n,"targetGlobal")}function el(n){return mr(n,"targetDocuments")}function Qb([n,t],[e,i]){const r=Xt(n,e);return 0===r?Xt(t,i):r}class lM{constructor(t){this.xn=t,this.buffer=new Dn(Qb),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Qb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ee.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){qo(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ol(i)}yield e.Fn(3e5)}))}}class uM{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return de.resolve($r.at);const i=new lM(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Zb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,u,h,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),Wo()<=Vo.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-E}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class Xb{constructor(t,e){this.db=t,this.garbageCollector=new uM(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return Gg(t,i)}removeReference(t,e,i){return Gg(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Gg(t,e)}Gn(t,e){return function(i,r){let s=!1;return ND(i).tt(u=>Kb(i,u,r).next(h=>(h&&(s=!0),de.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(u,h)=>{if(h<=e){const p=this.Gn(t,u).next(y=>{if(!y)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Bt.min()),el(t).delete([0,zr(u.path)])))});r.push(p)}}).next(()=>de.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Gg(t,e)}Kn(t,e){const i=el(t);let r,s=$r.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(s!==$r.at&&e(new nt(Ks(r)),s),s=y,r=p):s=$r.at}).next(()=>{s!==$r.at&&e(new nt(Ks(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Gg(n,t){return el(n).put((i=n.currentSequenceNumber,{targetId:0,path:zr(t.path),sequenceNumber:i}));var i}class Jb{constructor(){this.changes=new ea(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?de.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dM{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return mu(t).put(i)}removeEntry(t,e,i){return mu(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Bg(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Jn.newInvalidDocument(e);return mu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ap(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Jn.newInvalidDocument(e)};return mu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ap(e))},(r,s)=>{i={document:this.jn(e,s),size:jl(s)}}).next(()=>i)}getEntries(t,e){let i=us();return this.zn(t,e,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=us(),r=new Ti(nt.comparator);return this.zn(t,e,(s,u)=>{const h=this.jn(s,u);i=i.insert(s,h),r=r.insert(s,jl(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return de.resolve();let r=new Dn(HD);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(ap(r.first()),ap(r.last())),u=r.getIterator();let h=u.getNext();return mu(t).Z({index:"documentKeyIndex",range:s},(p,y,E)=>{const I=nt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&HD(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?E.j(ap(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Bg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mu(t).W(IDBKeyRange.bound(r,s,!0)).next(u=>{let h=us();for(const p of u){const y=this.jn(nt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let s=us();const u=UD(e,i),h=UD(e,cs.max());return mu(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,E)=>{const I=this.jn(nt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(I.key,I),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(t){return new hM(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return BD(t).get("remoteDocumentGlobalKey").next(e=>(Nt(!!e),e))}Qn(t,e){return BD(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function tM(n,t){let e;if(t.document)e=yD(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=fu(t.noDocument.readTime);e=Jn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return yt();{const i=nt.fromSegments(t.unknownDocument.path),r=fu(t.unknownDocument.version);e=Jn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new En(i[0],i[1]);return Bt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return Jn.newInvalidDocument(t)}}function VD(n){return new dM(n)}class hM extends Jb{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new ea(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Dn((s,u)=>Xt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,h.readTime)),u.isValidDocument()){const p=Fd(this.Yn.It,u);r=r.add(s.path.popLast()),i+=jl(p)-h.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=h.size,this.trackRemovals){const p=Fd(this.Yn.It,u.convertToNoDocument(Bt.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),de.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function BD(n){return mr(n,"remoteDocumentGlobal")}function mu(n){return mr(n,"remoteDocumentsV14")}function ap(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UD(n,t){const e=t.documentKey.path.toArray();return[n,Bg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HD(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Xt(e[s],i[s]),r)return r;return r=Xt(e.length,i.length),r||(r=Xt(e[e.length-2],i[i.length-2]),r||Xt(e[e.length-1],i[i.length-1]))}class jD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class e0{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Sd(i.mutation,r,Nr.empty(),En.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,an()).next(()=>i))}getLocalViewOfDocuments(t,e,i=an()){const r=Xi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=ds();return s.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Xi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,an()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let s=us();const u=Td(),h=Td();return e.forEach((p,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof Xa)?s=s.insert(y.key,y):void 0!==E&&(u.set(y.key,E.mutation.getFieldMask()),Sd(E.mutation,y,E.mutation.getFieldMask(),En.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((y,E)=>u.set(y,E)),e.forEach((y,E)=>{var I;return h.set(y,new jD(E,null!==(I=u.get(y))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Td();let r=new Ti((u,h)=>u-h),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(p=>{const y=e.get(p);if(null===y)return;let E=i.get(p)||Nr.empty();E=h.applyToLocalView(y,E),i.set(p,E);const I=(r.get(h.batchId)||an()).add(p);r=r.insert(h.batchId,I)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,E=p.value,I=xb();E.forEach(O=>{if(!s.has(O)){const P=aD(e.get(O),i.get(O));null!==P&&I.set(O,P),s=s.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,y,I))}return de.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):yb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):de.resolve(Xi());let h=-1,p=s;return u.next(y=>de.forEach(y,(E,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),s.get(E)?de.resolve():this.getBaseDocument(t,E,I).next(O=>{p=p.insert(E,O)}))).next(()=>this.populateOverlays(t,y,s)).next(()=>this.computeViews(t,p,y,an())).next(E=>({batchId:h,changes:Zs(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=ds();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=ds();return this.indexManager.getCollectionParents(t,r).next(u=>de.forEach(u,h=>{const p=(y=e,E=h.child(r),new wo(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(y=>{y.forEach((E,I)=>{s=s.insert(E,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((h,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,Jn.newInvalidDocument(y)))});let u=ds();return r.forEach((h,p)=>{const y=s.get(h);void 0!==y&&Sd(y.mutation,p,Nr.empty(),En.now()),Ig(e,p)&&(u=u.insert(h,p))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):de.resolve(Jn.newInvalidDocument(e))}}class fM{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return de.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:pr(i.createTime)}),de.resolve()}getNamedQuery(t,e){return de.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:Ug(i.bundledQuery),readTime:pr(i.readTime)}),de.resolve();var i}}class pM{constructor(){this.overlays=new Ti(nt.comparator),this.es=new Map}getOverlay(t,e){return de.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Xi();return de.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),de.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),de.resolve()}getOverlaysForCollection(t,e,i){const r=Xi(),s=e.length+1,u=new nt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return de.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Ti((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=s.get(y.largestBatchId);null===E&&(E=Xi(),s=s.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=Xi(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return de.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Vg(e,i));let s=this.es.get(e);void 0===s&&(s=an(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class Wg{constructor(){this.ns=new Dn(Ar.ss),this.rs=new Dn(Ar.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Ar(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new nt(new On([])),i=new Ar(e,t),r=new Ar(e,t+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new nt(new On([])),i=new Ar(e,t),r=new Ar(e,t+1);let s=an();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Ar(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return nt.comparator(t.key,e.key)||Xt(t._s,e._s)}static os(t,e){return Xt(t._s,e._s)||nt.comparator(t.key,e.key)}}class mM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Dn(Ar.ss)}checkEmpty(t){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const u=new Ng(s,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new Ar(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(t,e){return de.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);s.push(h)}),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Dn(Xt);return e.forEach(r=>{const s=new Ar(r,0),u=new Ar(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{i=i.add(h._s)})}),de.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const u=new Ar(new nt(s),0);let h=new Dn(Xt);return this.gs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p._s)),!0)},u),de.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Nt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return de.forEach(e.mutations,r=>{const s=new Ar(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Ar(e,0),r=this.gs.firstAfterOrEqual(i);return de.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return de.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class gM{constructor(t){this.Es=t,this.docs=new Ti(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return de.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(e))}getEntries(t,e){let i=us();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Jn.newInvalidDocument(r))}),de.resolve(i)}getAllFromCollection(t,e,i){let r=us();const s=new nt(e.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||ub(cb(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return de.resolve(r)}getAllFromCollectionGroup(t,e,i,r){yt()}As(t,e){return de.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new t0(this)}getSize(t){return de.resolve(this.size)}}class t0 extends Jb{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),de.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class n0{constructor(t){this.persistence=t,this.Rs=new ea(e=>Ys(e),Xo),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wg,this.targetCount=0,this.vs=zl.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),de.resolve()}getLastRemoteSnapshotVersion(t){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return de.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),de.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new zl(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,de.resolve()}updateTargetData(t,e){return this.Dn(e),de.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,de.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),de.waitFor(s).next(()=>r)}getTargetCount(t){return de.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return de.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),de.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),de.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),de.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return de.resolve(i)}containsKey(t,e){return de.resolve(this.Ps.containsKey(e))}}class r0{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new $r(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new n0(this),this.indexManager=new oM,this.remoteDocumentCache=new gM(i=>this.referenceDelegate.xs(i)),this.It=new xD(e),this.Ns=new fM(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new mM(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("MemoryPersistence","Starting transaction:",t);const r=new s0(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return de.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class s0 extends _g{constructor(t){super(),this.currentSequenceNumber=t}}class qg{constructor(t){this.persistence=t,this.Fs=new Wg,this.$s=null}static Bs(t){return new qg(t)}get Ls(){if(this.$s)return this.$s;throw yt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),de.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),de.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),de.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,i=>{const r=nt.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Bt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return de.or([()=>de.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class _M{constructor(t){this.It=t}$(t,e,i,r){const s=new Pf("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fg,{unique:!0}),h.createObjectStore("documentMutations"),Yg(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=de.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),Yg(t)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fg,{unique:!0});const E=p.store("mutations"),I=y.map(O=>E.put(O));return de.waitFor(I)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Rd});p.createIndex("collectionPathOverlayIndex",JT,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Pg,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:Od});p.createIndex("documentKeyIndex",AR),p.createIndex("collectionGroupIndex",Hb)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Vt}).createIndex("sequenceNumberIndex",KT,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:QT}).createIndex("documentKeyIndex",XT,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=jl(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>de.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>de.forEach(h,p=>{Nt(p.userId===s.userId);const y=ia(this.It,p);return PD(t,s.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,h)=>{const p=new On(u),y=[0,zr(p)];s.push(e.get(y).next(E=>E?de.resolve():e.put({targetId:0,path:zr(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:MR});const i=e.store("collectionParents"),r=new Yb,s=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:zr(p)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const p=new On(u);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,p],y)=>{const E=Ks(h);return s(E.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=Pd(r),u=zb(this.It,s);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const h=e.store("remoteDocumentsV14"),p=(y=u,y.document?new nt(On.fromString(y.document.name).popFirst(5)):y.noDocument?nt.fromSegments(y.noDocument.path):y.unknownDocument?nt.fromSegments(y.unknownDocument.path):yt()).path.toArray();var y;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>de.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=VD(this.It),s=new r0(qg.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(p=>{var y;let E=null!==(y=h.get(p.userId))&&void 0!==y?y:an();ia(this.It,p).keys().forEach(I=>E=E.add(I)),h.set(p.userId,E)}),de.forEach(h,(p,y)=>{const E=new dr(y),I=np.oe(this.It,E),O=s.getIndexManager(E),P=zg.oe(E,this.It,O,s.referenceDelegate);return new e0(r,P,I,O).recalculateAndSaveOverlaysForDocumentKeys(new $b(e,$r.at),p).next()})})}}function Yg(n){n.createObjectStore("targetDocuments",{keyPath:AD}).createIndex("documentTargetsIndex",TD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TR,{unique:!0}),n.createObjectStore("targetGlobal")}const o0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zg{constructor(t,e,i,r,s,u,h,p,y,E,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=u,this.document=h,this.Js=y,this.Ys=E,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!Zg.C())throw new Ve(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xb(this,r),this.ii=e+"main",this.It=new xD(p),this.ri=new vo(this.ii,this.Xs,new _M(this.It)),this.Cs=new aM(this.referenceDelegate,this.It),this.remoteDocumentCache=VD(this.It),this.Ns=new nM,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,o0);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new $r(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Ee.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>lp(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(qo(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return ra(t).get("owner").next(e=>de.resolve(this.mi(e)))}gi(t){return lp(t).delete(this.clientId)}yi(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.W().next(s=>{const u=t.Ii(s,18e5),h=s.filter(p=>-1===u.indexOf(p));return de.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?de.resolve(!0):ra(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,o0);return!1}}return!(!this.networkEnabled||!this.inForeground)||lp(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new $b(e,$r.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>lp(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return zg.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new rp(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return np.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.Xs)?MD:14===u?jb:13===u?eM:12===u?Pi:11===u?tp:void yt();var u;let h;return this.ri.runTransaction(t,r,s,p=>(h=new $b(p,this.Ss?this.Ss.next():$r.at),"readwrite-primary"===e?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw Hi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(me.FAILED_PRECONDITION,yo);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Vi(t){return ra(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ve(me.FAILED_PRECONDITION,o0)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ra(t).put("owner",e)}static C(){return vo.C()}_i(t){const e=ra(t);return e.get("owner").next(i=>this.mi(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):de.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Hi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,hn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Hi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ra(n){return mr(n,"owner")}function lp(n){return mr(n,"clientMetadata")}function a0(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class $D{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=an(),r=an();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $D(t,e.fromCache,i,r)}}class l0{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(Wf(e))return de.resolve(null);let i=Sr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Yf(e,null,"F"),i=Sr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=an(...s);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(p=>{const y=this.Fi(e,h);return this.$i(e,y,u,p.readTime)?this.ki(t,Yf(e,null,"F")):this.Bi(t,y,e,p)}))})))}Oi(t,e,i,r){return Wf(e)||r.isEqual(Bt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const u=this.Fi(e,s);return this.$i(e,u,i,r)?this.Mi(t,e):(Wo()<=Vo.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dg(e)),this.Bi(t,u,e,GE(r,-1)))})}Fi(t,e){let i=new Dn(Ag(t));return e.forEach((r,s)=>{Ig(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return Wo()<=Vo.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Dg(e)),this.Ni.getDocumentsMatchingQuery(t,e,cs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class c0{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Ti(Xt),this.qi=new ea(s=>Ys(s),Xo),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e0(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function zD(n,t,e,i){return new c0(n,t,e,i)}function Kg(n,t){return u0.apply(this,arguments)}function u0(){return u0=(0,Ee.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let p=an();for(const y of r){u.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of s){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(i,p).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:h}))})})}),u0.apply(this,arguments)}function GD(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const E=p.batch,I=E.keys();let O=de.resolve();return I.forEach(P=>{O=O.next(()=>y.getEntry(h,P)).next(H=>{const K=p.docVersions.get(P);Nt(null!==K),H.version.compareTo(K)<0&&(E.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),y.addEntry(H)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=an();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Qg(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function WD(n,t){const e=st(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((E,I)=>{const O=r.get(I);if(!O)return;h.push(e.Cs.removeMatchingKeys(s,E.removedDocuments,I).next(()=>e.Cs.addMatchingKeys(s,E.addedDocuments,I)));let P=O.withSequenceNumber(s.currentSequenceNumber);var H,K,re;t.targetMismatches.has(I)?P=P.withResumeToken(ji.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,i)),r=r.insert(I,P),K=P,re=E,(0===(H=O).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(s,P))});let p=us(),y=an();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(d0(s,u,t.documentUpdates).next(E=>{p=E.Wi,y=E.zi})),!i.isEqual(Bt.min())){const E=e.Cs.getLastRemoteSnapshotVersion(s).next(I=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return de.waitFor(h).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(e.Ui=r,s))}function d0(n,t,e){let i=an(),r=an();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=us();return e.forEach((h,p)=>{const y=s.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Bt.min())?(t.removeEntry(h,p.readTime),u=u.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),u=u.insert(h,p)):Ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Wi:u,zi:r}})}function qD(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gu(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,de.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new Ul(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Hd(n,t,e){return h0.apply(this,arguments)}function h0(){return h0=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!qo(u))throw u;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),h0.apply(this,arguments)}function Xg(n,t,e){const i=st(n);let r=Bt.min(),s=an();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const E=st(h),I=E.qi.get(y);return void 0!==I?de.resolve(E.Ui.get(I)):E.Cs.getTargetData(p,y)}(i,u,Sr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Bt.min(),e?s:an())).next(h=>(yM(i,Sg(t),h),{documents:h,Hi:s})))}function YD(n,t){const e=st(n),i=st(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(u=>u?u.target:null))}function f0(n,t){const e=st(n),i=e.Ki.get(t)||Bt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,GE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(yM(e,t,r),r))}function yM(n,t,e){let i=n.Ki.get(t)||Bt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function p0(){return p0=(0,Ee.Z)(function*(n,t,e,i){const r=st(n);let s=an(),u=us();for(const y of e){const E=t.Ji(y.metadata.name);y.document&&(s=s.add(E));const I=t.Yi(y);I.setReadTime(t.Xi(y.metadata.readTime)),u=u.insert(E,I)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield gu(r,(y=i,Sr(Cd(On.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>d0(y,h,u).next(E=>(h.apply(y),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Cs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.Wi,E.zi)).next(()=>E.Wi)))}),p0.apply(this,arguments)}function vM(n,t){return KD.apply(this,arguments)}function KD(){return KD=(0,Ee.Z)(function*(n,t,e=an()){const i=yield gu(n,Sr(Ug(t.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=pr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,t);const h=i.withResumeToken(ji.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(s,h).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),KD.apply(this,arguments)}function bM(n,t){return`firestore_clients_${n}_${t}`}function QD(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function m0(n,t){return`firestore_targets_${n}_${t}`}class cp{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ve(r.error.code,r.error.message))),u?new cp(t,e,r.state,s):(Hi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class up{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ve(i.error.code,i.error.message))),s?new up(t,i.state,r):(Hi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Jg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Md();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=pb(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new Jg(t,s):(Hi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class g0{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new g0(e.clientId,e.onlineState):(Hi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class _0{constructor(){this.activeTargetIds=Md()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class y0{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ti(Xt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=bM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new _0),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(bM(t.persistenceKey,r));if(s){const u=Jg.Zi(r,s);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(m0(this.persistenceKey,t));if(i){const r=up.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(m0(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let u=$r.at;if(null!=s)try{const h=JSON.parse(s);Nt("number"==typeof h),u=h}catch(h){Hi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==$r.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new cp(this.currentUser,t,e,i),s=QD(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=QD(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=m0(this.persistenceKey,t),s=new up(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Jg.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return cp.Zi(new dr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return up.Zi(r,e)}yr(t){return g0.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Ee.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),u=[],h=[];return s.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Md();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class XD{constructor(){this.Lr=new _0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new _0,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wM{qr(t){}shutdown(){}}class JD{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dp{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class eI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const u=this.ho(t,e);Ge("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,s),this.fo(t,u,h,i).then(p=>(Ge("RestConnection","Received: ",p),p),p=>{throw kl("RestConnection",`${t} failed with error: `,p,"url: ",u,"request:",i),p})}_o(t,e,i,r,s,u){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ml,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${CM[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,u)=>{const h=new PE;h.setWithCredentials(!0),h.listenOnce(bR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case FE.NO_ERROR:const y=h.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(y)),s(y);break;case FE.TIMEOUT:Ge("Connection",'RPC "'+t+'" timed out'),u(new Ve(me.DEADLINE_EXCEEDED,"Request time out"));break;case FE.HTTP_ERROR:const E=h.getStatus();if(Ge("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const O=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(H)>=0?H:me.UNKNOWN}(I.status);u(new Ve(O,I.message))}else u(new Ve(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ve(me.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ge("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);h.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=yR(),u=vR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new nb({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Ge("Connection","Creating WebChannel: "+p,h);const y=s.createWebChannel(p,h);let E=!1,I=!1;const O=new dp({Hr:H=>{I?Ge("Connection","Not sending because WebChannel is closed:",H):(E||(Ge("Connection","Opening WebChannel transport."),y.open(),E=!0),Ge("Connection","WebChannel sending:",H),y.send(H))},Jr:()=>y.close()}),P=(H,K,re)=>{H.listen(K,We=>{try{re(We)}catch(ot){setTimeout(()=>{throw ot},0)}})};return P(y,fg.EventType.OPEN,()=>{I||Ge("Connection","WebChannel transport opened.")}),P(y,fg.EventType.CLOSE,()=>{I||(I=!0,Ge("Connection","WebChannel transport closed"),O.io())}),P(y,fg.EventType.ERROR,H=>{I||(I=!0,kl("Connection","WebChannel transport errored:",H),O.io(new Ve(me.UNAVAILABLE,"The operation could not be completed")))}),P(y,fg.EventType.MESSAGE,H=>{var K;if(!I){const re=H.data[0];Nt(!!re);const We=re,ot=We.error||(null===(K=We[0])||void 0===K?void 0:K.error);if(ot){Ge("Connection","WebChannel received error:",ot);const Et=ot.status;let bt=function(Ut){const vn=Qi[Ut];if(void 0!==vn)return Mg(vn)}(Et),Lt=ot.message;void 0===bt&&(bt=me.INTERNAL,Lt="Unknown error status: "+Et+" with message "+ot.message),I=!0,O.io(new Ve(bt,Lt)),y.close()}else Ge("Connection","WebChannel received:",re),O.ro(re)}}),P(u,wR.STAT_EVENT,H=>{H.stat===Ga.PROXY?Ge("Connection","Detected buffering proxy"):H.stat===Ga.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function v0(){return typeof window<"u"?window:null}function hp(){return typeof document<"u"?document:null}function jd(n){return new kg(n,!0)}class e_{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class b0{constructor(t,e,i,r,s,u,h,p){this.Hs=t,this.vo=i,this.Vo=r,this.So=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new e_(t,e)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Ee.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Ee.Z)(function*(){if(t.Oo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Ee.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Hi(e.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Ve(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.No.Ro((0,Ee.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Hs.enqueueAndForget(()=>this.Do===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EM extends b0{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=s}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function zT(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:yt(),r=t.targetChange.targetIds||[],s=function(p,y){return p.gt?(Nt(void 0===y||"string"==typeof y),ji.fromBase64String(y||"")):(Nt(void 0===y||y instanceof Uint8Array),ji.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(p){const y=void 0===p.code?me.UNKNOWN:Mg(p.code);return new Ve(y,p.message||"")}(u);e=new kb(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Co(n,i.document.name),s=pr(i.document.updateTime),u=new Ki({mapValue:{fields:i.document.fields}}),h=Jn.newFoundDocument(r,s,u);e=new Xf(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Co(n,i.document),s=i.readTime?pr(i.readTime):Bt.min(),u=Jn.newNoDocument(r,s);e=new Xf([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Co(n,i.document);e=new Xf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,s=new cD(i.count||0);e=new dD(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Bt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Bt.min():s.readTime?pr(s.readTime):Bt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=Jf(this.It),e.addTarget=function(r,s){let u;const h=s.target;return u=Za(h)?{documents:vD(r,h)}:{query:Vb(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=Pb(r,s.resumeToken):s.snapshotVersion.compareTo(Bt.min())>0&&(u.readTime=xd(r,s.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function WT(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=Jf(this.It),e.removeTarget=t,this.Lo(e)}}class kR extends b0{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function GT(n,t){return n&&n.length>0?(Nt(void 0!==t),n.map(e=>function(i,r){let s=pr(i.updateTime?i.updateTime:r);return s.isEqual(Bt.min())&&(s=pr(r)),new SR(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=pr(t.commitTime);return this.listener.tu(i,e)}return Nt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=Jf(this.It),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ep(this.It,i))};this.Lo(e)}}class tI extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.It=r,this.su=!1}iu(){if(this.su)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(me.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So._o(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(me.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class DM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.au("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.au(t)}au(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Hi(e),this.uu=!1):Ge("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class IM{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var p;Xs(u)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ee.Z)(function*(y){const E=st(y);E.wu.add(4),yield Wl(E),E.yu.set("Unknown"),E.wu.delete(4),yield tl(E)}),function(y){return p.apply(this,arguments)})(u))}))}),this.yu=new DM(i,r)}}function tl(n){return C0.apply(this,arguments)}function C0(){return C0=(0,Ee.Z)(function*(n){if(Xs(n))for(const t of n.mu)yield t(!0)}),C0.apply(this,arguments)}function Wl(n){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,Ee.Z)(function*(n){for(const t of n.mu)yield t(!1)}),Qs.apply(this,arguments)}function t_(n,t){const e=st(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),D0(e)?E0(e):$d(e).Oo()&&_u(e,t))}function ql(n,t){const e=st(n),i=$d(e);e._u.delete(t),i.Oo()&&iI(e,t),0===e._u.size&&(i.Oo()?i.$o():Xs(e)&&e.yu.set("Unknown"))}function _u(n,t){n.pu.Mt(t.targetId),$d(n).Ho(t)}function iI(n,t){n.pu.Mt(t),$d(n).Jo(t)}function E0(n){n.pu=new xg({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n._u.get(t)||null}),$d(n).start(),n.yu.cu()}function D0(n){return Xs(n)&&!$d(n).ko()&&n._u.size>0}function Xs(n){return 0===st(n).wu.size}function fp(n){n.pu=void 0}function SM(n){return I0.apply(this,arguments)}function I0(){return I0=(0,Ee.Z)(function*(n){n._u.forEach((t,e)=>{_u(n,t)})}),I0.apply(this,arguments)}function rI(n,t){return n_.apply(this,arguments)}function n_(){return n_=(0,Ee.Z)(function*(n,t){fp(n),D0(n)?(n.yu.lu(t),E0(n)):n.yu.set("Unknown")}),n_.apply(this,arguments)}function S0(n,t,e){return i_.apply(this,arguments)}function i_(){return i_=(0,Ee.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof kb&&2===t.state&&t.cause)try{yield(i=(0,Ee.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield r_(n,i)}else if(t instanceof Xf?n.pu.Gt(t):t instanceof dD?n.pu.Yt(t):n.pu.Wt(t),!e.isEqual(Bt.min()))try{const i=yield Qg(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.pu.te(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(p);y&&r._u.set(p,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const p=r._u.get(h);if(!p)return;r._u.set(h,p.withResumeToken(ji.EMPTY_BYTE_STRING,p.snapshotVersion)),iI(r,h);const y=new Ul(p.target,h,1,p.sequenceNumber);_u(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield r_(n,i)}var i}),i_.apply(this,arguments)}function r_(n,t,e){return A0.apply(this,arguments)}function A0(){return A0=(0,Ee.Z)(function*(n,t,e){if(!qo(t))throw t;n.wu.add(1),yield Wl(n),n.yu.set("Offline"),e||(e=()=>Qg(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield tl(n)}))}),A0.apply(this,arguments)}function AM(n,t){return t().catch(e=>r_(n,e,t))}function Yl(n){return pp.apply(this,arguments)}function pp(){return pp=(0,Ee.Z)(function*(n){const t=st(n),e=nl(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;sI(t);)try{const r=yield qD(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,T0(t,r)}catch(r){yield r_(t,r)}s_(t)&&oI(t)}),pp.apply(this,arguments)}function sI(n){return Xs(n)&&n.du.length<10}function T0(n,t){n.du.push(t);const e=nl(n);e.Oo()&&e.Xo&&e.Zo(t.mutations)}function s_(n){return Xs(n)&&!nl(n).ko()&&n.du.length>0}function oI(n){nl(n).start()}function TM(n){return M0.apply(this,arguments)}function M0(){return M0=(0,Ee.Z)(function*(n){nl(n).nu()}),M0.apply(this,arguments)}function MM(n){return o_.apply(this,arguments)}function o_(){return o_=(0,Ee.Z)(function*(n){const t=nl(n);for(const e of n.du)t.Zo(e.mutations)}),o_.apply(this,arguments)}function x0(n,t,e){return a_.apply(this,arguments)}function a_(){return a_=(0,Ee.Z)(function*(n,t,e){const i=n.du.shift(),r=Lg.from(i,t,e);yield AM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yl(n)}),a_.apply(this,arguments)}function aI(n,t){return l_.apply(this,arguments)}function l_(){return l_=(0,Ee.Z)(function*(n,t){var e;t&&nl(n).Xo&&(yield(e=(0,Ee.Z)(function*(i,r){if(BT(s=r.code)&&s!==me.ABORTED){const u=i.du.shift();nl(i).Fo(),yield AM(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Yl(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),s_(n)&&oI(n)}),l_.apply(this,arguments)}function k0(n,t){return O0.apply(this,arguments)}function O0(){return O0=(0,Ee.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=Xs(e);e.wu.add(3),yield Wl(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield tl(e)}),O0.apply(this,arguments)}function c_(n,t){return u_.apply(this,arguments)}function u_(){return u_=(0,Ee.Z)(function*(n,t){const e=st(n);t?(e.wu.delete(2),yield tl(e)):t||(e.wu.add(2),yield Wl(e),e.yu.set("Unknown"))}),u_.apply(this,arguments)}function $d(n){return n.Iu||(n.Iu=function(t,e,i){const r=st(t);return r.iu(),new EM(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:SM.bind(null,n),Zr:rI.bind(null,n),zo:S0.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Iu.Fo(),D0(n)?E0(n):n.yu.set("Unknown")):(yield n.Iu.stop(),fp(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function nl(n){return n.Tu||(n.Tu=function(t,e,i){const r=st(t);return r.iu(),new kR(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:TM.bind(null,n),Zr:aI.bind(null,n),eu:MM.bind(null,n),tu:x0.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Tu.Fo(),yield Yl(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class d_{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new d_(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ji(n,t){if(Hi("AsyncQueue",`${t}: ${n}`),qo(n))return new Ve(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Eo{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=ds(),this.sortedSet=new Ti(this.comparator)}static emptySet(t){return new Eo(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class lI{constructor(){this.Eu=new Ti(nt.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):yt():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class zd{constructor(t,e,i,r,s,u,h,p,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new zd(t,e,Eo.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class OR{constructor(){this.Ru=void 0,this.listeners=[]}}class RR{constructor(){this.queries=new ea(t=>Eg(t),Dd),this.onlineState="Unknown",this.bu=new Set}}function h_(n,t){return f_.apply(this,arguments)}function f_(){return f_=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new OR),r)try{s.Ru=yield e.onListen(i)}catch(u){const h=Ji(u,`Initialization of query '${Dg(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Pu(e.onlineState),s.Ru&&t.vu(s.Ru)&&p_(e)}),f_.apply(this,arguments)}function yu(n,t){return R0.apply(this,arguments)}function R0(){return R0=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),R0.apply(this,arguments)}function F0(n,t){const e=st(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.vu(r)&&(i=!0);u.Ru=r}}i&&p_(e)}function xM(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function p_(n){n.bu.forEach(t=>{t.next()})}class P0{constructor(t,e,i){this.query=t,this.Vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new zd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Su?this.Cu(t)&&(this.Vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.Vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||(!this.options.ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=zd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Su=!0,this.Vu.next(t)}}class kM{constructor(t,e){this.payload=t,this.byteLength=e}Ou(){return"metadata"in this.payload}}class cI{constructor(t){this.It=t}Ji(t){return Co(this.It,t)}Yi(t){return t.metadata.exists?yD(this.It,t.document,!1):Jn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return pr(t)}}class N0{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=L0(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=On.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new cI(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||an()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,Ee.Z)(function*(){const e=yield function ZD(n,t,e,i){return p0.apply(this,arguments)}(t.localStore,new cI(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield vM(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function L0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class V0{constructor(t){this.key=t}}class mp{constructor(t){this.key=t}}class m_{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=an(),this.mutatedKeys=an(),this.Gu=Ag(t),this.Qu=new Eo(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new lI,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,I)=>{const O=r.get(E),P=Ig(this.query,I)?I:null,H=!!O&&this.mutatedKeys.has(O.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let re=!1;O&&P?O.data.isEqual(P.data)?H!==K&&(i.track({type:3,doc:P}),re=!0):this.Hu(O,P)||(i.track({type:2,doc:P}),re=!0,(p&&this.Gu(P,p)>0||y&&this.Gu(P,y)<0)&&(h=!0)):!O&&P?(i.track({type:0,doc:P}),re=!0):O&&!P&&(i.track({type:1,doc:O}),re=!0,(p||y)&&(h=!0)),re&&(P?(u=u.add(P),s=K?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{Qu:u,zu:i,$i:h,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Au();s.sort((y,E)=>function(I,O){const P=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return P(I)-P(O)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==s.length||p?{snapshot:new zd(this.query,t.Qu,r,s,t.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new lI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=an(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new mp(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new V0(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=an();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return zd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class FR{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class uI{constructor(t){this.key=t,this.nc=!1}}class OM{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new ea(h=>Eg(h),Dd),this.rc=new Map,this.oc=new Set,this.uc=new Ti(nt.comparator),this.cc=new Map,this.ac=new Wg,this.hc={},this.lc=new Map,this.fc=zl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function dI(n,t){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,Ee.Z)(function*(n,t){const e=wI(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield gu(e.localStore,Sr(t));e.isPrimaryClient&&t_(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield B0(e,t,i,"current"===h,u.resumeToken)}return r}),Zl.apply(this,arguments)}function B0(n,t,e,i,r){return g_.apply(this,arguments)}function g_(){return g_=(0,Ee.Z)(function*(n,t,e,i,r){n._c=(I,O,P)=>{return(H=(0,Ee.Z)(function*(K,re,We,ot){let Et=re.view.Wu(We);Et.$i&&(Et=yield Xg(K.localStore,re.query,!1).then(({documents:Ut})=>re.view.Wu(Ut,Et)));const bt=ot&&ot.targetChanges.get(re.targetId),Lt=re.view.applyChanges(Et,K.isPrimaryClient,bt);return w_(K,re.targetId,Lt.Xu),Lt.snapshot}),function(K,re,We,ot){return H.apply(this,arguments)})(n,I,O,P);var H};const s=yield Xg(n.localStore,t,!0),u=new m_(t,s.Hi),h=u.Wu(s.documents),p=Qf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,p);w_(n,e,y.Xu);const E=new FR(t,e,u);return n.ic.set(t,E),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),g_.apply(this,arguments)}function U0(n,t){return hI.apply(this,arguments)}function hI(){return hI=(0,Ee.Z)(function*(n,t){const e=st(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Dd(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ql(e.remoteStore,i.targetId),vu(e,i.targetId)}).catch(Ol))):(vu(e,i.targetId),yield Hd(e.localStore,i.targetId,!0))}),hI.apply(this,arguments)}function fI(){return fI=(0,Ee.Z)(function*(n,t,e){const i=Y0(n);try{const r=yield function(s,u){const h=st(s),p=En.now(),y=u.reduce((O,P)=>O.add(P.key),an());let E,I;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let P=us(),H=an();return h.Gi.getEntries(O,y).next(K=>{P=K,P.forEach((re,We)=>{We.isValidDocument()||(H=H.add(re))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,P)).next(K=>{E=K;const re=[];for(const We of u){const ot=VT(We,E.get(We.key).overlayedDocument);null!=ot&&re.push(new Xa(We.key,ot,Ds(ot.value.mapValue),Si.exists(!0)))}return h.mutationQueue.addMutationBatch(O,p,re,u)}).next(K=>{I=K;const re=K.applyToLocalDocumentSet(E,H);return h.documentOverlayCache.saveOverlays(O,K.batchId,re)})}).then(()=>({batchId:I.batchId,changes:Zs(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let p=s.hc[s.currentUser.toKey()];p||(p=new Ti(Xt)),p=p.insert(u,h),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Kl(i,r.changes),yield Yl(i.remoteStore)}catch(r){const s=Ji(r,"Failed to persist write");e.reject(s)}}),fI.apply(this,arguments)}function pI(n,t){return H0.apply(this,arguments)}function H0(){return H0=(0,Ee.Z)(function*(n,t){const e=st(n);try{const i=yield WD(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.cc.get(s);u&&(Nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Nt(u.nc):r.removedDocuments.size>0&&(Nt(u.nc),u.nc=!1))}),yield Kl(e,i,t)}catch(i){yield Ol(i)}}),H0.apply(this,arguments)}function mI(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,u)=>{const h=u.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=st(s);h.onlineState=u;let p=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Pu(u)&&(p=!0)}),p&&p_(h)}(i.eventManager,t),r.length&&i.sc.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function gI(n,t,e){return __.apply(this,arguments)}function __(){return __=(0,Ee.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let u=new Ti(nt.comparator);u=u.insert(s,Jn.newNoDocument(s,Bt.min()));const h=an().add(s),p=new Ja(Bt.min(),new Map,new Dn(Xt),u,h);yield pI(i,p),i.uc=i.uc.remove(s),i.cc.delete(t),G0(i)}else yield Hd(i.localStore,t,!1).then(()=>vu(i,t,e)).catch(Ol)}),__.apply(this,arguments)}function FM(n,t){return y_.apply(this,arguments)}function y_(){return y_=(0,Ee.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield GD(e.localStore,t);b_(e,i,null),$0(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Kl(e,r)}catch(r){yield Ol(r)}}),y_.apply(this,arguments)}function _I(n,t,e){return j0.apply(this,arguments)}function j0(){return j0=(0,Ee.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(s,u){const h=st(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(E=>(Nt(null!==E),y=E.keys(),h.mutationQueue.removeMutationBatch(p,E))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,t);b_(i,t,e),$0(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Kl(i,r)}catch(r){yield Ol(r)}}),j0.apply(this,arguments)}function v_(){return v_=(0,Ee.Z)(function*(n,t){const e=st(n);Xs(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=st(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Ji(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),v_.apply(this,arguments)}function $0(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function b_(n,t,e){const i=st(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function vu(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||z0(n,i)})}function z0(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(ql(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),G0(n))}function w_(n,t,e){for(const i of e)i instanceof V0?(n.ac.addReference(i.key,t),NM(n,i)):i instanceof mp?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||z0(n,i.key)):yt()}function NM(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Ge("SyncEngine","New document in limbo: "+e),n.oc.add(i),G0(n))}function G0(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new nt(On.fromString(t)),i=n.fc.next();n.cc.set(i,new uI(e)),n.uc=n.uc.insert(e,i),t_(n.remoteStore,new Ul(Sr(Cd(e.path)),i,2,$r.at))}}function Kl(n,t,e){return C_.apply(this,arguments)}function C_(){return C_=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=[],s=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,p)=>{u.push(i._c(p,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const E=$D.Ci(p.targetId,y);s.push(E)}}))}),yield Promise.all(u),i.sc.zo(r),yield(h=(0,Ee.Z)(function*(p,y){const E=st(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>de.forEach(y,O=>de.forEach(O.Si,P=>E.persistence.referenceDelegate.addReference(I,O.targetId,P)).next(()=>de.forEach(O.Di,P=>E.persistence.referenceDelegate.removeReference(I,O.targetId,P)))))}catch(I){if(!qo(I))throw I;Ge("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const O=I.targetId;if(!I.fromCache){const P=E.Ui.get(O),K=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);E.Ui=E.Ui.insert(O,K)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,s))}),C_.apply(this,arguments)}function PR(n,t){return yI.apply(this,arguments)}function yI(){return yI=(0,Ee.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const i=yield Kg(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Ve(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Kl(e,i.ji)}var r}),yI.apply(this,arguments)}function NR(n,t){const e=st(n),i=e.cc.get(t);if(i&&i.nc)return an().add(i.key);{let r=an();const s=e.rc.get(t);if(!s)return r;for(const u of s){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function LR(n,t){return vI.apply(this,arguments)}function vI(){return vI=(0,Ee.Z)(function*(n,t){const e=st(n),i=yield Xg(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&w_(e,t.targetId,r.Xu),r}),vI.apply(this,arguments)}function VR(n,t){return bI.apply(this,arguments)}function bI(){return bI=(0,Ee.Z)(function*(n,t){const e=st(n);return f0(e.localStore,t).then(i=>Kl(e,i))}),bI.apply(this,arguments)}function BR(n,t,e,i){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,Ee.Z)(function*(n,t,e,i){const r=st(n),s=yield function(u,h){const p=st(u),y=st(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Tn(E,h).next(I=>I?p.localDocuments.getDocuments(E,I):de.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield Yl(r.remoteStore):"acknowledged"===e||"rejected"===e?(b_(r,t,i||null),$0(r,t),h=t,st(st(r.localStore).mutationQueue).An(h)):yt(),yield Kl(r,s)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),Gd.apply(this,arguments)}function E_(){return E_=(0,Ee.Z)(function*(n,t){const e=st(n);if(wI(e),Y0(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield gp(e,i.toArray());e.dc=!0,yield c_(e.remoteStore,!0);for(const s of r)t_(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(vu(e,u),Hd(e.localStore,u,!0))),ql(e.remoteStore,u)}),yield r,yield gp(e,i),function(s){const u=st(s);u.cc.forEach((h,p)=>{ql(u.remoteStore,p)}),u.ac.fs(),u.cc=new Map,u.uc=new Ti(nt.comparator)}(e),e.dc=!1,yield c_(e.remoteStore,!1)}}),E_.apply(this,arguments)}function gp(n,t,e){return D_.apply(this,arguments)}function D_(){return D_=(0,Ee.Z)(function*(n,t,e){const i=st(n),r=[],s=[];for(const u of t){let h;const p=i.rc.get(u);if(p&&0!==p.length){h=yield gu(i.localStore,Sr(p[0]));for(const y of p){const E=i.ic.get(y),I=yield LR(i,E);I.snapshot&&s.push(I.snapshot)}}else{const y=yield YD(i.localStore,u);h=yield gu(i.localStore,y),yield B0(i,W0(y),u,!1,h.resumeToken)}r.push(h)}return i.sc.zo(s),r}),D_.apply(this,arguments)}function W0(n){return Cg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HR(n){const t=st(n);return st(st(t.localStore).persistence).vi()}function q0(n,t,e,i){return I_.apply(this,arguments)}function I_(){return I_=(0,Ee.Z)(function*(n,t,e,i){const r=st(n);if(r.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield f0(r.localStore,Sg(s[0])),h=Ja.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ji.EMPTY_BYTE_STRING);yield Kl(r,u,h);break}case"rejected":yield Hd(r.localStore,t,!0),vu(r,t,i);break;default:yt()}}),I_.apply(this,arguments)}function LM(n,t,e){return S_.apply(this,arguments)}function S_(){return S_=(0,Ee.Z)(function*(n,t,e){const i=wI(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const s=yield YD(i.localStore,r),u=yield gu(i.localStore,s);yield B0(i,W0(s),u.targetId,!1,u.resumeToken),t_(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield Hd(i.localStore,r,!1).then(()=>{ql(i.remoteStore,r),vu(i,r)}).catch(Ol))}}),S_.apply(this,arguments)}function wI(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gI.bind(null,t),t.sc.zo=F0.bind(null,t.eventManager),t.sc.wc=xM.bind(null,t.eventManager),t}function Y0(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_I.bind(null,t),t}class CI{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ee.Z)(function*(){e.It=jd(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return zD(this.persistence,new l0,t.initialUser,this.It)}yc(t){return new r0(qg.Bs,this.It)}gc(t){return new XD}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class _p extends CI{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Y0(i.Ac.syncEngine),yield Yl(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return zD(this.persistence,new l0,t.initialUser,this.It)}Tc(t,e){return new cM(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new DR(e,this.persistence);return new yg(t.asyncQueue,i)}yc(t){const e=a0(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new Zg(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,v0(),hp(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new XD}}class BM extends _p{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof y0&&(i.sharedClientState.syncEngine={Fr:BR.bind(null,r),$r:q0.bind(null,r),Br:LM.bind(null,r),vi:HR.bind(null,r),Mr:VR.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Ee.Z)(function*(u){yield function UR(n,t){return E_.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(t){const e=v0();if(!y0.C(e))throw new Ve(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=a0(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new y0(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class EI{initialize(t,e){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>mI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,i.syncEngine),yield c_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new RR}createDatastore(t){const e=jd(t.databaseInfo.databaseId),i=new eI(t.databaseInfo);return new tI(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>mI(this.syncEngine,h,0),u=JD.C()?new JD:new wM,new IM(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,p,y){const E=new OM(i,r,s,u,h,p);return y&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ee.Z)(function*(e){const i=st(e);Ge("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Wl(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function DI(n,t,e){if(!e)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function UM(n,t,e,i){if(!0===t&&!0===i)throw new Ve(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function II(n){if(!nt.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SI(n){if(nt.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function A_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}function Tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ve(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=A_(n);throw new Ve(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function AI(n,t){if(t<=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const Z0=new Map;class K0{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ve(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ve(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,UM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class T_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new LE;switch(e.type){case"gapi":return new ab(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ve(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Z0.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),Z0.delete(t),e.terminate())}(this),Promise.resolve()}}function Js(n,t,e,i={}){var r;const s=(n=Tn(n,T_))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&kl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=dr.MOCK_USER;else{u=(0,hn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ve(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new dr(p)}n._authCredentials=new sb(new rb(u,h))}}class pi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pi(this.firestore,t,this._key)}}class Tr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Tr(this.firestore,t,this._query)}}class sa extends Tr{constructor(t,e,i){super(t,e,Cd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pi(this.firestore,null,new nt(t))}withConverter(t){return new sa(this.firestore,t,this._path)}}function Is(n,t,...e){if(n=(0,hn.m9)(n),DI("collection","path",t),n instanceof T_){const i=On.fromString(t,...e);return SI(i),new sa(n,null,i)}{if(!(n instanceof pi||n instanceof sa))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(t,...e));return SI(i),new sa(n.firestore,null,i)}}function Wd(n,t,...e){if(n=(0,hn.m9)(n),1===arguments.length&&(t=HE.R()),DI("doc","path",t),n instanceof T_){const i=On.fromString(t,...e);return II(i),new pi(n,null,new nt(i))}{if(!(n instanceof pi||n instanceof sa))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(t,...e));return II(i),new pi(n.firestore,n instanceof sa?n.converter:null,new nt(i))}}function TI(n,t){return n=(0,hn.m9)(n),t=(0,hn.m9)(t),(n instanceof pi||n instanceof sa)&&(t instanceof pi||t instanceof sa)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Q0(n,t){return n=(0,hn.m9)(n),t=(0,hn.m9)(t),n instanceof Tr&&t instanceof Tr&&n.firestore===t.firestore&&Dd(n._query,t._query)&&n.converter===t.converter}function M_(n,t=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class MI{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new Ri,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new kM(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Ee.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class jM{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ve(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(s,u){const h=st(s),p=Jf(h.It)+"/documents",y={documents:u.map(P=>kd(h.It,P))},E=yield h._o("BatchGetDocuments",p,y,u.length),I=new Map;E.forEach(P=>{const H=function $T(n,t){return"found"in t?function(e,i){Nt(!!i.found);const r=Co(e,i.found.name),s=pr(i.found.updateTime),u=new Ki({mapValue:{fields:i.found.fields}});return Jn.newFoundDocument(r,s,u)}(n,t):"missing"in t?function(e,i){Nt(!!i.missing),Nt(!!i.readTime);const r=Co(e,i.missing),s=pr(i.readTime);return Jn.newNoDocument(r,s)}(n,t):yt()}(h.It,P);I.set(H.key.toString(),H)});const O=[];return u.forEach(P=>{const H=I.get(P.toString());Nt(!!H),O.push(H)}),O}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ad(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=nt.fromPath(r);t.mutations.push(new Mb(s,t.precondition(s)))}),yield(i=(0,Ee.Z)(function*(r,s){const u=st(r),h=Jf(u.It)+"/documents",p={writes:s.map(y=>ep(u.It,y))};yield u.ao("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw yt();e=Bt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ve(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Bt.min())?Si.exists(!1):Si.updateTime(e):Si.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bt.min()))throw new Ve(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Si.updateTime(e)}return Si.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class OI{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.No=new e_(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.No.Ro((0,Ee.Z)(function*(){const e=new jM(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!jf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!BT(e)}return!1}}class $M{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=dr.UNAUTHENTICATED,this.clientId=HE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ee.Z)(function*(h){Ge("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ji(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function x_(n,t){return oa.apply(this,arguments)}function oa(){return oa=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(s){i.isEqual(s)||(yield Kg(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),oa.apply(this,arguments)}function X0(n,t){return vp.apply(this,arguments)}function vp(){return vp=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Do(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>k0(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>k0(t.remoteStore,s)),n.onlineComponents=t}),vp.apply(this,arguments)}function Do(n){return J0.apply(this,arguments)}function J0(){return J0=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield x_(n,new CI)),n.offlineComponents}),J0.apply(this,arguments)}function ew(n){return tw.apply(this,arguments)}function tw(){return tw=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield X0(n,new EI)),n.onlineComponents}),tw.apply(this,arguments)}function RI(n){return Do(n).then(t=>t.persistence)}function k_(n){return Do(n).then(t=>t.localStore)}function nw(n){return ew(n).then(t=>t.remoteStore)}function O_(n){return ew(n).then(t=>t.syncEngine)}function bu(n){return iw.apply(this,arguments)}function iw(){return iw=(0,Ee.Z)(function*(n){const t=yield ew(n),e=t.eventManager;return e.onListen=dI.bind(null,t.syncEngine),e.onUnlisten=U0.bind(null,t.syncEngine),e}),iw.apply(this,arguments)}function sw(n,t,e={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,u,h,p){const y=new yp({next:I=>{s.enqueueAndForget(()=>yu(r,E));const O=I.docs.has(u);!O&&I.fromCache?p.reject(new Ve(me.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&h&&"server"===h.source?p.reject(new Ve(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new P0(Cd(u.path),y,{includeMetadataChanges:!0,ku:!0});return h_(r,E)}(yield bu(n),n.asyncQueue,t,e,i)})),i.promise}function ow(n,t,e={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,u,h,p){const y=new yp({next:I=>{s.enqueueAndForget(()=>yu(r,E)),I.fromCache&&"server"===h.source?p.reject(new Ve(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new P0(u,y,{includeMetadataChanges:!0,ku:!0});return h_(r,E)}(yield bu(n),n.asyncQueue,t,e,i)})),i.promise}class F_{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new e_(this,"async_queue_retry"),this.Wc=()=>{const e=hp();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=hp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=hp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new Ri;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.No.reset()}catch(e){if(!qo(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.No.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=d_.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&yt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Ee.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function P_(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class GM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ci extends T_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new F_,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qM(this),this._firestoreClient.terminate()}}function WM(n,t){const e="object"==typeof n?n:(0,Hs.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Hs._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,hn.P0)("firestore");s&&Js(r,...s)}return r}function er(n){return n._firestoreClient||qM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qM(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new IR(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new $M(n._authCredentials,n._appCheckCredentials,n._queue,i)}function UI(n,t,e){const i=new Ri;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield x_(n,e),yield X0(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;kl("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function bp(n){if(n._initialized||n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class aa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new aa(ji.fromBase64String(t))}catch(e){throw new Ve(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new aa(ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class il{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ve(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function HI(){return new il("__name__")}class Ss{constructor(t){this._methodName=t}}class wp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ve(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ve(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}const aw=/^__.*__$/;class lw{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Xa(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)}}class jI{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Xa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function N_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class qd{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new qd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Zd(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(N_(this.sa)&&aw.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class L_{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||jd(t)}da(t,e,i,r=!1){return new qd({sa:t,methodName:e,fa:i,path:Ii.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yd(n){const t=n._freezeSettings(),e=jd(n._databaseId);return new L_(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cw(n,t,e,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,t,e,r);H_("Data must be an object, but it was:",u,i);const h=$I(i,u);let p,y;if(s.merge)p=new Nr(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const I of s.mergeFields){const O=Cp(t,I,e);if(!u.contains(O))throw new Ve(me.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);GI(E,O)||E.push(O)}p=new Nr(E),y=u.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=u.fieldTransforms;return new lw(new Ki(h),p,y)}class V_ extends Ss{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof V_}}function QM(n,t,e){return new qd({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class B_ extends Ss{_toFieldTransform(t){return new Id(t.path,new ou)}isEqual(t){return t instanceof B_}}class XM extends Ss{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=QM(this,t,!0),i=this._a.map(s=>Ql(s,e)),r=new Jo(i);return new Id(t.path,r)}isEqual(t){return this===t}}class JM extends Ss{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=QM(this,t,!0),i=this._a.map(s=>Ql(s,e)),r=new Bl(i);return new Id(t.path,r)}isEqual(t){return this===t}}class ex extends Ss{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new au(t.It,wb(t.It,this.wa));return new Id(t.path,e)}isEqual(t){return this===t}}function uw(n,t,e,i){const r=n.da(1,t,e);H_("Data must be an object, but it was:",r,i);const s=[],u=Ki.empty();Rl(i,(p,y)=>{const E=Ep(t,p,e);y=(0,hn.m9)(y);const I=r.ca(E);if(y instanceof V_)s.push(E);else{const O=Ql(y,I);null!=O&&(s.push(E),u.set(E,O))}});const h=new Nr(s);return new jI(u,h,r.fieldTransforms)}function U_(n,t,e,i,r,s){const u=n.da(1,t,e),h=[Cp(t,i,e)],p=[r];if(s.length%2!=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(Cp(t,s[O])),p.push(s[O+1]);const y=[],E=Ki.empty();for(let O=h.length-1;O>=0;--O)if(!GI(y,h[O])){const P=h[O];let H=p[O];H=(0,hn.m9)(H);const K=u.ca(P);if(H instanceof V_)y.push(P);else{const re=Ql(H,K);null!=re&&(y.push(P),E.set(P,re))}}const I=new Nr(y);return new jI(E,I,u.fieldTransforms)}function dw(n,t,e,i=!1){return Ql(e,n.da(i?4:3,t))}function Ql(n,t){if(zI(n=(0,hn.m9)(n)))return H_("Unsupported field value:",t,n),$I(n,t);if(n instanceof Ss)return function(e,i){if(!N_(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=Ql(u,i.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,hn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wb(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=En.fromDate(e);return{timestampValue:xd(i.It,r)}}if(e instanceof En){const r=new En(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xd(i.It,r)}}if(e instanceof wp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aa)return{bytesValue:Pb(i.It,e._byteString)};if(e instanceof pi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Og(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${A_(e)}`)}(n,t)}function $I(n,t){const e={};return hb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rl(n,(i,r)=>{const s=Ql(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function zI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof En||n instanceof wp||n instanceof aa||n instanceof pi||n instanceof Ss)}function H_(n,t,e){if(!zI(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=A_(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Cp(n,t,e){if((t=(0,hn.m9)(t))instanceof il)return t._internalPath;if("string"==typeof t)return Ep(n,t);throw Zd("Field path arguments must be of type string or ",n,!1,void 0,e)}const ZR=new RegExp("[~\\*/\\[\\]]");function Ep(n,t,e){if(t.search(ZR)>=0)throw Zd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new il(...t.split("."))._internalPath}catch{throw Zd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Zd(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Ve(me.INVALID_ARGUMENT,h+n+p)}function GI(n,t){return n.some(e=>e.isEqual(t))}class Dp{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new KR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class KR extends Dp{data(){return super.data()}}function hw(n,t){return"string"==typeof t?Ep(n,t):t instanceof il?t._internalPath:t._delegate._internalPath}function WI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ip{}function Xl(n,...t){for(const e of t)n=e._apply(n);return n}class QR extends Ip{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Yd(t.firestore),i=function(r,s,u,h,p,y,E){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){d(E,y);const P=[];for(const H of E)P.push(c(h,r,H));I={arrayValue:{values:P}}}else I=c(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||d(E,y),I=dw(u,"where",E,"in"===y||"not-in"===y);const O=Ir.create(p,y,I);return function(P,H){if(H.dt()){const re=qf(P);if(null!==re&&!re.isEqual(H.field))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${re.toString()}' and '${H.field.toString()}'`);const We=Ed(P);null!==We&&f(0,H.field,We)}const K=function(re,We){for(const ot of re.filters)if(We.indexOf(ot.op)>=0)return ot.op;return null}(P,function(re){switch(re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==K)throw new Ve(me.INVALID_ARGUMENT,K===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${K.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Tr(t.firestore,t.converter,function(r,s){const u=r.filters.concat([s]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class JR extends Ip{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new wd(r,s);return function(h,p){if(null===Ed(h)){const y=qf(h);null!==y&&f(0,y,p.field)}}(i,u),u}(t._query,this.ma,this.pa);return new Tr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new wo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class tx extends Ip{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new Tr(t.firestore,t.converter,Yf(t._query,this.Ia,this.Ta))}}class ix extends Ip{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=a(t,this.type,this.Ea,this.Aa);return new Tr(t.firestore,t.converter,(r=e,new wo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class rx extends Ip{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=a(t,this.type,this.Ea,this.Aa);return new Tr(t.firestore,t.converter,(r=e,new wo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function a(n,t,e,i){if(e[0]=(0,hn.m9)(e[0]),e[0]instanceof Dp)return function(r,s,u,h,p){if(!h)throw new Ve(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of Qa(r))if(E.field.isKeyField())y.push(Ko(s,h.key));else{const I=h.data.field(E.field);if(fb(I))throw new Ve(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=E.field.canonicalString();throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}y.push(I)}return new Vl(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Yd(n.firestore);return function(s,u,h,p,y,E){const I=s.explicitOrderBy;if(y.length>I.length)throw new Ve(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let P=0;P<y.length;P++){const H=y[P];if(I[P].field.isKeyField()){if("string"!=typeof H)throw new Ve(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof H}`);if(!yb(s)&&-1!==H.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${H}' contains a slash.`);const K=s.path.child(On.fromString(H));if(!nt.isDocumentKey(K))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const re=new nt(K);O.push(Ko(u,re))}else{const K=dw(h,p,H);O.push(K)}}return new Vl(O,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function c(n,t,e){if("string"==typeof(e=(0,hn.m9)(e))){if(""===e)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yb(t)&&-1!==e.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(On.fromString(e));if(!nt.isDocumentKey(i))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ko(n,new nt(i))}if(e instanceof pi)return Ko(n,e._key);throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A_(e)}.`)}function d(n,t){if(!Array.isArray(n)||0===n.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function f(n,t,e){if(!e.isEqual(t))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class m{convertValue(t,e="none"){switch(qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){const i={};return Rl(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new wp(Fi(t.latitude),Fi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=PT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Hf(t));default:return null}}convertTimestamp(t){const e=Fl(t);return new En(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=On.fromString(t);Nt(Bb(i));const r=new Pl(i.get(1),i.get(3)),s=new nt(i.popFirst(5));return r.isEqual(e)||Hi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function v(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class w extends m{constructor(t){super(),this.firestore=t}convertBytes(t){return new aa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pi(this.firestore,null,e)}}class D{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class S extends Dp{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new M(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(hw("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class M extends S{data(t={}){return super.data(t)}}class U{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new D(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new M(this._firestore,this._userDataWriter,i.key,i,new D(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ve(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new M(i._firestore,i._userDataWriter,u.doc.key,u.doc,new D(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new M(i._firestore,i._userDataWriter,u.doc.key,u.doc,new D(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:Y(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Y(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function oe(n,t){return n instanceof S&&t instanceof S?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof U&&t instanceof U&&n._firestore===t._firestore&&Q0(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class $e extends m{constructor(t){super(),this.firestore=t}convertBytes(t){return new aa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pi(this.firestore,null,e)}}function Pn(n,t,e){n=Tn(n,pi);const i=Tn(n.firestore,ci),r=v(n.converter,t,e);return Jl(i,[cw(Yd(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Si.none())])}function mi(n,t,e,...i){n=Tn(n,pi);const r=Tn(n.firestore,ci),s=Yd(r);let u;return u="string"==typeof(t=(0,hn.m9)(t))||t instanceof il?U_(s,"updateDoc",n._key,t,e,i):uw(s,"updateDoc",n._key,t),Jl(r,[u.toMutation(n._key,Si.exists(!0))])}function j_(n,...t){var e,i,r;n=(0,hn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||P_(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(P_(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,E;if(n instanceof pi)y=Tn(n.firestore,ci),E=Cd(n._key.path),p={next:I=>{t[u]&&t[u](Sp(y,n,I))},error:t[u+1],complete:t[u+2]};else{const I=Tn(n,Tr);y=Tn(I.firestore,ci),E=I._query;const O=new $e(y);p={next:P=>{t[u]&&t[u](new U(y,O,I,P))},error:t[u+1],complete:t[u+2]},WI(n._query)}return function(I,O,P,H){const K=new yp(H),re=new P0(O,K,P);return I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return h_(yield bu(I),re)})),()=>{K.bc(),I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return yu(yield bu(I),re)}))}}(er(y),E,h,p)}function Jl(n,t){return function(e,i){const r=new Ri;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function RM(n,t,e){return fI.apply(this,arguments)}(yield O_(e),i,r)})),r.promise}(er(n),t)}function Sp(n,t,e){const i=e.docs.get(t._key),r=new $e(n);return new S(n,r,t._key,i,new D(e.hasPendingWrites,e.fromCache),t.converter)}const mw={maxAttempts:5};class $_{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Yd(t)}set(t,e,i){this._verifyNotCommitted();const r=Kd(t,this._firestore),s=v(r.converter,e,i),u=cw(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Si.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Kd(t,this._firestore);let u;return u="string"==typeof(e=(0,hn.m9)(e))||e instanceof il?U_(this._dataReader,"WriteBatch.update",s._key,e,i,r):uw(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,Si.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Kd(t,this._firestore);return this._mutations=this._mutations.concat(new Ad(e._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(n,t){if((n=(0,hn.m9)(n)).firestore!==t)throw new Ve(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class M2 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Yd(t)}get(t){const e=Kd(t,this._firestore),i=new w(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return yt();const s=r[0];if(s.isFoundDocument())return new Dp(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Dp(this._firestore,i,e._key,null,e.converter);throw yt()})}set(t,e,i){const r=Kd(t,this._firestore),s=v(r.converter,e,i),u=cw(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=Kd(t,this._firestore);let u;return u="string"==typeof(e=(0,hn.m9)(e))||e instanceof il?U_(this._dataReader,"Transaction.update",s._key,e,i,r):uw(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=Kd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Kd(t,this._firestore),i=new $e(this._firestore);return super.get(t).then(r=>new S(this._firestore,i,e._key,r._document,new D(!1,!1),e.converter))}}function sx(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function a1(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function l1(){if(!function FT(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Ml=Hs.SDK_VERSION,(0,Hs._registerComponent)(new Zi.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new ci(new ob(e.getProvider("auth-internal")),new CR(e.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ve(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Hs.registerVersion)(pg,"3.7.0",n),(0,Hs.registerVersion)(pg,"3.7.0","esm2017")}();class gw{constructor(t){this._delegate=t}static fromBase64String(t){return l1(),new gw(aa.fromBase64String(t))}static fromUint8Array(t){return a1(),new gw(aa.fromUint8Array(t))}toBase64(){return l1(),this._delegate.toBase64()}toUint8Array(){return a1(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ox(n){return function V2(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class B2{enableIndexedDbPersistence(t,e){return function BI(n,t){bp(n=Tn(n,ci));const e=er(n),i=n._freezeSettings(),r=new EI;return UI(e,r,new _p(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function YM(n){bp(n=Tn(n,ci));const t=er(n),e=n._freezeSettings(),i=new EI;return UI(t,i,new BM(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function ZM(n){if(n._initialized&&!n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(i){if(!vo.C())return Promise.resolve();const r=i+"main";yield vo.delete(r)}),function(i){return e.apply(this,arguments)})(a0(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class c1{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Pl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&kl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){Js(this._delegate,t,e,i)}enableNetwork(){return function WR(n){return function FI(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield RI(n),e=yield nw(n);return t.setNetworkEnabled(!0),function(i){const r=st(i);return r.wu.delete(0),tl(r)}(e)}))}(er(n=Tn(n,ci)))}(this._delegate)}disableNetwork(){return function qR(n){return function $R(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield RI(n),e=yield nw(n);return t.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const s=st(r);s.wu.add(0),yield Wl(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(er(n=Tn(n,ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,UM("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GR(n){return function(t){const e=new Ri;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function PM(n,t){return v_.apply(this,arguments)}(yield O_(t),e)})),e.promise}(er(n=Tn(n,ci)))}(this._delegate)}onSnapshotsInSync(t){return function pw(n,t){return function NI(n,t){const e=new yp(t);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield bu(n),r=e,st(i).bu.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield bu(n),r=e,void st(i).bu.delete(r);var i,r}))}}(er(n=Tn(n,ci)),P_(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new z_(this,Is(this._delegate,t))}catch(e){throw As(e,"collection()","Firestore.collection()")}}doc(t){try{return new la(this,Wd(this._delegate,t))}catch(e){throw As(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ts(this,function HM(n,t){if(n=Tn(n,T_),DI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tr(n,null,(e=t,new wo(On.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw As(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function x2(n,t,e){n=Tn(n,ci);const i=Object.assign(Object.assign({},mw),e);return function(r){if(r.maxAttempts<1)throw new Ve(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new Ri;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const p=yield function zM(n){return ew(n).then(t=>t.datastore)}(r);new OI(r.asyncQueue,p,u,s,h).run()})),h.promise}(er(n),r=>t(new M2(n,r)),i)}(this._delegate,e=>t(new u1(this,e)))}batch(){return er(this._delegate),new d1(new $_(this._delegate,t=>Jl(this._delegate,t)))}loadBundle(t){return function YR(n,t){const e=er(n=Tn(n,ci)),i=new GM;return function LI(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return M_(p,y);if(p instanceof ArrayBuffer)return M_(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new MI(p,u);var p}(e,jd(t));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function VM(n,t,e){const i=st(n);var r;(r=(0,Ee.Z)(function*(s,u,h){try{const p=yield u.getMetadata();if(yield function(O,P){const H=st(O),K=pr(P.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",re=>H.Ns.getBundleMetadata(re,P.id)).then(re=>!!re&&re.createTime.compareTo(K)>=0)}(s.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=p).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(L0(p));const y=new N0(p,s.localStore,u.It);let E=yield u.mc();for(;E;){const O=yield y.Fu(E);O&&h._updateProgress(O),E=yield u.mc()}const I=yield y.complete();return yield Kl(s,I.Lu,void 0),yield function(O,P){const H=st(O);return H.persistence.runTransaction("Save bundle","readwrite",K=>H.Ns.saveBundleMetadata(K,P))}(s.localStore,p),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(p){return kl("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var O}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield O_(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function KM(n,t){return function R_(n,t){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,i){const r=st(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield k_(n),t)}))}(er(n=Tn(n,ci)),t).then(e=>e?new Tr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ts(this,e):null)}}class ZI extends m{constructor(t){super(),this.firestore=t}convertBytes(t){return new gw(new aa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return la.forKey(e,this.firestore,null)}}class u1{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ZI(t)}get(t){const e=Tp(t);return this._delegate.get(e).then(i=>new _w(this._firestore,new S(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Tp(t);return i?(sx("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Tp(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Tp(t);return this._delegate.delete(e),this}}class d1{constructor(t){this._delegate=t}set(t,e,i){const r=Tp(t);return i?(sx("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Tp(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Tp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ap{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new M(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ap.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Ap(t,new ZI(t),e),r.set(e,s)),s}}Ap.INSTANCES=new WeakMap;class la{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ZI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new la(e,new pi(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new la(e,new pi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new z_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new z_(this.firestore,Is(this._delegate,t))}catch(e){throw As(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,hn.m9)(t))instanceof pi&&TI(this._delegate,t)}set(t,e){e=sx("DocumentReference.set",e);try{return e?Pn(this._delegate,t,e):Pn(this._delegate,t)}catch(i){throw As(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?mi(this._delegate,t):mi(this._delegate,t,e,...i)}catch(r){throw As(r,"updateDoc()","DocumentReference.update()")}}delete(){return function wu(n){return Jl(Tn(n.firestore,ci),[new Ad(n._key,Si.none())])}(this._delegate)}onSnapshot(...t){const e=h1(t),i=f1(t,r=>new _w(this.firestore,new S(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return j_(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function it(n){n=Tn(n,pi);const t=Tn(n.firestore,ci),e=er(t),i=new $e(t);return function rw(n,t){const e=new Ri;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,u){try{const h=yield function(p,y){const E=st(p);return E.persistence.runTransaction("read document","readonly",I=>E.localDocuments.getDocument(I,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ve(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Ji(h,`Failed to get document '${s} from cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield k_(n),t,e);var i})),e.promise}(e,n._key).then(r=>new S(t,i,n._key,r,new D(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function vt(n){n=Tn(n,pi);const t=Tn(n.firestore,ci);return sw(er(t),n._key,{source:"server"}).then(e=>Sp(t,n,e))}(this._delegate):function Me(n){n=Tn(n,pi);const t=Tn(n.firestore,ci);return sw(er(t),n._key).then(e=>Sp(t,n,e))}(this._delegate),e.then(i=>new _w(this.firestore,new S(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new la(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}function As(n,t,e){return n.message=n.message.replace(t,e),n}function h1(n){for(const t of n)if("object"==typeof t&&!ox(t))return t;return{}}function f1(n,t){var e,i;let r;return r=ox(n[0])?n[0]:ox(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class _w{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return oe(this._delegate,t._delegate)}}class yw extends _w{data(t){const e=this._delegate.data(t);return function gd(n,t){n||yt()}(void 0!==e),e}}class Ts{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ZI(t)}where(t,e,i){try{return new Ts(this.firestore,Xl(this._delegate,function XR(n,t,e){const i=t,r=hw("where",n);return new QR(r,i,e)}(t,e,i)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ts(this.firestore,Xl(this._delegate,function e1(n,t="asc"){const e=t,i=hw("orderBy",n);return new JR(i,e)}(t,e)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ts(this.firestore,Xl(this._delegate,function nx(n){return AI("limit",n),new tx("limit",n,"F")}(t)))}catch(e){throw As(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ts(this.firestore,Xl(this._delegate,function t1(n){return AI("limitToLast",n),new tx("limitToLast",n,"L")}(t)))}catch(e){throw As(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ts(this.firestore,Xl(this._delegate,function n1(...n){return new ix("startAt",n,!0)}(...t)))}catch(e){throw As(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ts(this.firestore,Xl(this._delegate,function r1(...n){return new ix("startAfter",n,!1)}(...t)))}catch(e){throw As(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ts(this.firestore,Xl(this._delegate,function s1(...n){return new rx("endBefore",n,!1)}(...t)))}catch(e){throw As(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ts(this.firestore,Xl(this._delegate,function o(...n){return new rx("endAt",n,!0)}(...t)))}catch(e){throw As(e,"endAt()","Query.endAt()")}}isEqual(t){return Q0(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Le(n){n=Tn(n,Tr);const t=Tn(n.firestore,ci),e=er(t),i=new $e(t);return function PI(n,t){const e=new Ri;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,u){try{const h=yield Xg(r,s,!0),p=new m_(s,h.Hi),y=p.Wu(h.documents),E=p.applyChanges(y,!1);u.resolve(E.snapshot)}catch(h){const p=Ji(h,`Failed to execute query '${s} against cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield k_(n),t,e);var i})),e.promise}(e,n._query).then(r=>new U(t,i,n,r))}(this._delegate):"server"===t?.source?function Gt(n){n=Tn(n,Tr);const t=Tn(n.firestore,ci),e=er(t),i=new $e(t);return ow(e,n._query,{source:"server"}).then(r=>new U(t,i,n,r))}(this._delegate):function Ot(n){n=Tn(n,Tr);const t=Tn(n.firestore,ci),e=er(t),i=new $e(t);return WI(n._query),ow(e,n._query).then(r=>new U(t,i,n,r))}(this._delegate),e.then(i=>new ax(this.firestore,new U(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=h1(t),i=f1(t,r=>new ax(this.firestore,new U(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return j_(this._delegate,e,i)}withConverter(t){return new Ts(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}class H2{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new yw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ax{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new yw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new H2(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new yw(this._firestore,i))})}isEqual(t){return oe(this._delegate,t._delegate)}}class z_ extends Ts{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new la(this.firestore,t):null}doc(t){try{return new la(this.firestore,void 0===t?Wd(this._delegate):Wd(this._delegate,t))}catch(e){throw As(e,"doc()","CollectionReference.doc()")}}add(t){return function fw(n,t){const e=Tn(n.firestore,ci),i=Wd(n),r=v(n.converter,t);return Jl(e,[cw(Yd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Si.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new la(this.firestore,e))}isEqual(t){return TI(this._delegate,t._delegate)}withConverter(t){return new z_(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}function Tp(n){return Tn(n,pi)}class lx{constructor(...t){this._delegate=new il(...t)}static documentId(){return new lx(Ii.keyField().canonicalString())}isEqual(t){return(t=(0,hn.m9)(t))instanceof il&&this._delegate._internalPath.isEqual(t._internalPath)}}class Mp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function O2(){return new B_("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Mp(t)}static delete(){const t=function k2(){return new V_("deleteField")}();return t._methodName="FieldValue.delete",new Mp(t)}static arrayUnion(...t){const e=function R2(...n){return new XM("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Mp(e)}static arrayRemove(...t){const e=function F2(...n){return new JM("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Mp(e)}static increment(t){const e=function P2(n){return new ex("increment",n)}(t);return e._methodName="FieldValue.increment",new Mp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const j2={Firestore:c1,GeoPoint:wp,Timestamp:En,Blob:gw,Transaction:u1,WriteBatch:d1,DocumentReference:la,DocumentSnapshot:_w,Query:Ts,QueryDocumentSnapshot:yw,QuerySnapshot:ax,CollectionReference:z_,FieldPath:lx,FieldValue:Mp,setLogLevel:function U2(n){!function NE(n){xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function p1(n,t){return function G2(n,t=nf.z){return new ei.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function cx(n,t){return p1(n,t).pipe((0,qe.U)(e=>({payload:e,type:"query"})))}function KI(n,t){return cx(n,t).pipe(Ci(void 0),Sl(),(0,qe.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(E=>E.doc.ref.isEqual(u.ref)),y=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function m1(n,t,e){return KI(n,e).pipe(Nm((i,r)=>function q2(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Y2(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return ux(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ux(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ux(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Cs(),(0,qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function ux(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function g1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function z2(n){(function $2(n,t){n.INTERNAL.registerComponent(new Zi.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},j2)))})(n,(t,e)=>new c1(t,e,new B2)),n.registerVersion("@firebase/firestore-compat","0.2.0")}(rT.Z);class _1{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=KI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ci(void 0),Sl(),nn(([i,r])=>r.length>0||!i),(0,qe.U)(([i,r])=>r),$t.iC)}auditTrail(t){return this.stateChanges(t).pipe(Nm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=g1(t);return m1(this.query,e,this.afs.schedulers.outsideAngular).pipe($t.iC)}valueChanges(t={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),$t.iC)}get(t){return(0,fn.D)(this.query.get(t)).pipe($t.iC)}add(t){return this.ref.add(t)}doc(t){return new y1(this.ref.doc(t),this.afs)}}class y1{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=v1(i,e);return new _1(r,s,this.afs)}snapshotChanges(){return function W2(n,t){return p1(n,t).pipe(Ci(void 0),Sl(),(0,qe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($t.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,fn.D)(this.ref.get(t)).pipe($t.iC)}}class Z2{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?KI(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),nn(e=>e.length>0),$t.iC):KI(this.query,this.afs.schedulers.outsideAngular).pipe($t.iC)}auditTrail(t){return this.stateChanges(t).pipe(Nm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=g1(t);return m1(this.query,e,this.afs.schedulers.outsideAngular).pipe($t.iC)}valueChanges(t={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),$t.iC)}get(t){return(0,fn.D)(this.query.get(t)).pipe($t.iC)}}const K2=new l.OlP("angularfire2.enableFirestorePersistence"),Q2=new l.OlP("angularfire2.firestore.persistenceSettings"),X2=new l.OlP("angularfire2.firestore.settings"),J2=new l.OlP("angularfire2.firestore.use-emulator");function v1(n,t=(e=>e)){return{query:t(n),ref:n}}let b1=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E,I,O,P,H,K,re,We,ot){this.schedulers=p;const Et=(0,Rr.on)(e,h,i),bt=E;I&&Pm(Et,h,O,H,K,re,P,We),[this.firestore,this.persistenceEnabled$]=(0,Rr.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Lt=h.runOutsideAngular(()=>Et.firestore());if(s&&Lt.settings(s),bt&&Lt.useEmulator(...bt),r&&!Ls(u)){const Ut=()=>{try{return(0,fn.D)(Lt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(vn){return typeof console<"u"&&console.warn(vn),Ke(!1)}};return[Lt,h.runOutsideAngular(Ut)]}return[Lt,Ke(!1)]},[s,bt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=v1(r,i),h=this.schedulers.ngZone.run(()=>s);return new _1(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new Z2(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new y1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rr.Dh),l.LFG(Rr.xv,8),l.LFG(K2,8),l.LFG(X2,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($t.HU),l.LFG(Q2,8),l.LFG(J2,8),l.LFG(tf,8),l.LFG(dv,8),l.LFG(Vc,8),l.LFG($C,8),l.LFG(zC,8),l.LFG(GC,8),l.LFG(WC,8),l.LFG(nd,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vw(n,t=nf.z){return(0,fi.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=u+n,E=t.now();if(E<y)return r=this.schedule(void 0,y-E),void i.add(r);h()}e.subscribe((0,Yn.x)(i,y=>{s=y,u=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}let w1=(()=>{class n{constructor(){this.debounceTime=Cr_defaults.debounceTime}collection(e,{debounceMs:i}={debounceMs:this.debounceTime}){return e.valueChanges({idField:"key"}).pipe(Cs(),vw(i))}doc(e,{debounceMs:i}={debounceMs:this.debounceTime}){return e.valueChanges({idField:"key"}).pipe(Cs(),vw(i))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dx=(()=>{class n{constructor(e,i){this.db=e,this.firebaseHelper=i,this.users=this.db.collection(Cr_firebaseApiUrls.users)}ngOnInit(){}getList(){return this.firebaseHelper.collection(this.users).pipe((0,qe.U)(e=>e.filter(i=>!!i)))}getByKey(e){return this.firebaseHelper.doc(this.db.doc(`${Cr_firebaseApiUrls.users}/${e}`))}create(e){return this.users.add(e)}update(e,i){return this.users.doc(e).update(i)}deleteByKey(e){return this.users.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(b1),l.LFG(w1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:eU}=Array,{getPrototypeOf:tU,prototype:nU,keys:iU}=Object;function C1(n){if(1===n.length){const t=n[0];if(eU(t))return{args:t,keys:null};if(function rU(n){return n&&"object"==typeof n&&tU(n)===nU}(t)){const e=iU(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:sU}=Array;function hx(n){return(0,qe.U)(t=>function oU(n,t){return sU(t)?n(...t):n(t)}(n,t))}function E1(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var aU=F(9672);function fx(...n){const t=(0,Ra.yG)(n),e=(0,Ra.jO)(n),{args:i,keys:r}=C1(n);if(0===i.length)return(0,fn.D)([],t);const s=new ei.y(function lU(n,t,e=ws.y){return i=>{D1(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)D1(t,()=>{const y=(0,fn.D)(n[p],t);let E=!1;y.subscribe((0,Yn.x)(i,I=>{s[p]=I,E||(E=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>E1(r,u):ws.y));return e?s.pipe(hx(e)):s}function D1(n,t,e){n?(0,aU.f)(e,n,t):t()}function Qd(n){return new ei.y(t=>{(0,js.Xf)(n()).subscribe(t)})}var cU=F(9635);function xp(n,t){const e=(0,ls.m)(n)?n:()=>n,i=r=>r.error(e());return new ei.y(t?r=>t.schedule(i,0,r):i)}var Mr=F(727);function px(){return(0,fi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Yn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class mx extends ei.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,fi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Mr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Yn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Mr.w0.EMPTY)}return t}refCount(){return px()(this)}}var Gr=F(5577);function Xd(n,t){return(0,ls.m)(t)?(0,Gr.z)(n,t,1):(0,Gr.z)(n,1)}var ni=F(8505);function ca(n){return(0,fi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Yn.x)(e,void 0,void 0,u=>{s=(0,js.Xf)(n(u,ca(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function gx(n){return n<=0?()=>as.E:(0,fi.e)((t,e)=>{let i=[];t.subscribe((0,Yn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function I1(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,s)=>n(r,s,i)):ws.y,gx(1),e?wl(t):Pa(()=>new Fa))}function S1(n,t=!1){return(0,fi.e)((e,i)=>{let r=0;e.subscribe((0,Yn.x)(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}function A1(n){return(0,qe.U)(()=>n)}function QI(n){return(0,fi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const yn="primary",bw=Symbol("RouteTitle");class uU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function G_(n){return new uU(n)}function dU(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ec(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!T1(n[r],t[r]))return!1;return!0}function T1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function M1(n){return Array.prototype.concat.apply([],n)}function x1(n){return n.length>0?n[n.length-1]:null}function ns(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Jd(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,fn.D)(Promise.resolve(n)):Ke(n)}const pU={exact:function R1(n,t,e){if(!Op(n.segments,t.segments)||!XI(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!R1(n.children[i],t.children[i],e))return!1;return!0},subset:F1},k1={exact:function mU(n,t){return ec(n,t)},subset:function gU(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>T1(n[e],t[e]))},ignored:()=>!0};function O1(n,t,e){return pU[e.paths](n.root,t.root,e.matrixParams)&&k1[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function F1(n,t,e){return P1(n,t,t.segments,e)}function P1(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Op(r,e)||t.hasChildren()||!XI(r,e,i))}if(n.segments.length===e.length){if(!Op(n.segments,e)||!XI(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!F1(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Op(n.segments,r)&&XI(n.segments,r,i)&&n.children[yn])&&P1(n.children[yn],t,s,i)}}function XI(n,t,e){return t.every((i,r)=>k1[e](n[r].parameters,i.parameters))}class kp{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G_(this.queryParams)),this._queryParamMap}toString(){return vU.serialize(this)}}class In{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ns(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JI(this)}}class ww{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=G_(this.parameters)),this._parameterMap}toString(){return B1(this)}}function Op(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let N1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new yx},providedIn:"root"}),n})();class yx{parse(t){const e=new TU(t);return new kp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cw(t.root,!0)}`,i=function CU(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${eS(e)}=${eS(r)}`).join("&"):`${eS(e)}=${eS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function bU(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const vU=new yx;function JI(n){return n.segments.map(t=>B1(t)).join("/")}function Cw(n,t){if(!n.hasChildren())return JI(n);if(t){const e=n.children[yn]?Cw(n.children[yn],!1):"",i=[];return ns(n.children,(r,s)=>{s!==yn&&i.push(`${s}:${Cw(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yU(n,t){let e=[];return ns(n.children,(i,r)=>{r===yn&&(e=e.concat(t(i,r)))}),ns(n.children,(i,r)=>{r!==yn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===yn?[Cw(n.children[yn],!1)]:[`${r}:${Cw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${JI(n)}/${e[0]}`:`${JI(n)}/(${e.join("//")})`}}function L1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eS(n){return L1(n).replace(/%3B/gi,";")}function vx(n){return L1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tS(n){return decodeURIComponent(n)}function V1(n){return tS(n.replace(/\+/g,"%20"))}function B1(n){return`${vx(n.path)}${function wU(n){return Object.keys(n).map(t=>`;${vx(t)}=${vx(n[t])}`).join("")}(n.parameters)}`}const EU=/^[^\/()?;=#]+/;function nS(n){const t=n.match(EU);return t?t[0]:""}const DU=/^[^=?&#]+/,SU=/^[^&#]+/;class TU{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yn]=new In(t,e)),i}parseSegment(){const t=nS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new ww(tS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=nS(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=nS(this.remaining);r&&(i=r,this.capture(i))}t[tS(e)]=tS(i)}parseQueryParam(t){const e=function IU(n){const t=n.match(DU);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function AU(n){const t=n.match(SU);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=V1(e),s=V1(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=nS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=yn);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[yn]:new In([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function bx(n){return n.segments.length>0?new In([],{[yn]:n}):n}function iS(n){const t={};for(const i of Object.keys(n.children)){const s=iS(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function MU(n){if(1===n.numberOfChildren&&n.children[yn]){const t=n.children[yn];return new In(n.segments.concat(t.segments),t.children)}return n}(new In(n.segments,t))}function Rp(n){return n instanceof kp}function OU(n,t,e,i,r){if(0===e.length)return W_(t.root,t.root,t.root,i,r);const s=function j1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new H1(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return ns(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new H1(e,t,i)}(e);return s.toRoot()?W_(t.root,t.root,new In([],{}),i,r):function u(p){const y=function FU(n,t,e,i){if(n.isAbsolute)return new q_(t.root,!0,0);if(-1===i)return new q_(e,e===t.root,0);return function $1(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new q_(i,!1,r-s)}(e,i+(Ew(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),E=y.processChildren?Iw(y.segmentGroup,y.index,s.commands):Cx(y.segmentGroup,y.index,s.commands);return W_(t.root,y.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function Ew(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dw(n){return"object"==typeof n&&null!=n&&n.outlets}function W_(n,t,e,i,r){let u,s={};i&&ns(i,(p,y)=>{s[y]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),u=n===t?e:U1(n,t,e);const h=bx(iS(u));return new kp(h,s,r)}function U1(n,t,e){const i={};return ns(n.children,(r,s)=>{i[s]=r===t?e:U1(r,t,e)}),new In(n.segments,i)}class H1{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ew(i[0]))throw new l.vHH(4003,!1);const r=i.find(Dw);if(r&&r!==x1(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q_{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Cx(n,t,e){if(n||(n=new In([],{})),0===n.segments.length&&n.hasChildren())return Iw(n,t,e);const i=function NU(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(Dw(h))break;const p=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!G1(p,y,u))return s;i+=2}else{if(!G1(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new In(n.segments.slice(0,i.pathIndex),{});return s.children[yn]=new In(n.segments.slice(i.pathIndex),n.children),Iw(s,0,r)}return i.match&&0===r.length?new In(n.segments,{}):i.match&&!n.hasChildren()?Ex(n,t,e):i.match?Iw(n,0,r):Ex(n,t,e)}function Iw(n,t,e){if(0===e.length)return new In(n.segments,{});{const i=function PU(n){return Dw(n[0])?n[0].outlets:{[yn]:n}}(e),r={};return ns(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Cx(n.children[u],t,s))}),ns(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new In(n.segments,r)}}function Ex(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Dw(s)){const p=LU(s.outlets);return new In(i,p)}if(0===r&&Ew(e[0])){i.push(new ww(n.segments[t].path,z1(e[0]))),r++;continue}const u=Dw(s)?s.outlets[yn]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&Ew(h)?(i.push(new ww(u,z1(h))),r+=2):(i.push(new ww(u,{})),r++)}return new In(i,{})}function LU(n){const t={};return ns(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Ex(new In([],{}),0,e))}),t}function z1(n){const t={};return ns(n,(e,i)=>t[i]=`${e}`),t}function G1(n,t,e){return n==e.path&&ec(t,e.parameters)}class Cu{constructor(t,e){this.id=t,this.url=e}}class Dx extends Cu{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fp extends Cu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rS extends Cu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class W1 extends Cu{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VU extends Cu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BU extends Cu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UU extends Cu{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HU extends Cu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jU extends Cu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $U{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zU{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GU{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WU{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qU{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q1{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y1{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Z1{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ix(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ix(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Sx(t,this._root).map(e=>e.value)}}function Ix(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ix(n,e);if(i)return i}return null}function Sx(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Sx(n,e);if(i.length)return i.unshift(t),i}return[]}class Eu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Y_(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class K1 extends Z1{constructor(t,e){super(t),this.snapshot=e,Ax(this,t)}toString(){return this.snapshot.toString()}}function Q1(n,t){const e=function ZU(n,t){const u=new sS([],{},{},"",{},yn,t,null,n.root,-1,{});return new J1("",new Eu(u,[]))}(n,t),i=new Ai([new ww("",{})]),r=new Ai({}),s=new Ai({}),u=new Ai({}),h=new Ai(""),p=new Pp(i,r,u,h,s,yn,t,e.root);return p.snapshot=e.root,new K1(new Eu(p,[]),e)}class Pp{constructor(t,e,i,r,s,u,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,qe.U)(y=>y[bw]))??Ke(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(t=>G_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(t=>G_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function X1(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function KU(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sS{constructor(t,e,i,r,s,u,h,p,y,E,I,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[bw],this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=E,this._correctedLastPathIndex=O??E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=G_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class J1 extends Z1{constructor(t,e){super(e),this.url=t,Ax(this,e)}toString(){return eF(this._root)}}function Ax(n,t){t.value._routerState=n,t.children.forEach(e=>Ax(n,e))}function eF(n){const t=n.children.length>0?` { ${n.children.map(eF).join(", ")} } `:"";return`${n.value}${t}`}function Tx(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ec(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ec(t.params,e.params)||n.params.next(e.params),function hU(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ec(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ec(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mx(n,t){const e=ec(n.params,t.params)&&function _U(n,t){return Op(n,t)&&n.every((e,i)=>ec(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Mx(n.parent,t.parent))}function Sw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function XU(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Sw(n,i,r);return Sw(n,i)})}(n,t,e);return new Eu(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Sw(n,h)),u}}const i=function JU(n){return new Pp(new Ai(n.url),new Ai(n.params),new Ai(n.queryParams),new Ai(n.fragment),new Ai(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Sw(n,s));return new Eu(i,r)}}const xx="ngNavigationCancelingError";function tF(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Rp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=nF(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function nF(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[xx]=!0,i.cancellationCode=t,e&&(i.url=e),i}function iF(n){return rF(n)&&Rp(n.url)}function rF(n){return n&&n[xx]}class eH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Aw,this.attachRef=null}}let Aw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new eH,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oS=!1;let kx=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||yn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,oS);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,oS);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,oS);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,oS);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new tH(e,h,r.injector);if(i&&function nH(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Aw),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class tH{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Pp?this.route:t===Aw?this.childContexts:this.parent.get(t,e)}}let aS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[kx],encapsulation:2}),n})();function sF(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Rx(n){const t=n.children&&n.children.map(Rx),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yn&&(e.component=aS),e}function ua(n){return n.outlet||yn}function oF(n,t){const e=n.filter(i=>ua(i)===t);return e.push(...n.filter(i=>ua(i)!==t)),e}function Tw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class aH{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Tx(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Y_(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),ns(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Y_(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Y_(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Y_(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new q1(s.value.snapshot))}),t.children.length&&this.forwardEvent(new WU(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Tx(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Tx(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Tw(r.snapshot),p=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class aF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lS{constructor(t,e){this.component=t,this.route=e}}function lH(n,t,e){const i=n._root;return Mw(i,t?t._root:null,e,[i.value])}function Z_(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function Mw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Y_(t);return n.children.forEach(u=>{(function uH(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function dH(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Op(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Op(n.url,t.url)||!ec(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mx(n,t)||!ec(n.queryParams,t.queryParams);default:return!Mx(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new aF(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Mw(n,t,s.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new lS(h.outlet.component,u))}else u&&xw(t,h,r),r.canActivateChecks.push(new aF(i)),Mw(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),ns(s,(u,h)=>xw(u,e.getContext(h),r)),r}function xw(n,t,e){const i=Y_(n),r=n.value;ns(i,(s,u)=>{xw(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new lS(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function kw(n){return"function"==typeof n}function Fx(n){return n instanceof Fa||"EmptyError"===n?.name}const cS=Symbol("INITIAL_VALUE");function K_(){return un(n=>fx(n.map(t=>t.pipe(gn(1),Ci(cS)))).pipe((0,qe.U)(t=>{for(const e of t)if(!0!==e){if(e===cS)return cS;if(!1===e||e instanceof kp)return e}return!0}),nn(t=>t!==cS),gn(1)))}function lF(n){return(0,cU.z)((0,ni.b)(t=>{if(Rp(t))throw tF(0,t)}),(0,qe.U)(t=>!0===t))}const Px={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(n,t,e,i,r){const s=Nx(n,t,e);return s.matched?function TH(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ke(r.map(u=>{const h=Z_(u,n);return Jd(function _H(n){return n&&kw(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(K_(),lF()):Ke(!0)}(i=sF(t,i),t,e).pipe((0,qe.U)(u=>!0===u?s:{...Px})):Ke(s)}function Nx(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Px}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||dU)(e,n,t);if(!r)return{...Px};const s={};ns(r.posParams,(h,p)=>{s[p]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function uS(n,t,e,i,r="corrected"){if(e.length>0&&function kH(n,t,e){return e.some(i=>dS(n,t,i)&&ua(i)!==yn)}(n,e,i)){const u=new In(t,function xH(n,t,e,i){const r={};r[yn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ua(s)!==yn){const u=new In([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ua(s)]=u}return r}(n,t,i,new In(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function OH(n,t,e){return e.some(i=>dS(n,t,i))}(n,e,i)){const u=new In(n.segments,function MH(n,t,e,i,r,s){const u={};for(const h of i)if(dS(n,e,h)&&!r[ua(h)]){const p=new In([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[ua(h)]=p}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new In(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function dS(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function uF(n,t,e,i){return!!(ua(n)===i||i!==yn&&dS(t,e,n))&&("**"===n.path||Nx(t,n,e).matched)}function dF(n,t,e){return 0===t.length&&!n.children[e]}const hS=!1;class fS{constructor(t){this.segmentGroup=t||null}}class hF{constructor(t){this.urlTree=t}}function Ow(n){return xp(new fS(n))}function fF(n){return xp(new hF(n))}class NH{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=uS(this.urlTree.root,[],[],this.config).segmentGroup,e=new In(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,yn).pipe((0,qe.U)(s=>this.createUrlTree(iS(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ca(s=>{if(s instanceof hF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof fS?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,yn).pipe((0,qe.U)(r=>this.createUrlTree(iS(r),t.queryParams,t.fragment))).pipe(ca(r=>{throw r instanceof fS?this.noMatchError(r):r}))}noMatchError(t){return new l.vHH(4002,hS)}createUrlTree(t,e,i){const r=bx(t);return new kp(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,qe.U)(s=>new In([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,fn.D)(r).pipe(Xd(s=>{const u=i.children[s],h=oF(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,qe.U)(p=>({segment:p,outlet:s})))}),Nm((s,u)=>(s[u.outlet]=u.segment,s),{}),I1())}expandSegment(t,e,i,r,s,u){return(0,fn.D)(i).pipe(Xd(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(ca(y=>{if(y instanceof fS)return Ke(null);throw y}))),Es(h=>!!h),ca((h,p)=>{if(Fx(h))return dF(e,r,s)?Ke(new In([],{})):Ow(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return uF(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):Ow(e):Ow(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fF(s):this.lineralizeSegments(i,s).pipe((0,Gr.z)(u=>{const h=new In(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:E}=Nx(e,r,s);if(!h)return Ow(e);const I=this.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?fF(I):this.lineralizeSegments(r,I).pipe((0,Gr.z)(O=>this.expandSegment(t,e,i,O.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=sF(i,t),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,qe.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new In(r,{})))):Ke(new In(r,{}))):cF(e,i,r,t).pipe(un(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Gr.z)(E=>{const I=E.injector??t,O=E.routes,{segmentGroup:P,slicedSegments:H}=uS(e,h,p,O),K=new In(P.segments,P.children);if(0===H.length&&K.hasChildren())return this.expandChildren(I,O,K).pipe((0,qe.U)(Et=>new In(h,Et)));if(0===O.length&&0===H.length)return Ke(new In(h,{}));const re=ua(i)===s;return this.expandSegment(I,K,O,H,re?yn:s,!0).pipe((0,qe.U)(ot=>new In(h.concat(ot.segments),ot.children)))})):Ow(e)))}getChildConfig(t,e,i){return e.children?Ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function AH(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(u=>{const h=Z_(u,n);return Jd(function fH(n){return n&&kw(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(K_(),lF())}(t,e,i).pipe((0,Gr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ni.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function FH(n){return xp(nF(hS,3))}())):Ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[yn])return xp(new l.vHH(4e3,hS));r=r.children[yn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new kp(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ns(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return ns(e.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,i,r)}),new In(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,hS);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class VH{}class HH{constructor(t,e,i,r,s,u,h,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const t=uS(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yn).pipe((0,qe.U)(e=>{if(null===e)return null;const i=new sS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Eu(i,e),s=new J1(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=X1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,fn.D)(Object.keys(i.children)).pipe(Xd(r=>{const s=i.children[r],u=oF(e,r);return this.processSegmentGroup(t,u,s,r)}),Nm((r,s)=>r&&s?(r.push(...s),r):null),S1(r=>null!==r),wl(null),I1(),(0,qe.U)(r=>{if(null===r)return null;const s=pF(r);return function jH(n){n.sort((t,e)=>t.value.outlet===yn?-1:e.value.outlet===yn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,fn.D)(e).pipe(Xd(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,s)),Es(u=>!!u),ca(u=>{if(Fx(u))return dF(i,r,s)?Ke([]):Ke(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!uF(e,i,r,s))return Ke(null);let u;if("**"===e.path){const h=r.length>0?x1(r).parameters:{},p=gF(i)+r.length;u=Ke({snapshot:new sS(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yF(e),ua(e),e.component??e._loadedComponent??null,e,mF(i),p,vF(e),p),consumedSegments:[],remainingSegments:[]})}else u=cF(i,e,r,t).pipe((0,qe.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:E})=>{if(!h)return null;const I=gF(i)+p.length;return{snapshot:new sS(p,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yF(e),ua(e),e.component??e._loadedComponent??null,e,mF(i),I,vF(e),I),consumedSegments:p,remainingSegments:y}}));return u.pipe(un(h=>{if(null===h)return Ke(null);const{snapshot:p,consumedSegments:y,remainingSegments:E}=h;t=e._injector??t;const I=e._loadedInjector??t,O=function $H(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:H}=uS(i,y,E,O.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===H.length&&P.hasChildren())return this.processChildren(I,O,P).pipe((0,qe.U)(re=>null===re?null:[new Eu(p,re)]));if(0===O.length&&0===H.length)return Ke([new Eu(p,[])]);const K=ua(e)===s;return this.processSegment(I,O,P,H,K?yn:s).pipe((0,qe.U)(re=>null===re?null:[new Eu(p,re)]))}))}}function zH(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pF(n){const t=[],e=new Set;for(const i of n){if(!zH(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=pF(i.children);t.push(new Eu(i.value,r))}return t.filter(i=>!e.has(i))}function mF(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gF(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function yF(n){return n.data||{}}function vF(n){return n.resolve||{}}function bF(n){return"string"==typeof n.title||null===n.title}function Lx(n){return un(t=>{const e=n(t);return e?(0,fn.D)(e).pipe((0,qe.U)(()=>t)):Ke(t)})}let wF=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===yn);return i}getResolvedTitleForRoute(e){return e.data[bw]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(CF)},providedIn:"root"}),n})(),CF=(()=>{class n extends wF{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Us))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XH{}class ej extends class JH{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mS=new l.OlP("",{providedIn:"root",factory:()=>({})}),Vx=new l.OlP("ROUTES");let Bx=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Jd(e.loadComponent()).pipe((0,ni.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),QI(()=>{this.componentLoaders.delete(e)})),r=new mx(i,()=>new ut.x).pipe(px());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qe.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,E=!1;Array.isArray(h)?y=h:(p=h.create(e).injector,y=M1(p.get(Vx,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(Rx),injector:p}}),QI(()=>{this.childrenLoaders.delete(i)})),u=new mx(s,()=>new ut.x).pipe(px());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Jd(e()).pipe((0,Gr.z)(i=>i instanceof l.YKP||Array.isArray(i)?Ke(i):(0,fn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nj{}class ij{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rj(n){throw n}function sj(n,t,e){return t.parse("/")}const oj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function DF(){const n=(0,l.f3M)(N1),t=(0,l.f3M)(Aw),e=(0,l.f3M)(Pe),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(Vx,{optional:!0})??[],u=(0,l.f3M)(mS,{optional:!0})??{},h=(0,l.f3M)(CF),p=(0,l.f3M)(wF,{optional:!0}),y=(0,l.f3M)(nj,{optional:!0}),E=(0,l.f3M)(XH,{optional:!0}),I=new tr(null,n,t,e,i,r,M1(s));return y&&(I.urlHandlingStrategy=y),E&&(I.routeReuseStrategy=E),I.titleStrategy=p??h,function lj(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,I),I}let tr=(()=>{class n{constructor(e,i,r,s,u,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.x,this.errorHandler=rj,this.malformedUriErrorHandler=sj,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ke(void 0),this.urlHandlingStrategy=new ij,this.routeReuseStrategy=new ej,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Bx),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new zU(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new $U(O)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function fU(){return new kp(new In([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Q1(this.currentUrlTree,this.rootComponentType),this.transitions=new Ai({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(r=>0!==r.id),(0,qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),un(r=>{let s=!1,u=!1;return Ke(r).pipe((0,ni.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return IF(h.source)&&(this.browserUrlTree=h.extractedUrl),Ke(h).pipe(un(I=>{const O=this.transitions.getValue();return i.next(new Dx(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?as.E:Promise.resolve(I)}),function LH(n,t,e,i){return un(r=>function PH(n,t,e,i,r){return new NH(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,qe.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ni.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function WH(n,t,e,i,r,s){return(0,Gr.z)(u=>function UH(n,t,e,i,r,s,u="emptyOnly",h="legacy"){return new HH(n,t,e,i,r,u,h,s).recognize().pipe(un(p=>null===p?function BH(n){return new ei.y(t=>t.error(n))}(new VH):Ke(p)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,qe.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ni.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(P,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new VU(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(O)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:P,source:H,restoredState:K,extras:re}=h,We=new Dx(O,this.serializeUrl(P),H,K);i.next(We);const ot=Q1(P,this.rootComponentType).snapshot;return Ke(r={...h,targetSnapshot:ot,urlAfterRedirects:P,extras:{...re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),as.E}),(0,ni.b)(h=>{const p=new BU(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,qe.U)(h=>r={...h,guards:lH(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function vH(n,t){return(0,Gr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?Ke({...e,guardsResult:!0}):function bH(n,t,e,i){return(0,fn.D)(n).pipe((0,Gr.z)(r=>function SH(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ke(s.map(h=>{const p=Tw(t)??r,y=Z_(h,p);return Jd(function gH(n){return n&&kw(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):p.runInContext(()=>y(n,t,e,i))).pipe(Es())})).pipe(K_()):Ke(!0)}(r.component,r.route,e,t,i)),Es(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Gr.z)(h=>h&&function hH(n){return"boolean"==typeof n}(h)?function wH(n,t,e,i){return(0,fn.D)(t).pipe(Xd(r=>rd(function EH(n,t){return null!==n&&t&&t(new GU(n)),Ke(!0)}(r.route.parent,i),function CH(n,t){return null!==n&&t&&t(new qU(n)),Ke(!0)}(r.route,i),function IH(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function cH(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Qd(()=>Ke(u.guards.map(p=>{const y=Tw(u.node)??e,E=Z_(p,y);return Jd(function mH(n){return n&&kw(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(Es())})).pipe(K_())));return Ke(s).pipe(K_())}(n,r.path,e),function DH(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(s=>Qd(()=>{const u=Tw(t)??e,h=Z_(s,u);return Jd(function pH(n){return n&&kw(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(Es())}));return Ke(r).pipe(K_())}(n,r.route,e))),Es(r=>!0!==r,!0))}(i,s,n,t):Ke(h)),(0,qe.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ni.b)(h=>{if(r.guardsResult=h.guardsResult,Rp(h.guardsResult))throw tF(0,h.guardsResult);const p=new UU(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),nn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Lx(h=>{if(h.guards.canActivateChecks.length)return Ke(h).pipe((0,ni.b)(p=>{const y=new HU(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),un(p=>{let y=!1;return Ke(p).pipe(function qH(n,t){return(0,Gr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let s=0;return(0,fn.D)(r).pipe(Xd(u=>function YH(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!bF(r)&&(s[bw]=r.title),function ZH(n,t,e,i){const r=function KH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const s={};return(0,fn.D)(r).pipe((0,Gr.z)(u=>function QH(n,t,e,i){const r=Tw(t)??i,s=Z_(n,r);return Jd(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[u],t,e,i).pipe(Es(),(0,ni.b)(h=>{s[u]=h}))),gx(1),A1(s),ca(u=>Fx(u)?as.E:xp(u)))}(s,n,t,i).pipe((0,qe.U)(u=>(n._resolvedData=u,n.data=X1(n,e).resolve,r&&bF(r)&&(n.data[bw]=r.title),null)))}(u.route,i,n,t)),(0,ni.b)(()=>s++),gx(1),(0,Gr.z)(u=>s===r.length?Ke(e):as.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ni.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,ni.b)(p=>{const y=new jU(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),Lx(h=>{const p=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,ni.b)(I=>{y.component=I}),(0,qe.U)(()=>{})));for(const I of y.children)E.push(...p(I));return E};return fx(p(h.targetSnapshot.root)).pipe(wl(),gn(1))}),Lx(()=>this.afterPreactivation()),(0,qe.U)(h=>{const p=function QU(n,t,e){const i=Sw(n,t._root,e?e._root:void 0);return new K1(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,ni.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,qe.U)(i=>(new aH(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ni.b)({next(){s=!0},complete(){s=!0}}),QI(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ca(h=>{if(u=!0,rF(h)){iF(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new rS(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),iF(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IF(r.source)};this.scheduleNavigation(y,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new W1(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return as.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Rx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,E=p?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),OU(y,this.currentUrlTree,e,I,E??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Rp(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function cj(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...oj}:!1===i?{...aj}:i,Rp(e))return O1(this.currentUrlTree,e,r);const s=this.parseUrl(e);return O1(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Fp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,y;u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((O,P)=>{h=O,p=P});const E=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:E,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new rS(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return DF()},providedIn:"root"}),n})();function IF(n){return"imperative"!==n}let _S=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ut.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tr),l.Y36(Pp),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Q_=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ut.x,this.subscription=e.events.subscribe(s=>{s instanceof Fp&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,u){return!!(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tr),l.Y36(Pp),l.Y36(be))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),SF=(()=>{class n{constructor(e,i,r,s,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof Fp&&this.update()})}ngAfterContentInit(){Ke(this.links.changes,this.linksWithHrefs.changes,Ke(null)).pipe((0,rf.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,fn.D)(e).pipe((0,rf.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function uj(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(_S,8),l.Y36(Q_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,_S,5),l.Suo(r,Q_,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.links=s),l.iGM(s=l.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class AF{}let dj=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof Fp),Xd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,fn.D)(r).pipe((0,rf.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ke(null);const s=r.pipe((0,Gr.z)(u=>null===u?Ke(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,fn.D)([s,u]).pipe((0,rf.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(AF),l.LFG(Bx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ux=new l.OlP("");let TF=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Dx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Y1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Y1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function X_(n,t){return{\u0275kind:n,\u0275providers:t}}function Hx(n){return[{provide:Vx,multi:!0,useValue:n}]}function xF(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(tr),r=n.get(kF);1===n.get(jx)&&i.initialNavigation(),n.get(OF,null,l.XFs.Optional)?.setUpPreloading(),n.get(Ux,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const kF=new l.OlP("",{factory:()=>new ut.x}),jx=new l.OlP("",{providedIn:"root",factory:()=>1});const OF=new l.OlP("");function mj(n){return X_(0,[{provide:OF,useExisting:dj},{provide:AF,useExisting:n}])}const RF=new l.OlP("ROUTER_FORROOT_GUARD"),gj=[Pe,{provide:N1,useClass:yx},{provide:tr,useFactory:DF},Aw,{provide:Pp,useFactory:function MF(n){return n.routerState.root},deps:[tr]},Bx];function _j(){return new l.PXZ("Router",tr)}let yj=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[gj,[],Hx(e),{provide:RF,useFactory:Cj,deps:[[tr,new l.FiY,new l.tp0]]},{provide:mS,useValue:i||{}},i?.useHash?{provide:be,useClass:Qe}:{provide:be,useClass:ct},{provide:Ux,useFactory:()=>{const n=(0,l.f3M)(tr),t=(0,l.f3M)(Nu),e=(0,l.f3M)(mS);return e.scrollOffset&&t.setOffset(e.scrollOffset),new TF(n,t,e)}},i?.preloadingStrategy?mj(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:_j},i?.initialNavigation?Ej(i):[],[{provide:FF,useFactory:xF},{provide:l.tb,multi:!0,useExisting:FF}]]}}static forChild(e){return{ngModule:n,providers:[Hx(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(RF,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[aS]}),n})();function Cj(n){return"guarded"}function Ej(n){return["disabled"===n.initialNavigation?X_(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(tr);return()=>{t.setUpLocationChangeListener()}}},{provide:jx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?X_(2,[{provide:jx,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const u=t.get(tr),h=t.get(kF);(function r(s){t.get(tr).events.pipe(nn(h=>h instanceof Fp||h instanceof rS||h instanceof W1),(0,qe.U)(h=>h instanceof Fp||h instanceof rS&&(0===h.code||1===h.code)&&null),nn(h=>null!==h),gn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?Ke(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new l.OlP("");let tc=(()=>{class n{constructor(e,i,r){this.angularFireAuth=e,this.userApiService=i,this.router=r,this.userSubject=new Ai(null),this.user$=this.userSubject.asObservable(),this.userId$=this.user$.pipe((0,qe.U)(s=>s?.uid),Cs()),this.isAdmin$=this.user$.pipe((0,qe.U)(s=>!!s?.isAdmin),Cs()),this.isAuthorized$=this.user$.pipe((0,qe.U)(s=>!!s?.isAuthorized),Cs()),this.isAuthenticated$=this.user$.pipe((0,qe.U)(s=>!!s),Cs()),this.angularFireAuth.authState.pipe(nn(s=>!!s)).subscribe(s=>this.retrieveUserInfo(s))}login(){this.angularFireAuth.signInWithPopup(new yl.Q).then(e=>{console.debug("[AuthService login",e.user)},e=>{this.resetUserInfo(),alert(e.message)})}logout(){this.angularFireAuth.signOut().then(e=>{this.router.navigate(["login"]),this.resetUserInfo()})}setUserInfo(e){this.userSubject.next(e)}resetUserInfo(){this.userSubject.next(null)}retrieveUserInfo(e){if(!e?.uid)return void this.resetUserInfo();const{uid:i,email:r,displayName:s}=e,u={uid:i,email:r,displayName:s,isAdmin:!1,isAuthorized:!1};this.setUserInfo(u),this.userApiService.getByKey(e.uid).subscribe({next:h=>{console.debug("[AuthService retrieveUserInfo OK]",{...u,isAdmin:h?.isAdmin}),this.setUserInfo({...u,isAdmin:h?.isAdmin,isAuthorized:!!h}),this.router.navigate(["home"])},error:h=>{console.error("[AuthService retrieveUserInfo ERROR]",h)}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tf),l.LFG(dx),l.LFG(tr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ij=F(1144);const Sj=["addListener","removeListener"],Aj=["addEventListener","removeEventListener"],Tj=["on","off"];function Du(n,t,e,i){if((0,ls.m)(e)&&(i=e,e=void 0),i)return Du(n,t,e).pipe(hx(i));const[r,s]=function kj(n){return(0,ls.m)(n.addEventListener)&&(0,ls.m)(n.removeEventListener)}(n)?Aj.map(u=>h=>n[u](t,h,e)):function Mj(n){return(0,ls.m)(n.addListener)&&(0,ls.m)(n.removeListener)}(n)?Sj.map(PF(n,t)):function xj(n){return(0,ls.m)(n.on)&&(0,ls.m)(n.off)}(n)?Tj.map(PF(n,t)):[];if(!r&&(0,Ij.z)(n))return(0,Gr.z)(u=>Du(u,t,e))((0,js.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ei.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function PF(n,t){return e=>i=>n[e](t,i)}var $x=F(5032);const eh=new ei.y($x.Z),Rj={connector:()=>new ut.x};function NF(n,t=Rj){const{connector:e}=t;return(0,fi.e)((i,r)=>{const s=e();(0,js.Xf)(n(function Oj(n){return new ei.y(t=>n.subscribe(t))}(s))).subscribe(r),r.add(i.subscribe(s))})}function LF(n,t){return t?e=>rd(t.pipe(gn(1),function Nj(){return(0,fi.e)((n,t)=>{n.subscribe((0,Yn.x)(t,$x.Z))})}()),e.pipe(LF(n))):(0,Gr.z)((e,i)=>n(e,i).pipe(gn(1),A1(e)))}var Lj=F(3532);function zx(n=0,t,e=nf.P){let i=-1;return null!=t&&((0,Lj.K)(t)?e=t:i=t),new ei.y(r=>{let s=function Vj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function bS(n,t=nf.z){const e=zx(n,t);return LF(()=>e)}const Rw="Service workers are disabled or not supported by this browser";class wS{constructor(t){if(this.serviceWorker=t,t){const i=Du(t,"controllerchange").pipe((0,qe.U)(()=>t.controller)),s=rd(Qd(()=>Ke(t.controller)),i);this.worker=s.pipe(nn(E=>!!E)),this.registration=this.worker.pipe(un(()=>t.getRegistration()));const y=Du(t,"message").pipe((0,qe.U)(E=>E.data)).pipe(nn(E=>E&&E.type)).pipe(function Pj(n){return n?t=>NF(n)(t):t=>function Fj(n,t){const e=(0,ls.m)(n)?n:()=>n;return(0,ls.m)(t)?NF(t,{connector:e}):i=>new mx(i,e)}(new ut.x)(t)}());y.connect(),this.events=y}else this.worker=this.events=this.registration=function Bj(n){return Qd(()=>xp(new Error(n)))}(Rw)}postMessage(t,e){return this.worker.pipe(gn(1),(0,ni.b)(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(t,e);return Promise.all([s,r]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(nn(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(gn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(nn(e=>e.nonce===t),gn(1),(0,qe.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Uj=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new ut.x,!e.isEnabled)return this.messages=eh,this.notificationClicks=eh,void(this.subscription=eh);this.messages=this.sw.eventsOfType("PUSH").pipe((0,qe.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,qe.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,qe.U)(r=>r.pushManager));const i=this.pushManager.pipe(un(r=>r.getSubscription()));this.subscription=(0,br.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Rw));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return i.applicationServerKey=s,this.pushManager.pipe(un(u=>u.subscribe(i)),gn(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(gn(1),un(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Rw))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(wS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),VF=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=eh,this.available=eh,this.activated=eh,void(this.unrecoverable=eh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(nn(i=>"VERSION_READY"===i.type),(0,qe.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rw));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rw));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(wS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Gx{}const BF=new l.OlP("NGSW_REGISTER_SCRIPT");function Hj(n,t,e,i){return()=>{if(!Vi(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[u,...h]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(u){case"registerImmediately":r=Ke(null);break;case"registerWithDelay":r=UF(+h[0]||0);break;case"registerWhenStable":r=h[0]?(0,br.T)(HF(n),UF(+h[0])):HF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>r.pipe(gn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(u=>console.error("Service worker registration failed with:",u))))}}function UF(n){return Ke(null).pipe(bS(n))}function HF(n){return n.get(l.z2F).isStable.pipe(nn(e=>e))}function jj(n,t){return new wS(Vi(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Wx,$j=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:BF,useValue:e},{provide:Gx,useValue:i},{provide:wS,useFactory:jj,deps:[Gx,l.Lbi]},{provide:l.ip1,useFactory:Hj,deps:[l.zs3,BF,Gx,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Uj,VF]}),n})(),jF=(()=>{class n{constructor(e){this.swUpdate=e}init(){this.swUpdate.versionUpdates.pipe(nn(e=>"VERSION_READY"===e.type)).subscribe(e=>{console.debug({versionCheck:e}),confirm("A new version is available, do you want to install it?")&&document.location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(VF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$F=(()=>{class n{constructor(){this.isLoadingSubject=new Ai(!1),this.isLoading$=this.isLoadingSubject.asObservable()}start(){this.isLoadingSubject.next(!0)}stop(){this.isLoadingSubject.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Wx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wx=!1}let J_,Wr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Vi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function GF(){if(J_)return J_;if("object"!=typeof document||!document)return J_=new Set(zF),J_;let n=document.createElement("input");return J_=new Set(zF.filter(t=>(n.setAttribute("type",t),n.type===t))),J_}let Fw,Np,qx;function Pw(n){return function zj(){if(null==Fw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fw=!0}))}finally{Fw=Fw||!1}return Fw}()?n:!!n.capture}function Gj(){if(null==Np){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Np=!1,Np;if("scrollBehavior"in document.documentElement.style)Np=!0;else{const n=Element.prototype.scrollTo;Np=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Np}function WF(n){if(function Wj(){if(null==qx){const n=typeof document<"u"?document.head:null;qx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qx}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Yx(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function th(n){return n.composedPath?n.composedPath()[0]:n.target}function Zx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Io(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function YF(n){return nn((t,e)=>n<=e)}function ii(n){return(0,fi.e)((t,e)=>{(0,js.Xf)(n).subscribe((0,Yn.x)(e,()=>e.complete(),$x.Z)),!e.closed&&t.subscribe(e)})}function gi(n){return null!=n&&"false"!=`${n}`}function ny(n,t=0){return function i$(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function IS(n){return Array.isArray(n)?n:[n]}function xr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Iu(n){return n instanceof l.SBq?n.nativeElement:n}let ZF=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r$=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Iu(e);return new ei.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ut.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ZF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s$=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=gi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ny(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(vw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(r$),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ZF]}),n})();const QF=new Set;let iy,o$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):l$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function a$(n){if(!QF.has(n))try{iy||(iy=document.createElement("style"),iy.setAttribute("type","text/css"),document.head.appendChild(iy)),iy.sheet&&(iy.sheet.insertRule(`@media ${n} {body{ }}`,0),QF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Qx=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ut.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return XF(IS(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=fx(XF(IS(e)).map(u=>this._registerQuery(u).observable));return s=rd(s.pipe(gn(1)),s.pipe(YF(1),vw(0))),s.pipe((0,qe.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ei.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Ci(i),(0,qe.U)(({matches:u})=>({query:e,matches:u})),ii(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(o$),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class tP{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ut.x,this._typeaheadSubscription=Mr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ut.x,this.change=new ut.x,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ni.b)(e=>this._pressedLetters.push(e)),vw(t),nn(()=>this._pressedLetters.length>0),(0,qe.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Io(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class h$ extends tP{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class nP extends tP{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let SS=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function p$(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function f$(n){try{return n.frameElement}catch{return null}}(function C$(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===rP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=rP(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function b$(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function w$(n){return!function g$(n){return function y$(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function m$(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function _$(n){return function v$(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iP(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function rP(n){if(!iP(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class E${constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(gn(1)).subscribe(t)}}let Xx=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new E$(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(SS),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jx(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ek(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const D$=new l.OlP("cdk-input-modality-detector-options"),I$={ignoreKeys:[18,17,224,91,16]},ry=Pw({passive:!0,capture:!0});let S$=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ai(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=th(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Jx(u)?"keyboard":"mouse"),this._mostRecentTarget=th(u))},this._onTouchstart=u=>{ek(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=th(u))},this._options={...I$,...s},this.modalityDetected=this._modality.pipe(YF(1)),this.modalityChanged=this.modalityDetected.pipe(Cs()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ry),r.addEventListener("mousedown",this._onMousedown,ry),r.addEventListener("touchstart",this._onTouchstart,ry)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ry),document.removeEventListener("mousedown",this._onMousedown,ry),document.removeEventListener("touchstart",this._onTouchstart,ry))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr),l.LFG(l.R0b),l.LFG(ne),l.LFG(D$,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A$=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function T$(){return null}}),M$=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let tk=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(A$,8),l.LFG(l.R0b),l.LFG(ne),l.LFG(M$,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x$=new l.OlP("cdk-focus-monitor-default-options"),AS=Pw({passive:!0,capture:!0});let Bp=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=th(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Iu(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const s=WF(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new ut.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Iu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Iu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=th(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,AS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,AS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ii(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Wr),l.LFG(S$),l.LFG(ne,8),l.LFG(x$,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oP="cdk-high-contrast-black-on-white",aP="cdk-high-contrast-white-on-black",nk="cdk-high-contrast-active";let lP=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(Qx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(nk,oP,aP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(nk,oP):2===i&&e.add(nk,aP)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cP=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lP))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[KF]}),n})();const k$=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function O$(){return(0,l.f3M)(ne)}}),R$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nh=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function F$(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?R$.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(k$,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function P$(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=l.oxw();l.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function N$(n,t){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const L$=["*"],B$=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function V$(){return!0}});let Nn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Zx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lP),l.LFG(B$,8),l.LFG(ne))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Lw,Lw]}),n})();function ik(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=gi(t)}}}function Vw(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Bw(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gi(t)}}}function U$(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ny(e):this.defaultTabIndex}}}function hP(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const H$=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function j$(){return(0,l.f3M)(l.soG)}});class nc{constructor(){this._localeChanges=new ut.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const rk=new l.OlP("mat-date-formats"),$$=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function sk(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let z$=(()=>{class n extends nc{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return sk(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return sk(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return sk(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if($$.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(H$,8),l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const G$={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let W$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:nc,useClass:z$}]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:rk,useValue:G$}],imports:[W$]}),n})(),ok=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})();class Z${constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mP={enterDuration:225,exitDuration:150},ak=Pw({passive:!0}),gP=["mousedown","touchstart"],_P=["mouseup","mouseleave","touchend","touchcancel"];class Q${constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Iu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...mP,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function X$(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,p=e-r.top,y=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=p-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(E);const I=window.getComputedStyle(E),P=I.transitionDuration,H="none"===I.transitionProperty||"0s"===P||"0s, 0s"===P,K=new Z$(this,E,i,H);E.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let re=null;return!H&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const We=()=>this._finishRippleTransition(K),ot=()=>this._destroyRipple(K);E.addEventListener("transitionend",We),E.addEventListener("transitioncancel",ot),re={onTransitionEnd:We,onTransitionCancel:ot}}),this._activeRipples.set(K,re),(H||!y)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...mP,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Iu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(gP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_P),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Jx(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ek(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,ak)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(gP.forEach(t=>{this._triggerElement.removeEventListener(t,this,ak)}),this._pointerUpEventsRegistered&&_P.forEach(t=>{this._triggerElement.removeEventListener(t,this,ak)}))}}const J$=new l.OlP("mat-ripple-global-options");let Hw=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Q$(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Wr),l.Y36(J$,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),TS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})(),yP=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn]}),n})();const vP=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),bP=new l.OlP("MatOptgroup");let e3=0;class wP{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let t3=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+e3++,this.onSelectionChange=new l.vpe,this._stateChanges=new ut.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=gi(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Io(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new wP(this,e))}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),CP=(()=>{class n extends t3{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(vP,8),l.Y36(bP,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:L$,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,P$,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,N$,2,1,"span",2),l._UZ(4,"div",3)),2&e&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Hw,Cn,yP],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function ck(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}let MS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TS,Wi,Nn,lk]}),n})();const n3=["mat-button",""],r3=["*"],o3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],a3=Vw(ik(Bw(class{constructor(n){this._elementRef=n}})));let ih=(()=>{class n extends a3{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of o3)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Bp),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(Hw,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:n3,ngContentSelectors:r3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Hw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),xS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TS,Nn,Nn]}),n})(),l3=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=gi(e)}get inset(){return this._inset}set inset(e){this._inset=gi(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})();function DP(...n){const t=(0,Ra.jO)(n),{args:e,keys:i}=C1(n),r=new ei.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let p=u,y=u;for(let E=0;E<u;E++){let I=!1;(0,js.Xf)(e[E]).subscribe((0,Yn.x)(s,O=>{I||(I=!0,y--),h[E]=O},()=>p--,void 0,()=>{(!p||!I)&&(y||s.next(i?E1(i,h):h),s.complete())}))}});return t?r.pipe(hx(t)):r}class c3{}class rh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof rh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new rh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof rh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class u3{encodeKey(t){return IP(t)}encodeValue(t){return IP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const h3=/%(\d[a-f0-9])/gi,f3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IP(n){return encodeURIComponent(n).replace(h3,(t,e)=>f3[e]??t)}function kS(n){return`${n}`}class sh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new u3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function d3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(u)||[];p.push(h),e.set(u,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(kS):[kS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new sh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class p3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function SP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AP(n){return typeof Blob<"u"&&n instanceof Blob}function TP(n){return typeof FormData<"u"&&n instanceof FormData}class jw{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function m3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new rh),this.context||(this.context=new p3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new sh,this.urlWithParams=e}serializeBody(){return null===this.body?null:SP(this.body)||AP(this.body)||TP(this.body)||function g3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TP(this.body)?null:AP(this.body)?this.body.type||null:SP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,y=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((I,O)=>I.set(O,t.setHeaders[O]),p)),t.setParams&&(y=Object.keys(t.setParams).reduce((I,O)=>I.set(O,t.setParams[O]),y)),new jw(e,i,s,{params:y,headers:p,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var is=(()=>((is=is||{})[is.Sent=0]="Sent",is[is.UploadProgress=1]="UploadProgress",is[is.ResponseHeader=2]="ResponseHeader",is[is.DownloadProgress=3]="DownloadProgress",is[is.Response=4]="Response",is[is.User=5]="User",is))();class dk extends class _3{constructor(t,e=200,i="OK"){this.headers=t.headers||new rh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=is.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new dk({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function hk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof jw)s=e;else{let p,y;p=r.headers instanceof rh?r.headers:new rh(r.headers),r.params&&(y=r.params instanceof sh?r.params:new sh({fromObject:r.params})),s=new jw(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ke(s).pipe(Xd(p=>this.handler.handle(p)));if(e instanceof jw||"events"===r.observe)return u;const h=u.pipe(nn(p=>p instanceof dk));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,qe.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,qe.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,qe.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,qe.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new sh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,hk(r,i))}post(e,i,r={}){return this.request("POST",e,hk(r,i))}put(e,i,r={}){return this.request("PUT",e,hk(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(c3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const v3=["*"];let OS;function $w(n){return function b3(){if(void 0===OS&&(OS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(OS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return OS}()?.createHTML(n)||n}function kP(n){return Error(`Unable to find icon with the name "${n}"`)}function OP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Up{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let RS=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Up(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw RP(r);const h=$w(u);return this._addSvgIconConfig(e,i,new Up("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Up(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw RP(i);const u=$w(s);return this._addSvgIconSetConfig(e,new Up("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw OP(e);const r=this._cachedIconsByUrl.get(i);return r?Ke(FS(r)):this._loadSvgIconFromConfig(new Up(e,null)).pipe((0,ni.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,qe.U)(s=>FS(s)))}getNamedSvgIcon(e,i=""){const r=FP(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):xp(kP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ke(FS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,qe.U)(i=>FS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ke(r):DP(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ca(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),Ke(null)})))).pipe((0,qe.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw kP(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ni.b)(i=>e.svgText=i),(0,qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ke(null):this._fetchIcon(e).pipe((0,ni.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString($w("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString($w("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function w3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw OP(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const p=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,qe.U)(y=>$w(y)),QI(()=>this._inProgressUrlFetches.delete(u)),(0,ym.B)());return this._inProgressUrlFetches.set(u,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(FP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return E3(s)?new Up(s.url,null,s.options):new Up(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xP,8),l.LFG(Lo),l.LFG(ne,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FS(n){return n.cloneNode(!0)}function FP(n,t){return n+":"+t}function E3(n){return!(!n.url||!n.options)}const D3=Vw(class{constructor(n){this._elementRef=n}}),I3=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),S3=new l.OlP("mat-icon-location",{providedIn:"root",factory:function A3(){const n=(0,l.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),PP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T3=PP.map(n=>`[${n}]`).join(", "),M3=/^url\(['"]?#(.*?)['"]?\)$/;let PS=(()=>{class n extends D3{constructor(e,i,r,s,u,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Mr.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=gi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(T3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)PP.forEach(u=>{const h=i[s],p=h.getAttribute(u),y=p?p.match(M3):null;if(y){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(gn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(RS),l.$8M("aria-hidden"),l.Y36(S3),l.Y36(l.qLn),l.Y36(I3,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:v3,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})();var LP=F(4408);let fk,x3=1;const NS={};function VP(n){return n in NS&&(delete NS[n],!0)}const k3={setImmediate(n){const t=x3++;return NS[t]=!0,fk||(fk=Promise.resolve()),fk.then(()=>VP(t)&&n()),t},clearImmediate(n){VP(n)}},{setImmediate:O3,clearImmediate:R3}=k3,LS={setImmediate(...n){const{delegate:t}=LS;return(t?.setImmediate||O3)(...n)},clearImmediate(n){const{delegate:t}=LS;return(t?.clearImmediate||R3)(n)},delegate:void 0};var BP=F(7565);const pk=new class P3 extends BP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class F3 extends LP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=LS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(LS.clearImmediate(e),t._scheduled=void 0)}});class UP{}const Su="*";function Au(n,t){return{type:7,name:n,definitions:t,options:{}}}function eo(n,t=null){return{type:4,styles:t,timings:n}}function HP(n,t=null){return{type:3,steps:n,options:t}}function jP(n,t=null){return{type:2,steps:n,options:t}}function _i(n){return{type:6,styles:n,offset:null}}function da(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ms(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function mk(n=null){return{type:9,options:n}}function gk(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function zP(n){Promise.resolve().then(n)}class zw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?zP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Gw extends yk{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class sy extends yk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class L3 extends yk{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class VS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Gw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof sy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof L3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class V3 extends VS{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ww=(()=>{class n extends VS{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ne))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=qw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Mr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=qw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=qw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class U3 extends BP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class B3 extends LP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(qw.cancelAnimationFrame(e),t._scheduled=void 0)}});function WP(n,t=nf.z){return function j3(n){return(0,fi.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,e.next(y)}u&&e.complete()},p=()=>{s=null,u&&e.complete()};t.subscribe((0,Yn.x)(e,y=>{i=!0,r=y,s||(0,js.Xf)(n(y)).subscribe(s=(0,Yn.x)(e,h,p))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>zx(n,t))}let z3=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ut.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ei.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(WP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Iu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Du(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Wr),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ut.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(WP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr),l.LFG(l.R0b),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ay=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),qP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Lw,ay,Lw,ay]}),n})();const YP=Gj();class W3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=xr(-this._previousScrollPosition.left),t.style.top=xr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),YP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),YP&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class q3{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ZP{enable(){}disable(){}attach(){}}function vk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function KP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Y3{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z3=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new ZP,this.close=u=>new q3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new W3(this._viewportRuler,this._document),this.reposition=u=>new Y3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(z3),l.LFG(Yw),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ly{constructor(t){if(this.scrollStrategy=new ZP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class K3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let QP=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q3=(()=>{class n extends QP{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X3=(()=>{class n extends QP{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=th(s)},this._clickListener=s=>{const u=th(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const E=p[y];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const I=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Wr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BS=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Zx()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Zx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zw{constructor(t,e,i,r,s,u,h,p,y,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new ut.x,this._attachments=new ut.x,this._detachments=new ut.x,this._locationChanges=Mr.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new ut.x,this._outsidePointerEvents=new ut.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=xr(this._config.width),t.height=xr(this._config.height),t.minWidth=xr(this._config.minWidth),t.minHeight=xr(this._config.minHeight),t.maxWidth=xr(this._config.maxWidth),t.maxHeight=xr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=IS(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ii((0,br.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const XP="cdk-overlay-connected-position-bounding-box",J3=/([A-Za-z%]+)$/;class ez{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut.x,this._resizeSubscription=Mr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(XP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,r,h),y=this._getOverlayPoint(p,e,h),E=this._getOverlayFit(y,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(E,y,i)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:y,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const y of s){const E=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);E>p&&(p=E,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=eN(e);let{x:u,y:h}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(u+=p),y&&(h+=y);let O=0-h,P=h+s.height-i.height,H=this._subtractOverflows(s.width,0-u,u+s.width-i.width),K=this._subtractOverflows(s.height,O,P),re=H*K;return{visibleArea:re,isCompletelyWithinViewport:s.width*s.height===re,fitsInViewportVertically:K===s.height,fitsInViewportHorizontally:H==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=JP(this._overlayRef.getConfig().minHeight),h=JP(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=eN(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),y=Math.max(s.left-i.left-t.x,0);let E=0,I=0;return E=r.width<=s.width?y||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,I=r.height<=s.height?p||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:E,y:I},{x:t.x+E,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new K3(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,I,O;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;s=2*P,u=t.y-P,s>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,E=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;E=2*P,I=t.x-P,E>H&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-H/2)}return{top:u,left:I,bottom:h,right:O,width:E,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=xr(i.height),r.top=xr(i.top),r.bottom=xr(i.bottom),r.width=xr(i.width),r.left=xr(i.left),r.right=xr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=xr(s)),u&&(r.maxWidth=xr(u))}this._lastBoundingBoxSize=i,Hp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();Hp(i,this._getExactOverlayY(e,t,E)),Hp(i,this._getExactOverlayX(e,t,E))}else i.position="static";let h="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=xr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=xr(u.maxWidth):s&&(i.maxWidth="")),Hp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=xr(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=xr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KP(t,i),isOriginOutsideView:vk(t,i),isOverlayClipped:KP(e,i),isOverlayOutsideView:vk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&IS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Hp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function JP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(J3);return e&&"px"!==e?null:parseFloat(t)}return n||null}function eN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const tN="cdk-global-overlay-wrapper";class tz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(tN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,I=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let P="",H="",K="";p?K="flex-start":"center"===E?(K="center",O?H=I:P=I):O?"left"===E||"end"===E?(K="flex-end",P=I):("right"===E||"start"===E)&&(K="flex-start",H=I):"left"===E||"start"===E?(K="flex-start",P=I):("right"===E||"end"===E)&&(K="flex-end",H=I),t.position=this._cssPosition,t.marginLeft=p?"0":P,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":H,e.justifyContent=K,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(tN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nz=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new tz}flexibleConnectedTo(e){return new ez(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yw),l.LFG(ne),l.LFG(Wr),l.LFG(BS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iz=0,xs=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E,I,O,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=E,this._location=I,this._outsideClickDispatcher=O,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new ly(e);return u.direction=u.direction||this._directionality.value,new Zw(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+iz++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new V3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Z3),l.LFG(BS),l.LFG(l._Vd),l.LFG(nz),l.LFG(Q3),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ne),l.LFG(nh),l.LFG(Pe),l.LFG(X3),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rz=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nN=new l.OlP("cdk-connected-overlay-scroll-strategy");let iN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),rN=(()=>{class n{constructor(e,i,r,s,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Mr.w0.EMPTY,this._attachSubscription=Mr.w0.EMPTY,this._detachSubscription=Mr.w0.EMPTY,this._positionSubscription=Mr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new sy(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=gi(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=gi(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=gi(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=gi(e)}get push(){return this._push}set push(e){this._push=gi(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=rz);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Io(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ly({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof iN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(S1(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(xs),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(nN),l.Y36(nh,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const oz={provide:nN,deps:[xs],useFactory:function sz(n){return()=>n.scrollStrategies.reposition()}};let jp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xs,oz],imports:[Lw,oy,qP,qP]}),n})();const az=["mat-menu-item",""];function lz(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const sN=["*"];function cz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),l.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const US={transformMenu:Au("transformMenu",[da("void",_i({opacity:0,transform:"scale(0.8)"})),Ms("void => enter",eo("120ms cubic-bezier(0, 0, 0.2, 1)",_i({opacity:1,transform:"scale(1)"}))),Ms("* => void",eo("100ms 25ms linear",_i({opacity:0})))]),fadeInItems:Au("fadeInItems",[da("showing",_i({opacity:1})),Ms("void => *",[_i({opacity:0}),eo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},uz=new l.OlP("MatMenuContent"),bk=new l.OlP("MAT_MENU_PANEL"),dz=Bw(ik(class{}));let HS=(()=>{class n extends dz{constructor(e,i,r,s,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new ut.x,this._focused=new ut.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ne),l.Y36(Bp),l.Y36(bk,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:az,ngContentSelectors:sN,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,lz,2,0,"svg",1)),2&e&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Cn,Hw],encapsulation:2,changeDetection:0}),n})();const oN=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function hz(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let fz=0,Kw=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=Mr.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ut.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+fz++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=gi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=gi(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new nP(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ci(this._directDescendantItems),un(e=>(0,br.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ci(this._directDescendantItems),un(i=>(0,br.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Io(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ci(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(oN),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,uz,5),l.Suo(r,HS,5),l.Suo(r,HS,4)),2&e){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&l.Gf(l.Rgc,5),2&e){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),pz=(()=>{class n extends Kw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(oN),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:bk,useExisting:n}]),l.qOj],ngContentSelectors:sN,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,cz,3,6,"ng-template"))},dependencies:[wn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[US.transformMenu,US.fadeInItems]},changeDetection:0}),n})();const aN=new l.OlP("mat-menu-scroll-strategy"),gz={provide:aN,deps:[xs],useFactory:function mz(n){return()=>n.scrollStrategies.reposition()}},lN=Pw({passive:!0});let _z=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=y,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Mr.w0.EMPTY,this._hoverSubscription=Mr.w0.EMPTY,this._menuCloseSubscription=Mr.w0.EMPTY,this._handleTouchStart=I=>{ek(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof Kw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,lN),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,lN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Kw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ii(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Kw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(nn(r=>"void"===r.toState),gn(1),ii(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new ly({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,u)):e.setPositionClasses(s,u)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,y]=[u,h],[E,I]=[r,s],O=0;if(this.triggersSubmenu()){if(I=r="before"===e.xPosition?"start":"end",s=E="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const P=this._parentMaterialMenu.items.first;this._parentInnerPadding=P?P._getHostElement().offsetTop:0}O="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===u?"bottom":"top",y="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:E,overlayY:u,offsetY:O},{originX:s,originY:p,overlayX:I,overlayY:u,offsetY:O},{originX:r,originY:y,overlayX:E,overlayY:h,offsetY:-O},{originX:s,originY:y,overlayX:I,overlayY:h,offsetY:-O}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ke(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(nn(u=>u!==this._menuItemInstance),nn(()=>this._menuOpen)):Ke();return(0,br.T)(e,r,s,i)}_handleMousedown(e){Jx(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(nn(e=>e===this._menuItemInstance&&!e.disabled),bS(0,pk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Kw&&this.menu._isAnimating?this.menu._animationDone.pipe(gn(1),bS(0,pk),ii(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new sy(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(xs),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(aN),l.Y36(bk,8),l.Y36(HS,10),l.Y36(nh,8),l.Y36(Bp),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),yz=(()=>{class n extends _z{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),cN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gz],imports:[Wi,Nn,TS,jp,ay,Nn]}),n})();const vz=["*",[["mat-toolbar-row"]]],bz=["*","mat-toolbar-row"],wz=Vw(class{constructor(n){this._elementRef=n}});let Cz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Ez=(()=>{class n extends wz{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Wr),l.Y36(ne))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,Cz,5),2&e){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:bz,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(vz),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),uN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})(),wk=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=s,this.authService.isAdmin$.subscribe(u=>{u?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc),l.Y36(l.SBq),l.Y36(l.Rgc),l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","obAdminOnly",""]]}),n})(),dN=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=s,this.authService.isAuthorized$.subscribe(u=>{u?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc),l.Y36(l.SBq),l.Y36(l.Rgc),l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","obAuthorizedOnly",""]]}),n})();function Dz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.login())}),l._uU(1," Login "),l.qZA()}}function Iz(n,t){1&n&&(l.TgZ(0,"a",12),l._uU(1,"Home"),l.qZA())}function Sz(n,t){1&n&&(l.TgZ(0,"a",13),l._uU(1,"Badges"),l.qZA())}function Az(n,t){1&n&&(l.TgZ(0,"a",14),l._uU(1,"Users"),l.qZA())}function Tz(n,t){if(1&n){const e=l.EpF();l.ynx(0)(1),l.YNc(2,Iz,2,0,"a",9),l.YNc(3,Sz,2,0,"a",10),l.YNc(4,Az,2,0,"a",11),l._UZ(5,"mat-divider"),l.BQk(),l.TgZ(6,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.logout())}),l._uU(7," Logout "),l.TgZ(8,"em"),l._uU(9),l.ALo(10,"async"),l.qZA()(),l.BQk()}if(2&n){const e=l.oxw();l.xp6(9),l.Oqu(l.lcZ(10,1,e.username$))}}let hN=(()=>{class n{constructor(e){this.authService=e,this.version=Cr_appVersion,this.isAuthenticated$=this.authService.isAuthenticated$,this.username$=this.authService.user$.pipe((0,qe.U)(i=>i?.email))}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-toolbar"]],decls:19,vars:8,consts:[["color","primary"],["mat-button","","routerLink","/"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLinkActive","active","routerLink","/home",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/users",4,"obAdminOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/home"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges"],["mat-menu-item","","routerLinkActive","active","routerLink","/users"]],template:function(e,i){if(1&e&&(l.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),l._uU(3,"apartment"),l.qZA(),l.TgZ(4,"span"),l._uU(5,"Office Buddy "),l.TgZ(6,"small")(7,"em"),l._uU(8),l.qZA()()()(),l._UZ(9,"span",2),l.TgZ(10,"button",3)(11,"mat-icon"),l._uU(12,"menu"),l.qZA()(),l.TgZ(13,"mat-menu",4,5),l.YNc(15,Dz,2,0,"button",6),l.ALo(16,"async"),l.YNc(17,Tz,11,3,"ng-container",7),l.ALo(18,"async"),l.qZA()()),2&e){const r=l.MAs(14);l.xp6(8),l.hij("v",i.version||"0",""),l.xp6(2),l.Q6J("matMenuTriggerFor",r),l.xp6(5),l.Q6J("ngIf",!l.lcZ(16,4,i.isAuthenticated$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(18,6,i.isAuthenticated$))}},dependencies:[Cn,ih,l3,PS,pz,HS,yz,Ez,Q_,_S,SF,wk,dN,io],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-menu-item.active[_ngcontent-%COMP%]{background-color:#efefef}"]}),n})();function Mz(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}function xz(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}const Oz=Vw(class{constructor(n){this._elementRef=n}},"primary"),Rz=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Fz(){return{diameter:100}}});class Tu extends Oz{constructor(t,e,i,r,s,u,h,p){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Mr.w0.EMPTY,this.mode="determinate";const y=Tu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(i.head)||y.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=ny(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=ny(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,ny(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=WF(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Tu._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Tu._diameters=new WeakMap,Tu.\u0275fac=function(t){return new(t||Tu)(l.Y36(l.SBq),l.Y36(Wr),l.Y36(ne,8),l.Y36(l.QbO,8),l.Y36(Rz),l.Y36(l.sBO),l.Y36(Yw),l.Y36(l.R0b))},Tu.\u0275cmp=l.Xpm({type:Tu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,Mz,1,11,"circle",2),l.YNc(3,xz,1,9,"circle",3),l.qZA()),2&t&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[Zr,gs],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let fN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Wi,Nn]}),n})(),Qw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-spinner"]],decls:2,vars:1,consts:[[1,"spinner-container"],["mode","indeterminate",3,"diameter"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"mat-progress-spinner",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("diameter",50))},dependencies:[Tu],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();function Nz(n,t){1&n&&(l.TgZ(0,"div",3),l._UZ(1,"ob-spinner"),l.qZA())}let Lz=(()=>{class n{constructor(e,i,r){this.authService=e,this.appCheckUpdateService=i,this.appLoaderService=r,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$,this.isAppLoading$=this.appLoaderService.isLoading$}ngOnInit(){this.appCheckUpdateService.init()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc),l.Y36(jF),l.Y36($F))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-root"]],decls:5,vars:3,consts:[["id","app-toolbar"],["id","app-content"],["id","app-loader",4,"ngIf"],["id","app-loader"]],template:function(e,i){1&e&&(l._UZ(0,"ob-toolbar",0),l.TgZ(1,"div",1),l._UZ(2,"router-outlet"),l.qZA(),l.YNc(3,Nz,2,0,"div",2),l.ALo(4,"async")),2&e&&(l.xp6(3),l.Q6J("ngIf",l.lcZ(4,1,i.isAppLoading$)))},dependencies:[Cn,hN,Qw,kx,io],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}#app-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px 20px 100px;overflow:auto}#app-loader[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;background-color:#0006}"]}),n})();var Ek=F(655),Dk=F(7982);function Bz(n){return new ei.y(function(t){return{unsubscribe:(0,yl.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class jS{constructor(t){return t}}class mN{constructor(){return(0,$t.vb)("auth")}}const zz=(0,$t.u3)(Bz,!0);class Xw{constructor(t){return t}}const _N=$t.nk.async,Wz=(0,$t.u3)(Dk.Kz,!0),qz=(0,$t.u3)(Dk.Iv,!0);let yN=(()=>{class n{constructor(e,i,r){let s;this.disposables=[],(0,Gn.KN)("angularfire",$t.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(u=>{s=u})),_N().then(()=>{const u=r.get(Xw);u?this.disposables=[zz(e).subscribe(h=>{qz(u,h?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(jS),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const vN="firebase_screen_id",Sk="outlet",Jw="screen_class",bN="screen_name";let sG=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ak={},oG=n=>{const t=[n[Jw],n[Sk]].join("#");if(Ak.hasOwnProperty(t))return Ak[t];{const e=sG++;return Ak[t]=e,e}},wN=(n,t,e)=>n.events.pipe(nn(r=>r instanceof q1)).pipe(un(r=>{var s;const h=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,P=>P.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",p=n.routerState.root.children.map(P=>P).find(P=>P.outlet===r.snapshot.outlet);if(!p)return Ke(null);let y=p;for(;y.firstChild;)y=y.firstChild;const E=y.pathFromRoot.map(P=>{var H;return null===(H=P.routeConfig)||void 0===H?void 0:H.path}).filter(P=>P).join("/")||"/",I={[bN]:E,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:E,[Sk]:r.snapshot.outlet};t&&(I.page_title=t.getTitle());let O=p.component;if(O){if(O===aS){let P=r.snapshot;for(;P.firstChild;)P=P.firstChild;O=P.component}}else O=r.snapshot.component;if("string"==typeof O)return Ke(Object.assign(Object.assign({},I),{[Jw]:O}));if(O){const P=e.resolveComponentFactory(O);return Ke(Object.assign(Object.assign({},I),{[Jw]:P.selector}))}return Ke(null)}),nn(r=>!!r),(0,qe.U)(r=>Object.assign({firebase_screen_class:r[Jw],[vN]:oG(r)},r)),function Vz(n,t,e,i){return(0,fi.e)((r,s)=>{let u;t&&"function"!=typeof t?({duration:e,element:u,connector:i}=t):u=t;const h=new Map,p=H=>{h.forEach(H),H(s)},y=H=>p(K=>K.error(H));let E=0,I=!1;const O=new Yn.Q(s,H=>{try{const K=n(H);let re=h.get(K);if(!re){h.set(K,re=i?i():new ut.x);const We=function P(H,K){const re=new ei.y(We=>{E++;const ot=K.subscribe(We);return()=>{ot.unsubscribe(),0==--E&&I&&O.unsubscribe()}});return re.key=H,re}(K,re);if(s.next(We),e){const ot=(0,Yn.x)(re,()=>{re.complete(),ot?.unsubscribe()},void 0,void 0,()=>h.delete(K));O.add((0,js.Xf)(e(We)).subscribe(ot))}}re.next(u?u(H):H)}catch(K){y(K)}},()=>p(H=>H.complete()),y,()=>h.clear(),()=>(I=!0,0===E));r.subscribe(O)})}(r=>r[Sk]),(0,Gr.z)(r=>r.pipe(Cs((s,u)=>JSON.stringify(s)===JSON.stringify(u)),Ci(void 0),Sl(),(0,qe.U)(([s,u])=>s?Object.assign({firebase_previous_class:s[Jw],firebase_previous_screen:s[bN],firebase_previous_id:s[vN]},u):u))));let aG=(()=>{class n{constructor(e,i,r,s,u,h){(0,Gn.KN)("angularfire",$t.q4.full,"screen-tracking"),_N().then(()=>{const p=h.get(Xw);!e||!p||s.runOutsideAngular(()=>{this.disposable=wN(e,i,r).pipe(un(y=>(0,Ek.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),Wz(p,"screen_view",y)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tr,8),l.LFG(Us,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(yN,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function CN(n){return new l.vHH(3e3,!1)}function GG(){return typeof window<"u"&&typeof window.document<"u"}function Mk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function oh(n){switch(n.length){case 0:return new zw;case 1:return n[0];default:return new GP(n)}}function EN(n,t,e,i,r=new Map,s=new Map){const u=[],h=[];let p=-1,y=null;if(i.forEach(E=>{const I=E.get("offset"),O=I==p,P=O&&y||new Map;E.forEach((H,K)=>{let re=K,We=H;if("offset"!==K)switch(re=t.normalizePropertyName(re,u),We){case"!":We=r.get(K);break;case Su:We=s.get(K);break;default:We=t.normalizeStyleValue(K,re,We,u)}P.set(re,We)}),O||h.push(P),y=P,p=I}),u.length)throw function RG(n){return new l.vHH(3502,!1)}();return h}function xk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&kk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&kk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&kk(e,"destroy",n)))}}function kk(n,t,e){const s=Ok(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function Ok(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function So(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function DN(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Rk=(n,t)=>!1,IN=(n,t,e)=>[],SN=null;function Fk(n){const t=n.parentNode||n.host;return t===SN?null:t}(Mk()||typeof Element<"u")&&(GG()?(SN=(()=>document.documentElement)(),Rk=(n,t)=>{for(;t;){if(t===n)return!0;t=Fk(t)}return!1}):Rk=(n,t)=>n.contains(t),IN=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let $p=null,AN=!1;const TN=Rk,MN=IN;let xN=(()=>{class n{validateStyleProperty(e){return function qG(n){$p||($p=function YG(){return typeof document<"u"?document.body:null}()||{},AN=!!$p.style&&"WebkitAppearance"in $p.style);let t=!0;return $p.style&&!function WG(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in $p.style,!t&&AN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $p.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return TN(e,i)}getParentElement(e){return Fk(e)}query(e,i,r){return MN(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],p){return new zw(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pk=(()=>{class n{}return n.NOOP=new xN,n})();const Nk="ng-enter",$S="ng-leave",zS="ng-trigger",GS=".ng-trigger",ON="ng-animating",Lk=".ng-animating";function Mu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vk(parseFloat(t[1]),t[2])}function Vk(n,t){return"s"===t?1e3*n:n}function WS(n,t,e){return n.hasOwnProperty("duration")?n:function QG(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(CN()),{duration:0,delay:0,easing:""};r=Vk(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=Vk(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function dG(){return new l.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function hG(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(p,0,CN())}return{duration:r,delay:s,easing:u}}(n,t,e)}function eC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function RN(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ah(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function PN(n,t,e){return e?t+":"+e+";":""}function NN(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=PN(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=PN(0,t6(e),n.style[e]));n.setAttribute("style",t)}function ic(n,t,e){n.style&&(t.forEach((i,r)=>{const s=Uk(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),Mk()&&NN(n))}function zp(n,t){n.style&&(t.forEach((e,i)=>{const r=Uk(i);n.style[r]=""}),Mk()&&NN(n))}function tC(n){return Array.isArray(n)?1==n.length?n[0]:jP(n):n}const Bk=new RegExp("{{\\s*(.+?)\\s*}}","g");function LN(n){let t=[];if("string"==typeof n){let e;for(;e=Bk.exec(n);)t.push(e[1]);Bk.lastIndex=0}return t}function nC(n,t,e){const i=n.toString(),r=i.replace(Bk,(s,u)=>{let h=t[u];return null==h&&(e.push(function pG(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function qS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const e6=/-+([a-z0-9])/g;function Uk(n){return n.replace(e6,(...t)=>t[1].toUpperCase())}function t6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ao(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function mG(n){return new l.vHH(3004,!1)}()}}function VN(n,t){return window.getComputedStyle(n)[t]}function l6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function c6(n,t,e){if(":"==n[0]){const p=function u6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function MG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function TG(n){return new l.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(BN(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(BN(u,r))}(i,e,t)):e.push(n),e}const QS=new Set(["true","1"]),XS=new Set(["false","0"]);function BN(n,t){const e=QS.has(n)||XS.has(n),i=QS.has(t)||XS.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?QS.has(n):XS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?QS.has(t):XS.has(t)),u&&h}}const d6=new RegExp("s*:selfs*,?","g");function Hk(n,t,e,i){return new h6(n).build(t,e,i)}class h6{constructor(t){this._driver=t}build(t,e,i){const r=new m6(e);return this._resetContextStyleTimingState(r),Ao(this,tC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function _G(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,e))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,u.push(p)}else e.errors.push(function yG(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{LN(p).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(qS(s.values()),e.errors.push(function vG(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ao(this,tC(t.animation),e);return{type:1,matchers:l6(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ao(this,i,e)),options:Gp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Ao(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Gp(t.options)}}visitAnimate(t,e){const i=function _6(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jk(WS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=jk(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=WS(e,t);return jk(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:_i({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=_i(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Su?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(RN(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=e.collectedStyles.get(e.currentQuerySelector),E=y.get(p);let I=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(e.errors.push(function wG(n,t,e,i,r){return new l.vHH(3010,!1)}()),I=!1),s=E.startTime),I&&y.set(p,{startTime:s,endTime:r}),e.options&&function JG(n,t,e){const i=t.params||{},r=LN(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function fG(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function CG(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,p=!1,y=0;const E=t.steps.map(We=>{const ot=this._makeStyleAst(We,e);let Et=null!=ot.offset?ot.offset:function g6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ot.styles),bt=0;return null!=Et&&(s++,bt=ot.offset=Et),p=p||bt<0||bt>1,h=h||bt<y,y=bt,u.push(bt),ot});p&&e.errors.push(function EG(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function DG(){return new l.vHH(3200,!1)}());const I=t.steps.length;let O=0;s>0&&s<I?e.errors.push(function IG(){return new l.vHH(3202,!1)}()):0==s&&(O=1/(I-1));const P=I-1,H=e.currentTime,K=e.currentAnimateTimings,re=K.duration;return E.forEach((We,ot)=>{const Et=O>0?ot==P?1:O*ot:u[ot],bt=Et*re;e.currentTime=H+K.delay+bt,K.duration=bt,this._validateStyleAst(We,e),We.offset=Et,i.styles.push(We)}),i}visitReference(t,e){return{type:8,animation:Ao(this,tC(t.animation),e),options:Gp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function f6(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(d6,"")),n=n.replace(/@\*/g,GS).replace(/@\w+/g,e=>GS+"-"+e.slice(1)).replace(/:animating/g,Lk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,So(e.collectedStyles,e.currentQuerySelector,new Map);const h=Ao(this,tC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Gp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function SG(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:WS(t.timings,e.errors,!0);return{type:12,animation:Ao(this,tC(t.animation),e),timings:i,options:null}}}class m6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gp(n){return n?(n=eC(n)).params&&(n.params=function p6(n){return n?eC(n):null}(n.params)):n={},n}function jk(n,t,e){return{duration:n,delay:t,easing:e}}function $k(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class JS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const b6=new RegExp(":enter","g"),C6=new RegExp(":leave","g");function zk(n,t,e,i,r,s=new Map,u=new Map,h,p,y=[]){return(new E6).buildKeyframes(n,t,e,i,r,s,u,h,p,y)}class E6{buildKeyframes(t,e,i,r,s,u,h,p,y,E=[]){y=y||new JS;const I=new Gk(t,e,y,r,s,E,[]);I.options=p;const O=p.delay?Mu(p.delay):0;I.currentTimeline.delayNextStep(O),I.currentTimeline.setStyles([u],null,I.errors,p),Ao(this,i,I);const P=I.timelines.filter(H=>H.containsAnimation());if(P.length&&h.size){let H;for(let K=P.length-1;K>=0;K--){const re=P[K];if(re.element===e){H=re;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,I.errors,p)}return P.length?P.map(H=>H.buildKeyframes()):[$k(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const u="number"==typeof s?s:Mu(nC(s,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?Mu(i.duration):null,h=null!=i.delay?Mu(i.delay):null;return 0!==u&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ao(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eA);const u=Mu(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ao(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Mu(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Ao(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return WS(e.params?nC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Mu(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eA);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((y,E)=>{e.currentQueryIndex=E;const I=e.createSubContext(t.options,y);s&&I.delayNextStep(s),y===e.element&&(p=I.currentTimeline),Ao(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let p=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=e.currentTimeline;p&&E.delayNextStep(p);const I=E.currentTime;Ao(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const eA={};class Gk{constructor(t,e,i,r,s,u,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new tA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Mu(i.duration)),null!=i.delay&&(r.delay=Mu(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=nC(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Gk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=eA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new D6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(b6,"."+this._enterClassName)).replace(C6,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function AG(n){return new l.vHH(3014,!1)}()),h}}class tA{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Su),this._currentKeyframe.set(e,Su);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function I6(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Su)}else ah(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,p]of u){const y=nC(p,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Su),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=ah(h,new Map,this._backFill);y.forEach((E,I)=>{"!"===E?t.add(I):E===Su&&e.add(I)}),i||y.set("offset",p/this.duration),r.push(y)});const s=t.size?qS(t.values()):[],u=e.size?qS(e.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return $k(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class D6 extends tA{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,p=ah(t[0]);p.set("offset",0),s.push(p);const y=ah(t[0]);y.set("offset",jN(h)),s.push(y);const E=t.length-1;for(let I=1;I<=E;I++){let O=ah(t[I]);const P=O.get("offset");O.set("offset",jN((e+P*i)/u)),s.push(O)}i=u,e=0,r="",t=s}return $k(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jN(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Wk{}const S6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class A6 extends Wk{normalizePropertyName(t,e){return Uk(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(S6.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function gG(n,t){return new l.vHH(3005,!1)}())}return u+s}}function $N(n,t,e,i,r,s,u,h,p,y,E,I,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:E,totalTime:I,errors:O}}const qk={};class zN{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function T6(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,h,p,y,E){const I=[],O=this.ast.options&&this.ast.options.params||qk,H=this.buildStyles(i,h&&h.params||qk,I),K=p&&p.params||qk,re=this.buildStyles(r,K,I),We=new Set,ot=new Map,Et=new Map,bt="void"===r,Lt={params:M6(K,O),delay:this.ast.options?.delay},Ut=E?[]:zk(t,e,this.ast.animation,s,u,H,re,Lt,y,I);let vn=0;if(Ut.forEach(ll=>{vn=Math.max(ll.duration+ll.delay,vn)}),I.length)return $N(e,this._triggerName,i,r,bt,H,re,[],[],ot,Et,vn,I);Ut.forEach(ll=>{const Ou=ll.element,C2=So(ot,Ou,new Set);ll.preStyleProps.forEach(Xp=>C2.add(Xp));const AC=So(Et,Ou,new Set);ll.postStyleProps.forEach(Xp=>AC.add(Xp)),Ou!==e&&We.add(Ou)});const gr=qS(We.values());return $N(e,this._triggerName,i,r,bt,H,re,Ut,gr,ot,Et,vn)}}function M6(n,t){const e=eC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class x6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=eC(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=nC(u,r,e));const p=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,p,u,e),i.set(p,u)})}),i}}class O6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new x6(r.style,r.options&&r.options.params||{},i))}),GN(this.states,"true","1"),GN(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zN(t,r,this.states))}),this.fallbackTransition=function R6(n,t,e){return new zN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function GN(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const F6=new JS;class P6{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=Hk(this._driver,e,i,[]);if(i.length)throw function FG(n){return new l.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=EN(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=zk(this._driver,e,s,Nk,$S,new Map,new Map,i,F6,r),u.forEach(E=>{const I=So(h,E.element,new Map);E.postStyleProps.forEach(O=>I.set(O,null))})):(r.push(function PG(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function NG(n){return new l.vHH(3504,!1)}();h.forEach((E,I)=>{E.forEach((O,P)=>{E.set(P,this._driver.computeStyle(I,P,Su))})});const y=oh(u.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,new Map,I)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function LG(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=Ok(e,"","","");return xk(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WN="ng-animate-queued",Yk="ng-animate-disabled",U6=[],qN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},H6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ha="__ng_removed";class Zk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function G6(n){return n??null}(i?t.value:t),i){const s=eC(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const iC="void",Kk=new Zk(iC);class j6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function VG(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function BG(n){return new l.vHH(3303,!1)}();if(!function W6(n){return"start"==n||"done"==n}(i))throw function UG(n,t){return new l.vHH(3400,!1)}();const s=So(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=So(this._engine.statesByElement,t,new Map);return h.has(e)||(fa(t,zS),fa(t,zS+"-"+e),h.set(e,Kk)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function HG(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new Qk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(fa(t,zS),fa(t,zS+"-"+e),this._engine.statesByElement.set(t,h=new Map));let p=h.get(e);const y=new Zk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(e,y),p||(p=Kk),y.value!==iC&&p.value===y.value){if(!function Z6(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,y.params)){const K=[],re=s.matchStyles(p.value,p.params,K),We=s.matchStyles(y.value,y.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{zp(t,re),ic(t,We)})}return}const O=So(this._engine.playersByElement,t,[]);O.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let P=s.matchTransition(p.value,y.value,t,y.params),H=!1;if(!P){if(!r)return;P=s.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:y,player:u,isFallbackTransition:H}),H||(fa(t,WN),u.onStart(()=>{cy(t,WN)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const re=this._engine.playersByElement.get(t);if(re){let We=re.indexOf(u);We>=0&&re.splice(We,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,GS,!0);i.forEach(r=>{if(r[ha])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const E=this.trigger(t,y,iC,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&oh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||Kk,E=new Zk(iC),I=new Qk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:p,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ha];(!s||s===qN)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){fa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=Ok(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,xk(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new j6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(nA(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!nA(e))return;const s=e[ha];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fa(t,Yk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cy(t,Yk))}removeNode(t,e,i,r){if(nA(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ha]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return nA(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,GS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Lk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return oh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ha];if(e&&e.setForRemoval){if(t[ha]=qN,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Yk)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?oh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function jG(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new JS,r=[],s=new Map,u=[],h=new Map,p=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(St=>{E.add(St);const Ht=this.driver.query(St,".ng-animate-queued",!0);for(let Kt=0;Kt<Ht.length;Kt++)E.add(Ht[Kt])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),P=KN(O,this.collectedEnterElements),H=new Map;let K=0;P.forEach((St,Ht)=>{const Kt=Nk+K++;H.set(Ht,Kt),St.forEach($n=>fa($n,Kt))});const re=[],We=new Set,ot=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const Ht=this.collectedLeaveElements[St],Kt=Ht[ha];Kt&&Kt.setForRemoval&&(re.push(Ht),We.add(Ht),Kt.hasAnimation?this.driver.query(Ht,".ng-star-inserted",!0).forEach($n=>We.add($n)):ot.add(Ht))}const Et=new Map,bt=KN(O,Array.from(We));bt.forEach((St,Ht)=>{const Kt=$S+K++;Et.set(Ht,Kt),St.forEach($n=>fa($n,Kt))}),t.push(()=>{P.forEach((St,Ht)=>{const Kt=H.get(Ht);St.forEach($n=>cy($n,Kt))}),bt.forEach((St,Ht)=>{const Kt=Et.get(Ht);St.forEach($n=>cy($n,Kt))}),re.forEach(St=>{this.processLeaveNode(St)})});const Lt=[],Ut=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(e).forEach(Kt=>{const $n=Kt.player,qr=Kt.element;if(Lt.push($n),this.collectedEnterElements.length){const fs=qr[ha];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(Kt.triggerName)){const Jp=fs.previousTriggersValues.get(Kt.triggerName),_a=this.statesByElement.get(Kt.element);if(_a&&_a.has(Kt.triggerName)){const jA=_a.get(Kt.triggerName);jA.value=Jp,_a.set(Kt.triggerName,jA)}}return void $n.destroy()}}const sc=!I||!this.driver.containsElement(I,qr),xo=Et.get(qr),ph=H.get(qr),zi=this._buildInstruction(Kt,i,ph,xo,sc);if(zi.errors&&zi.errors.length)return void Ut.push(zi);if(sc)return $n.onStart(()=>zp(qr,zi.fromStyles)),$n.onDestroy(()=>ic(qr,zi.toStyles)),void r.push($n);if(Kt.isFallbackTransition)return $n.onStart(()=>zp(qr,zi.fromStyles)),$n.onDestroy(()=>ic(qr,zi.toStyles)),void r.push($n);const I2=[];zi.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||I2.push(fs)}),zi.timelines=I2,i.append(qr,zi.timelines),u.push({instruction:zi,player:$n,element:qr}),zi.queriedElements.forEach(fs=>So(h,fs,[]).push($n)),zi.preStyleProps.forEach((fs,Jp)=>{if(fs.size){let _a=p.get(Jp);_a||p.set(Jp,_a=new Set),fs.forEach((jA,rR)=>_a.add(rR))}}),zi.postStyleProps.forEach((fs,Jp)=>{let _a=y.get(Jp);_a||y.set(Jp,_a=new Set),fs.forEach((jA,rR)=>_a.add(rR))})});if(Ut.length){const St=[];Ut.forEach(Ht=>{St.push(function $G(n,t){return new l.vHH(3505,!1)}())}),Lt.forEach(Ht=>Ht.destroy()),this.reportError(St)}const vn=new Map,gr=new Map;u.forEach(St=>{const Ht=St.element;i.has(Ht)&&(gr.set(Ht,Ht),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,vn))}),r.forEach(St=>{const Ht=St.element;this._getPreviousPlayers(Ht,!1,St.namespaceId,St.triggerName,null).forEach($n=>{So(vn,Ht,[]).push($n),$n.destroy()})});const ll=re.filter(St=>XN(St,p,y)),Ou=new Map;ZN(Ou,this.driver,ot,y,Su).forEach(St=>{XN(St,p,y)&&ll.push(St)});const AC=new Map;P.forEach((St,Ht)=>{ZN(AC,this.driver,new Set(St),p,"!")}),ll.forEach(St=>{const Ht=Ou.get(St),Kt=AC.get(St);Ou.set(St,new Map([...Array.from(Ht?.entries()??[]),...Array.from(Kt?.entries()??[])]))});const Xp=[],E2=[],D2={};u.forEach(St=>{const{element:Ht,player:Kt,instruction:$n}=St;if(i.has(Ht)){if(E.has(Ht))return Kt.onDestroy(()=>ic(Ht,$n.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime($n.totalTime),void r.push(Kt);let qr=D2;if(gr.size>1){let xo=Ht;const ph=[];for(;xo=xo.parentNode;){const zi=gr.get(xo);if(zi){qr=zi;break}ph.push(xo)}ph.forEach(zi=>gr.set(zi,qr))}const sc=this._buildAnimation(Kt.namespaceId,$n,vn,s,AC,Ou);if(Kt.setRealPlayer(sc),qr===D2)Xp.push(Kt);else{const xo=this.playersByElement.get(qr);xo&&xo.length&&(Kt.parentPlayer=oh(xo)),r.push(Kt)}}else zp(Ht,$n.fromStyles),Kt.onDestroy(()=>ic(Ht,$n.toStyles)),E2.push(Kt),E.has(Ht)&&r.push(Kt)}),E2.forEach(St=>{const Ht=s.get(St.element);if(Ht&&Ht.length){const Kt=oh(Ht);St.setRealPlayer(Kt)}}),r.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<re.length;St++){const Ht=re[St],Kt=Ht[ha];if(cy(Ht,$S),Kt&&Kt.hasAnimation)continue;let $n=[];if(h.size){let sc=h.get(Ht);sc&&sc.length&&$n.push(...sc);let xo=this.driver.query(Ht,Lk,!0);for(let ph=0;ph<xo.length;ph++){let zi=h.get(xo[ph]);zi&&zi.length&&$n.push(...zi)}}const qr=$n.filter(sc=>!sc.destroyed);qr.length?q6(this,Ht,qr):this.processLeaveNode(Ht)}return re.length=0,Xp.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const Ht=this.players.indexOf(St);this.players.splice(Ht,1)}),St.play()}),Xp}elementContainsData(t,e){let i=!1;const r=e[ha];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const p=!s||s==iC;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,E=y!==s,I=So(i,y,[]);this._getPreviousPlayers(y,E,u,h,e.toState).forEach(P=>{const H=P.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),P.destroy(),I.push(P)})}zp(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,p=e.element,y=[],E=new Set,I=new Set,O=e.timelines.map(H=>{const K=H.element;E.add(K);const re=K[ha];if(re&&re.removedBeforeQueried)return new zw(H.duration,H.delay);const We=K!==p,ot=function Y6(n){const t=[];return QN(n,t),t}((i.get(K)||U6).map(vn=>vn.getRealPlayer())).filter(vn=>!!vn.element&&vn.element===K),Et=s.get(K),bt=u.get(K),Lt=EN(0,this._normalizer,0,H.keyframes,Et,bt),Ut=this._buildPlayer(H,Lt,ot);if(H.subTimeline&&r&&I.add(K),We){const vn=new Qk(t,h,K);vn.setRealPlayer(Ut),y.push(vn)}return Ut});y.forEach(H=>{So(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function z6(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,H.element,H))}),E.forEach(H=>fa(H,ON));const P=oh(O);return P.onDestroy(()=>{E.forEach(H=>cy(H,ON)),ic(p,e.toStyles)}),I.forEach(H=>{So(r,H,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zw(t.duration,t.delay)}}class Qk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>xk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){So(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nA(n){return n&&1===n.nodeType}function YN(n,t){const e=n.style.display;return n.style.display=t??"none",e}function ZN(n,t,e,i,r){const s=[];e.forEach(p=>s.push(YN(p)));const u=[];i.forEach((p,y)=>{const E=new Map;p.forEach(I=>{const O=t.computeStyle(y,I,r);E.set(I,O),(!O||0==O.length)&&(y[ha]=H6,u.push(y))}),n.set(y,E)});let h=0;return e.forEach(p=>YN(p,s[h++])),u}function KN(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=e.has(y)?y:r.has(y)?1:u(y),s.set(h,p),p}return t.forEach(h=>{const p=u(h);1!==p&&e.get(p).push(h)}),e}function fa(n,t){n.classList?.add(t)}function cy(n,t){n.classList?.remove(t)}function q6(n,t,e){oh(e).onDone(()=>n.processLeaveNode(t))}function QN(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof GP?QN(i.players,t):t.push(i)}}function XN(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class iA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new $6(t,e,i),this._timelineEngine=new P6(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],E=Hk(this._driver,s,p,[]);if(p.length)throw function OG(n,t){return new l.vHH(3404,!1)}();h=function k6(n,t,e){return new O6(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=DN(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=DN(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Q6=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ic(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ic(this._element,this._initialStyles),this._endStyles&&(ic(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),ic(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Xk(n){let t=null;return n.forEach((e,i)=>{(function X6(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class JN{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:VN(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class J6{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return TN(t,e)}getParentElement(t){return Fk(t)}query(t,e,i){return MN(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,E=u.filter(P=>P instanceof JN);(function n6(n,t){return 0===n||0===t})(i,r)&&E.forEach(P=>{P.currentSnapshot.forEach((H,K)=>y.set(K,H))});let I=function XG(n){return n.length?n[0]instanceof Map?n:n.map(t=>RN(t)):[]}(e).map(P=>ah(P));I=function r6(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(h=>u.set(h,VN(n,h)))}}return t}(t,I,y);const O=function K6(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Xk(t[0]),t.length>1&&(i=Xk(t[t.length-1]))):t instanceof Map&&(e=Xk(t)),e||i?new Q6(n,e,i):null}(t,I);return new JN(t,I,p,O)}}let eW=(()=>{class n extends UP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?jP(e):e;return eL(this._renderer,null,i,"register",[r]),new tW(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class tW extends class N3{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new nW(this._id,t,e||{},this._renderer)}}class nW{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eL(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eL(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tL="@.disabled";let iW=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new nL("",s,this.engine),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(p),new rW(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(iA),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nL{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tL?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class rW extends nL{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tL?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function sW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function oW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let aW=(()=>{class n extends iA{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ne),l.LFG(Pk),l.LFG(Wk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const iL=[{provide:UP,useClass:eW},{provide:Wk,useFactory:function lW(){return new A6}},{provide:iA,useClass:aW},{provide:l.FYo,useFactory:function cW(n,t,e){return new iW(n,t,e)},deps:[Mh,iA,l.R0b]}],Jk=[{provide:Pk,useFactory:()=>new J6},{provide:l.QbO,useValue:"BrowserAnimations"},...iL],rL=[{provide:Pk,useClass:xN},{provide:l.QbO,useValue:"NoopAnimations"},...iL];let uW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rL:Jk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Jk,imports:[ka]}),n})();const hW=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),fW=new l.OlP("angularfire2.analytics.appVersion"),pW=new l.OlP("angularfire2.analytics.appName"),mW=new l.OlP("angularfire2.analytics.debugMode"),gW=new l.OlP("angularfire2.analytics.config"),sA="dataLayer";let rC=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E){if(this.analyticsInitialized=new Promise(()=>{}),Vi(p)){window[sA]=window[sA]||[];const O=(...K)=>"config"===K[0]&&"firebase"===K[2].origin&&(this.measurementId=K[1],!0),P=K=>{window.gtag=(...re)=>{K&&K(...re),"event"===re[0]&&re[2].send_to===this.measurementId&&(s&&(re[2].app_name=s),r&&(re[2].app_version=r)),u&&typeof console<"u"&&console.info(...re),function(...We){window[sA].push(arguments)}(...re)}};window[sA].some(O)?(this.analyticsInitialized=Promise.resolve(),P()):this.analyticsInitialized=new Promise(K=>{P((...re)=>{O(...re)&&K()})}),h&&this.updateConfig(h),u&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const I=Ke(void 0).pipe((0,bl.Q)(E.outsideAngular),un(Dk.Gb),un(O=>O?y.runOutsideAngular(()=>F.e(643).then(F.bind(F,8643))):as.E),(0,qe.U)(()=>(0,Rr.cc)("analytics","AngularFireAnalytics",e.name,()=>{const O=e.analytics();return!1===i&&O.setAnalyticsCollectionEnabled(!1),O},[e,i,h,u])),Sc({bufferSize:1,refCount:!1}));return(0,Rr.pX)(this,I,y)}updateConfig(e){return(0,Ek.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rr.Ot),l.LFG(hW,8),l.LFG(fW,8),l.LFG(pW,8),l.LFG(mW,8),l.LFG(gW,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($t.HU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oL=(()=>{class n{constructor(e,i,r,s){if(this.disposables=[],Fm.Z.registerVersion("angularfire",$t.q4.full,"compat-user-tracking"),Ls(i))this.initialized=Promise.resolve();else{let u;this.initialized=s.runOutsideAngular(()=>new Promise(h=>u=h)),this.disposables=[r.authState.subscribe(h=>{e.setUserId(h?.uid),u()}),r.credential.subscribe(h=>{if(h){const p=h.user.isAnonymous?"anonymous":h.additionalUserInfo.providerId;h.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:p}),e.logEvent("login",{method:p})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rC),l.LFG(l.Lbi),l.LFG(tf),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),EW=(()=>{class n{constructor(e,i,r,s,u,h){if(Fm.Z.registerVersion("angularfire",$t.q4.full,"compat-screen-tracking"),!i||!e)return this;u.runOutsideAngular(()=>{this.disposable=wN(i,r,s).pipe(un(p=>(0,Ek.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),yield e.logEvent("screen_view",p)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rC),l.LFG(tr,8),l.LFG(Us,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(oL,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DW=(()=>{class n{constructor(e,i,r){Fm.Z.registerVersion("angularfire",$t.q4.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(rC),l.LFG(EW,8),l.LFG(oL,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rC]}),n})();class eO{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ut.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let aL=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Wp=(()=>{class n extends aL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const To=new l.OlP("NgValueAccessor"),SW={provide:To,useExisting:(0,l.Gpc)(()=>oA),multi:!0},TW=new l.OlP("CompositionEventMode");let oA=(()=>{class n extends aL{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AW(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(TW,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([SW]),l.qOj]}),n})();function lh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cL(n){return null!=n&&"number"==typeof n.length}const rs=new l.OlP("NgValidators"),ch=new l.OlP("NgAsyncValidators"),xW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tO{static min(t){return function uL(n){return t=>{if(lh(t.value)||lh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function dL(n){return t=>{if(lh(t.value)||lh(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return hL(t)}static requiredTrue(t){return function fL(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function pL(n){return lh(n.value)||xW.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function mL(n){return t=>lh(t.value)||!cL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function gL(n){return t=>cL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function _L(n){if(!n)return aA;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(lh(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return EL(t)}static composeAsync(t){return DL(t)}}function hL(n){return lh(n.value)?{required:!0}:null}function aA(n){return null}function yL(n){return null!=n}function vL(n){return(0,l.QGY)(n)?(0,fn.D)(n):n}function bL(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function wL(n,t){return t.map(e=>e(n))}function CL(n){return n.map(t=>function kW(n){return!n.validate}(t)?t:e=>t.validate(e))}function EL(n){if(!n)return null;const t=n.filter(yL);return 0==t.length?null:function(e){return bL(wL(e,t))}}function nO(n){return null!=n?EL(CL(n)):null}function DL(n){if(!n)return null;const t=n.filter(yL);return 0==t.length?null:function(e){return DP(wL(e,t).map(vL)).pipe((0,qe.U)(bL))}}function iO(n){return null!=n?DL(CL(n)):null}function IL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function SL(n){return n._rawValidators}function AL(n){return n._rawAsyncValidators}function rO(n){return n?Array.isArray(n)?n:[n]:[]}function lA(n,t){return Array.isArray(n)?n.includes(t):n===t}function TL(n,t){const e=rO(t);return rO(n).forEach(r=>{lA(e,r)||e.push(r)}),e}function ML(n,t){return rO(t).filter(e=>!lA(n,e))}class xL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=iO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ks extends xL{get formDirective(){return null}get path(){return null}}class rc extends xL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kL{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OL=(()=>{class n extends kL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),RL=(()=>{class n extends kL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ks,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const sC="VALID",uA="INVALID",uy="PENDING",oC="DISABLED";function lO(n){return(dA(n)?n.validators:n)||null}function PL(n){return Array.isArray(n)?nO(n):n||null}function cO(n,t){return(dA(t)?t.asyncValidators:n)||null}function NL(n){return Array.isArray(n)?iO(n):n||null}function dA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class BL{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PL(this._rawValidators),this._composedAsyncValidatorFn=NL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sC}get invalid(){return this.status===uA}get pending(){return this.status==uy}get disabled(){return this.status===oC}get enabled(){return this.status!==oC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=NL(t)}addValidators(t){this.setValidators(TL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(TL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ML(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ML(t,this._rawAsyncValidators))}hasValidator(t){return lA(this._rawValidators,t)}hasAsyncValidator(t){return lA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oC,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sC,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sC||this.status===uy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oC:sC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uy,this._hasOwnPendingAsyncValidator=!0;const e=vL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?oC:this.errors?uA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uy)?uy:this._anyControlsHaveStatus(uA)?uA:sC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class hA extends BL{constructor(t,e,i){super(lO(e),cO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function VL(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function LL(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function aC(n,t){uO(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function UW(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UL(n,t)})}(n,t),function jW(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function HW(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function BW(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),gA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uO(n,t){const e=SL(n);null!==t.validator?n.setValidators(IL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=AL(n);null!==t.asyncValidator?n.setAsyncValidators(IL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();mA(t._rawValidators,r),mA(t._rawAsyncValidators,r)}function gA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=SL(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=AL(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return mA(t._rawValidators,i),mA(t._rawAsyncValidators,i),e}function UL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HL(n,t){uO(n,t)}function $L(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const qW={provide:ks,useExisting:(0,l.Gpc)(()=>cC)},lC=(()=>Promise.resolve())();let cC=(()=>{class n extends ks{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new hA({},nO(e),iO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),aC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lC.then(()=>{const i=this._findContainer(e.path),r=new hA({});HL(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$L(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rs,10),l.Y36(ch,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([qW]),l.qOj]}),n})();function zL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function GL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uC=class extends BL{constructor(t=null,e,i){super(lO(e),cO(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=GL(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){GL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let KL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),XL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fO=new l.OlP("NgModelWithFormControlWarning"),nq={provide:ks,useExisting:(0,l.Gpc)(()=>dy)};let dy=(()=>{class n extends ks{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return aC(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){pA(e.control||null,e,!1),function WW(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$L(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(pA(i||null,e),(n=>n instanceof uC)(r)&&(aC(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);HL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $W(n,t){return gA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uO(this.form,this),this._oldForm&&gA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rs,10),l.Y36(ch,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([nq]),l.qOj,l.TTD]}),n})();const sq={provide:rc,useExisting:(0,l.Gpc)(()=>gO)};let gO=(()=>{class n extends rc{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function hO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===oA?e=s:function GW(n){return Object.getPrototypeOf(n.constructor)===Wp}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function dO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function fA(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(ks,13),l.Y36(rs,10),l.Y36(ch,10),l.Y36(To,10),l.Y36(fO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([sq]),l.qOj,l.TTD]}),n})(),qp=(()=>{class n{constructor(){this._validator=aA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):aA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const pq={provide:rs,useExisting:(0,l.Gpc)(()=>_A),multi:!0};let _A=(()=>{class n extends qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=e=>hL}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([pq]),l.qOj]}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XL]}),n})(),bq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pV]}),n})(),vO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pV]}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pP,TS,Nn,lk,Wi,pP,Nn,lk,uk]}),n})();const Pq=["connectionContainer"],Nq=["inputContainer"],Lq=["label"];function Vq(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Bq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Uq(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function Hq(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function jq(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function $q(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,Uq,4,1,"ng-container",12),l.YNc(3,Hq,1,0,"ng-content",12),l.YNc(4,jq,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function zq(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Gq(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Wq(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function qq(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function Yq(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,qq,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const Zq=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kq=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Qq=new l.OlP("MatError"),Xq={transitionMessages:Au("transitionMessages",[da("enter",_i({opacity:1,transform:"translateY(0%)"})),Ms("void => enter",[_i({opacity:0,transform:"translateY(-5px)"}),eo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const Jq=new l.OlP("MatHint");let bO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),e4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const t4=new l.OlP("MatPrefix"),n4=new l.OlP("MatSuffix");let _V=0;const r4=Vw(class{constructor(n){this._elementRef=n}},"primary"),s4=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),dC=new l.OlP("MatFormField");let o4=(()=>{class n extends r4{constructor(e,i,r,s,u,h,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ut.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_V++,this._labelId="mat-form-field-label-"+_V++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=gi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ci(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ii(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ii(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,br.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ci(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ci(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ii(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Du(this._label.nativeElement,"transitionend").pipe(gn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const E=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<E.length;I++)E[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(E),O=e.children,P=this._getStartEnd(O[0].getBoundingClientRect());let H=0;for(let K=0;K<O.length;K++)H+=O[K].offsetWidth;u=Math.abs(P-I)-5,h=H>0?.75*H+10:0}for(let E=0;E<p.length;E++)p[E].style.width=`${u}px`;for(let E=0;E<y.length;E++)y[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(nh,8),l.Y36(s4,8),l.Y36(Wr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,yA,5),l.Suo(r,yA,7),l.Suo(r,bO,5),l.Suo(r,bO,7),l.Suo(r,e4,5),l.Suo(r,Qq,5),l.Suo(r,Jq,5),l.Suo(r,t4,5),l.Suo(r,n4,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(Pq,7),l.Gf(Nq,5),l.Gf(Lq,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:dC,useExisting:n}]),l.qOj],ngContentSelectors:Kq,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(Zq),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,Vq,9,0,"ng-container",3),l.YNc(4,Bq,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,$q,5,16,"label",8),l.qZA()(),l.YNc(10,zq,2,0,"div",9),l.qZA(),l.YNc(11,Gq,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Wq,2,1,"div",12),l.YNc(14,Yq,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Cn,Zr,gs,s$],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Xq.transitionMessages]},changeDetection:0}),n})(),hC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wi,Nn,KF,Nn]}),n})();const vV=Pw({passive:!0});let a4=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return as.E;const i=Iu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ut.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,vV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,vV)}}),s}stopMonitoring(e){const i=Iu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wV=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),l4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let c4=0;const u4=hP(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ut.x}});let d4=(()=>{class n extends u4{constructor(e,i,r,s,u,h,p,y,E,I){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=I,this._uid="mat-input-"+c4++,this.focused=!1,this.stateChanges=new ut.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>GF().has(H)),this._iOSKeyupListener=H=>{const K=H.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,P=O.nodeName.toLowerCase();this._inputValueAccessor=p||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=gi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(tO.required)??!1}set required(e){this._required=gi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&GF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=gi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){l4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Wr),l.Y36(rc,10),l.Y36(cC,8),l.Y36(dy,8),l.Y36(ok),l.Y36(wV,10),l.Y36(a4),l.Y36(l.R0b),l.Y36(dC,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:yA,useExisting:n}]),l.qOj,l.TTD]}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ok],imports:[bV,hC,Nn,bV,hC]}),n})();const m4={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[xs],useFactory:function p4(n){return()=>n.scrollStrategies.reposition()}};let DV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[m4],imports:[jp,MS,Nn,Wi,ay,MS,Nn]}),n})();const v4=["trigger"],b4=["panel"];function w4(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function C4(n,t){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function E4(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function D4(n,t){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,C4,2,1,"span",10),l.YNc(2,E4,1,0,"ng-content",11),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function I4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._handleKeydown(r))}),l.Hsn(3,1),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",e._getPanelTheme(),""),l.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),l.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const S4=[[["mat-select-trigger"]],"*"],A4=["mat-select-trigger","*"],IV={transformPanelWrap:Au("transformPanelWrap",[Ms("* => void",gk("@transformPanel",[mk()],{optional:!0}))]),transformPanel:Au("transformPanel",[da("void",_i({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),da("showing",_i({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),da("showing-multiple",_i({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ms("void => *",eo("120ms cubic-bezier(0, 0, 0.2, 1)")),Ms("* => void",eo("100ms 25ms linear",_i({opacity:0})))])};let SV=0;const TV=new l.OlP("mat-select-scroll-strategy"),k4=new l.OlP("MAT_SELECT_CONFIG"),O4={provide:TV,deps:[xs],useFactory:function x4(n){return()=>n.scrollStrategies.reposition()}};class R4{constructor(t,e){this.source=t,this.value=e}}const F4=Bw(U$(ik(hP(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new ut.x}})))),P4=new l.OlP("MatSelectTrigger");let N4=(()=>{class n extends F4{constructor(e,i,r,s,u,h,p,y,E,I,O,P,H,K){super(u,s,p,y,I),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=E,this._liveAnnouncer=H,this._defaultOptions=K,this._panelOpen=!1,this._compareWith=(re,We)=>re===We,this._uid="mat-select-"+SV++,this._triggerAriaLabelledBy=null,this._destroy=new ut.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+SV++,this._panelDoneAnimatingStream=new ut.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Qd(()=>{const re=this.options;return re?re.changes.pipe(Ci(re),un(()=>(0,br.T)(...re.map(We=>We.onSelectionChange)))):this._ngZone.onStable.pipe(gn(1),un(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(nn(re=>re),(0,qe.U)(()=>{})),this._closedStream=this.openedChange.pipe(nn(re=>!re),(0,qe.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=K?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=K.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(tO.required)??!1}set required(e){this._required=gi(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=gi(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=gi(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ny(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new eO(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Cs(),ii(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ii(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ci(null),ii(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!Io(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Io(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(gn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new h$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ii(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ii(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,br.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ii(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,br.T)(...this.options.map(i=>i._stateChanges)).pipe(ii(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Yw),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(ok),l.Y36(l.SBq),l.Y36(nh,8),l.Y36(cC,8),l.Y36(dy,8),l.Y36(dC,8),l.Y36(rc,10),l.$8M("tabindex"),l.Y36(TV),l.Y36(tk),l.Y36(k4,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(v4,5),l.Gf(b4,5),l.Gf(rN,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),L4=(()=>{class n extends N4{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ii(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=ck(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function EP(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new R4(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let y=this._selectionModel.selected[0]||this.options.first;u=y&&y.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?s:0)),p=e.right+u-i.width+(r?0:s);h>0?u+=h+8:p>0&&(u-=p+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),u=(s-this._triggerRect.height)/2,h=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-h))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;y>u?this._adjustPanelUp(y,u):h>s?this._adjustPanelDown(h,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=ck(h,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(h,p,u),this._offsetY=this._calculateOverlayOffsetY(h,p,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,P4,5),l.Suo(r,CP,5),l.Suo(r,bP,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:yA,useExisting:n},{provide:vP,useExisting:n}]),l.qOj],ngContentSelectors:A4,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(l.F$t(S4),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,w4,2,1,"span",3),l.YNc(5,D4,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,I4,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[wn,Zr,gs,no,rN,iN],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[IV.transformPanelWrap,IV.transformPanel]},changeDetection:0}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[O4],imports:[Wi,jp,MS,Nn,ay,hC,MS,Nn]}),n})(),U4=(()=>{class n{constructor(){this.changes=new ut.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K4={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[xs],useFactory:function Z4(n){return()=>n.scrollStrategies.reposition()}};let RV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[U4,K4],imports:[Wi,xS,jp,cP,oy,Nn,ay]}),n})();const tY=["*",[["mat-card-footer"]]],nY=["*","mat-card-footer"];let wO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),EO=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:nY,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(tY),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn,Nn]}),n})();function iY(n,t){}class EA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let PV=(()=>{class n extends VS{constructor(e,i,r,s,u,h,p,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=p,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Yx(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Yx();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Yx())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Xx),l.Y36(ne,8),l.Y36(EA),l.Y36(SS),l.Y36(l.R0b),l.Y36(Zw),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&l.Gf(Ww,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,iY,0,0,"ng-template",0)},dependencies:[Ww],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class DO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ut.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Io(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const NV=new l.OlP("DialogScrollStrategy"),rY=new l.OlP("DialogData"),sY=new l.OlP("DefaultDialogConfig"),aY={provide:NV,deps:[xs],useFactory:function oY(n){return()=>n.scrollStrategies.block()}};let lY=0,LV=(()=>{class n{constructor(e,i,r,s,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut.x,this._afterOpenedAtThisLevel=new ut.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Qd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ci(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new EA,...i}).id=i.id||"cdk-dialog-"+lY++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),u=this._overlay.create(s),h=new DO(u,i),p=this._attachContainer(u,h,i);return h.containerInstance=p,this._attachDialogContent(e,h,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){IO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){IO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),IO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new ly({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,u=[{provide:EA,useValue:r},{provide:DO,useValue:i},{provide:Zw,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=PV;const p=new Gw(h,r.viewContainerRef,l.zs3.create({parent:s||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof l.Rgc){const u=this._createInjector(s,i,r,void 0);let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new sy(e,null,h,u))}else{const u=this._createInjector(s,i,r,this._injector),h=r.attachComponentPortal(new Gw(e,s.viewContainerRef,u,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,s){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:rY,useValue:e.data},{provide:DO,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(nh,null,l.XFs.Optional))&&h.push({provide:nh,useValue:{value:e.direction,change:Ke()}}),l.zs3.create({parent:u||s,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xs),l.LFG(l.zs3),l.LFG(sY,8),l.LFG(n,12),l.LFG(BS),l.LFG(NV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function IO(n,t){let e=n.length;for(;e--;)t(n[e])}let cY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[LV,aY],imports:[jp,oy,cP,oy]}),n})();function uY(n,t){}const py={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},dY={dialogContainer:Au("dialogContainer",[da("void, exit",_i({opacity:0,transform:"scale(0.7)"})),da("enter",_i({transform:"none"})),Ms("* => enter",HP([eo("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",_i({transform:"none",opacity:1})),gk("@*",mk(),{optional:!0})]),py),Ms("* => void, * => exit",HP([eo("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",_i({opacity:0})),gk("@*",mk(),{optional:!0})]),py)])};class DA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=py.params.enterAnimationDuration,this.exitAnimationDuration=py.params.exitAnimationDuration}}let hY=(()=>{class n extends PV{constructor(e,i,r,s,u,h,p,y){super(e,i,r,s,u,h,p,y),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Xx),l.Y36(ne,8),l.Y36(DA),l.Y36(SS),l.Y36(l.R0b),l.Y36(Zw),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),fY=(()=>{class n extends hY{constructor(e,i,r,s,u,h,p,y,E){super(e,i,r,s,u,h,p,E),this._changeDetectorRef=y,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||py.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||py.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Xx),l.Y36(ne,8),l.Y36(DA),l.Y36(SS),l.Y36(l.R0b),l.Y36(Zw),l.Y36(l.sBO),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,uY,0,0,"ng-template",0)},dependencies:[Ww],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[dY.dialogContainer]}}),n})();class SO{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ut.x,this._beforeClosed=new ut.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(nn(r=>"opened"===r.state),gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(nn(r=>"closed"===r.state),gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,br.T)(this.backdropClick(),this.keydownEvents().pipe(nn(r=>27===r.keyCode&&!this.disableClose&&!Io(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function pY(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(nn(e=>"closing"===e.state),gn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const VV=new l.OlP("MatDialogData"),mY=new l.OlP("mat-dialog-default-options"),BV=new l.OlP("mat-dialog-scroll-strategy"),_Y={provide:BV,deps:[xs],useFactory:function gY(n){return()=>n.scrollStrategies.block()}};let yY=0,vY=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut.x,this._afterOpenedAtThisLevel=new ut.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Qd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ci(void 0))),this._scrollStrategy=h,this._dialog=i.get(LV)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new DA,...i}).id=i.id||`${this._idPrefix}${yY++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:DA,useValue:i},{provide:EA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,p)=>(r=new this._dialogRefConstructor(u,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),pC=(()=>{class n extends vY{constructor(e,i,r,s,u,h,p,y){super(e,i,s,h,p,u,SO,fY,VV,y)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xs),l.LFG(l.zs3),l.LFG(Pe,8),l.LFG(mY,8),l.LFG(BV),l.LFG(n,12),l.LFG(BS),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bY=0,UV=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+bY++}ngOnInit(){this._dialogRef||(this._dialogRef=function CY(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(SO,8),l.Y36(l.SBq),l.Y36(pC))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),wY=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pC,_Y],imports:[cY,jp,oy,Nn,Nn]}),n})();function EY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(2),l.Oqu(e.data.action)}}function DY(n,t){}const $V=new l.OlP("MatSnackBarData");class IA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const IY=Math.pow(2,31)-1;class AO{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ut.x,this._afterOpened=new ut.x,this._onAction=new ut.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,IY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let SY=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(AO),l.Y36($V))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,EY,3,1,"div",1)),2&e&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[Cn,ih],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const AY={snackBarState:Au("state",[da("void, hidden",_i({transform:"scale(0.8)",opacity:0})),da("visible",_i({transform:"scale(1)",opacity:1})),Ms("* => visible",eo("150ms cubic-bezier(0, 0, 0.2, 1)")),Ms("* => void, * => hidden",eo("75ms cubic-bezier(0.4, 0.0, 1, 1)",_i({opacity:0})))])};let TY=(()=>{class n extends VS{constructor(e,i,r,s,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ut.x,this._onExit=new ut.x,this._onEnter=new ut.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),p},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(gn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Wr),l.Y36(IA))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(Ww,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),MY=(()=>{class n extends TY{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&l.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,DY,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&e&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[Ww],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[AY.snackBarState]}}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jp,oy,Wi,xS,Nn,Nn]}),n})();const MO=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function xY(){return new IA}});let kY=(()=>{class n{constructor(e,i,r,s,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:IA,useValue:i}]}),u=new Gw(this.snackBarContainerComponent,i.viewContainerRef,s),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new IA,...this._defaultConfig,...i},s=this._createOverlay(r),u=this._attachSnackBarContainer(s,r),h=new AO(u,s);if(e instanceof l.Rgc){const p=new sy(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(p)}else{const p=this._createInjector(r,h),y=new Gw(e,void 0,p),E=u.attachComponentPortal(y);h.instance=E.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ii(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new ly;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return l.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:AO,useValue:i},{provide:$V,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xs),l.LFG(tk),l.LFG(l.zs3),l.LFG(Qx),l.LFG(n,12),l.LFG(MO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zV=(()=>{class n extends kY{constructor(e,i,r,s,u,h){super(e,i,r,s,u,h),this.simpleSnackBarComponent=SY,this.snackBarContainerComponent=MY,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xs),l.LFG(tk),l.LFG(l.zs3),l.LFG(Qx),l.LFG(n,12),l.LFG(MO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:TO}),n})();const OY=[DV,xS,FV,RV,jV,uk,hC,NP,CV,gV,cN,fP,fN,MV,TO,uN];let SA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:MO,useValue:{duration:3e3}}],imports:[OY,DV,xS,FV,RV,jV,uk,hC,NP,CV,gV,cN,fP,fN,MV,TO,uN]}),n})();function RY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.logout())}),l._uU(1,"Logout"),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("color",e.color)}}function FY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.login())}),l._uU(1,"Login"),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("color",e.color)}}let GV=(()=>{class n{constructor(e){this.authService=e,this.user$=this.authService.user$}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-login-with-google"]],inputs:{color:"color"},decls:4,vars:4,consts:[["mat-raised-button","",3,"color","click",4,"ngIf","ngIfElse"],["showLogin",""],["mat-raised-button","",3,"color","click"]],template:function(e,i){if(1&e&&(l.YNc(0,RY,2,1,"button",0),l.ALo(1,"async"),l.YNc(2,FY,2,1,"ng-template",null,1,l.W1O)),2&e){const r=l.MAs(3);l.Q6J("ngIf",l.lcZ(1,2,i.user$))("ngIfElse",r)}},dependencies:[Cn,ih,io]}),n})(),PY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wi,SA,hv,SA]}),n})();function NY(n,t){if(1&n&&(l.TgZ(0,"h1",6),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.title)}}function LY(n,t){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.message)}}function VY(n,t){if(1&n&&l._UZ(0,"div",7),2&n){const e=l.oxw();l.Q6J("innerHTML",e.data.html,l.oJD)}}function BY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.onCancel())}),l._uU(1),l.qZA()}if(2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.data.cancelText)}}let WV=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}onEsc(){this.close(!1)}ngOnInit(){}onCancel(){this.close(!1)}onConfirm(){this.close(!0)}close(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(VV),l.Y36(SO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-dialog"]],hostBindings:function(e,i){1&e&&l.NdJ("keydown.esc",function(){return i.onEsc()})},decls:8,vars:5,consts:[["mat-dialog-title","",4,"ngIf"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title",""],[3,"innerHTML"],["mat-flat-button","",3,"click"]],template:function(e,i){1&e&&(l.YNc(0,NY,2,1,"h1",0),l.TgZ(1,"mat-dialog-content"),l.YNc(2,LY,2,1,"p",1),l.YNc(3,VY,1,1,"div",2),l.qZA(),l.TgZ(4,"mat-dialog-actions",3),l.YNc(5,BY,2,1,"button",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.onConfirm()}),l._uU(7),l.qZA()()),2&e&&(l.Q6J("ngIf",!!i.data.title),l.xp6(2),l.Q6J("ngIf",!!i.data.message),l.xp6(1),l.Q6J("ngIf",!!i.data.html),l.xp6(2),l.Q6J("ngIf",!!i.data.cancelText),l.xp6(2),l.Oqu(i.data.confirmText))},dependencies:[Cn,ih,UV,HV,wY]}),n})(),qV=(()=>{class n{constructor(e){this.dialog=e}open(e){this.dialogRef=this.dialog.open(WV,{data:{title:e.title,message:e.message,html:e.html,cancelText:e.cancelText,confirmText:e.confirmText}})}confirmed(){return this.dialogRef?this.dialogRef.afterClosed().pipe(gn(1),(0,qe.U)(e=>e)):Ke(!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UY=[qV];let HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...UY],imports:[Wi,SA,vO]}),n})();const YV={leading:!0,trailing:!1};let ZV=(()=>{class n{constructor(e){this.snackbar=e,this.abortController=new AbortController,this.hasNfcCapabilitySubject=new Ai(!1),this.permissionStateSubject=new Ai("denied"),this.readRunningStateSubject=new Ai("stopped"),this.writeRunningStateSubject=new Ai("stopped"),this.messagesSubject=new ut.x,this.hasNfcCapability$=this.hasNfcCapabilitySubject.asObservable(),this.permissionState$=this.permissionStateSubject.asObservable(),this.readRunningState$=this.readRunningStateSubject.asObservable(),this.writeRunningState$=this.writeRunningStateSubject.asObservable(),this.messages$=this.messagesSubject.asObservable().pipe(function $Y(n,t=nf.z,e=YV){const i=zx(n,t);return function jY(n,t=YV){return(0,fi.e)((e,i)=>{const{leading:r,trailing:s}=t;let u=!1,h=null,p=null,y=!1;const E=()=>{p?.unsubscribe(),p=null,s&&(P(),y&&i.complete())},I=()=>{p=null,y&&i.complete()},O=H=>p=(0,js.Xf)(n(H)).subscribe((0,Yn.x)(i,E,I)),P=()=>{if(u){u=!1;const H=h;h=null,i.next(H),!y&&O(H)}};e.subscribe((0,Yn.x)(i,H=>{u=!0,h=H,(!p||p.closed)&&(r?P():O(H))},()=>{y=!0,(!(s&&u&&p)||p.closed)&&i.complete()}))})}(()=>i,e)}(500))}init(){var e=this;return(0,Ee.Z)(function*(){if("NDEFReader"in window){console.debug("[NfcService] This browser has NFC capability! <3"),e.hasNfcCapabilitySubject.next(!0);const i=yield navigator.permissions.query({name:"nfc"});e.permissionStateSubject.next(i.state),i.onchange=()=>{console.debug("[NfcService] The user decided to change his settings. New permission: "+i.state),e.permissionStateSubject.next(i.state),"denied"===i.state&&e.stopRead()},"granted"===i.state?(console.debug("[NfcService] The user has granted the NFC permission"),"started"!==e.readRunningStateSubject.value&&e.startRead()):"prompt"===i.state?console.debug("[NfcService] The user should be asked to grant the NFC permission"):console.debug("[NfcService] The user didn't grant the NFC permission")}else console.debug("[NfcService] No NFC capability :(")})()}startRead(){var e=this;return(0,Ee.Z)(function*(){e.stopWrite(),e.abortController=new AbortController,e.ndef=new NDEFReader;try{const i=yield e.ndef.scan({signal:e.abortController.signal});e.readRunningStateSubject.next("started"),console.debug("[NfcService] Scan started successfully.",i),e.ndef.onreadingerror=()=>{console.debug("[NfcService] Cannot read data from the NFC tag. Try another one?")},e.ndef.onreading=r=>{console.debug("[NfcService] NDEF message read.",r);const s=new TextDecoder;for(const u of r.message.records)e.messagesSubject.next({recordType:u.recordType,mediaType:u.mediaType,data:s.decode(u.data)})}}catch(i){console.error(`[NfcService] Error! Scan failed to start: ${i}.`)}})()}stopRead(){this.abortController.abort(),this.readRunningStateSubject.next("stopped")}startWrite(e){e?(this.stopRead(),this.abortController=new AbortController,this.ndef=new NDEFReader,this.writeRunningStateSubject.next("started"),this.ndef.write(e,{signal:this.abortController.signal}).then(i=>{this.writeRunningStateSubject.next("stopped"),console.debug(`[NfcService] NDEF message "${e}" written!`,i),this.snackbar.open(`NDEF message "${e}" written`,"Dismiss"),setTimeout(()=>{this.startRead()},2e3)}).catch(i=>{this.writeRunningStateSubject.next("stopped"),i.toString().startsWith("AbortError")?console.debug("[NfcService] Stop writing NDEF message"):console.error("[NfcService] Error on NDEF message  writing!",i)})):console.error("[NfcService] cannot write an empty text")}stopWrite(){this.abortController.abort(),this.writeRunningStateSubject.next("stopped")}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yp extends Error{}class zY extends Yp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class GY extends Yp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class WY extends Yp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class mC extends Yp{}class KV extends Yp{constructor(t){super(`Invalid unit ${t}`)}}class pa extends Yp{}class uh extends Yp{constructor(){super("Zone is an abstract class")}}const lt="numeric",rl="short",Mo="long",xO={year:lt,month:lt,day:lt},QV={year:lt,month:rl,day:lt},qY={year:lt,month:rl,day:lt,weekday:rl},XV={year:lt,month:Mo,day:lt},JV={year:lt,month:Mo,day:lt,weekday:Mo},eB={hour:lt,minute:lt},tB={hour:lt,minute:lt,second:lt},nB={hour:lt,minute:lt,second:lt,timeZoneName:rl},iB={hour:lt,minute:lt,second:lt,timeZoneName:Mo},rB={hour:lt,minute:lt,hourCycle:"h23"},sB={hour:lt,minute:lt,second:lt,hourCycle:"h23"},oB={hour:lt,minute:lt,second:lt,hourCycle:"h23",timeZoneName:rl},aB={hour:lt,minute:lt,second:lt,hourCycle:"h23",timeZoneName:Mo},lB={year:lt,month:lt,day:lt,hour:lt,minute:lt},cB={year:lt,month:lt,day:lt,hour:lt,minute:lt,second:lt},uB={year:lt,month:rl,day:lt,hour:lt,minute:lt},dB={year:lt,month:rl,day:lt,hour:lt,minute:lt,second:lt},YY={year:lt,month:rl,day:lt,weekday:rl,hour:lt,minute:lt},hB={year:lt,month:Mo,day:lt,hour:lt,minute:lt,timeZoneName:rl},fB={year:lt,month:Mo,day:lt,hour:lt,minute:lt,second:lt,timeZoneName:rl},pB={year:lt,month:Mo,day:lt,weekday:Mo,hour:lt,minute:lt,timeZoneName:Mo},mB={year:lt,month:Mo,day:lt,weekday:Mo,hour:lt,minute:lt,second:lt,timeZoneName:Mo};function Ln(n){return typeof n>"u"}function Zp(n){return"number"==typeof n}function AA(n){return"number"==typeof n&&n%1==0}function gB(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _B(n,t,e){if(0!==n.length)return n.reduce((i,r)=>{const s=[t(r),r];return i&&e(i[0],s[0])===i[0]?i:s},null)[1]}function my(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function xu(n,t,e){return AA(n)&&n>=t&&n<=e}function kr(n,t=2){let i;return i=n<0?"-"+(""+-n).padStart(t,"0"):(""+n).padStart(t,"0"),i}function dh(n){if(!Ln(n)&&null!==n&&""!==n)return parseInt(n,10)}function Kp(n){if(!Ln(n)&&null!==n&&""!==n)return parseFloat(n)}function kO(n){if(!Ln(n)&&null!==n&&""!==n){const t=1e3*parseFloat("0."+n);return Math.floor(t)}}function OO(n,t,e=!1){const i=10**t;return(e?Math.trunc:Math.round)(n*i)/i}function gC(n){return n%4==0&&(n%100!=0||n%400==0)}function _C(n){return gC(n)?366:365}function TA(n,t){const e=function JY(n,t){return n-t*Math.floor(n/t)}(t-1,12)+1;return 2===e?gC(n+(t-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function RO(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function MA(n){const t=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,e=n-1,i=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return 4===t||3===i?53:52}function FO(n){return n>99?n:n>60?1900+n:2e3+n}function yB(n,t,e,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const u={timeZoneName:t,...s},h=new Intl.DateTimeFormat(e,u).formatToParts(r).find(p=>"timezonename"===p.type.toLowerCase());return h?h.value:null}function xA(n,t){let e=parseInt(n,10);Number.isNaN(e)&&(e=0);const i=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-i:i)}function vB(n){const t=Number(n);if("boolean"==typeof n||""===n||Number.isNaN(t))throw new pa(`Invalid unit value ${n}`);return t}function kA(n,t){const e={};for(const i in n)if(my(n,i)){const r=n[i];if(null==r)continue;e[t(i)]=vB(r)}return e}function yC(n,t){const e=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(t){case"short":return`${r}${kr(e,2)}:${kr(i,2)}`;case"narrow":return`${r}${e}${i>0?`:${i}`:""}`;case"techie":return`${r}${kr(e,2)}${kr(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function OA(n){return function XY(n,t){return t.reduce((e,i)=>(e[i]=n[i],e),{})}(n,["hour","minute","second","millisecond"])}const bB=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,e5=["January","February","March","April","May","June","July","August","September","October","November","December"],wB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t5=["J","F","M","A","M","J","J","A","S","O","N","D"];function CB(n){switch(n){case"narrow":return[...t5];case"short":return[...wB];case"long":return[...e5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const EB=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],DB=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n5=["M","T","W","T","F","S","S"];function IB(n){switch(n){case"narrow":return[...n5];case"short":return[...DB];case"long":return[...EB];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const SB=["AM","PM"],r5=["Before Christ","Anno Domini"],s5=["BC","AD"],o5=["B","A"];function AB(n){switch(n){case"narrow":return[...o5];case"short":return[...s5];case"long":return[...r5];default:return null}}function TB(n,t){let e="";for(const i of n)e+=i.literal?i.val:t(i.val);return e}const h5={D:xO,DD:QV,DDD:XV,DDDD:JV,t:eB,tt:tB,ttt:nB,tttt:iB,T:rB,TT:sB,TTT:oB,TTTT:aB,f:lB,ff:uB,fff:hB,ffff:pB,F:cB,FF:dB,FFF:fB,FFFF:mB};class Os{static create(t,e={}){return new Os(t,e)}static parseFormat(t){let e=null,i="",r=!1;const s=[];for(let u=0;u<t.length;u++){const h=t.charAt(u);"'"===h?(i.length>0&&s.push({literal:r,val:i}),e=null,i="",r=!r):r||h===e?i+=h:(i.length>0&&s.push({literal:!1,val:i}),i=h,e=h)}return i.length>0&&s.push({literal:r,val:i}),s}static macroTokenToFormatOpts(t){return h5[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}formatDateTime(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).format()}formatDateTimeParts(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).formatToParts()}resolvedOptions(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return kr(t,e);const i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){const i="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,s=(P,H)=>this.loc.extract(t,P,H),u=P=>t.isOffsetFixed&&0===t.offset&&P.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,P.format):"",p=(P,H)=>i?function c5(n,t){return CB(t)[n.month-1]}(t,P):s(H?{month:P}:{month:P,day:"numeric"},"month"),y=(P,H)=>i?function l5(n,t){return IB(t)[n.weekday-1]}(t,P):s(H?{weekday:P}:{weekday:P,month:"long",day:"numeric"},"weekday"),E=P=>{const H=Os.macroTokenToFormatOpts(P);return H?this.formatWithSystemDefault(t,H):P},I=P=>i?function u5(n,t){return AB(t)[n.year<0?0:1]}(t,P):s({era:P},"era");return TB(Os.parseFormat(e),P=>{switch(P){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return i?function a5(n){return SB[n.hour<12?0:1]}(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?s({day:"numeric"},"day"):this.num(t.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(t.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(t.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return I("short");case"GG":return I("long");case"GGGGG":return I("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return E(P)}})}formatDurationFromString(t,e){const i=p=>{switch(p[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=Os.parseFormat(e),u=s.reduce((p,{literal:y,val:E})=>y?p:p.concat(E),[]);return TB(s,(p=>y=>{const E=i(y);return E?this.num(p.get(E),y.length):y})(t.shiftTo(...u.map(i).filter(p=>p))))}}class sl{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class vC{get type(){throw new uh}get name(){throw new uh}get ianaName(){return this.name}get isUniversal(){throw new uh}offsetName(t,e){throw new uh}formatOffset(t,e){throw new uh}offset(t){throw new uh}equals(t){throw new uh}get isValid(){throw new uh}}let PO=null;class RA extends vC{static get instance(){return null===PO&&(PO=new RA),PO}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return yB(t,e,i)}formatOffset(t,e){return yC(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let FA={};const p5={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let PA={};class ku extends vC{static create(t){return PA[t]||(PA[t]=new ku(t)),PA[t]}static resetCache(){PA={},FA={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ku.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return yB(t,e,i,this.name)}formatOffset(t,e){return yC(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const i=function f5(n){return FA[n]||(FA[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),FA[n]}(this.name);let[r,s,u,h,p,y,E]=i.formatToParts?function g5(n,t){const e=n.formatToParts(t),i=[];for(let r=0;r<e.length;r++){const{type:s,value:u}=e[r],h=p5[s];"era"===s?i[h]=u:Ln(h)||(i[h]=parseInt(u,10))}return i}(i,e):function m5(n,t){const e=n.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,s,u,h,p,y,E]=i;return[u,r,s,h,p,y,E]}(i,e);"BC"===h&&(r=1-Math.abs(r));let P=+e;const H=P%1e3;return P-=H>=0?H:1e3+H,(RO({year:r,month:s,day:u,hour:24===p?0:p,minute:y,second:E,millisecond:0})-P)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let NO=null;class Rs extends vC{static get utcInstance(){return null===NO&&(NO=new Rs(0)),NO}static instance(t){return 0===t?Rs.utcInstance:new Rs(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Rs(xA(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${yC(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${yC(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return yC(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class _5 extends vC{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function hh(n,t){if(Ln(n)||null===n)return t;if(n instanceof vC)return n;if(function ZY(n){return"string"==typeof n}(n)){const i=n.toLowerCase();return"default"===i?t:"local"===i||"system"===i?RA.instance:"utc"===i||"gmt"===i?Rs.utcInstance:Rs.parseSpecifier(i)||ku.create(n)}return Zp(n)?Rs.instance(n):"object"==typeof n&&n.offset&&"number"==typeof n.offset?n:new _5(n)}let FB,MB=()=>Date.now(),xB="system",kB=null,OB=null,RB=null;class Vr{static get now(){return MB}static set now(t){MB=t}static set defaultZone(t){xB=t}static get defaultZone(){return hh(xB,RA.instance)}static get defaultLocale(){return kB}static set defaultLocale(t){kB=t}static get defaultNumberingSystem(){return OB}static set defaultNumberingSystem(t){OB=t}static get defaultOutputCalendar(){return RB}static set defaultOutputCalendar(t){RB=t}static get throwOnInvalid(){return FB}static set throwOnInvalid(t){FB=t}static resetCaches(){Mi.resetCache(),ku.resetCache()}}let PB={},LO={};function VO(n,t={}){const e=JSON.stringify([n,t]);let i=LO[e];return i||(i=new Intl.DateTimeFormat(n,t),LO[e]=i),i}let BO={},UO={},bC=null;function NA(n,t,e,i,r){const s=n.listingMode(e);return"error"===s?null:"en"===s?i(t):r(t)}class A5{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...u}=i;if(!e||Object.keys(u).length>0){const h={useGrouping:!1,...i};i.padTo>0&&(h.minimumIntegerDigits=i.padTo),this.inf=function v5(n,t={}){const e=JSON.stringify([n,t]);let i=BO[e];return i||(i=new Intl.NumberFormat(n,t),BO[e]=i),i}(t,h)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return kr(this.floor?Math.floor(t):OO(t,3),this.padTo)}}class T5{constructor(t,e,i){let r;if(this.opts=i,t.zone.isUniversal){const u=t.offset/60*-1,h=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;0!==t.offset&&ku.create(h).valid?(r=h,this.dt=t):(r="UTC",this.dt=i.timeZoneName||0===t.offset?t:sn.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,r=t.zone.name);const s={...this.opts};r&&(s.timeZone=r),this.dtf=VO(e,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class M5{constructor(t,e,i){this.opts={style:"long",...i},!e&&gB()&&(this.rtf=function b5(n,t={}){const{base:e,...i}=t,r=JSON.stringify([n,i]);let s=UO[r];return s||(s=new Intl.RelativeTimeFormat(n,t),UO[r]=s),s}(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):function d5(n,t,e="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(n);if("auto"===e&&s){const I="days"===n;switch(t){case 1:return I?"tomorrow":`next ${r[n][0]}`;case-1:return I?"yesterday":`last ${r[n][0]}`;case 0:return I?"today":`this ${r[n][0]}`}}const u=Object.is(t,-0)||t<0,h=Math.abs(t),p=1===h,y=r[n],E=i?p?y[1]:y[2]||y[1]:p?r[n][0]:n;return u?`${h} ${E} ago`:`in ${h} ${E}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}class Mi{static fromOpts(t){return Mi.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,e,i,r=!1){const s=t||Vr.defaultLocale,u=s||(r?"en-US":function w5(){return bC||(bC=(new Intl.DateTimeFormat).resolvedOptions().locale,bC)}());return new Mi(u,e||Vr.defaultNumberingSystem,i||Vr.defaultOutputCalendar,s)}static resetCache(){bC=null,LO={},BO={},UO={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i}={}){return Mi.create(t,e,i)}constructor(t,e,i,r){const[s,u,h]=function C5(n){const t=n.indexOf("-u-");if(-1===t)return[n];{let e;const i=n.substring(0,t);try{e=VO(n).resolvedOptions()}catch{e=VO(i).resolvedOptions()}const{numberingSystem:r,calendar:s}=e;return[i,r,s]}}(t);this.locale=s,this.numberingSystem=e||u||null,this.outputCalendar=i||h||null,this.intl=function E5(n,t,e){return(e||t)&&(n+="-u",e&&(n+=`-ca-${e}`),t&&(n+=`-nu-${t}`)),n}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function S5(n){return(!n.numberingSystem||"latn"===n.numberingSystem)&&("latn"===n.numberingSystem||!n.locale||n.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?Mi.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1,i=!0){return NA(this,t,i,CB,()=>{const r=e?{month:t,day:"numeric"}:{month:t},s=e?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=function D5(n){const t=[];for(let e=1;e<=12;e++){const i=sn.utc(2016,e,1);t.push(n(i))}return t}(u=>this.extract(u,r,"month"))),this.monthsCache[s][t]})}weekdays(t,e=!1,i=!0){return NA(this,t,i,IB,()=>{const r=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=e?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=function I5(n){const t=[];for(let e=1;e<=7;e++){const i=sn.utc(2016,11,13+e);t.push(n(i))}return t}(u=>this.extract(u,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(t=!0){return NA(this,void 0,t,()=>SB,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[sn.utc(2016,11,13,9),sn.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(t,e=!0){return NA(this,t,e,AB,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[sn.utc(-40,1,1),sn.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,e,i){const u=this.dtFormatter(t,e).formatToParts().find(h=>h.type.toLowerCase()===i);return u?u.value:null}numberFormatter(t={}){return new A5(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new T5(t,this.intl,e)}relFormatter(t={}){return new M5(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function y5(n,t={}){const e=JSON.stringify([n,t]);let i=PB[e];return i||(i=new Intl.ListFormat(n,t),PB[e]=i),i}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function gy(...n){const t=n.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function _y(...n){return t=>n.reduce(([e,i,r],s)=>{const[u,h,p]=s(t,r);return[{...e,...u},h||i,p]},[{},null,1]).slice(0,2)}function yy(n,...t){if(null==n)return[null,null];for(const[e,i]of t){const r=e.exec(n);if(r)return i(r)}return[null,null]}function NB(...n){return(t,e)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=dh(t[e+r]);return[i,null,e+r]}}const LB=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,HO=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,VB=RegExp(`${HO.source}(?:${LB.source}?(?:\\[(${bB.source})\\])?)?`),jO=RegExp(`(?:T${VB.source})?`),F5=NB("weekYear","weekNumber","weekDay"),P5=NB("year","ordinal"),BB=RegExp(`${HO.source} ?(?:${LB.source}|(${bB.source}))?`),L5=RegExp(`(?: ${BB.source})?`);function vy(n,t,e){const i=n[t];return Ln(i)?e:dh(i)}function by(n,t){return[{hours:vy(n,t,0),minutes:vy(n,t+1,0),seconds:vy(n,t+2,0),milliseconds:kO(n[t+3])},null,t+4]}function wC(n,t){const e=!n[t]&&!n[t+1],i=xA(n[t+1],n[t+2]);return[{},e?null:Rs.instance(i),t+3]}function CC(n,t){return[{},n[t]?ku.create(n[t]):null,t+1]}const B5=RegExp(`^T?${HO.source}$`),U5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function H5(n){const[t,e,i,r,s,u,h,p,y]=n,E="-"===t[0],I=p&&"-"===p[0],O=(P,H=!1)=>void 0!==P&&(H||P&&E)?-P:P;return[{years:O(Kp(e)),months:O(Kp(i)),weeks:O(Kp(r)),days:O(Kp(s)),hours:O(Kp(u)),minutes:O(Kp(h)),seconds:O(Kp(p),"-0"===p),milliseconds:O(kO(y),I)}]}const j5={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $O(n,t,e,i,r,s,u){const h={year:2===t.length?FO(dh(t)):dh(t),month:wB.indexOf(e)+1,day:dh(i),hour:dh(r),minute:dh(s)};return u&&(h.second=dh(u)),n&&(h.weekday=n.length>3?EB.indexOf(n)+1:DB.indexOf(n)+1),h}const $5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function z5(n){const[,t,e,i,r,s,u,h,p,y,E,I]=n,O=$O(t,r,i,e,s,u,h);let P;return P=p?j5[p]:y?0:xA(E,I),[O,new Rs(P)]}const W5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,q5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Y5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function UB(n){const[,t,e,i,r,s,u,h]=n;return[$O(t,r,i,e,s,u,h),Rs.utcInstance]}function Z5(n){const[,t,e,i,r,s,u,h]=n;return[$O(t,h,e,i,r,s,u),Rs.utcInstance]}const K5=gy(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jO),Q5=gy(/(\d{4})-?W(\d\d)(?:-?(\d))?/,jO),X5=gy(/(\d{4})-?(\d{3})/,jO),J5=gy(VB),HB=_y(function V5(n,t){return[{year:vy(n,t),month:vy(n,t+1,1),day:vy(n,t+2,1)},null,t+3]},by,wC,CC),e8=_y(F5,by,wC,CC),t8=_y(P5,by,wC,CC),n8=_y(by,wC,CC),a8=_y(by),c8=gy(/(\d{4})-(\d\d)-(\d\d)/,L5),u8=gy(BB),d8=_y(by,wC,CC),jB={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},p8={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...jB},ma=365.2425,wy=30.436875,m8={years:{quarters:4,months:12,weeks:ma/7,days:ma,hours:24*ma,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ma/28,days:ma/4,hours:24*ma/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:wy/7,days:wy,hours:24*wy,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...jB},Qp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],g8=Qp.slice(0).reverse();function fh(n,t,e=!1){const i={values:e?t.values:{...n.values,...t.values||{}},loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy,matrix:t.matrix||n.matrix};return new jn(i)}function $B(n,t,e,i,r){const s=n[r][e],u=t[e]/s,p=Math.sign(u)!==Math.sign(i[r])&&0!==i[r]&&Math.abs(u)<=1?function _8(n){return n<0?Math.floor(n):Math.ceil(n)}(u):Math.trunc(u);i[r]+=p,t[e]-=p*s}class jn{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let i=e?m8:p8;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Mi.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return jn.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new pa("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new jn({values:kA(t,jn.normalizeUnit),loc:Mi.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(Zp(t))return jn.fromMillis(t);if(jn.isDuration(t))return t;if("object"==typeof t)return jn.fromObject(t);throw new pa(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[i]=function o8(n){return yy(n,[U5,H5])}(t);return i?jn.fromObject(i,e):jn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[i]=function l8(n){return yy(n,[B5,a8])}(t);return i?jn.fromObject(i,e):jn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new pa("need to specify a reason the Duration is invalid");const i=t instanceof sl?t:new sl(t,e);if(Vr.throwOnInvalid)throw new WY(i);return new jn({invalid:i})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new KV(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const i={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?Os.create(this.loc,i).formatDurationFromString(this,t):"Invalid Duration"}toHuman(t={}){const e=Qp.map(i=>{const r=this.values[i];return Ln(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=OO(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();if(e<0||e>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let r="basic"===t.format?"hhmm":"hh:mm";(!t.suppressSeconds||0!==i.seconds||0!==i.milliseconds)&&(r+="basic"===t.format?"ss":":ss",(!t.suppressMilliseconds||0!==i.milliseconds)&&(r+=".SSS"));let s=i.toFormat(r);return t.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=jn.fromDurationLike(t),i={};for(const r of Qp)(my(e.values,r)||my(this.values,r))&&(i[r]=e.get(r)+this.get(r));return fh(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const e=jn.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=vB(t(this.values[i],i));return fh(this,{values:e},!0)}get(t){return this[jn.normalizeUnit(t)]}set(t){return this.isValid?fh(this,{values:{...this.values,...kA(t,jn.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:r}={}){return fh(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:i})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return function y8(n,t){g8.reduce((e,i)=>Ln(t[i])?e:(e&&$B(n,t,e,t,i),i),null)}(this.matrix,t),fh(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=function v8(n){const t={};for(const[e,i]of Object.entries(n))0!==i&&(t[e]=i);return t}(this.normalize().shiftToAll().toObject());return fh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(u=>jn.normalizeUnit(u));const e={},i={},r=this.toObject();let s;for(const u of Qp)if(t.indexOf(u)>=0){s=u;let h=0;for(const y in i)h+=this.matrix[y][u]*i[y],i[y]=0;Zp(r[u])&&(h+=r[u]);const p=Math.trunc(h);e[u]=p,i[u]=(1e3*h-1e3*p)/1e3;for(const y in r)Qp.indexOf(y)>Qp.indexOf(u)&&$B(this.matrix,r,y,e,u)}else Zp(r[u])&&(i[u]=r[u]);for(const u in i)0!==i[u]&&(e[s]+=u===s?i[u]:i[u]/this.matrix[s][u]);return fh(this,{values:e},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return fh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,r){return void 0===i||0===i?void 0===r||0===r:i===r}for(const i of Qp)if(!e(this.values[i],t.values[i]))return!1;return!0}}const EC="Invalid Interval";class nr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new pa("need to specify a reason the Interval is invalid");const i=t instanceof sl?t:new sl(t,e);if(Vr.throwOnInvalid)throw new GY(i);return new nr({invalid:i})}static fromDateTimes(t,e){const i=SC(t),r=SC(e),s=function b8(n,t){return n&&n.isValid?t&&t.isValid?t<n?nr.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${t.toISO()}`):null:nr.invalid("missing or invalid end"):nr.invalid("missing or invalid start")}(i,r);return s??new nr({start:i,end:r})}static after(t,e){const i=jn.fromDurationLike(e),r=SC(t);return nr.fromDateTimes(r,r.plus(i))}static before(t,e){const i=jn.fromDurationLike(e),r=SC(t);return nr.fromDateTimes(r.minus(i),r)}static fromISO(t,e){const[i,r]=(t||"").split("/",2);if(i&&r){let s,u,h,p;try{s=sn.fromISO(i,e),u=s.isValid}catch{u=!1}try{h=sn.fromISO(r,e),p=h.isValid}catch{p=!1}if(u&&p)return nr.fromDateTimes(s,h);if(u){const y=jn.fromISO(r,e);if(y.isValid)return nr.after(s,y)}else if(p){const y=jn.fromISO(i,e);if(y.isValid)return nr.before(h,y)}}return nr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const e=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(e,t).get(t))+1}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?nr.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(SC).filter(u=>this.contains(u)).sort(),i=[];let{s:r}=this,s=0;for(;r<this.e;){const u=e[s]||this.e,h=+u>+this.e?this.e:u;i.push(nr.fromDateTimes(r,h)),r=h,s+=1}return i}splitBy(t){const e=jn.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let s,{s:i}=this,r=1;const u=[];for(;i<this.e;){const h=this.start.plus(e.mapUnits(p=>p*r));s=+h>+this.e?this.e:h,u.push(nr.fromDateTimes(i,s)),i=s,r+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:nr.fromDateTimes(e,i)}union(t){return this.isValid?nr.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[e,i]=t.sort((r,s)=>r.s-s.s).reduce(([r,s],u)=>s?s.overlaps(u)||s.abutsStart(u)?[r,s.union(u)]:[r.concat([s]),u]:[r,u],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0;const r=[],s=t.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),h=Array.prototype.concat(...s).sort((p,y)=>p.time-y.time);for(const p of h)i+="s"===p.type?1:-1,1===i?e=p.time:(e&&+e!=+p.time&&r.push(nr.fromDateTimes(e,p.time)),e=null);return nr.merge(r)}difference(...t){return nr.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:EC}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:EC}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:EC}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:EC}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:EC}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):jn.invalid(this.invalidReason)}mapEndpoints(t){return nr.fromDateTimes(t(this.s),t(this.e))}}class LA{static hasDST(t=Vr.defaultZone){const e=sn.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return ku.isValidZone(t)}static normalizeZone(t){return hh(t,Vr.defaultZone)}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Mi.create(e,i,s)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Mi.create(e,i,s)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Mi.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Mi.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Mi.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return Mi.create(e,null,"gregory").eras(t)}static features(){return{relative:gB()}}}function zB(n,t){const e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(n);return Math.floor(jn.fromMillis(i).as("days"))}const zO={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},GB={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},E8=zO.hanidec.replace(/[\[|\]]/g,"").split("");function ol({numberingSystem:n},t=""){return new RegExp(`${zO[n||"latn"]}${t}`)}function Zn(n,t=(e=>e)){return{regex:n,deser:([e])=>t(function D8(n){let t=parseInt(n,10);if(isNaN(t)){t="";for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);if(-1!==n[e].search(zO.hanidec))t+=E8.indexOf(n[e]);else for(const r in GB){const[s,u]=GB[r];i>=s&&i<=u&&(t+=i-s)}}return parseInt(t,10)}return t}(e))}}const WB=`[ ${String.fromCharCode(160)}]`,qB=new RegExp(WB,"g");function S8(n){return n.replace(/\./g,"\\.?").replace(qB,WB)}function YB(n){return n.replace(/\./g,"").replace(qB," ").toLowerCase()}function al(n,t){return null===n?null:{regex:RegExp(n.map(S8).join("|")),deser:([e])=>n.findIndex(i=>YB(e)===YB(i))+t}}function ZB(n,t){return{regex:n,deser:([,e,i])=>xA(e,i),groups:t}}function GO(n){return{regex:n,deser:([t])=>t}}function A8(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const M8={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let WO=null;function KB(n,t){return Array.prototype.concat(...n.map(e=>function P8(n,t){if(n.literal)return n;const i=XB(Os.macroTokenToFormatOpts(n.val),t);return null==i||i.includes(void 0)?n:i}(e,t)))}function QB(n,t,e){const i=KB(Os.parseFormat(e),n),r=i.map(u=>function T8(n,t){const e=ol(t),i=ol(t,"{2}"),r=ol(t,"{3}"),s=ol(t,"{4}"),u=ol(t,"{6}"),h=ol(t,"{1,2}"),p=ol(t,"{1,3}"),y=ol(t,"{1,6}"),E=ol(t,"{1,9}"),I=ol(t,"{2,4}"),O=ol(t,"{4,6}"),P=re=>({regex:RegExp(A8(re.val)),deser:([We])=>We,literal:!0}),K=(re=>{if(n.literal)return P(re);switch(re.val){case"G":return al(t.eras("short",!1),0);case"GG":return al(t.eras("long",!1),0);case"y":return Zn(y);case"yy":case"kk":return Zn(I,FO);case"yyyy":case"kkkk":return Zn(s);case"yyyyy":return Zn(O);case"yyyyyy":return Zn(u);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Zn(h);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Zn(i);case"MMM":return al(t.months("short",!0,!1),1);case"MMMM":return al(t.months("long",!0,!1),1);case"LLL":return al(t.months("short",!1,!1),1);case"LLLL":return al(t.months("long",!1,!1),1);case"o":case"S":return Zn(p);case"ooo":case"SSS":return Zn(r);case"u":return GO(E);case"uu":return GO(h);case"uuu":case"E":case"c":return Zn(e);case"a":return al(t.meridiems(),0);case"EEE":return al(t.weekdays("short",!1,!1),1);case"EEEE":return al(t.weekdays("long",!1,!1),1);case"ccc":return al(t.weekdays("short",!0,!1),1);case"cccc":return al(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ZB(new RegExp(`([+-]${h.source})(?::(${i.source}))?`),2);case"ZZZ":return ZB(new RegExp(`([+-]${h.source})(${i.source})?`),2);case"z":return GO(/[a-z_+-/]{1,256}?/i);default:return P(re)}})(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return K.token=n,K}(u,n)),s=r.find(u=>u.invalidReason);if(s)return{input:t,tokens:i,invalidReason:s.invalidReason};{const[u,h]=function k8(n){return[`^${n.map(e=>e.regex).reduce((e,i)=>`${e}(${i.source})`,"")}$`,n]}(r),p=RegExp(u,"i"),[y,E]=function O8(n,t,e){const i=n.match(t);if(i){const r={};let s=1;for(const u in e)if(my(e,u)){const h=e[u],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(r[h.token.val[0]]=h.deser(i.slice(s,s+p))),s+=p}return[i,r]}return[i,{}]}(t,p,h),[I,O,P]=E?function R8(n){let i,e=null;return Ln(n.z)||(e=ku.create(n.z)),Ln(n.Z)||(e||(e=new Rs(n.Z)),i=n.Z),Ln(n.q)||(n.M=3*(n.q-1)+1),Ln(n.h)||(n.h<12&&1===n.a?n.h+=12:12===n.h&&0===n.a&&(n.h=0)),0===n.G&&n.y&&(n.y=-n.y),Ln(n.u)||(n.S=kO(n.u)),[Object.keys(n).reduce((s,u)=>{const h=(s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(u);return h&&(s[h]=n[u]),s},{}),e,i]}(E):[null,null,void 0];if(my(E,"a")&&my(E,"H"))throw new mC("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:p,rawMatches:y,matches:E,result:I,zone:O,specificOffset:P}}}function XB(n,t){return n?Os.create(t,n).formatDateTimeParts(function F8(){return WO||(WO=sn.fromMillis(1555555555555)),WO}()).map(r=>function x8(n,t,e){const{type:i,value:r}=n;if("literal"===i)return{literal:!0,val:r};let u=M8[i];return"object"==typeof u&&(u=u[e[i]]),u?{literal:!1,val:u}:void 0}(r,0,n)):null}const JB=[0,31,59,90,120,151,181,212,243,273,304,334],e2=[0,31,60,91,121,152,182,213,244,274,305,335];function ga(n,t){return new sl("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function t2(n,t,e){const i=new Date(Date.UTC(n,t-1,e));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return 0===r?7:r}function n2(n,t,e){return e+(gC(n)?e2:JB)[t-1]}function r2(n,t){const e=gC(n)?e2:JB,i=e.findIndex(s=>s<t);return{month:i+1,day:t-e[i]}}function qO(n){const{year:t,month:e,day:i}=n,r=n2(t,e,i),s=t2(t,e,i);let h,u=Math.floor((r-s+10)/7);return u<1?(h=t-1,u=MA(h)):u>MA(t)?(h=t+1,u=1):h=t,{weekYear:h,weekNumber:u,weekday:s,...OA(n)}}function s2(n){const{weekYear:t,weekNumber:e,weekday:i}=n,r=t2(t,1,4),s=_C(t);let h,u=7*e+i-r-3;u<1?(h=t-1,u+=_C(h)):u>s?(h=t+1,u-=_C(t)):h=t;const{month:p,day:y}=r2(h,u);return{year:h,month:p,day:y,...OA(n)}}function YO(n){const{year:t,month:e,day:i}=n;return{year:t,ordinal:n2(t,e,i),...OA(n)}}function o2(n){const{year:t,ordinal:e}=n,{month:i,day:r}=r2(t,e);return{year:t,month:i,day:r,...OA(n)}}function a2(n){const t=AA(n.year),e=xu(n.month,1,12),i=xu(n.day,1,TA(n.year,n.month));return t?e?!i&&ga("day",n.day):ga("month",n.month):ga("year",n.year)}function l2(n){const{hour:t,minute:e,second:i,millisecond:r}=n,s=xu(t,0,23)||24===t&&0===e&&0===i&&0===r,u=xu(e,0,59),h=xu(i,0,59),p=xu(r,0,999);return s?u?h?!p&&ga("millisecond",r):ga("second",i):ga("minute",e):ga("hour",t)}const ZO="Invalid DateTime",c2=864e13;function VA(n){return new sl("unsupported zone",`the zone "${n.name}" is not supported`)}function KO(n){return null===n.weekData&&(n.weekData=qO(n.c)),n.weekData}function DC(n,t){const e={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new sn({...e,...t,old:e})}function u2(n,t,e){let i=n-60*t*1e3;const r=e.offset(i);if(t===r)return[i,t];i-=60*(r-t)*1e3;const s=e.offset(i);return r===s?[i,r]:[n-60*Math.min(r,s)*1e3,Math.max(r,s)]}function d2(n,t){const e=new Date(n+=60*t*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function BA(n,t,e){return u2(RO(n),t,e)}function h2(n,t){const e=n.o,i=n.c.year+Math.trunc(t.years),r=n.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s={...n.c,year:i,month:r,day:Math.min(n.c.day,TA(i,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},u=jn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),h=RO(s);let[p,y]=u2(h,e,n.zone);return 0!==u&&(p+=u,y=n.zone.offset(p)),{ts:p,o:y}}function IC(n,t,e,i,r,s){const{setZone:u,zone:h}=e;if(n&&0!==Object.keys(n).length){const p=t||h,y=sn.fromObject(n,{...e,zone:p,specificOffset:s});return u?y:y.setZone(h)}return sn.invalid(new sl("unparsable",`the input "${r}" can't be parsed as ${i}`))}function UA(n,t,e=!0){return n.isValid?Os.create(Mi.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(n,t):null}function QO(n,t){const e=n.c.year>9999||n.c.year<0;let i="";return e&&n.c.year>=0&&(i+="+"),i+=kr(n.c.year,e?6:4),t?(i+="-",i+=kr(n.c.month),i+="-",i+=kr(n.c.day)):(i+=kr(n.c.month),i+=kr(n.c.day)),i}function f2(n,t,e,i,r,s){let u=kr(n.c.hour);return t?(u+=":",u+=kr(n.c.minute),(0!==n.c.second||!e)&&(u+=":")):u+=kr(n.c.minute),(0!==n.c.second||!e)&&(u+=kr(n.c.second),(0!==n.c.millisecond||!i)&&(u+=".",u+=kr(n.c.millisecond,3))),r&&(n.isOffsetFixed&&0===n.offset&&!s?u+="Z":n.o<0?(u+="-",u+=kr(Math.trunc(-n.o/60)),u+=":",u+=kr(Math.trunc(-n.o%60))):(u+="+",u+=kr(Math.trunc(n.o/60)),u+=":",u+=kr(Math.trunc(n.o%60)))),s&&(u+="["+n.zone.ianaName+"]"),u}const p2={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},B8={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},U8={ordinal:1,hour:0,minute:0,second:0,millisecond:0},m2=["year","month","day","hour","minute","second","millisecond"],H8=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],j8=["year","ordinal","hour","minute","second","millisecond"];function g2(n){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new KV(n);return t}function _2(n,t){const e=hh(t.zone,Vr.defaultZone),i=Mi.fromObject(t),r=Vr.now();let s,u;if(Ln(n.year))s=r;else{for(const y of m2)Ln(n[y])&&(n[y]=p2[y]);const h=a2(n)||l2(n);if(h)return sn.invalid(h);const p=e.offset(r);[s,u]=BA(n,p,e)}return new sn({ts:s,zone:e,loc:i,o:u})}function y2(n,t,e){const i=!!Ln(e.round)||e.round,r=(u,h)=>(u=OO(u,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(u,h)),s=u=>e.calendary?t.hasSame(n,u)?0:t.startOf(u).diff(n.startOf(u),u).get(u):t.diff(n,u).get(u);if(e.unit)return r(s(e.unit),e.unit);for(const u of e.units){const h=s(u);if(Math.abs(h)>=1)return r(h,u)}return r(n>t?-0:0,e.units[e.units.length-1])}function v2(n){let e,t={};return n.length>0&&"object"==typeof n[n.length-1]?(t=n[n.length-1],e=Array.from(n).slice(0,n.length-1)):e=Array.from(n),[t,e]}class sn{constructor(t){const e=t.zone||Vr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new sl("invalid input"):null)||(e.isValid?null:VA(e));this.ts=Ln(t.ts)?Vr.now():t.ts;let r=null,s=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,s]=[t.old.c,t.old.o];else{const h=e.offset(this.ts);r=d2(this.ts,h),i=Number.isNaN(r.year)?new sl("invalid input"):null,r=i?null:r,s=i?null:h}this._zone=e,this.loc=t.loc||Mi.create(),this.invalid=i,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new sn({})}static local(){const[t,e]=v2(arguments),[i,r,s,u,h,p,y]=e;return _2({year:i,month:r,day:s,hour:u,minute:h,second:p,millisecond:y},t)}static utc(){const[t,e]=v2(arguments),[i,r,s,u,h,p,y]=e;return t.zone=Rs.utcInstance,_2({year:i,month:r,day:s,hour:u,minute:h,second:p,millisecond:y},t)}static fromJSDate(t,e={}){const i=function KY(n){return"[object Date]"===Object.prototype.toString.call(n)}(t)?t.valueOf():NaN;if(Number.isNaN(i))return sn.invalid("invalid input");const r=hh(e.zone,Vr.defaultZone);return r.isValid?new sn({ts:i,zone:r,loc:Mi.fromObject(e)}):sn.invalid(VA(r))}static fromMillis(t,e={}){if(Zp(t))return t<-c2||t>c2?sn.invalid("Timestamp out of range"):new sn({ts:t,zone:hh(e.zone,Vr.defaultZone),loc:Mi.fromObject(e)});throw new pa(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Zp(t))return new sn({ts:1e3*t,zone:hh(e.zone,Vr.defaultZone),loc:Mi.fromObject(e)});throw new pa("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const i=hh(e.zone,Vr.defaultZone);if(!i.isValid)return sn.invalid(VA(i));const r=Vr.now(),s=Ln(e.specificOffset)?i.offset(r):e.specificOffset,u=kA(t,g2),h=!Ln(u.ordinal),p=!Ln(u.year),y=!Ln(u.month)||!Ln(u.day),E=p||y,I=u.weekYear||u.weekNumber,O=Mi.fromObject(e);if((E||h)&&I)throw new mC("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&h)throw new mC("Can't mix ordinal dates with month/day");const P=I||u.weekday&&!E;let H,K,re=d2(r,s);P?(H=H8,K=B8,re=qO(re)):h?(H=j8,K=U8,re=YO(re)):(H=m2,K=p2);let We=!1;for(const gr of H)Ln(u[gr])?u[gr]=We?K[gr]:re[gr]:We=!0;const ot=P?function L8(n){const t=AA(n.weekYear),e=xu(n.weekNumber,1,MA(n.weekYear)),i=xu(n.weekday,1,7);return t?e?!i&&ga("weekday",n.weekday):ga("week",n.week):ga("weekYear",n.weekYear)}(u):h?function V8(n){const t=AA(n.year),e=xu(n.ordinal,1,_C(n.year));return t?!e&&ga("ordinal",n.ordinal):ga("year",n.year)}(u):a2(u),Et=ot||l2(u);if(Et)return sn.invalid(Et);const bt=P?s2(u):h?o2(u):u,[Lt,Ut]=BA(bt,s,i),vn=new sn({ts:Lt,zone:i,o:Ut,loc:O});return u.weekday&&E&&t.weekday!==vn.weekday?sn.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${vn.toISO()}`):vn}static fromISO(t,e={}){const[i,r]=function i8(n){return yy(n,[K5,HB],[Q5,e8],[X5,t8],[J5,n8])}(t);return IC(i,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[i,r]=function r8(n){return yy(function G5(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n),[$5,z5])}(t);return IC(i,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[i,r]=function s8(n){return yy(n,[W5,UB],[q5,UB],[Y5,Z5])}(t);return IC(i,r,e,"HTTP",e)}static fromFormat(t,e,i={}){if(Ln(t)||Ln(e))throw new pa("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,u=Mi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[h,p,y,E]=function N8(n,t,e){const{result:i,zone:r,specificOffset:s,invalidReason:u}=QB(n,t,e);return[i,r,s,u]}(u,t,e);return E?sn.invalid(E):IC(h,p,i,`format ${e}`,t,y)}static fromString(t,e,i={}){return sn.fromFormat(t,e,i)}static fromSQL(t,e={}){const[i,r]=function h8(n){return yy(n,[c8,HB],[u8,d8])}(t);return IC(i,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new pa("need to specify a reason the DateTime is invalid");const i=t instanceof sl?t:new sl(t,e);if(Vr.throwOnInvalid)throw new zY(i);return new sn({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const i=XB(t,Mi.fromObject(e));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return KB(Os.parseFormat(t),Mi.fromObject(e)).map(r=>r.val).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?KO(this).weekYear:NaN}get weekNumber(){return this.isValid?KO(this).weekNumber:NaN}get weekday(){return this.isValid?KO(this).weekday:NaN}get ordinal(){return this.isValid?YO(this.c).ordinal:NaN}get monthShort(){return this.isValid?LA.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?LA.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?LA.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?LA.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return gC(this.year)}get daysInMonth(){return TA(this.year,this.month)}get daysInYear(){return this.isValid?_C(this.year):NaN}get weeksInWeekYear(){return this.isValid?MA(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:i,calendar:r}=Os.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(Rs.instance(t),e)}toLocal(){return this.setZone(Vr.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if((t=hh(t,Vr.defaultZone)).equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||i){const s=t.offset(this.ts),u=this.toObject();[r]=BA(u,s,t)}return DC(this,{ts:r,zone:t})}return sn.invalid(VA(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){return DC(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=kA(t,g2),i=!Ln(e.weekYear)||!Ln(e.weekNumber)||!Ln(e.weekday),r=!Ln(e.ordinal),s=!Ln(e.year),u=!Ln(e.month)||!Ln(e.day);if((s||u||r)&&(e.weekYear||e.weekNumber))throw new mC("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&r)throw new mC("Can't mix ordinal dates with month/day");let y;i?y=s2({...qO(this.c),...e}):Ln(e.ordinal)?(y={...this.toObject(),...e},Ln(e.day)&&(y.day=Math.min(TA(y.year,y.month),y.day))):y=o2({...YO(this.c),...e});const[E,I]=BA(y,this.o,this.zone);return DC(this,{ts:E,o:I})}plus(t){return this.isValid?DC(this,h2(this,jn.fromDurationLike(t))):this}minus(t){return this.isValid?DC(this,h2(this,jn.fromDurationLike(t).negate())):this}startOf(t){if(!this.isValid)return this;const e={},i=jn.normalizeUnit(t);switch(i){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0}if("weeks"===i&&(e.weekday=1),"quarters"===i){const r=Math.ceil(this.month/3);e.month=3*(r-1)+1}return this.set(e)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,e={}){return this.isValid?Os.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):ZO}toLocaleString(t=xO,e={}){return this.isValid?Os.create(this.loc.clone(e),t).formatDateTime(this):ZO}toLocaleParts(t={}){return this.isValid?Os.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const u="extended"===t;let h=QO(this,u);return h+="T",h+=f2(this,u,e,i,r,s),h}toISODate({format:t="extended"}={}){return this.isValid?QO(this,"extended"===t):null}toISOWeekDate(){return UA(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:u="extended"}={}){return this.isValid?(r?"T":"")+f2(this,"extended"===u,e,t,i,s):null}toRFC2822(){return UA(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return UA(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?QO(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(i&&(r+=" "),e?r+="z":t&&(r+="ZZ")),UA(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():ZO}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return jn.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=function QY(n){return Array.isArray(n)?n:[n]}(e).map(jn.normalizeUnit),u=t.valueOf()>this.valueOf(),y=function C8(n,t,e,i){let[r,s,u,h]=function w8(n,t,e){const i=[["years",(h,p)=>p.year-h.year],["quarters",(h,p)=>p.quarter-h.quarter+4*(p.year-h.year)],["months",(h,p)=>p.month-h.month+12*(p.year-h.year)],["weeks",(h,p)=>{const y=zB(h,p);return(y-y%7)/7}],["days",zB]],r={};let s,u;for(const[h,p]of i)if(e.indexOf(h)>=0){s=h;let y=p(n,t);u=n.plus({[h]:y}),u>t?(n=n.plus({[h]:y-1}),y-=1):n=u,r[h]=y}return[n,r,u,s]}(n,t,e);const p=t-r,y=e.filter(I=>["hours","minutes","seconds","milliseconds"].indexOf(I)>=0);0===y.length&&(u<t&&(u=r.plus({[h]:1})),u!==r&&(s[h]=(s[h]||0)+p/(u-r)));const E=jn.fromObject(s,i);return y.length>0?jn.fromMillis(p,i).shiftTo(...y).plus(E):E}(u?this:t,u?t:this,s,r);return u?y.negate():y}diffNow(t="milliseconds",e={}){return this.diff(sn.now(),t,e)}until(t){return this.isValid?nr.fromDateTimes(this,t):this}hasSame(t,e){if(!this.isValid)return!1;const i=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e)<=i&&i<=r.endOf(e)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||sn.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(r=t.unit,s=void 0),y2(e,this.plus(i),{...t,numeric:"always",units:r,unit:s})}toRelativeCalendar(t={}){return this.isValid?y2(t.base||sn.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(sn.isDateTime))throw new pa("min requires all arguments be DateTimes");return _B(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(sn.isDateTime))throw new pa("max requires all arguments be DateTimes");return _B(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){const{locale:r=null,numberingSystem:s=null}=i;return QB(Mi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,i={}){return sn.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return xO}static get DATE_MED(){return QV}static get DATE_MED_WITH_WEEKDAY(){return qY}static get DATE_FULL(){return XV}static get DATE_HUGE(){return JV}static get TIME_SIMPLE(){return eB}static get TIME_WITH_SECONDS(){return tB}static get TIME_WITH_SHORT_OFFSET(){return nB}static get TIME_WITH_LONG_OFFSET(){return iB}static get TIME_24_SIMPLE(){return rB}static get TIME_24_WITH_SECONDS(){return sB}static get TIME_24_WITH_SHORT_OFFSET(){return oB}static get TIME_24_WITH_LONG_OFFSET(){return aB}static get DATETIME_SHORT(){return lB}static get DATETIME_SHORT_WITH_SECONDS(){return cB}static get DATETIME_MED(){return uB}static get DATETIME_MED_WITH_SECONDS(){return dB}static get DATETIME_MED_WITH_WEEKDAY(){return YY}static get DATETIME_FULL(){return hB}static get DATETIME_FULL_WITH_SECONDS(){return fB}static get DATETIME_HUGE(){return pB}static get DATETIME_HUGE_WITH_SECONDS(){return mB}}function SC(n){if(sn.isDateTime(n))return n;if(n&&n.valueOf&&Zp(n.valueOf()))return sn.fromJSDate(n);if(n&&"object"==typeof n)return sn.fromObject(n);throw new pa(`Unknown datetime argument: ${n}, of type ${typeof n}`)}let HA=(()=>{class n{constructor(e){this.datePipe=e}jsToHtmlDate(e){return this.datePipe.transform(e,Cr_formatter.badgeIsoDateTime)||void 0}isoToHumanDate(e){return this.datePipe.transform(e,Cr_formatter.badgeHumanDateTime)||void 0}isoToHtmlDate(e){if(e)return this.datePipe.transform(new Date(e),Cr_formatter.badgeIsoDateTime)||void 0}isoToJsDate(e){if(!e)return;const i=this.datePipe.transform(new Date(e),Cr_formatter.badgeIsoDateTime)||void 0;return i?new Date(i):void 0}htmlToIso(e){return new Date(e+":00.000").toISOString()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(wa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $8(n,t){if(1&n&&(l.TgZ(0,"mat-option",11),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}const z8=function(){return["in","out"]};let XO=(()=>{class n{constructor(e){this.dateService=e,this.badge={clock:"in",timestamp:this.dateService.jsToHtmlDate(new Date)},this.formSubmitted=new l.vpe,this.badgeForm=new hA({clock:new uC(this.badge?.clock),timestamp:new uC(this.badge?.timestamp),userId:new uC({value:this.badge?.userId,disabled:!0})})}ngOnInit(){}ngOnChanges(e){e?.badge?.currentValue&&this.badgeForm.patchValue({...e?.badge?.currentValue})}submit(){if(this.badgeForm.invalid)return;const e={...this.badgeForm.getRawValue(),timestamp:this.dateService.htmlToIso(this.badgeForm.value.timestamp)};this.formSubmitted.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(HA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-form"]],inputs:{badge:"badge"},outputs:{formSubmitted:"formSubmitted"},features:[l.TTD],decls:18,vars:3,consts:[[3,"formGroup","submit"],[1,"fields"],["appearance","outline",1,"field-user-uid"],["matInput","","formControlName","userId","required",""],["appearance","outline",1,"field-clock"],["formControlName","clock","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"field-timestamp"],["matInput","","type","datetime-local","formControlName","timestamp","required",""],[1,"buttons"],["mat-raised-button","","color","primary","type","submit"],[3,"value"]],template:function(e,i){1&e&&(l.TgZ(0,"form",0),l.NdJ("submit",function(){return i.submit()}),l.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"user id"),l.qZA(),l._UZ(5,"input",3),l.qZA(),l.TgZ(6,"mat-form-field",4)(7,"mat-label"),l._uU(8,"clock"),l.qZA(),l.TgZ(9,"mat-select",5),l.YNc(10,$8,2,2,"mat-option",6),l.qZA()(),l.TgZ(11,"mat-form-field",7)(12,"mat-label"),l._uU(13,"timestamp"),l.qZA(),l._UZ(14,"input",8),l.qZA()(),l.TgZ(15,"div",9)(16,"button",10),l._uU(17,"Save"),l.qZA()()()),2&e&&(l.Q6J("formGroup",i.badgeForm),l.xp6(10),l.Q6J("ngForOf",l.DdM(2,z8)))},dependencies:[Yr,KL,oA,OL,RL,_A,dy,gO,CP,ih,o4,bO,d4,L4],styles:[".fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})(),JO=(()=>{class n{constructor(){this.formSubmitted=new l.vpe}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-edit-dialog"]],inputs:{badgeForm:"badgeForm"},outputs:{formSubmitted:"formSubmitted"},decls:4,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(l.TgZ(0,"h1",0),l._uU(1,"Edit Badge"),l.qZA(),l.TgZ(2,"div",1)(3,"ob-badge-form",2),l.NdJ("formSubmitted",function(s){return i.formSubmitted.emit(s)}),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("badge",i.badgeForm))},dependencies:[UV,HV,XO]}),n})();class eR{constructor(t){return t}}const b2="firestore",tR=new l.OlP("angularfire2.firestore-instances");function q8(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new eR(i)}}const Y8={provide:class G8{constructor(){return(0,$t.vb)(b2)}},deps:[[new l.FiY,tR]]},Z8={provide:eR,useFactory:function W8(n,t){const e=(0,$t.JM)(b2,n,t);return e&&new eR(e)},deps:[[new l.FiY,tR],$s]};let K8=(()=>{class n{constructor(){(0,Gn.KN)("angularfire",$t.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Z8,Y8]}),n})();function Q8(n,...t){return{ngModule:K8,providers:[{provide:tR,useFactory:q8(n),multi:!0,deps:[l.R0b,l.zs3,$t.HU,Lh,[new l.FiY,mN],[new l.FiY,nd],...t]}]}}const X8=(0,$t.u3)(HI,!0),J8=(0,$t.u3)(WM,!0);let w2=(()=>{class n{constructor(e,i,r){this.db=e,this.dateService=i,this.firebaseHelper=r,this.badges=this.db.collection(Cr_firebaseApiUrls.badges)}ngOnInit(){}getCollection(){return this.firebaseHelper.collection(this.badges).pipe(un(e=>{if(!e.length)return Ke([]);const i=[...new Set(e.map(r=>r?.userId))];return this.firebaseHelper.collection(this.db.collection(Cr_firebaseApiUrls.users,r=>r.where(X8(),"in",i))).pipe((0,qe.U)(r=>r.reduce((s,u)=>({...s,[u.key]:u}),{})),(0,qe.U)(r=>e.map(s=>{const u=r[s.userId];if(!u)return null;const{key:h,isAdmin:p,...y}=u;return{...s,timestamp:s.timestamp?.toDate().toISOString(),user:{uid:h,...y}}}).filter(s=>!!s)))}))}getCollectionByUserId(e){return this.firebaseHelper.collection(this.db.collection(Cr_firebaseApiUrls.badges,i=>i.where("userId","==",e).orderBy("timestamp","desc").orderBy("clock","desc"))).pipe((0,qe.U)(i=>i.length?i.map(r=>({...r,timestamp:r?.timestamp?.toDate().toISOString()})):[]))}getTodayByUserId(e){const i=new Date(sn.now().toFormat("yyyy-MM-dd")),r=new Date(sn.now().plus({days:1}).toFormat("yyyy-MM-dd"));return this.firebaseHelper.collection(this.db.collection(Cr_firebaseApiUrls.badges,s=>s.where("userId","==",e).where("timestamp",">=",i).where("timestamp","<",r).orderBy("timestamp","desc"))).pipe((0,qe.U)(s=>s.length?s.map(u=>({...u,timestamp:u?.timestamp?.toDate().toISOString()})):[]))}create(e){var i=this;return(0,Ee.Z)(function*(){if(e?.userId)return i.badges.add({clock:e.clock,timestamp:i.dateService.isoToJsDate(e.timestamp)??new Date,userId:e.userId})})()}update(e,i){var r=this;return(0,Ee.Z)(function*(){return r.badges.doc(e).update({clock:i.clock,timestamp:r.dateService.isoToJsDate(i.timestamp)??new Date})})()}deleteByKey(e){return this.badges.doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(b1),l.LFG(HA),l.LFG(w1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eZ(n,t){1&n&&(l.TgZ(0,"p",2),l._uU(1,"No data"),l.qZA())}function tZ(n,t){1&n&&(l.TgZ(0,"mat-icon",8),l._uU(1,"login"),l.qZA())}function nZ(n,t){1&n&&(l.TgZ(0,"mat-icon",9),l._uU(1,"logout"),l.qZA())}function iZ(n,t){if(1&n&&(l.TgZ(0,"span")(1,"strong"),l._uU(2),l.ALo(3,"date"),l.qZA()()),2&n){const e=l.oxw().$implicit;l.xp6(2),l.Oqu(l.xi3(3,1,e.timestamp,"dd/MM/yyyy HH:mm"))}}function rZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"span"),l.YNc(2,tZ,2,0,"mat-icon",3),l.YNc(3,nZ,2,0,"mat-icon",4),l.YNc(4,iZ,4,4,"span",5),l.qZA(),l.TgZ(5,"span")(6,"button",6),l.NdJ("click",function(){const s=l.CHM(e).$implicit,u=l.oxw();return l.KtG(u.onDeleteBadgeItem(s))}),l.TgZ(7,"mat-icon"),l._uU(8,"delete"),l.qZA()(),l.TgZ(9,"button",7),l.NdJ("click",function(){const s=l.CHM(e).$implicit,u=l.oxw();return l.KtG(u.onUpdateBadgeItem(s))}),l.TgZ(10,"mat-icon"),l._uU(11,"edit"),l.qZA()()()()}if(2&n){const e=t.$implicit;l.xp6(2),l.Q6J("ngIf","in"===e.clock),l.xp6(1),l.Q6J("ngIf","out"===e.clock),l.xp6(1),l.Q6J("ngIf",e.timestamp)}}let nR=(()=>{class n{constructor(){this.badges=[],this.deleteBadge=new l.vpe,this.updateBadge=new l.vpe}ngOnInit(){}onDeleteBadgeItem(e){this.deleteBadge.emit(e)}onUpdateBadgeItem(e){this.updateBadge.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-list"]],inputs:{badges:"badges"},outputs:{deleteBadge:"deleteBadge",updateBadge:"updateBadge"},decls:2,vars:2,consts:[["class","badge-list-item",4,"ngIf"],["class","badge-list-item",4,"ngFor","ngForOf"],[1,"badge-list-item"],["class","badge-in",4,"ngIf"],["class","badge-out",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"badge-in"],[1,"badge-out"]],template:function(e,i){1&e&&(l.YNc(0,eZ,2,0,"p",0),l.YNc(1,rZ,12,3,"div",1)),2&e&&(l.Q6J("ngIf",!i.badges.length),l.xp6(1),l.Q6J("ngForOf",i.badges))},dependencies:[Yr,Cn,ih,PS,wa],styles:[".badge-list-item[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}.badge-list-item[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#efefef}.badge-list-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.badge-list-item[_ngcontent-%COMP%]   .badge-in[_ngcontent-%COMP%]{color:#60c687}.badge-list-item[_ngcontent-%COMP%]   .badge-out[_ngcontent-%COMP%]{color:#e95e5e}.badge-list-item[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}"]}),n})();function sZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r.startNfcScan())}),l.TgZ(1,"span"),l._uU(2,"Start"),l.qZA(),l.TgZ(3,"mat-icon"),l._uU(4,"play_arrow"),l.qZA()()}}function oZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r.stopNfcScan())}),l.TgZ(1,"span"),l._uU(2,"Stop"),l.qZA(),l.TgZ(3,"mat-icon"),l._uU(4,"stop"),l.qZA()()}}function aZ(n,t){1&n&&(l.TgZ(0,"li"),l._uU(1," Click the button to start NFC service "),l.qZA())}function lZ(n,t){1&n&&(l.TgZ(0,"li")(1,"strong"),l._uU(2,"Grant permission manually in browser settings"),l.qZA(),l._uU(3," (you've blocked NFC permission when asked) "),l.qZA())}function cZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",15),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.startWriteNfc("in"))}),l.TgZ(1,"span"),l._uU(2,"Write IN"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"login"),l.qZA()()}}function uZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",15),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.startWriteNfc("out"))}),l.TgZ(1,"span"),l._uU(2,"Write OUT"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"logout"),l.qZA()()}}function dZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(3);return l.KtG(r.stopWriteNfc())}),l.TgZ(1,"span"),l._uU(2,"STOP"),l.qZA(),l._uU(3,"\xa0"),l.TgZ(4,"mat-icon"),l._uU(5,"stop"),l.qZA()()}}function hZ(n,t){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"strong"),l._uU(3,"Tag administration section"),l.qZA()(),l.TgZ(4,"div"),l.YNc(5,cZ,6,0,"button",13),l.YNc(6,uZ,6,0,"button",13),l.YNc(7,dZ,6,0,"button",14),l.qZA()()),2&n){const e=l.oxw(2);l.xp6(5),l.Q6J("ngIf","stopped"===e.nfcWriteRunningState),l.xp6(1),l.Q6J("ngIf","stopped"===e.nfcWriteRunningState),l.xp6(1),l.Q6J("ngIf","started"===e.nfcWriteRunningState)}}function fZ(n,t){if(1&n&&(l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"NFC badge"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div"),l._uU(5,"Running status: "),l.TgZ(6,"strong"),l._uU(7),l.qZA()(),l.TgZ(8,"div"),l._uU(9,"Permission status: "),l.TgZ(10,"strong"),l._uU(11),l.qZA()(),l.TgZ(12,"div",8),l.YNc(13,sZ,5,0,"button",9),l.YNc(14,oZ,5,0,"button",10),l.qZA(),l.TgZ(15,"strong"),l._uU(16,"To use NFC:"),l.qZA(),l.TgZ(17,"ul"),l.YNc(18,aZ,2,0,"li",1),l.YNc(19,lZ,4,0,"li",1),l.TgZ(20,"li"),l._uU(21," Activate the NFC feature in the smartphone settings "),l.qZA(),l.TgZ(22,"li"),l._uU(23," Touch the appropriate smart tag (Black = IN, Red = OUT) "),l.qZA()(),l._UZ(24,"hr"),l.YNc(25,hZ,8,3,"div",7),l.qZA()()),2&n){const e=l.oxw();l.xp6(7),l.Oqu(e.nfcReadRunningState),l.xp6(4),l.Oqu(e.nfcPermissionState),l.xp6(2),l.Q6J("ngIf","stopped"===e.nfcReadRunningState&&"denied"!==e.nfcPermissionState),l.xp6(1),l.Q6J("ngIf","started"===e.nfcReadRunningState),l.xp6(4),l.Q6J("ngIf","denied"!==e.nfcPermissionState),l.xp6(1),l.Q6J("ngIf","denied"===e.nfcPermissionState)}}function pZ(n,t){1&n&&l._UZ(0,"ob-spinner")}function mZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ob-badge-list",17),l.NdJ("deleteBadge",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.deleteBadgeItem(r))})("updateBadge",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.openUpdateBadgeModal(r))}),l.qZA()}2&n&&l.Q6J("badges",t.ngIf)}function gZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Manual badge"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"ob-badge-form",18),l.NdJ("formSubmitted",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.addBadgeItem(r))}),l.qZA()()()}if(2&n){const e=l.oxw();l.xp6(4),l.Q6J("badge",e.newBadge)}}let _Z=(()=>{class n{constructor(e,i,r,s,u,h,p,y,E,I){this.auth=e,this.nfcService=i,this.badgeApiService=r,this.userApiService=s,this.datePipe=u,this.dateService=h,this.confirmDialog=p,this.appLoaderService=y,this.snackbar=E,this.dialog=I,this.hasNfcCapability$=this.nfcService.hasNfcCapability$,this.nfcMessages$=this.nfcService.messages$,this.nfcPermissionState="denied",this.nfcReadRunningState="stopped",this.nfcWriteRunningState="stopped",this.messages=[],this.newBadge={clock:"in",timestamp:this.datePipe.transform(new Date,Cr_formatter.badgeIsoDateTime)??void 0},this.isTodayLoading=!1,this.todayBadges=[],this.destroySubject=new ut.x}ngOnInit(){var e=this;this.nfcService.init(),this.nfcService.readRunningState$.pipe(ii(this.destroySubject)).subscribe(function(){var i=(0,Ee.Z)(function*(r){e.nfcReadRunningState=r});return function(r){return i.apply(this,arguments)}}()),this.nfcService.writeRunningState$.pipe(ii(this.destroySubject)).subscribe(i=>{this.nfcWriteRunningState=i}),this.nfcService.permissionState$.pipe(ii(this.destroySubject)).subscribe(i=>{this.nfcPermissionState=i}),this.nfcMessages$.pipe(ii(this.destroySubject)).subscribe(i=>{this.doBadge(i.data)}),this.auth.user$.pipe(nn(i=>!!i),(0,ni.b)(i=>{const{uid:r,email:s,displayName:u}=i;this.user={uid:r,email:s,displayName:u},this.newBadge={...this.newBadge,userId:this.user.uid}}),ii(this.destroySubject)).subscribe(),this.isTodayLoading=!0,this.todayBadges$=this.auth.userId$.pipe(nn(i=>!!i),un(i=>this.badgeApiService.getTodayByUserId(i).pipe((0,ni.b)(r=>this.isTodayLoading=!1),(0,ni.b)(r=>this.todayBadges=r),ca(r=>(console.error({err:r}),Ke([]))))),ii(this.destroySubject))}ngOnDestroy(){this.nfcService.stopRead(),this.nfcService.stopWrite(),this.destroySubject.next()}badgeIn(){this.doBadge("in")}badgeOut(){this.doBadge("out")}doBadge(e){if(!this.user)return void alert(`No username to use for badge ${e}`);const i={userId:this.user.uid,clock:e,timestamp:(new Date).toISOString()};this.addBadgeItem(i)}addBadgeItem(e){var i=this;return(0,Ee.Z)(function*(){if(i.appLoaderService.start(),i.isTodayBadgeAlreadyExisting(e))return i.snackbar.open("Badge already exists!","Dismiss"),void i.appLoaderService.stop();try{yield i.badgeApiService.create(e),console.debug("Created",e),i.snackbar.open(`${e.clock?.toUpperCase()}: ${e.timestamp?i.dateService.isoToHumanDate(e.timestamp):""}`,"Dismiss")}catch(r){console.error("[Home] error on adding badge item",r)}i.appLoaderService.stop()})()}deleteBadgeItem(e){confirm(`Are you sure to delete badge\n${e.clock?.toUpperCase()}: ${this.dateService.isoToHumanDate(e.timestamp)}?`)&&e.key&&this.badgeApiService.deleteByKey(e.key).then(r=>console.debug("Deleted",e))}openUpdateBadgeModal(e){const i=this.dialog.open(JO,{width:"350px"});i.componentInstance.badgeForm={userId:e.userId,clock:e.clock,timestamp:this.dateService.isoToHtmlDate(e?.timestamp)},i.componentInstance.formSubmitted.subscribe(r=>{this.badgeApiService.update(e.key,{...r,timestamp:r.timestamp}).then(s=>console.debug("Updated",r)),i.close()})}startNfcScan(){this.nfcService.startRead()}stopNfcScan(){this.nfcService.stopRead()}startWriteNfc(e){this.nfcService.startWrite(e)}stopWriteNfc(){this.nfcService.stopWrite(),this.nfcService.startRead()}isTodayBadgeAlreadyExisting(e){return!!this.todayBadges.find(r=>sn.fromISO(e.timestamp).toFormat("yyyy-MM-dd hh:mm")===sn.fromISO(r.timestamp).toFormat("yyyy-MM-dd hh:mm")&&r.clock===e.clock)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc),l.Y36(ZV),l.Y36(w2),l.Y36(dx),l.Y36(wa),l.Y36(HA),l.Y36(qV),l.Y36($F),l.Y36(zV),l.Y36(pC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-home-page"]],decls:22,vars:7,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"new-badge-buttons"],["mat-fab","","color","primary",1,"new-badge-button","in",3,"click"],["mat-fab","","color","warn",1,"new-badge-button","out",3,"click"],[1,"today-badge"],[3,"badges","deleteBadge","updateBadge",4,"ngIf"],[4,"obAdminOnly"],[1,"nfc-badge-button"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click"],[3,"badges","deleteBadge","updateBadge"],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,fZ,26,6,"mat-card",1),l.ALo(2,"async"),l.TgZ(3,"mat-card")(4,"mat-card-title"),l._uU(5,"New badge"),l.qZA(),l.TgZ(6,"mat-card-content")(7,"div",2)(8,"button",3),l.NdJ("click",function(){return i.badgeIn()}),l.TgZ(9,"mat-icon"),l._uU(10,"login"),l.qZA()(),l.TgZ(11,"button",4),l.NdJ("click",function(){return i.badgeOut()}),l.TgZ(12,"mat-icon"),l._uU(13,"logout"),l.qZA()()()()(),l.TgZ(14,"mat-card",5)(15,"mat-card-title"),l._uU(16,"Today"),l.qZA(),l.TgZ(17,"mat-card-content"),l.YNc(18,pZ,1,0,"ob-spinner",1),l.YNc(19,mZ,1,1,"ob-badge-list",6),l.ALo(20,"async"),l.qZA()(),l.YNc(21,gZ,5,1,"mat-card",7),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,3,i.hasNfcCapability$)),l.xp6(17),l.Q6J("ngIf",i.isTodayLoading),l.xp6(1),l.Q6J("ngIf",l.lcZ(20,5,i.todayBadges$)))},dependencies:[Cn,ih,EO,wO,CO,PS,wk,Qw,nR,XO,io],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px}.nfc-badge-button[_ngcontent-%COMP%]{margin-block:20px}.new-badge-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;padding-block:20px}.new-badge-button[_ngcontent-%COMP%]{width:120px;height:120px}.new-badge-button[_ngcontent-%COMP%]   .mat-fab.mat-button-wrapper[_ngcontent-%COMP%]{width:90px;height:90px}.new-badge-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:90px;width:90px;height:90px}.new-badge-button.in[_ngcontent-%COMP%]{background-color:#60c687}.new-badge-button.out[_ngcontent-%COMP%]{background-color:#e95e5e}"]}),n})();function yZ(n,t){1&n&&l._UZ(0,"ob-spinner")}function vZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Badge list"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div",2)(5,"ob-badge-list",3),l.NdJ("deleteBadge",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.deleteBadgeItem(r))})("updateBadge",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.openUpdateBadgeModal(r))}),l.qZA()()()()}if(2&n){const e=t.ngIf;l.xp6(5),l.Q6J("badges",e)}}let bZ=(()=>{class n{constructor(e,i,r,s){this.badgeApiService=e,this.dateService=i,this.auth=r,this.dialog=s,this.isLoading=!0,this.destroySubject=new ut.x}ngOnInit(){this.badges$=this.auth.userId$.pipe(Cs(),nn(e=>!!e),un(e=>this.badgeApiService.getCollectionByUserId(e).pipe((0,ni.b)(i=>this.isLoading=!1),ca(i=>(console.error({err:i}),this.isLoading=!1,Ke([]))))),ii(this.destroySubject))}ngOnDestroy(){this.destroySubject.next()}deleteBadgeItem(e){confirm(`Are you sure to delete badge\n${e.clock?.toUpperCase()}: ${this.dateService.isoToHumanDate(e.timestamp)}?`)&&e.key&&this.badgeApiService.deleteByKey(e.key).then(r=>console.debug("Deleted",e))}openUpdateBadgeModal(e){const i=this.dialog.open(JO,{width:"350px"});i.componentInstance.badgeForm={userId:e.userId,clock:e.clock,timestamp:this.dateService.isoToHtmlDate(e?.timestamp)},i.componentInstance.formSubmitted.subscribe(r=>{this.badgeApiService.update(e.key,{...r,timestamp:r.timestamp}).then(s=>console.debug("Updated",r)),i.close()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(w2),l.Y36(HA),l.Y36(tc),l.Y36(pC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-badge-list-page"]],decls:4,vars:4,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"badge-list"],[3,"badges","deleteBadge","updateBadge"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,yZ,1,0,"ob-spinner",1),l.YNc(2,vZ,6,1,"mat-card",1),l.ALo(3,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,2,i.badges$)))},dependencies:[Cn,EO,wO,CO,Qw,nR,io]}),n})(),wZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-not-found-page"]],decls:5,vars:0,consts:[[1,"app-content-inner"],["routerLink","/home"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Page not found. Go to "),l.TgZ(3,"a",1),l._uU(4,"HOME"),l.qZA()()())},dependencies:[Q_]}),n})();function CZ(n,t){1&n&&l._UZ(0,"ob-spinner")}function EZ(n,t){1&n&&(l.TgZ(0,"p",5),l._uU(1,"No data"),l.qZA())}function DZ(n,t){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1,"verified_user"),l.qZA())}function IZ(n,t){1&n&&(l.TgZ(0,"mat-icon"),l._uU(1,"person"),l.qZA())}function SZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",6)(1,"span"),l.YNc(2,DZ,2,0,"mat-icon",1),l.YNc(3,IZ,2,0,"mat-icon",1),l.TgZ(4,"strong"),l._uU(5),l.qZA(),l.TgZ(6,"span"),l._uU(7),l.qZA()(),l.TgZ(8,"span")(9,"button",7),l.NdJ("click",function(){const s=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.deleteUser(s))}),l.TgZ(10,"mat-icon"),l._uU(11,"delete"),l.qZA()(),l.TgZ(12,"button",8),l.NdJ("click",function(){const s=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.openUpdateUserModal(s))}),l.TgZ(13,"mat-icon"),l._uU(14,"edit"),l.qZA()()()()}if(2&n){const e=t.$implicit;l.MGl("title","",e.key,"}"),l.xp6(2),l.Q6J("ngIf",e.isAdmin),l.xp6(1),l.Q6J("ngIf",!e.isAdmin),l.xp6(2),l.Oqu(e.displayName),l.xp6(2),l.hij(" ",e.email," ")}}function AZ(n,t){if(1&n&&(l.TgZ(0,"mat-card")(1,"mat-card-title"),l._uU(2,"Users list"),l.qZA(),l.TgZ(3,"mat-card-content")(4,"div",2),l.YNc(5,EZ,2,0,"p",3),l.YNc(6,SZ,15,5,"div",4),l.qZA()()()),2&n){const e=t.ngIf;l.xp6(5),l.Q6J("ngIf",!e.length),l.xp6(1),l.Q6J("ngForOf",e)}}let TZ=(()=>{class n{constructor(e){this.userApiService=e,this.isLoading=!0}ngOnInit(){this.users$=this.userApiService.getList().pipe((0,ni.b)(e=>this.isLoading=!1),ca(e=>(console.error({err:e}),this.isLoading=!1,Ke([]))))}openUpdateUserModal(e){console.log("openUpdateUserModal",e)}deleteUser(e){console.log("deleteUser",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-user-list-page"]],decls:4,vars:4,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"user-list"],["class","user-list-item",4,"ngIf"],["class","user-list-item",3,"title",4,"ngFor","ngForOf"],[1,"user-list-item"],[1,"user-list-item",3,"title"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,CZ,1,0,"ob-spinner",1),l.YNc(2,AZ,7,2,"mat-card",1),l.ALo(3,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,2,i.users$)))},dependencies:[Yr,Cn,ih,EO,wO,CO,PS,Qw,io],styles:[".user-list[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.user-list-item[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}.user-list-item[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#efefef}.user-list-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px}"]}),n})(),MZ=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAdmin$.pipe((0,qe.U)(r=>r),(0,ni.b)(r=>{r||this.router.navigate(["/"])}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tc),l.LFG(tr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xZ(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You have to be authenticated to use this app. "),l._UZ(3,"ob-login-with-google",2),l.qZA(),l.BQk())}function kZ(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You are not authorized to use this app."),l.qZA(),l.BQk())}function OZ(n,t){1&n&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"You are authorized to use this app. Go to "),l.TgZ(3,"a",3),l._uU(4,"HOME"),l.qZA()(),l.BQk())}let RZ=(()=>{class n{constructor(e){this.authService=e,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ob-login-page"]],decls:8,vars:11,consts:[[1,"app-content-inner"],[4,"ngIf"],["color","primary"],["routerLink","/home"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,xZ,4,0,"ng-container",1),l.ALo(2,"async"),l.YNc(3,kZ,3,0,"ng-container",1),l.ALo(4,"async"),l.ALo(5,"async"),l.YNc(6,OZ,5,0,"ng-container",1),l.ALo(7,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!l.lcZ(2,3,i.isAuthenticated$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(4,5,i.isAuthenticated$)&&!l.lcZ(5,7,i.isAuthorized$)),l.xp6(3),l.Q6J("ngIf",l.lcZ(7,9,i.isAuthorized$)))},dependencies:[Cn,GV,Q_,io],styles:["p[_ngcontent-%COMP%]{text-align:center}"]}),n})(),iR=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAuthorized$.pipe((0,qe.U)(r=>r),(0,ni.b)(r=>{r||this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}})}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tc),l.LFG(tr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FZ=[{path:"login",component:RZ},{path:"home",component:_Z,canActivate:[iR]},{path:"badges",component:bZ,canActivate:[iR]},{path:"users",component:TZ,canActivate:[iR,MZ]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:wZ}];let PZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wi,yj.forRoot(FZ)]}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wi,vO,SA]}),n})(),LZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Lz]}),n.\u0275inj=l.cJS({providers:[jF,wa,ZV,aG,yN],imports:[ka,bq,vO,$j.register("ngsw-worker.js",{enabled:Cr_production,registrationStrategy:"registerWhenStable:30000"}),Rr.hO.initializeApp(Cr_firebase),Xu(()=>Tc(Cr_firebase)),Q8(()=>J8()),DW,hv,uW,PY,HY,PZ,NZ]}),n})();Cr_production&&(0,l.G48)(),vc().bootstrapModule(LZ).catch(n=>console.error(n))},7982:(ft,ke,F)=>{F.d(ke,{Gb:()=>l.Gb,Iv:()=>l.Iv,Kz:()=>l.Kz});var l=F(579)},5867:(ft,ke,F)=>{F.d(ke,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=F(9681);(0,l.registerVersion)("firebase","9.12.0","app")},127:(ft,ke,F)=>{F.d(ke,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.12.0","app-compat")},5881:(ft,ke,F)=>{F.r(ke);var l=F(5861),j=F(3942),N=F(9934),ie=F(2090),ne=(F(9681),F(1877),F(4859));function pe(){return window}function G(){return(G=(0,l.Z)(function*(x,A,k){var z;const{BuildInfo:ce}=pe();(0,N.aq)(A.sessionId,"AuthEvent did not contain a session ID");const Ne=yield ue(A.sessionId),ze={};return(0,N.ar)()?ze.ibi=ce.packageName:(0,N.as)()?ze.apn=ce.packageName:(0,N.at)(x,"operation-not-supported-in-this-environment"),ce.displayName&&(ze.appDisplayName=ce.displayName),ze.sessionId=Ne,(0,N.au)(x,k,A.type,void 0,null!==(z=A.eventId)&&void 0!==z?z:void 0,ze)})).apply(this,arguments)}function Re(){return(Re=(0,l.Z)(function*(x){const{BuildInfo:A}=pe(),k={};(0,N.ar)()?k.iosBundleId=A.packageName:(0,N.as)()?k.androidPackageName=A.packageName:(0,N.at)(x,"operation-not-supported-in-this-environment"),yield(0,N.av)(x,k)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(x,A,k){const{cordova:z}=pe();let ce=()=>{};try{yield new Promise((Ne,ze)=>{let _e=null;function xe(){var Mt;Ne();const Yt=null===(Mt=z.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof Yt&&Yt(),"function"==typeof k?.close&&k.close()}function dt(){_e||(_e=window.setTimeout(()=>{ze((0,N.aw)(x,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&dt()}A.addPassiveListener(xe),document.addEventListener("resume",dt,!1),(0,N.as)()&&document.addEventListener("visibilitychange",tn,!1),ce=()=>{A.removePassiveListener(xe),document.removeEventListener("resume",dt,!1),document.removeEventListener("visibilitychange",tn,!1),_e&&window.clearTimeout(_e)}})}finally{ce()}})).apply(this,arguments)}function ue(x){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(x){const A=Qe(x),k=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(k)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(x){if((0,N.aq)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const A=new ArrayBuffer(x.length),k=new Uint8Array(A);for(let z=0;z<x.length;z++)k[z]=x.charCodeAt(z);return k}class Fe extends N.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(A)),super.onEvent(A)}initialized(){var A=this;return(0,l.Z)(function*(){yield A.initPromise})()}}function te(x){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(x){const A=yield J()._get(he(x));return A&&(yield J()._remove(he(x))),A})).apply(this,arguments)}function X(){const x=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const z=Math.floor(Math.random()*A.length);x.push(A.charAt(z))}return x.join("")}function J(){return(0,N.ay)(N.b)}function he(x){return(0,N.az)("authEvent",x.config.apiKey,x.name)}function Be(x){if(!x?.includes("?"))return{};const[A,...k]=x.split("?");return(0,ie.zd)(k.join("?"))}function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function qt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Vn(x=(0,ie.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const x=self.localStorage,A=N.aI();if(x)return x.setItem(A,"1"),x.removeItem(A),!function yi(x=(0,ie.z$)()){return function _r(){return(0,ie.w1)()&&11===document?.documentMode}()||function Wn(x=(0,ie.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ie.hl)()}catch{return ri()&&(0,ie.hl)()}return!1}function ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function si(){return(function At(){return"http:"===qt()||"https:"===qt()}()||(0,ie.ru)()||Vn())&&!function ir(){return(0,ie.b$)()||(0,ie.UG)()}()&&rr()&&!ri()}function xi(){return Vn()&&typeof document<"u"}function tt(){return(tt=(0,l.Z)(function*(){return!!xi()&&new Promise(x=>{const A=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),x(!0)})})})).apply(this,arguments)}const Qn={LOCAL:"local",NONE:"none",SESSION:"session"},bn=N.ax,vi="persistence";function xn(x){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(x){yield x._initializationPromise;const A=pt(),k=N.az(vi,x.config.apiKey,x.name);A&&A.setItem(k,x._getPersistence())})).apply(this,arguments)}function pt(){var x;try{return(null===(x=function Sn(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const ht=N.ax;class mt{constructor(){this.browserResolver=N.ay(N.k),this.cordovaResolver=N.ay(class ln{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(A){var k=this;return(0,l.Z)(function*(){const z=A._key();let ce=k.eventManagers.get(z);return ce||(ce=new Fe(A),k.eventManagers.set(z,ce),k.attachCallbackListeners(A,ce)),ce})()}_openPopup(A){(0,N.at)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){!function be(x){var A,k,z,ce,Ne,ze,_e,xe,dt,tn;const Mt=pe();(0,N.ax)("function"==typeof(null===(A=Mt?.universalLinks)||void 0===A?void 0:A.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(k=Mt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Ne=null===(ce=null===(z=Mt?.cordova)||void 0===z?void 0:z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ne?void 0:Ne.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(xe=null===(_e=null===(ze=Mt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===xe?void 0:xe.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(tn=null===(dt=Mt?.cordova)||void 0===dt?void 0:dt.InAppBrowser)||void 0===tn?void 0:tn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const ze=yield Ne._initialize(A);yield ze.initialized(),ze.resetRedirect(),(0,N.aD)(),yield Ne._originValidation(A);const _e=function De(x,A,k=null){return{type:A,eventId:k,urlResponse:null,sessionId:X(),postBody:null,tenantId:x.tenantId,error:(0,N.aw)(x,"no-auth-event")}}(A,z,ce);yield function Ze(x,A){return J()._set(he(x),A)}(A,_e);const xe=yield function q(x,A,k){return G.apply(this,arguments)}(A,_e,k),dt=yield function Se(x){const{cordova:A}=pe();return new Promise(k=>{A.plugins.browsertab.isAvailable(z=>{let ce=null;z?A.plugins.browsertab.openUrl(x):ce=A.InAppBrowser.open(x,(0,N.ap)()?"_blank":"_system","location=yes"),k(ce)})})}(xe);return function Ae(x,A,k){return Je.apply(this,arguments)}(A,ze,dt)})()}_isIframeWebStorageSupported(A,k){throw new Error("Method not implemented.")}_originValidation(A){const k=A._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Q(x){return Re.apply(this,arguments)}(A)),this.originValidationPromises[k]}attachCallbackListeners(A,k){const{universalLinks:z,handleOpenURL:ce,BuildInfo:Ne}=pe(),ze=setTimeout((0,l.Z)(function*(){yield te(A),k.onEvent(Ye())}),500),_e=function(){var tn=(0,l.Z)(function*(Mt){clearTimeout(ze);const Yt=yield te(A);let Or=null;Yt&&Mt?.url&&(Or=function we(x,A){var k,z;const ce=function He(x){const A=Be(x),k=A.link?decodeURIComponent(A.link):void 0,z=Be(k).link,ce=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return Be(ce).link||ce||z||k||x}(A);if(ce.includes("/__/auth/callback")){const Ne=Be(ce),ze=Ne.firebaseError?function ae(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,_e=null===(z=null===(k=ze?.code)||void 0===k?void 0:k.split("auth/"))||void 0===z?void 0:z[1],xe=_e?(0,N.aw)(_e):null;return xe?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ce,postBody:null}}return null}(Yt,Mt.url)),k.onEvent(Or||Ye())});return function(Yt){return tn.apply(this,arguments)}}();typeof z<"u"&&"function"==typeof z.subscribe&&z.subscribe(null,_e);const xe=ce,dt=`${Ne.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var tn=(0,l.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(dt)&&_e({url:Mt}),"function"==typeof xe)try{xe(Mt)}catch(Yt){console.error(Yt)}});return function(Mt){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(A){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(A,k,z,ce)})()}_openRedirect(A,k,z,ce){var Ne=this;return(0,l.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(A,k,z,ce)})()}_isIframeWebStorageSupported(A,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,k)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,l.Z)(function*(){if(A.underlyingResolver)return;const k=yield function yr(){return tt.apply(this,arguments)}();A.underlyingResolver=k?A.cordovaResolver:A.browserResolver})()}}function Fn(x){return x.unwrap()}function bi(x){return ki(x)}function ki(x){const{_tokenResponse:A}=x instanceof ie.ZR?x.customData:x;if(!A)return null;if(!(x instanceof ie.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return N.P.credentialFromResult(x);const k=A.providerId;if(!k||k===N.o.PASSWORD)return null;let z;switch(k){case N.o.GOOGLE:z=N.Q;break;case N.o.FACEBOOK:z=N.N;break;case N.o.GITHUB:z=N.T;break;case N.o.TWITTER:z=N.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Ne,oauthTokenSecret:ze,pendingToken:_e,nonce:xe}=A;return Ne||ze||ce||_e?_e?k.startsWith("saml.")?N.aL._create(k,_e):N.J._fromParams({providerId:k,signInMethod:k,pendingToken:_e,idToken:ce,accessToken:Ne}):new N.U(k).credential({idToken:ce,accessToken:Ne,rawNonce:xe}):null}return x instanceof ie.ZR?z.credentialFromError(x):z.credentialFromResult(x)}function Ft(x,A){return A.catch(k=>{throw k instanceof ie.ZR&&function xt(x,A){var k,z;const ce=null===(k=A.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===(z=A)||void 0===z?void 0:z.code))A.resolver=new oi(x,N.an(x,A));else if(ce){const Ne=ki(A),ze=A;Ne&&(ze.credential=Ne,ze.tenantId=ce.tenantId||void 0,ze.email=ce.email||void 0,ze.phoneNumber=ce.phoneNumber||void 0)}}(x,k),k}).then(k=>{const ce=k.user;return{operationType:k.operationType,credential:bi(k),additionalUserInfo:N.al(k),user:Bn.getOrCreate(ce)}})}function Oi(x,A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(x,A){const k=yield A;return{verificationId:k.verificationId,confirm:z=>Ft(x,k.confirm(z))}})).apply(this,arguments)}class oi{constructor(A,k){this.resolver=k,this.auth=function ui(x){return x.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Ft(Fn(this.auth),this.resolver.resolveSignIn(A))}}class Bn{constructor(A){this._delegate=A,this.multiFactor=N.ao(A)}static getOrCreate(A){return Bn.USER_MAP.has(A)||Bn.USER_MAP.set(A,new Bn(A)),Bn.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var k=this;return(0,l.Z)(function*(){return Ft(k.auth,N.Z(k._delegate,A))})()}linkWithPhoneNumber(A,k){var z=this;return(0,l.Z)(function*(){return Oi(z.auth,N.l(z._delegate,A,k))})()}linkWithPopup(A){var k=this;return(0,l.Z)(function*(){return Ft(k.auth,N.d(k._delegate,A,mt))})()}linkWithRedirect(A){var k=this;return(0,l.Z)(function*(){return yield xn(N.aE(k.auth)),N.g(k._delegate,A,mt)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var k=this;return(0,l.Z)(function*(){return Ft(k.auth,N._(k._delegate,A))})()}reauthenticateWithPhoneNumber(A,k){return Oi(this.auth,N.r(this._delegate,A,k))}reauthenticateWithPopup(A){return Ft(this.auth,N.e(this._delegate,A,mt))}reauthenticateWithRedirect(A){var k=this;return(0,l.Z)(function*(){return yield xn(N.aE(k.auth)),N.h(k._delegate,A,mt)})()}sendEmailVerification(A){return N.ab(this._delegate,A)}unlink(A){var k=this;return(0,l.Z)(function*(){return yield N.ak(k._delegate,A),k})()}updateEmail(A){return N.ag(this._delegate,A)}updatePassword(A){return N.ah(this._delegate,A)}updatePhoneNumber(A){return N.u(this._delegate,A)}updateProfile(A){return N.af(this._delegate,A)}verifyBeforeUpdateEmail(A,k){return N.ac(this._delegate,A,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const et=N.ax;let Te=(()=>{class x{constructor(k,z){if(this.app=k,z.isInitialized())return this._delegate=z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=k.options;et(ce,"invalid-api-key",{appName:k.name}),et(ce,"invalid-api-key",{appName:k.name});const Ne=typeof window<"u"?mt:void 0;this._delegate=z.initialize({options:{persistence:wt(ce,k.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,z){N.G(this._delegate,k,z)}applyActionCode(k){return N.a2(this._delegate,k)}checkActionCode(k){return N.a3(this._delegate,k)}confirmPasswordReset(k,z){return N.a1(this._delegate,k,z)}createUserWithEmailAndPassword(k,z){var ce=this;return(0,l.Z)(function*(){return Ft(ce._delegate,N.a5(ce._delegate,k,z))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return N.aa(this._delegate,k)}isSignInWithEmailLink(k){return N.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,l.Z)(function*(){et(si(),k._delegate,"operation-not-supported-in-this-environment");const z=yield N.j(k._delegate,mt);return z?Ft(k._delegate,Promise.resolve(z)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function _n(x,A){(0,N.aE)(x)._logFramework(A)}(this._delegate,k)}onAuthStateChanged(k,z,ce){const{next:Ne,error:ze,complete:_e}=rt(k,z,ce);return this._delegate.onAuthStateChanged(Ne,ze,_e)}onIdTokenChanged(k,z,ce){const{next:Ne,error:ze,complete:_e}=rt(k,z,ce);return this._delegate.onIdTokenChanged(Ne,ze,_e)}sendSignInLinkToEmail(k,z){return N.a7(this._delegate,k,z)}sendPasswordResetEmail(k,z){return N.a0(this._delegate,k,z||void 0)}setPersistence(k){var z=this;return(0,l.Z)(function*(){let ce;switch(function Ni(x,A){bn(Object.values(Qn).includes(A),x,"invalid-persistence-type"),(0,ie.b$)()?bn(A!==Qn.SESSION,x,"unsupported-persistence-type"):(0,ie.UG)()?bn(A===Qn.NONE,x,"unsupported-persistence-type"):ri()?bn(A===Qn.NONE||A===Qn.LOCAL&&(0,ie.hl)(),x,"unsupported-persistence-type"):bn(A===Qn.NONE||rr(),x,"unsupported-persistence-type")}(z._delegate,k),k){case Qn.SESSION:ce=N.a;break;case Qn.LOCAL:ce=(yield N.ay(N.i)._isAvailable())?N.i:N.b;break;case Qn.NONE:ce=N.L;break;default:return N.at("argument-error",{appName:z._delegate.name})}return z._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Ft(this._delegate,N.X(this._delegate))}signInWithCredential(k){return Ft(this._delegate,N.Y(this._delegate,k))}signInWithCustomToken(k){return Ft(this._delegate,N.$(this._delegate,k))}signInWithEmailAndPassword(k,z){return Ft(this._delegate,N.a6(this._delegate,k,z))}signInWithEmailLink(k,z){return Ft(this._delegate,N.a9(this._delegate,k,z))}signInWithPhoneNumber(k,z){return Oi(this._delegate,N.s(this._delegate,k,z))}signInWithPopup(k){var z=this;return(0,l.Z)(function*(){return et(si(),z._delegate,"operation-not-supported-in-this-environment"),Ft(z._delegate,N.c(z._delegate,k,mt))})()}signInWithRedirect(k){var z=this;return(0,l.Z)(function*(){return et(si(),z._delegate,"operation-not-supported-in-this-environment"),yield xn(z._delegate),N.f(z._delegate,k,mt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return N.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Qn,x})();function rt(x,A,k){let z=x;"function"!=typeof x&&({next:z,error:A,complete:k}=x);const ce=z;return{next:ze=>ce(ze&&Bn.getOrCreate(ze)),error:A,complete:k}}function wt(x,A){const k=function dn(x,A){const k=pt();if(!k)return[];const z=N.az(vi,x,A);switch(k.getItem(z)){case Qn.NONE:return[N.L];case Qn.LOCAL:return[N.i,N.a];case Qn.SESSION:return[N.a];default:return[]}}(x,A);if(typeof self<"u"&&!k.includes(N.i)&&k.push(N.i),typeof window<"u")for(const z of[N.b,N.a])k.includes(z)||k.push(z);return k.includes(N.L)||k.push(N.L),k}class Tt{constructor(){this.providerId="phone",this._delegate=new N.P(Fn(j.Z.auth()))}static credential(A,k){return N.P.credential(A,k)}verifyPhoneNumber(A,k){return this._delegate.verifyPhoneNumber(A,k)}unwrap(){return this._delegate}}Tt.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Tt.PROVIDER_ID=N.P.PROVIDER_ID;const Jt=N.ax;class W{constructor(A,k,z=j.Z.app()){var ce;Jt(null===(ce=z.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:z.name}),this._delegate=new N.R(A,k,z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(x){x.INTERNAL.registerComponent(new ne.wA("auth-compat",A=>{const k=A.getProvider("app-compat").getImmediate(),z=A.getProvider("auth");return new Te(k,z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:Tt,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:W,TwitterAuthProvider:N.W,Auth:Te,AuthCredential:N.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.22")}(j.Z)},9751:(ft,ke,F)=>{F.d(ke,{y:()=>pe});var l=F(930),j=F(727),N=F(8822),ie=F(9635),ge=F(2416),ve=F(576),ne=F(2806);let pe=(()=>{class Q{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ae=new Q;return Ae.source=this,Ae.operator=Se,Ae}subscribe(Se,Ae,Je){const be=function G(Q){return Q&&Q instanceof l.Lv||function q(Q){return Q&&(0,ve.m)(Q.next)&&(0,ve.m)(Q.error)&&(0,ve.m)(Q.complete)}(Q)&&(0,j.Nn)(Q)}(Se)?Se:new l.Hp(Se,Ae,Je);return(0,ne.x)(()=>{const{operator:ue,source:ct}=this;be.add(ue?ue.call(be,ct):ct?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ae){Se.error(Ae)}}forEach(Se,Ae){return new(Ae=ye(Ae))((Je,be)=>{const ue=new l.Hp({next:ct=>{try{Se(ct)}catch(Qe){be(Qe),ue.unsubscribe()}},error:be,complete:Je});this.subscribe(ue)})}_subscribe(Se){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Se)}[N.L](){return this}pipe(...Se){return(0,ie.U)(Se)(this)}toPromise(Se){return new(Se=ye(Se))((Ae,Je)=>{let be;this.subscribe(ue=>be=ue,ue=>Je(ue),()=>Ae(be))})}}return Q.create=Re=>new Q(Re),Q})();function ye(Q){var Re;return null!==(Re=Q??ge.v.Promise)&&void 0!==Re?Re:Promise}},7579:(ft,ke,F)=>{F.d(ke,{x:()=>ne});var l=F(9751),j=F(727);const ie=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=F(8737),ve=F(2806);let ne=(()=>{class ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new pe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ie}next(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Re,observers:Se}=this;return Q||Re?j.Lc:(this.currentObservers=null,Se.push(G),new j.w0(()=>{this.currentObservers=null,(0,ge.P)(Se,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Re,isStopped:Se}=this;Q?G.error(Re):Se&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return ye.create=(q,G)=>new pe(q,G),ye})();class pe extends ne{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,q)}error(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==Q?Q:j.Lc}}},930:(ft,ke,F)=>{F.d(ke,{Hp:()=>Je,Lv:()=>Q});var l=F(576),j=F(727),N=F(2416),ie=F(7849),ge=F(5032);const ve=ye("C",void 0,void 0);function ye(Pe,Fe,De){return{kind:Pe,value:Fe,error:De}}var q=F(3410),G=F(2806);class Q extends j.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,j.Nn)(Fe)&&Fe.add(this)):this.destination=Qe}static create(Fe,De,Ze){return new Je(Fe,De,Ze)}next(Fe){this.isStopped?ct(function pe(Pe){return ye("N",Pe,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?ct(function ne(Pe){return ye("E",void 0,Pe)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?ct(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Se(Pe,Fe){return Re.call(Pe,Fe)}class Ae{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:De}=this;if(De.next)try{De.next(Fe)}catch(Ze){be(Ze)}}error(Fe){const{partialObserver:De}=this;if(De.error)try{De.error(Fe)}catch(Ze){be(Ze)}else be(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(De){be(De)}}}class Je extends Q{constructor(Fe,De,Ze){let te;if(super(),(0,l.m)(Fe)||!Fe)te={next:Fe??void 0,error:De??void 0,complete:Ze??void 0};else{let le;this&&N.v.useDeprecatedNextContext?(le=Object.create(Fe),le.unsubscribe=()=>this.unsubscribe(),te={next:Fe.next&&Se(Fe.next,le),error:Fe.error&&Se(Fe.error,le),complete:Fe.complete&&Se(Fe.complete,le)}):te=Fe}this.destination=new Ae(te)}}function be(Pe){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Pe):(0,ie.h)(Pe)}function ct(Pe,Fe){const{onStoppedNotification:De}=N.v;De&&q.z.setTimeout(()=>De(Pe,Fe))}const Qe={closed:!0,next:ge.Z,error:function ue(Pe){throw Pe},complete:ge.Z}},727:(ft,ke,F)=>{F.d(ke,{Lc:()=>ve,w0:()=>ge,Nn:()=>ne});var l=F(576);const N=(0,F(3888).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Re)=>`${Re+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ie=F(8737);class ge{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Se){q=Se instanceof N?Se.errors:[Se]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const Se of Re)try{pe(Se)}catch(Ae){q=q??[],Ae instanceof N?q=[...q,...Ae.errors]:q.push(Ae)}}if(q)throw new N(q)}}add(q){var G;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof ge){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,ie.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,ie.P)(G,q),q instanceof ge&&q._removeParent(this)}}ge.EMPTY=(()=>{const ye=new ge;return ye.closed=!0,ye})();const ve=ge.EMPTY;function ne(ye){return ye instanceof ge||ye&&"closed"in ye&&(0,l.m)(ye.remove)&&(0,l.m)(ye.add)&&(0,l.m)(ye.unsubscribe)}function pe(ye){(0,l.m)(ye)?ye():ye.unsubscribe()}},2416:(ft,ke,F)=>{F.d(ke,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,ke,F)=>{F.d(ke,{E:()=>j});const j=new(F(9751).y)(ge=>ge.complete())},8996:(ft,ke,F)=>{F.d(ke,{D:()=>Fe});var l=F(8421),j=F(5363),N=F(9468),ve=F(9751),pe=F(2202),ye=F(576),q=F(9672);function Q(De,Ze){if(!De)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,q.f)(te,Ze,()=>{const le=De[Symbol.asyncIterator]();(0,q.f)(te,Ze,()=>{le.next().then(we=>{we.done?te.complete():te.next(we.value)})},0,!0)})})}var Re=F(3670),Se=F(8239),Ae=F(1144),Je=F(6495),be=F(2206),ue=F(4532),ct=F(3260);function Fe(De,Ze){return Ze?function Pe(De,Ze){if(null!=De){if((0,Re.c)(De))return function ie(De,Ze){return(0,l.Xf)(De).pipe((0,N.R)(Ze),(0,j.Q)(Ze))}(De,Ze);if((0,Ae.z)(De))return function ne(De,Ze){return new ve.y(te=>{let le=0;return Ze.schedule(function(){le===De.length?te.complete():(te.next(De[le++]),te.closed||this.schedule())})})}(De,Ze);if((0,Se.t)(De))return function ge(De,Ze){return(0,l.Xf)(De).pipe((0,N.R)(Ze),(0,j.Q)(Ze))}(De,Ze);if((0,be.D)(De))return Q(De,Ze);if((0,Je.T)(De))return function G(De,Ze){return new ve.y(te=>{let le;return(0,q.f)(te,Ze,()=>{le=De[pe.h](),(0,q.f)(te,Ze,()=>{let we,X;try{({value:we,done:X}=le.next())}catch(J){return void te.error(J)}X?te.complete():te.next(we)},0,!0)}),()=>(0,ye.m)(le?.return)&&le.return()})}(De,Ze);if((0,ct.L)(De))return function Qe(De,Ze){return Q((0,ct.Q)(De),Ze)}(De,Ze)}throw(0,ue.z)(De)}(De,Ze):(0,l.Xf)(De)}},8421:(ft,ke,F)=>{F.d(ke,{Xf:()=>Re});var l=F(655),j=F(1144),N=F(8239),ie=F(9751),ge=F(3670),ve=F(2206),ne=F(4532),pe=F(6495),ye=F(3260),q=F(576),G=F(7849),Q=F(8822);function Re(Pe){if(Pe instanceof ie.y)return Pe;if(null!=Pe){if((0,ge.c)(Pe))return function Se(Pe){return new ie.y(Fe=>{const De=Pe[Q.L]();if((0,q.m)(De.subscribe))return De.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,j.z)(Pe))return function Ae(Pe){return new ie.y(Fe=>{for(let De=0;De<Pe.length&&!Fe.closed;De++)Fe.next(Pe[De]);Fe.complete()})}(Pe);if((0,N.t)(Pe))return function Je(Pe){return new ie.y(Fe=>{Pe.then(De=>{Fe.closed||(Fe.next(De),Fe.complete())},De=>Fe.error(De)).then(null,G.h)})}(Pe);if((0,ve.D)(Pe))return ue(Pe);if((0,pe.T)(Pe))return function be(Pe){return new ie.y(Fe=>{for(const De of Pe)if(Fe.next(De),Fe.closed)return;Fe.complete()})}(Pe);if((0,ye.L)(Pe))return function ct(Pe){return ue((0,ye.Q)(Pe))}(Pe)}throw(0,ne.z)(Pe)}function ue(Pe){return new ie.y(Fe=>{(function Qe(Pe,Fe){var De,Ze,te,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Pe);!(Ze=yield De.next()).done;)if(Fe.next(Ze.value),Fe.closed)return}catch(we){te={error:we}}finally{try{Ze&&!Ze.done&&(le=De.return)&&(yield le.call(De))}finally{if(te)throw te.error}}Fe.complete()})})(Pe,Fe).catch(De=>Fe.error(De))})}},6451:(ft,ke,F)=>{F.d(ke,{T:()=>ve});var l=F(8189),j=F(8421),N=F(515),ie=F(3269),ge=F(8996);function ve(...ne){const pe=(0,ie.yG)(ne),ye=(0,ie._6)(ne,1/0),q=ne;return q.length?1===q.length?(0,j.Xf)(q[0]):(0,l.J)(ye)((0,ge.D)(q,pe)):N.E}},5403:(ft,ke,F)=>{F.d(ke,{Q:()=>N,x:()=>j});var l=F(930);function j(ie,ge,ve,ne,pe){return new N(ie,ge,ve,ne,pe)}class N extends l.Lv{constructor(ge,ve,ne,pe,ye,q){super(ge),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=ve?function(G){try{ve(G)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){ge.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(ft,ke,F)=>{F.d(ke,{U:()=>N});var l=F(4482),j=F(5403);function N(ie,ge){return(0,l.e)((ve,ne)=>{let pe=0;ve.subscribe((0,j.x)(ne,ye=>{ne.next(ie.call(ge,ye,pe++))}))})}},8189:(ft,ke,F)=>{F.d(ke,{J:()=>N});var l=F(5577),j=F(4671);function N(ie=1/0){return(0,l.z)(j.y,ie)}},5577:(ft,ke,F)=>{F.d(ke,{z:()=>pe});var l=F(4004),j=F(8421),N=F(4482),ie=F(9672),ge=F(5403),ne=F(576);function pe(ye,q,G=1/0){return(0,ne.m)(q)?pe((Q,Re)=>(0,l.U)((Se,Ae)=>q(Q,Se,Re,Ae))((0,j.Xf)(ye(Q,Re))),G):("number"==typeof q&&(G=q),(0,N.e)((Q,Re)=>function ve(ye,q,G,Q,Re,Se,Ae,Je){const be=[];let ue=0,ct=0,Qe=!1;const Pe=()=>{Qe&&!be.length&&!ue&&q.complete()},Fe=Ze=>ue<Q?De(Ze):be.push(Ze),De=Ze=>{Se&&q.next(Ze),ue++;let te=!1;(0,j.Xf)(G(Ze,ct++)).subscribe((0,ge.x)(q,le=>{Re?.(le),Se?Fe(le):q.next(le)},()=>{te=!0},void 0,()=>{if(te)try{for(ue--;be.length&&ue<Q;){const le=be.shift();Ae?(0,ie.f)(q,Ae,()=>De(le)):De(le)}Pe()}catch(le){q.error(le)}}))};return ye.subscribe((0,ge.x)(q,Fe,()=>{Qe=!0,Pe()})),()=>{Je?.()}}(Q,Re,ye,G)))}},5363:(ft,ke,F)=>{F.d(ke,{Q:()=>ie});var l=F(9672),j=F(4482),N=F(5403);function ie(ge,ve=0){return(0,j.e)((ne,pe)=>{ne.subscribe((0,N.x)(pe,ye=>(0,l.f)(pe,ge,()=>pe.next(ye),ve),()=>(0,l.f)(pe,ge,()=>pe.complete(),ve),ye=>(0,l.f)(pe,ge,()=>pe.error(ye),ve)))})}},3099:(ft,ke,F)=>{F.d(ke,{B:()=>ge});var l=F(8421),j=F(7579),N=F(930),ie=F(4482);function ge(ne={}){const{connector:pe=(()=>new j.x),resetOnError:ye=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=ne;return Q=>{let Re,Se,Ae,Je=0,be=!1,ue=!1;const ct=()=>{Se?.unsubscribe(),Se=void 0},Qe=()=>{ct(),Re=Ae=void 0,be=ue=!1},Pe=()=>{const Fe=Re;Qe(),Fe?.unsubscribe()};return(0,ie.e)((Fe,De)=>{Je++,!ue&&!be&&ct();const Ze=Ae=Ae??pe();De.add(()=>{Je--,0===Je&&!ue&&!be&&(Se=ve(Pe,G))}),Ze.subscribe(De),!Re&&Je>0&&(Re=new N.Hp({next:te=>Ze.next(te),error:te=>{ue=!0,ct(),Se=ve(Qe,ye,te),Ze.error(te)},complete:()=>{be=!0,ct(),Se=ve(Qe,q),Ze.complete()}}),(0,l.Xf)(Fe).subscribe(Re))})(Q)}}function ve(ne,pe,...ye){if(!0===pe)return void ne();if(!1===pe)return;const q=new N.Hp({next:()=>{q.unsubscribe(),ne()}});return pe(...ye).subscribe(q)}},9468:(ft,ke,F)=>{F.d(ke,{R:()=>j});var l=F(4482);function j(N,ie=0){return(0,l.e)((ge,ve)=>{ve.add(N.schedule(()=>ge.subscribe(ve),ie))})}},8505:(ft,ke,F)=>{F.d(ke,{b:()=>ge});var l=F(576),j=F(4482),N=F(5403),ie=F(4671);function ge(ve,ne,pe){const ye=(0,l.m)(ve)||ne||pe?{next:ve,error:ne,complete:pe}:ve;return ye?(0,j.e)((q,G)=>{var Q;null===(Q=ye.subscribe)||void 0===Q||Q.call(ye);let Re=!0;q.subscribe((0,N.x)(G,Se=>{var Ae;null===(Ae=ye.next)||void 0===Ae||Ae.call(ye,Se),G.next(Se)},()=>{var Se;Re=!1,null===(Se=ye.complete)||void 0===Se||Se.call(ye),G.complete()},Se=>{var Ae;Re=!1,null===(Ae=ye.error)||void 0===Ae||Ae.call(ye,Se),G.error(Se)},()=>{var Se,Ae;Re&&(null===(Se=ye.unsubscribe)||void 0===Se||Se.call(ye)),null===(Ae=ye.finalize)||void 0===Ae||Ae.call(ye)}))}):ie.y}},4408:(ft,ke,F)=>{F.d(ke,{o:()=>ge});var l=F(727);class j extends l.w0{constructor(ne,pe){super()}schedule(ne,pe=0){return this}}const N={setInterval(ve,ne,...pe){const{delegate:ye}=N;return ye?.setInterval?ye.setInterval(ve,ne,...pe):setInterval(ve,ne,...pe)},clearInterval(ve){const{delegate:ne}=N;return(ne?.clearInterval||clearInterval)(ve)},delegate:void 0};var ie=F(8737);class ge extends j{constructor(ne,pe){super(ne,pe),this.scheduler=ne,this.work=pe,this.pending=!1}schedule(ne,pe=0){var ye;if(this.closed)return this;this.state=ne;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(G,this.id,pe),this}requestAsyncId(ne,pe,ye=0){return N.setInterval(ne.flush.bind(ne,this),ye)}recycleAsyncId(ne,pe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return pe;null!=pe&&N.clearInterval(pe)}execute(ne,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ne,pe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,pe){let q,ye=!1;try{this.work(ne)}catch(G){ye=!0,q=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ne,scheduler:pe}=this,{actions:ye}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ye,this),null!=ne&&(this.id=this.recycleAsyncId(pe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,ke,F)=>{F.d(ke,{v:()=>N});var l=F(6063);class j{constructor(ge,ve=j.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,ne){return new this.schedulerActionCtor(this,ge).schedule(ne,ve)}}j.now=l.l.now;class N extends j{constructor(ge,ve=j.now){super(ge,ve),this.actions=[],this._active=!1}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let ne;this._active=!0;do{if(ne=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,ne){for(;ge=ve.shift();)ge.unsubscribe();throw ne}}}},4986:(ft,ke,F)=>{F.d(ke,{P:()=>ie,z:()=>N});var l=F(4408);const N=new(F(7565).v)(l.o),ie=N},6063:(ft,ke,F)=>{F.d(ke,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ft,ke,F)=>{F.d(ke,{z:()=>l});const l={setTimeout(j,N,...ie){const{delegate:ge}=l;return ge?.setTimeout?ge.setTimeout(j,N,...ie):setTimeout(j,N,...ie)},clearTimeout(j){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ft,ke,F)=>{F.d(ke,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,ke,F)=>{F.d(ke,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,ke,F)=>{F.d(ke,{_6:()=>ve,jO:()=>ie,yG:()=>ge});var l=F(576),j=F(3532);function N(ne){return ne[ne.length-1]}function ie(ne){return(0,l.m)(N(ne))?ne.pop():void 0}function ge(ne){return(0,j.K)(N(ne))?ne.pop():void 0}function ve(ne,pe){return"number"==typeof N(ne)?ne.pop():pe}},8737:(ft,ke,F)=>{function l(j,N){if(j){const ie=j.indexOf(N);0<=ie&&j.splice(ie,1)}}F.d(ke,{P:()=>l})},3888:(ft,ke,F)=>{function l(j){const ie=j(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}F.d(ke,{d:()=>l})},2806:(ft,ke,F)=>{F.d(ke,{O:()=>ie,x:()=>N});var l=F(2416);let j=null;function N(ge){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!j;if(ve&&(j={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:ne,error:pe}=j;if(j=null,ne)throw pe}}else ge()}function ie(ge){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ge)}},9672:(ft,ke,F)=>{function l(j,N,ie,ge=0,ve=!1){const ne=N.schedule(function(){ie(),ve?j.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(j.add(ne),!ve)return ne}F.d(ke,{f:()=>l})},4671:(ft,ke,F)=>{function l(j){return j}F.d(ke,{y:()=>l})},1144:(ft,ke,F)=>{F.d(ke,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ft,ke,F)=>{F.d(ke,{D:()=>j});var l=F(576);function j(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(ft,ke,F)=>{function l(j){return"function"==typeof j}F.d(ke,{m:()=>l})},3670:(ft,ke,F)=>{F.d(ke,{c:()=>N});var l=F(8822),j=F(576);function N(ie){return(0,j.m)(ie[l.L])}},6495:(ft,ke,F)=>{F.d(ke,{T:()=>N});var l=F(2202),j=F(576);function N(ie){return(0,j.m)(ie?.[l.h])}},8239:(ft,ke,F)=>{F.d(ke,{t:()=>j});var l=F(576);function j(N){return(0,l.m)(N?.then)}},3260:(ft,ke,F)=>{F.d(ke,{L:()=>ie,Q:()=>N});var l=F(655),j=F(576);function N(ge){return(0,l.FC)(this,arguments,function*(){const ne=ge.getReader();try{for(;;){const{value:pe,done:ye}=yield(0,l.qq)(ne.read());if(ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{ne.releaseLock()}})}function ie(ge){return(0,j.m)(ge?.getReader)}},3532:(ft,ke,F)=>{F.d(ke,{K:()=>j});var l=F(576);function j(N){return N&&(0,l.m)(N.schedule)}},4482:(ft,ke,F)=>{F.d(ke,{A:()=>j,e:()=>N});var l=F(576);function j(ie){return(0,l.m)(ie?.lift)}function N(ie){return ge=>{if(j(ge))return ge.lift(function(ve){try{return ie(ve,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,ke,F)=>{function l(){}F.d(ke,{Z:()=>l})},9635:(ft,ke,F)=>{F.d(ke,{U:()=>N,z:()=>j});var l=F(4671);function j(...ie){return N(ie)}function N(ie){return 0===ie.length?l.y:1===ie.length?ie[0]:function(ve){return ie.reduce((ne,pe)=>pe(ne),ve)}}},7849:(ft,ke,F)=>{F.d(ke,{h:()=>N});var l=F(2416),j=F(3410);function N(ie){j.z.setTimeout(()=>{const{onUnhandledError:ge}=l.v;if(!ge)throw ie;ge(ie)})}},4532:(ft,ke,F)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ke,{z:()=>l})},655:(ft,ke,F)=>{function ie(X,J){var he={};for(var ae in X)Object.prototype.hasOwnProperty.call(X,ae)&&J.indexOf(ae)<0&&(he[ae]=X[ae]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(ae=Object.getOwnPropertySymbols(X);He<ae.length;He++)J.indexOf(ae[He])<0&&Object.prototype.propertyIsEnumerable.call(X,ae[He])&&(he[ae[He]]=X[ae[He]])}return he}function pe(X,J,he,ae){return new(he||(he=Promise))(function(Be,_t){function ln(_n){try{Ye(ae.next(_n))}catch(Kn){_t(Kn)}}function Rt(_n){try{Ye(ae.throw(_n))}catch(Kn){_t(Kn)}}function Ye(_n){_n.done?Be(_n.value):function He(Be){return Be instanceof he?Be:new he(function(_t){_t(Be)})}(_n.value).then(ln,Rt)}Ye((ae=ae.apply(X,J||[])).next())})}function be(X){return this instanceof be?(this.v=X,this):new be(X)}function ue(X,J,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,ae=he.apply(X,J||[]),Be=[];return He={},_t("next"),_t("throw"),_t("return"),He[Symbol.asyncIterator]=function(){return this},He;function _t(pn){ae[pn]&&(He[pn]=function(cn){return new Promise(function(qt,At){Be.push([pn,cn,qt,At])>1||ln(pn,cn)})})}function ln(pn,cn){try{!function Rt(pn){pn.value instanceof be?Promise.resolve(pn.value.v).then(Ye,_n):Kn(Be[0][2],pn)}(ae[pn](cn))}catch(qt){Kn(Be[0][3],qt)}}function Ye(pn){ln("next",pn)}function _n(pn){ln("throw",pn)}function Kn(pn,cn){pn(cn),Be.shift(),Be.length&&ln(Be[0][0],Be[0][1])}}function Qe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,J=X[Symbol.asyncIterator];return J?J.call(X):(X=function Q(X){var J="function"==typeof Symbol&&Symbol.iterator,he=J&&X[J],ae=0;if(he)return he.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ae>=X.length&&(X=void 0),{value:X&&X[ae++],done:!X}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),he={},ae("next"),ae("throw"),ae("return"),he[Symbol.asyncIterator]=function(){return this},he);function ae(Be){he[Be]=X[Be]&&function(_t){return new Promise(function(ln,Rt){!function He(Be,_t,ln,Rt){Promise.resolve(Rt).then(function(Ye){Be({value:Ye,done:ln})},_t)}(ln,Rt,(_t=X[Be](_t)).done,_t.value)})}}}F.d(ke,{FC:()=>ue,KL:()=>Qe,_T:()=>ie,mG:()=>pe,qq:()=>be})},4650:(ft,ke,F)=>{F.d(ke,{$8M:()=>Ku,$Z:()=>TE,AFp:()=>D_,ALo:()=>b0,AaK:()=>pe,BQk:()=>Sr,CHM:()=>li,CRH:()=>k0,CZH:()=>gp,CqO:()=>Ig,D6c:()=>Xl,DdM:()=>cp,EJc:()=>BM,EiD:()=>$a,EpF:()=>Dd,F$t:()=>sD,F4k:()=>Dg,FYo:()=>iT,FiY:()=>La,G48:()=>WM,Gf:()=>aI,GfV:()=>It,Gpc:()=>G,Gre:()=>Rg,Hsn:()=>Cb,Ikx:()=>Ks,JOm:()=>go,JVY:()=>Rc,KtG:()=>jt,L6k:()=>tv,LAX:()=>Yh,LFG:()=>Gn,LSH:()=>rv,Lbi:()=>LM,Lck:()=>a0,MAs:()=>_b,MGl:()=>Jo,MMx:()=>Kg,NdJ:()=>Sg,O4$:()=>lm,OlP:()=>Xn,Oqu:()=>Fb,PXZ:()=>RI,Q6J:()=>wo,QGY:()=>Eg,QP$:()=>ce,QbO:()=>Y0,Qsj:()=>rT,R0b:()=>Is,RDi:()=>$h,Rgc:()=>_u,SBq:()=>Sl,Sil:()=>SI,Suo:()=>l_,TTD:()=>ro,TgZ:()=>Wf,Udp:()=>Mg,W1O:()=>d_,WFA:()=>Ag,X6Q:()=>zR,XFs:()=>tt,Xpm:()=>Te,Xts:()=>ef,Y36:()=>pd,YKP:()=>lp,YNc:()=>iD,Yjl:()=>x,Yz7:()=>cn,Z0I:()=>ir,ZZ4:()=>Cp,_Bn:()=>Zg,_UZ:()=>qf,_Vd:()=>sf,_c5:()=>WI,_uU:()=>fD,aQg:()=>Zd,c2e:()=>VM,cJS:()=>At,cg1:()=>Hb,d8E:()=>Fg,dDg:()=>jM,dqk:()=>mt,eBb:()=>qh,eFA:()=>bu,ekj:()=>ea,eoX:()=>OI,f3M:()=>Lh,g9A:()=>I_,h0i:()=>ra,hGG:()=>Ip,hij:()=>kg,iGM:()=>a_,ifc:()=>ht,ip1:()=>E_,jDz:()=>GD,kL8:()=>AD,lG2:()=>R,lcZ:()=>tI,lqb:()=>id,lri:()=>xI,mCW:()=>_,n5z:()=>No,n_E:()=>ql,oAB:()=>Jt,oJD:()=>km,oxw:()=>Zf,pB0:()=>nv,q3G:()=>ti,q4F:()=>Lm,qLn:()=>od,qOj:()=>Yo,qZA:()=>Ed,qzn:()=>po,rWj:()=>kI,sBO:()=>YM,sIi:()=>yd,s_b:()=>fp,soG:()=>_p,tb:()=>S_,tp0:()=>Cl,uIk:()=>Jn,vHH:()=>Ae,vpe:()=>Qs,wAp:()=>Vt,xi3:()=>nI,xp6:()=>$o,ynx:()=>Qa,z2F:()=>R_,z3N:()=>zs,zSh:()=>UC,zs3:()=>qc});var l=F(7579),j=F(727),N=F(9751),ie=F(6451),ge=F(3099);function ve(o){for(let a in o)if(o[a]===ve)return a;throw Error("Could not find renamed property on target object.")}function ne(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function pe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(pe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ye(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const q=ve({__forward_ref__:ve});function G(o){return o.__forward_ref__=G,o.toString=function(){return pe(this())},o}function Q(o){return Re(o)?o():o}function Re(o){return"function"==typeof o&&o.hasOwnProperty(q)&&o.__forward_ref__===G}class Ae extends Error{constructor(a,c){super(function Je(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function be(o){return"string"==typeof o?o:null==o?"":String(o)}function Fe(o,a){throw new Ae(-201,!1)}function Rt(o,a){null==o&&function Ye(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function cn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function At(o){return{providers:o.providers||[],imports:o.imports||[]}}function Vn(o){return _r(o,ri)||_r(o,xi)}function ir(o){return null!==Vn(o)}function _r(o,a){return o.hasOwnProperty(a)?o[a]:null}function rr(o){return o&&(o.hasOwnProperty(si)||o.hasOwnProperty(yr))?o[si]:null}const ri=ve({\u0275prov:ve}),si=ve({\u0275inj:ve}),xi=ve({ngInjectableDef:ve}),yr=ve({ngInjectorDef:ve});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Sn;function bn(o){const a=Sn;return Sn=o,a}function vi(o,a,c){const d=Vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==a?a:void Fe(pe(o))}function xn(o){return{toString:o}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),ht=(()=>{return(o=ht||(ht={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ht;var o})();const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bi={},xt=[],ki=ve({\u0275cmp:ve}),Ft=ve({\u0275dir:ve}),Oi=ve({\u0275pipe:ve}),Qt=ve({\u0275mod:ve}),oi=ve({\u0275fac:ve}),Bn=ve({__NG_ELEMENT_ID__:ve});let et=0;function Te(o){return xn(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||xt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ht.Emulated,id:"c"+et++,styles:o.styles||xt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=$(o.inputs,d),f.outputs=$(o.outputs),v&&v.forEach(w=>w(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(wt).filter(Tt):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(z).filter(Tt):null,f})}function wt(o){return A(o)||k(o)}function Tt(o){return null!==o}function Jt(o){return xn(()=>({type:o.type,bootstrap:o.bootstrap||xt,declarations:o.declarations||xt,imports:o.imports||xt,exports:o.exports||xt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function $(o,a){if(null==o)return bi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,a&&(a[f]=m)}return c}const R=Te;function x(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function A(o){return o[ki]||null}function k(o){return o[Ft]||null}function z(o){return o[Oi]||null}function ce(o){const a=A(o)||k(o)||z(o);return null!==a&&a.standalone}function Ne(o,a){const c=o[Qt]||null;if(!c&&!0===a)throw new Error(`Type ${pe(o)} does not have '\u0275mod' property.`);return c}function Li(o){return Array.isArray(o)&&"object"==typeof o[1]}function ar(o){return Array.isArray(o)&&!0===o[1]}function Zr(o){return 0!=(8&o.flags)}function gs(o){return 2==(2&o.flags)}function no(o){return 1==(1&o.flags)}function Br(o){return null!==o.template}function cl(o){return 0!=(256&o[2])}function Gi(o,a){return o.hasOwnProperty(oi)?o[oi]:null}class Ea{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ro(){return lc}function lc(o){return o.type.prototype.ngOnChanges&&(o.setInput=fl),cc}function cc(){const o=Oo(this),a=o?.current;if(a){const c=o.previous;if(c===bi)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function fl(o,a,c,d){const f=Oo(o)||function Wi(o,a){return o[uc]=a}(o,{previous:bi,current:null}),m=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[c],D=v[w];m[w]=new Ea(D&&D.currentValue,a,v===bi),o[d]=a}ro.ngInherit=!0;const uc="__ngSimpleChanges__";function Oo(o){return o[uc]||null}function ai(o){for(;Array.isArray(o);)o=o[0];return o}function ss(o,a){return ai(a[o])}function cr(o,a){return ai(a[o.index])}function Da(o,a){return o.data[a]}function vr(o,a){return o[a]}function Mn(o,a){const c=a[o];return Li(c)?c:c[0]}function ao(o){return 64==(64&o[2])}function Kr(o,a){return null==a?null:o[a]}function Ia(o){o[18]=0}function Sa(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Wt={lFrame:Eh(null),bindingsEnabled:!0};function Xe(){return Wt.bindingsEnabled}function Ie(){return Wt.lFrame.lView}function Pt(){return Wt.lFrame.tView}function li(o){return Wt.lFrame.contextLView=o,o[8]}function jt(o){return Wt.lFrame.contextLView=null,o}function qn(){let o=lo();for(;null!==o&&64===o.type;)o=o.parent;return o}function lo(){return Wt.lFrame.currentTNode}function qi(o,a){const c=Wt.lFrame;c.currentTNode=o,c.isParent=a}function Vs(){return Wt.lFrame.isParent}function pl(){Wt.lFrame.isParent=!1}function wi(){const o=Wt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function pc(){return Wt.lFrame.bindingIndex++}function Fo(o){const a=Wt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function om(o,a){const c=Wt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Vu(a)}function Vu(o){Wt.lFrame.currentDirectiveIndex=o}function vh(o){const a=Wt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function bh(){return Wt.lFrame.currentQueryIndex}function wh(o){Wt.lFrame.currentQueryIndex=o}function Ch(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Sy(o,a,c){if(c&tt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||c&tt.Host||(f=Ch(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Wt.lFrame=Ay();return d.currentTNode=a,d.lView=o,!0}function Bu(o){const a=Ay(),c=o[1];Wt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ay(){const o=Wt.lFrame,a=null===o?null:o.child;return null===a?Eh(o):a}function Eh(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ty(){const o=Wt.lFrame;return Wt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const am=Ty;function ml(){const o=Ty();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function di(){return Wt.lFrame.selectedIndex}function ho(o){Wt.lFrame.selectedIndex=o}function hi(){const o=Wt.lFrame;return Da(o.tView,o.selectedIndex)}function lm(){Wt.lFrame.currentNamespace="svg"}function mc(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:M}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(c,M)}}function gc(o,a,c){Sh(o,a,3,c)}function Ta(o,a,c,d){(3&o[2])===c&&Sh(o,a,c,d)}function Ih(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Sh(o,a,c,d){const m=d??-1,v=a.length-1;let w=0;for(let D=void 0!==d?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(w=a[D],null!=d&&w>=d)break}else a[D]<0&&(o[18]+=65536),(w<m||-1==m)&&(cm(o,c,a,D),o[18]=(4294901760&o[18])+D+2),D++}function cm(o,a,c,d){const f=c[d]<0,m=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class os{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function fo(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],w=c[d++];o.setAttribute(a,v,w,m)}else{const m=f,v=c[++d];kh(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function xh(o){return 3===o||4===o||6===o}function kh(o){return 64===o.charCodeAt(0)}function yc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||um(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function um(o,a,c,d,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function Py(o){return-1!==o}function Ma(o){return 32767&o}function Po(o,a){let c=function Ny(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let Oh=!0;function $u(o){const a=Oh;return Oh=o,a}let dm=0;const bs={};function xa(o,a){const c=zu(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Rh(d.data,o),Rh(a,null),Rh(d.blueprint,null));const f=vc(o,a),m=o.injectorIndex;if(Py(f)){const v=Ma(f),w=Po(f,a),D=w[1].data;for(let S=0;S<8;S++)a[m+S]=w[v+S]|D[v+S]}return a[m+8]=f,m}function Rh(o,a){o.push(0,0,0,0,0,0,0,0,a)}function zu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function vc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=Zu(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function bc(o,a,c){!function Vy(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Bn)&&(d=c[Bn]),null==d&&(d=c[Bn]=dm++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function Gu(o,a,c){if(c&tt.Optional||void 0!==o)return o;Fe()}function ka(o,a,c,d){if(c&tt.Optional&&void 0===d&&(d=null),0==(c&(tt.Self|tt.Host))){const f=o[9],m=bn(void 0);try{return f?f.get(a,d,c&tt.Optional):vi(a,d,c&tt.Optional)}finally{bn(m)}}return Gu(d,0,c)}function Wu(o,a,c,d=tt.Default,f){if(null!==o){if(1024&a[2]){const v=function Uy(o,a,c,d,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const w=hm(m,v,c,d|tt.Self,bs);if(w!==bs)return w;let D=m.parent;if(!D){const S=v[21];if(S){const M=S.get(c,bs,d);if(M!==bs)return M}D=Zu(v),v=v[15]}m=D}return f}(o,a,c,d,bs);if(v!==bs)return v}const m=hm(o,a,c,d,bs);if(m!==bs)return m}return ka(a,c,d,f)}function hm(o,a,c,d,f){const m=function By(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Bn)?o[Bn]:void 0;return"number"==typeof a?a>=0?255&a:mm:a}(c);if("function"==typeof m){if(!Sy(a,o,d))return d&tt.Host?Gu(f,0,d):ka(a,c,d,f);try{const v=m(d);if(null!=v||d&tt.Optional)return v;Fe()}finally{am()}}else if("number"==typeof m){let v=null,w=zu(o,a),D=-1,S=d&tt.Host?a[16][6]:null;for((-1===w||d&tt.SkipSelf)&&(D=-1===w?vc(o,a):a[w+8],-1!==D&&pm(d,!1)?(v=a[1],w=Ma(D),a=Po(D,a)):w=-1);-1!==w;){const M=a[1];if(qu(m,w,M.data)){const U=fm(w,a,c,v,d,S);if(U!==bs)return U}D=a[w+8],-1!==D&&pm(d,a[1].data[w+8]===S)&&qu(m,w,a)?(v=M,w=Ma(D),a=Po(D,a)):w=-1}}return f}function fm(o,a,c,d,f,m){const v=a[1],w=v.data[o+8],M=Cc(w,v,c,null==d?gs(w)&&Oh:d!=v&&0!=(3&w.type),f&tt.Host&&m===w);return null!==M?Us(a,v,M,w):bs}function Cc(o,a,c,d,f){const m=o.providerIndexes,v=a.data,w=1048575&m,D=o.directiveStart,M=m>>20,Y=f?w+M:o.directiveEnd;for(let oe=d?w:w+M;oe<Y;oe++){const Me=v[oe];if(oe<D&&c===Me||oe>=D&&Me.type===c)return oe}if(f){const oe=v[D];if(oe&&Br(oe)&&oe.type===c)return D}return null}function Us(o,a,c,d){let f=o[c];const m=a.data;if(function Ah(o){return o instanceof os}(f)){const v=f;v.resolving&&function ct(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():be(o)}(m[c]));const w=$u(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?bn(v.injectImpl):null;Sy(o,d,tt.Default);try{f=o[c]=v.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Uu(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=lc(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==D&&bn(D),$u(w),v.resolving=!1,am()}}return f}function qu(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function pm(o,a){return!(o&tt.Self||o&tt.Host&&a)}class Ec{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Wu(this._tNode,this._lView,a,d,c)}}function mm(){return new Ec(qn(),Ie())}function No(o){return xn(()=>{const a=o.prototype.constructor,c=a[oi]||Yu(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[oi]||Yu(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Yu(o){return Re(o)?()=>{const a=Yu(Q(o));return a&&a()}:Gi(o)}function Zu(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Ku(o){return function wc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(xh(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(qn(),o)}const Dc="__parameters__";function Ic(o,a,c){return xn(()=>{const d=function gm(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return w.annotation=v,w;function w(D,S,M){const U=D.hasOwnProperty(Dc)?D[Dc]:Object.defineProperty(D,Dc,{value:[]})[Dc];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(v),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Xn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=cn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zi(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Zi(d,a)):a!==o&&a.push(d)}return a}function ut(o,a){o.forEach(c=>Array.isArray(c)?ut(c,a):a(c))}function Ai(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function qe(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ws(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function fn(o,a,c){let d=ei(o,a);return d>=0?o[1|d]=c:(d=~d,function Cs(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function Ke(o,a){const c=ei(o,a);if(c>=0)return o[1|c]}function ei(o,a){return function bl(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<c];if(a===v)return m<<c;v>a?f=m:d=m+1}return~(f<<c)}(o,a,1)}const gn={},wl="__NG_DI_FLAG__",Pa="ngTempTokenPath",Es=/\n/gm,Qu="__source";let Bo;function $t(o){const a=Bo;return Bo=o,a}function Rr(o,a=tt.Default){if(void 0===Bo)throw new Ae(-203,!1);return null===Bo?vi(o,void 0,a):Bo.get(o,a&tt.Optional?null:void 0,a)}function Gn(o,a=tt.Default){return(function Qn(){return Sn}()||Rr)(Q(o),a)}function Lh(o,a=tt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Gn(o,a)}function vm(o){const a=[];for(let c=0;c<o.length;c++){const d=Q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let f,m=tt.Default;for(let v=0;v<d.length;v++){const w=d[v],D=Vh(w);"number"==typeof D?-1===D?f=w.token:m|=D:f=w}a.push(Gn(f,m))}else a.push(Gn(d))}return a}function Na(o,a){return o[wl]=a,o.prototype[wl]=a,o}function Vh(o){return o[wl]}const La=Na(Ic("Optional"),8),Cl=Na(Ic("SkipSelf"),4);let ed,Dl,td;function $h(o){ed=o}function Il(o){return function Mc(){if(void 0===Dl&&(Dl=null,mt.trustedTypes))try{Dl=mt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Dl}()?.createHTML(o)||o}function zh(o){return function Ua(){if(void 0===td&&(td=null,mt.trustedTypes))try{td=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return td}()?.createHTML(o)||o}class Ha{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gh extends Ha{getTypeName(){return"HTML"}}class ev extends Ha{getTypeName(){return"Style"}}class Im extends Ha{getTypeName(){return"Script"}}class Sm extends Ha{getTypeName(){return"URL"}}class Oc extends Ha{getTypeName(){return"ResourceURL"}}function zs(o){return o instanceof Ha?o.changingThisBreaksApplicationSecurity:o}function po(o,a){const c=function Wh(o){return o instanceof Ha&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Rc(o){return new Gh(o)}function tv(o){return new ev(o)}function qh(o){return new Im(o)}function Yh(o){return new Sm(o)}function nv(o){return new Oc(o)}class Am{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Il(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class iv{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Il(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Il(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(o){return(o=String(o)).match(g)?o:"unsafe:"+o}function C(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function T(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const L=C("area,br,col,hr,img,wbr"),se=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oe=C("rp,rt"),kn=T(L,T(se,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),T(Oe,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),T(Oe,se)),Jr=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kh=T(Jr,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=C("script,style,template");class Tm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!kn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,w=v.toLowerCase();if(!Kh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=m.value;Jr[w]&&(D=_(D)),this.buf.push(" ",v,'="',Jh(D),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();kn.hasOwnProperty(c)&&!L.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Jh(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Mm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xh=/([^\#-~ |!])/g;function Jh(o){return o.replace(/&/g,"&amp;").replace(Mm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Xh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pc;function $a(o,a){let c=null;try{Pc=Pc||function Fc(o){const a=new iv(o);return function b(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new Am(a):a}(o);let d=a?String(a):"";c=Pc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Pc.getInertBodyElement(d)}while(d!==m);return Il((new Tm).sanitizeChildren(Nc(c)||c))}finally{if(c){const d=Nc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Nc(o){return"content"in o&&function xm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ti=(()=>((ti=ti||{})[ti.NONE=0]="NONE",ti[ti.HTML=1]="HTML",ti[ti.STYLE=2]="STYLE",ti[ti.SCRIPT=3]="SCRIPT",ti[ti.URL=4]="URL",ti[ti.RESOURCE_URL=5]="RESOURCE_URL",ti))();function km(o){const a=Om();return a?zh(a.sanitize(ti.HTML,o)||""):po(o,"HTML")?zh(zs(o)):$a(function Ba(){return void 0!==ed?ed:typeof document<"u"?document:void 0}(),be(o))}function rv(o){const a=Om();return a?a.sanitize(ti.URL,o)||"":po(o,"URL")?zs(o):_(be(o))}function Om(){const o=Ie();return o&&o[12]}const ef=new Xn("ENVIRONMENT_INITIALIZER"),ZA=new Xn("INJECTOR",-1),LC=new Xn("INJECTOR_DEF_TYPES");class ov{get(a,c=gn){if(c===gn){const d=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw d.name="NullInjectorError",d}return c}}function KA(...o){return{\u0275providers:av(0,o)}}function av(o,...a){const c=[],d=new Set;let f;return ut(a,m=>{const v=m;nd(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Rm(f,c),c}function Rm(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];ut(f,m=>{a.push(m)})}}function nd(o,a,c,d){if(!(o=Q(o)))return!1;let f=null,m=rr(o);const v=!m&&A(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(m=rr(D),!m)return!1;f=D}const w=d.has(f);if(v){if(w)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)nd(S,a,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;d.add(f);try{ut(m.imports,M=>{nd(M,a,c,d)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&Rm(S,a)}if(!w){const S=Gi(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:xt},{provide:LC,useValue:f,multi:!0},{provide:ef,useValue:()=>Gn(f),multi:!0})}const D=m.providers;null==D||w||ut(D,M=>{a.push(M)})}}return f!==o&&void 0!==o.providers}const lv=ve({provide:String,useValue:ve});function VC(o){return null!==o&&"object"==typeof o&&lv in o}function Lc(o){return"function"==typeof o}const UC=new Xn("Set Injector scope."),cv={},JA={};let HC;function uv(){return void 0===HC&&(HC=new ov),HC}class id{}class eT extends id{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pm(a,v=>this.processProvider(v)),this.records.set(ZA,Vc(void 0,this)),f.has("environment")&&this.records.set(id,Vc(void 0,this));const m=this.records.get(UC);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(LC.multi,xt,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=$t(this),d=bn(void 0);try{return a()}finally{$t(c),bn(d)}}get(a,c=gn,d=tt.Default){this.assertNotDestroyed();const f=$t(this),m=bn(void 0);try{if(!(d&tt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const D=function GC(o){return"function"==typeof o||"object"==typeof o&&o instanceof Xn}(a)&&Vn(a);w=D&&this.injectableDefInScope(D)?Vc(jC(a),cv):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&tt.Self?uv():this.parent).get(a,c=d&tt.Optional&&c===gn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Pa]=v[Pa]||[]).unshift(pe(a)),f)throw v;return function zy(o,a,c,d){const f=o[Pa];throw a[Qu]&&f.unshift(a[Qu]),o.message=function Bh(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=pe(a);if(Array.isArray(a))f=a.map(pe).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Es,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Pa]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{bn(m),$t(f)}}resolveInjectorInitializers(){const a=$t(this),c=bn(void 0);try{const d=this.get(ef.multi,xt,tt.Self);for(const f of d)f()}finally{$t(a),bn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(pe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(a){let c=Lc(a=Q(a))?a:Q(a&&a.provide);const d=function tT(o){return VC(o)?Vc(void 0,o.useValue):Vc(dv(o),cv)}(a);if(Lc(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Vc(void 0,cv,!0),f.factory=()=>vm(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===cv&&(c.value=JA,c.value=c.factory()),"object"==typeof c.value&&c.value&&function zC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function jC(o){const a=Vn(o),c=null!==a?a.factory:Gi(o);if(null!==c)return c;if(o instanceof Xn)throw new Ae(204,!1);if(o instanceof Function)return function Fm(o){const a=o.length;if(a>0)throw ws(a,"?"),new Ae(204,!1);const c=function Wn(o){const a=o&&(o[ri]||o[xi]);if(a){const c=function yi(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ae(204,!1)}function dv(o,a,c){let d;if(Lc(o)){const f=Q(o);return Gi(f)||jC(f)}if(VC(o))d=()=>Q(o.useValue);else if(function QA(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...vm(o.deps||[]));else if(function BC(o){return!(!o||!o.useExisting)}(o))d=()=>Gn(Q(o.useExisting));else{const f=Q(o&&(o.useClass||o.provide));if(!function $C(o){return!!o.deps}(o))return Gi(f)||jC(f);d=()=>new f(...vm(o.deps))}return d}function Vc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function WC(o){return!!o.\u0275providers}function Pm(o,a){for(const c of o)Array.isArray(c)?Pm(c,a):WC(c)?Pm(c.\u0275providers,a):a(c)}class hv{}class rf{resolveComponentFactory(a){throw function aR(o){const a=Error(`No component factory found for ${pe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let sf=(()=>{class o{}return o.NULL=new rf,o})();function rd(){return Ci(qn(),Ie())}function Ci(o,a){return new Sl(cr(o,a))}let Sl=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=rd,o})();function nT(o){return o instanceof Sl?o.nativeElement:o}class iT{}let rT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function sT(){const o=Ie(),c=Mn(qn().index,o);return(Li(c)?c:o)[11]}(),o})(),za=(()=>{class o{}return o.\u0275prov=cn({token:o,providedIn:"root",factory:()=>null}),o})();class It{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Lm=new It("14.2.5"),Zt={};function sd(o){return o.ngOriginalError}class od{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&sd(a);for(;c&&sd(c);)c=sd(c);return c||null}}const af=new Map;let KC=0;const cf="__ngContext__";function Pr(o,a){Li(a)?(o[cf]=a[20],function QC(o){af.set(o[20],o)}(a)):o[cf]=a}function mo(o){return o instanceof Function?o():o}var go=(()=>((go=go||{})[go.Important=1]="Important",go[go.DashCase=2]="DashCase",go))();function ff(o,a){return undefined(o,a)}function Ui(o){const a=o[3];return ar(a)?a[3]:a}function xv(o){return Ov(o[13])}function kv(o){return Ov(o[4])}function Ov(o){for(;null!==o&&!ar(o);)o=o[4];return o}function cd(o,a,c,d,f){if(null!=d){let m,v=!1;ar(d)?m=d:Li(d)&&(v=!0,d=d[0]);const w=ai(d);0===o&&null!==c?null==f?dE(a,c,w):Gs(a,c,w,f||null,!0):1===o&&null!==c?Gs(a,c,w,f||null,!0):2===o?function Lv(o,a,c){const d=jc(o,a);d&&function Hc(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=m&&function tg(o,a,c,d,f){const m=c[7];m!==ai(c)&&cd(a,o,d,m,f);for(let w=10;w<c.length;w++){const D=c[w];Gc(D[1],D,o,a,d,m)}}(a,o,m,c,f)}}function pf(o,a,c){return o.createElement(a,c)}function aE(o,a){const c=o[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Sa(f,-1)),c.splice(d,1)}function Uc(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&aE(f,d),a>0&&(o[c-1][4]=d[4]);const m=qe(o,10+a);!function sE(o,a){Gc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Pv(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Gc(o,a,c,3,null,null),function Rv(o){let a=o[13];if(!a)return Zm(o[1],o);for(;a;){let c=null;if(Li(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Li(a)&&Zm(a[1],a),a=a[3];null===a&&(a=o),Li(a)&&Zm(a[1],a),c=a&&a[4]}a=c}}(a)}}function Zm(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Km(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof os)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=f[m[v]],D=m[v+1];try{D.call(w)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function lE(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],w="function"==typeof v?v(a):ai(a[v]),D=d[f=c[m+2]],S=c[m+3];"boolean"==typeof S?w.removeEventListener(c[m],D,S):S>=0?d[f=S]():d[f=-S].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&ar(a[3])){c!==a[3]&&aE(c,a);const d=a[19];null!==d&&d.detachView(o)}!function vv(o){af.delete(o[20])}(a)}}function cE(o,a,c){return function uE(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===ht.None||f===ht.Emulated)return null}return cr(d,c)}(o,a.parent,c)}function Gs(o,a,c,d,f){o.insertBefore(a,c,d,f)}function dE(o,a,c){o.appendChild(a,c)}function hE(o,a,c,d,f){null!==d?Gs(o,a,c,d,f):dE(o,a,c)}function jc(o,a){return o.parentNode(a)}function ud(o,a,c){return jr(o,a,c)}let jr=function Nv(o,a,c){return 40&o.type?cr(o,c):null};function $c(o,a,c,d){const f=cE(o,d,a),m=a[11],w=ud(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)hE(m,f,c[D],w,!1);else hE(m,f,c,w,!1)}function mf(o,a){if(null!==a){const c=a.type;if(3&c)return cr(a,o);if(4&c)return Jm(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return mf(o,d);{const f=o[a.index];return ar(f)?Jm(-1,f):ai(f)}}if(32&c)return ff(a,o)()||ai(o[a.index]);{const d=Xm(o,a);return null!==d?Array.isArray(d)?d[0]:mf(Ui(o[16]),d):mf(o,a.next)}}return null}function Xm(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Jm(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return mf(d,f)}return a[7]}function zc(o,a,c,d,f,m,v){for(;null!=c;){const w=d[c.index],D=c.type;if(v&&0===a&&(w&&Pr(ai(w),d),c.flags|=4),64!=(64&c.flags))if(8&D)zc(o,a,c.child,d,f,m,!1),cd(a,o,f,w,m);else if(32&D){const S=ff(c,d);let M;for(;M=S();)cd(a,o,f,M,m);cd(a,o,f,w,m)}else 16&D?eg(o,a,d,c,f,m):cd(a,o,f,w,m);c=v?c.projectionNext:c.next}}function Gc(o,a,c,d,f,m){zc(c,d,o.firstChild,a,f,m,!1)}function eg(o,a,c,d,f,m){const v=c[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)cd(a,o,f,D[S],m);else zc(o,a,D,v[3],f,m,!0)}function Bv(o,a,c){o.setAttribute(a,"style",c)}function Uv(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function ng(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}c=f+1}}const ig="ng-template";function pE(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==ng(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function jv(o){return 4===o.type&&o.value!==ig}function mE(o,a,c){return a===(4!==o.type||c?o.value:ig)}function gT(o,a,c){let d=4;const f=o.attrs||[],m=function Wc(o){for(let a=0;a<o.length;a++)if(xh(o[a]))return a;return o.length}(f);let v=!1;for(let w=0;w<a.length;w++){const D=a[w];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!mE(o,D,c)||""===D&&1===a.length){if(ts(d))return!1;v=!0}}else{const S=8&d?D:a[++w];if(8&d&&null!==o.attrs){if(!pE(o.attrs,S,c)){if(ts(d))return!1;v=!0}continue}const U=gE(8&d?"class":D,f,jv(o),c);if(-1===U){if(ts(d))return!1;v=!0;continue}if(""!==S){let Y;Y=U>m?"":f[U+1].toLowerCase();const oe=8&d?Y:null;if(oe&&-1!==ng(oe,S,0)||2&d&&S!==Y){if(ts(d))return!1;v=!0}}}}else{if(!v&&!ts(d)&&!ts(D))return!1;if(v&&ts(D))continue;v=!1,d=D|1&d}}return ts(d)||v}function ts(o){return 0==(1&o)}function gE(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function $v(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function _f(o,a,c=!1){for(let d=0;d<a.length;d++)if(gT(o,a[d],c))return!0;return!1}function _T(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function _E(o,a){return o?":not("+a.trim()+")":a}function yE(o){let a=o[0],c=1,d=2,f="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const w=o[++c];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ts(v)&&(a+=_E(m,f),f=""),d=v,m=m||!ts(d);c++}return""!==f&&(a+=_E(m,f)),a}const zt={};function $o(o){vf(Pt(),Ie(),di()+o,!1)}function vf(o,a,c,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&gc(a,m,c)}else{const m=o.preOrderHooks;null!==m&&Ta(a,m,0,c)}ho(c)}function CE(o,a=null,c=null,d){const f=EE(o,a,c,d);return f.resolveInjectorInitializers(),f}function EE(o,a=null,c=null,d,f=new Set){const m=[c||xt,KA(o)];return d=d||("object"==typeof o?void 0:pe(o)),new eT(m,a||uv(),d||null,f)}let qc=(()=>{class o{static create(c,d){if(Array.isArray(c))return CE({name:""},d,c,"");{const f=c.name??"";return CE({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=gn,o.NULL=new ov,o.\u0275prov=cn({token:o,providedIn:"any",factory:()=>Gn(ZA)}),o.__NG_ELEMENT_ID__=-1,o})();function pd(o,a=tt.Default){const c=Ie();return null===c?Gn(o,a):Wu(qn(),c,Q(o),a)}function TE(){throw new Error("invalid")}function Tf(o,a){return o<<17|a<<2}function Ws(o){return o>>17&32767}function _o(o){return 2|o}function Go(o){return(131068&o)>>2}function lg(o,a){return-131069&o|a<<2}function Kc(o){return 1|o}function kl(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=o.data[m];wh(f),v.contentQueries(2,a[m],m)}}}function Nt(o,a,c,d,f,m,v,w,D,S,M){const U=a.blueprint.slice();return U[0]=f,U[2]=76|d,(null!==M||o&&1024&o[2])&&(U[2]|=1024),Ia(U),U[3]=U[15]=o,U[8]=c,U[10]=v||o&&o[10],U[11]=w||o&&o[11],U[12]=D||o&&o[12]||null,U[9]=S||o&&o[9]||null,U[6]=m,U[20]=function cT(){return KC++}(),U[21]=M,U[16]=2==a.type?o[16]:U,U}function gd(o,a,c,d,f){let m=o.data[a];if(null===m)m=function st(o,a,c,d,f){const m=lo(),v=Vs(),D=o.data[a]=function HE(o,a,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(o,a,c,d,f),function sm(){return Wt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function co(){const o=Wt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return qi(m,!0),m}function me(o,a,c,d){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Ve(o,a,c){Bu(a);try{const d=o.viewQuery;null!==d&&$r(1,d,c);const f=o.template;null!==f&&rb(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kl(o,a),o.staticViewQueries&&$r(2,o.viewQuery,c);const m=o.components;null!==m&&function yt(o,a){for(let c=0;c<a.length;c++)OT(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ml()}}function Ri(o,a,c,d){const f=a[2];if(128!=(128&f)){Bu(a);try{Ia(a),function fc(o){return Wt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&rb(o,a,c,2,d);const v=3==(3&f);if(v){const S=o.preOrderCheckHooks;null!==S&&gc(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Ta(a,S,0,null),Ih(a,0)}if(function kT(o){for(let a=xv(o);null!==a;a=kv(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&Sa(m,1),f[2]|=512}}}(a),function vo(o){for(let a=xv(o);null!==a;a=kv(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];ao(d)&&Ri(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&kl(o,a),v){const S=o.contentCheckHooks;null!==S&&gc(a,S)}else{const S=o.contentHooks;null!==S&&Ta(a,S,1),Ih(a,1)}!function Hi(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ho(~f);else{const m=f,v=c[++d],w=c[++d];om(v,m),w(2,a[m])}}}finally{ho(-1)}}(o,a);const w=o.components;null!==w&&function ib(o,a){for(let c=0;c<a.length;c++)Nf(o,a[c])}(a,w);const D=o.viewQuery;if(null!==D&&$r(2,D,d),v){const S=o.viewCheckHooks;null!==S&&gc(a,S)}else{const S=o.viewHooks;null!==S&&Ta(a,S,2),Ih(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Sa(a[3],-1))}finally{ml()}}}function rb(o,a,c,d,f){const m=di(),v=2&d;try{ho(-1),v&&a.length>22&&vf(o,a,22,!1),c(d,f)}finally{ho(m)}}function LE(o,a,c){if(Zr(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function sb(o,a,c){!Xe()||(function lb(o,a,c,d){const f=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||xa(c,a),Pr(d,a);const v=c.initialInputs;for(let w=f;w<m;w++){const D=o.data[w],S=Br(D);S&&ub(a,c,D);const M=Us(a,o,w,c);Pr(M,a),null!==v&&Ol(0,w-f,M,D,0,v),S&&(Mn(c.index,a)[8]=M)}}(o,a,c,cr(c,a)),128==(128&c.flags)&&function eu(o,a,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function TC(){return Wt.lFrame.currentDirectiveIndex}();try{ho(m);for(let w=d;w<f;w++){const D=o.data[w],S=a[w];Vu(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$E(D,S)}}finally{ho(-1),Vu(v)}}(o,a,c))}function ob(o,a,c=cr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?c(a,o):o[v];o[f++]=w}}}function VE(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ab(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function ab(o,a,c,d,f,m,v,w,D,S){const M=22+d,U=M+f,Y=function BE(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:zt);return c}(M,U),oe="function"==typeof S?S():S;return Y[1]={type:o,blueprint:Y,template:c,queries:null,viewQuery:w,declTNode:a,data:Y.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:oe,incompleteFirstPass:!1}}function UE(o,a,c,d){const f=Rl(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&hb(o).push(d,f.length-1))}function Xt(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function Jc(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,v=[];let w=null,D=null;for(let S=a.directiveStart;S<d;S++){const M=f[S],U=M.inputs,Y=null===m||jv(a)?null:db(U,m);v.push(Y),w=Xt(U,S,w),D=Xt(M.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=D}function En(o,a,c,d,f,m,v,w){const D=cr(a,c);let M,S=a.inputs;!w&&null!=S&&(M=S[d])?(hr(o,c,M,d,f),gs(a)&&Bt(c,a.index)):3&a.type&&(d=function jE(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(D,d,f))}function Bt(o,a){const c=Mn(a,o);16&c[2]||(c[2]|=32)}function Ii(o,a,c,d){let f=!1;if(Xe()){const m=function gg(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];_f(c,v.selectors,!1)&&(f||(f=[]),bc(xa(c,a),o,v.type),Br(v)?(zE(o,c),f.unshift(v)):f.push(v))}return f}(o,a,c),v=null===d?null:{"":-1};if(null!==m){f=!0,cb(c,o.data.length,m.length);for(let M=0;M<m.length;M++){const U=m[M];U.providersResolver&&U.providersResolver(U)}let w=!1,D=!1,S=me(o,a,m.length,null);for(let M=0;M<m.length;M++){const U=m[M];c.mergedAttrs=yc(c.mergedAttrs,U.hostAttrs),cs(o,c,a,S,U),GE(S,U,v),null!==U.contentQueries&&(c.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(c.flags|=128);const Y=U.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!D&&(Y.ngOnChanges||Y.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),S++}Jc(o,c)}v&&function Ff(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new Ae(-301,!1);d.push(a[f],m)}}}(c,d,v)}return c.mergedAttrs=yc(c.mergedAttrs,c.attrs),f}function nt(o,a,c,d,f,m){const v=m.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~a.index;(function mg(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=D&&w.push(D),w.push(d,f,v)}}function $E(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function zE(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function GE(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Br(a)&&(c[""]=o)}}function cb(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function cs(o,a,c,d,f){o.data[d]=f;const m=f.factory||(f.factory=Gi(f.type)),v=new os(m,Br(f),pd);o.blueprint[d]=v,c[d]=v,nt(o,a,0,d,me(o,c,f.hostVars,zt),f)}function ub(o,a,c){const d=cr(a,o),f=VE(c),m=o[10],v=Lf(o,Nt(o,f,null,c.onPush?32:16,d,a,m,m.createRenderer(d,c),null,null,null));o[a.index]=v}function yo(o,a,c,d,f,m){const v=cr(o,a);!function _g(o,a,c,d,f,m,v){if(null==m)o.removeAttribute(a,f,c);else{const w=null==v?be(m):v(m,d||"",f);o.setAttribute(a,f,w,c)}}(a[11],v,m,o.value,c,d,f)}function Ol(o,a,c,d,f,m){const v=m[a];if(null!==v){const w=d.setInput;for(let D=0;D<v.length;){const S=v[D++],M=v[D++],U=v[D++];null!==w?d.setInput(c,U,S,M):c[M]=U}}}function db(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function Pf(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function Nf(o,a){const c=Mn(a,o);if(ao(c)){const d=c[1];48&c[2]?Ri(d,c,d.template,c[8]):c[5]>0&&qo(c)}}function qo(o){for(let d=xv(o);null!==d;d=kv(d))for(let f=10;f<d.length;f++){const m=d[f];if(ao(m))if(512&m[2]){const v=m[1];Ri(v,m,v.template,m[8])}else m[5]>0&&qo(m)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Mn(c[d],o);ao(f)&&f[5]>0&&qo(f)}}function OT(o,a){const c=Mn(a,o),d=c[1];(function tu(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Ve(d,c,c[8])}function Lf(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Vf(o){for(;o;){o[2]|=32;const a=Ui(o);if(cl(o)&&!a)return o;o=a}return null}function yg(o,a,c,d=!0){const f=a[10];f.begin&&f.begin();try{Ri(o,a,o.template,c)}catch(v){throw d&&Bf(a,v),v}finally{f.end&&f.end()}}function $r(o,a,c){wh(0),a(o,c)}function Rl(o){return o[7]||(o[7]=[])}function hb(o){return o.cleanup||(o.cleanup=[])}function Ti(o,a,c){return(null===o||Br(o))&&(c=function Nu(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function Bf(o,a){const c=o[9],d=c?c.get(od,null):null;d&&d.handleError(a)}function hr(o,a,c,d,f){for(let m=0;m<c.length;){const v=c[m++],w=c[m++],D=a[v],S=o.data[v];null!==S.setInput?S.setInput(D,f,d,w):D[w]=f}}function Uf(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:1==m?f=ye(f,w):2==m&&(d=ye(d,w+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Wa(o,a,c,d,f=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(ai(m)),ar(m))for(let w=10;w<m.length;w++){const D=m[w],S=D[1].firstChild;null!==S&&Wa(D[1],D,S,d)}const v=c.type;if(8&v)Wa(o,a,c.child,d);else if(32&v){const w=ff(c,a);let D;for(;D=w();)d.push(D)}else if(16&v){const w=Xm(a,c);if(Array.isArray(w))d.push(...w);else{const D=Ui(a[16]);Wa(D[1],D,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Nr{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Wa(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ar(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Uc(a,d),qe(c,d))}this._attachedToViewContainer=!1}Pv(this._lView[1],this._lView)}onDestroy(a){UE(this._lView[1],this._lView,null,a)}markForCheck(){Vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ym(o,a){Gc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=a}}class FT extends Nr{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;yg(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class ji extends sf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=A(a);return new bo(c,this.ngModule)}}function WE(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Fi{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,Zt,d);return f!==Zt||c===Zt?f:this.parentInjector.get(a,c,d)}}class bo extends hv{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function vE(o){return o.map(yE).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return WE(this.componentDef.inputs)}get outputs(){return WE(this.componentDef.outputs)}create(a,c,d,f){let m=(f=f||this.ngModule)instanceof id?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Fi(a,m):a,w=v.get(iT,null);if(null===w)throw new Ae(407,!1);const D=v.get(za,null),S=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=d?function ER(o,a,c){return o.selectRootElement(a,c===ht.ShadowDom)}(S,d,this.componentDef.encapsulation):pf(w.createRenderer(null,this.componentDef),M,function Fl(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),Y=this.componentDef.onPush?288:272,oe=ab(0,null,null,1,0,null,null,null,null,null),Me=Nt(null,oe,null,Y,null,null,w,S,D,v,null);let $e,it;Bu(Me);try{const vt=function Pl(o,a,c,d,f,m){const v=c[1];c[22]=o;const D=gd(v,22,2,"#host",null),S=D.mergedAttrs=a.hostAttrs;null!==S&&(Uf(D,S,!0),null!==o&&(fo(f,o,S),null!==D.classes&&Uv(f,o,D.classes),null!==D.styles&&Bv(f,o,D.styles)));const M=d.createRenderer(o,a),U=Nt(c,VE(a),null,a.onPush?32:16,c[22],D,d,M,m||null,null,null);return v.firstCreatePass&&(bc(xa(D,c),v,a.type),zE(v,D),cb(D,c.length,1)),Lf(c,U),c[22]=U}(U,this.componentDef,Me,w,S);if(U)if(d)fo(S,U,["ng-version",Lm.full]);else{const{attrs:Ot,classes:Le}=function yT(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&c.push(m);else{if(!ts(f))break;f=m}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ot&&fo(S,U,Ot),Le&&Le.length>0&&Uv(S,U,Le.join(" "))}if(it=Da(oe,22),void 0!==c){const Ot=it.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const Gt=c[Le];Ot.push(null!=Gt?Array.from(Gt):null)}}$e=function jf(o,a,c,d){const f=c[1],m=function xT(o,a,c){const d=qn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),cs(o,d,a,me(o,a,1,null),c),Jc(o,d));const f=Us(a,o,d.directiveStart,d);Pr(f,a);const m=cr(d,a);return m&&Pr(m,a),f}(f,c,a);if(o[8]=c[8]=m,null!==d)for(const w of d)w(m,a);if(a.contentQueries){const w=qn();a.contentQueries(1,m,w.directiveStart)}const v=qn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ho(v.index),nt(c[1],v,0,v.directiveStart,v.directiveEnd,a),$E(a,m)),m}(vt,this.componentDef,Me,[$f]),Ve(oe,Me,null)}finally{ml()}return new Hf(this.componentType,$e,Ci(it,Me),Me,it)}}class Hf extends class tf{}{constructor(a,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new FT(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;hr(m[1],m,f,a,c),Bt(m,this._tNode.index)}}get injector(){return new Ec(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function $f(){const o=qn();mc(Ie()[1],o)}function Yo(o){let a=function pb(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(Br(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ae(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=qa(o.inputs),v.declaredInputs=qa(o.declaredInputs),v.outputs=qa(o.outputs);const w=f.hostBindings;w&&Nl(o,w);const D=f.viewQuery,S=f.contentQueries;if(D&&Zo(o,D),S&&zf(o,S),ne(o.inputs,f.inputs),ne(o.declaredInputs,f.declaredInputs),ne(o.outputs,f.outputs),Br(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(o),w===Yo&&(c=!1)}}a=Object.getPrototypeOf(a)}!function vg(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=yc(f.hostAttrs,c=yc(c,f.hostAttrs))}}(d)}function qa(o){return o===bi?{}:o===xt?[]:o}function Zo(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function zf(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,m)=>{a(d,f,m),c(d,f,m)}:a}function Nl(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Ko=null;function Ya(){if(!Ko){const o=mt.Symbol;if(o&&o.iterator)Ko=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ko=d)}}}return Ko}function yd(o){return!!nu(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ya()in o)}function nu(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Qo(o,a,c){return o[a]=c}function Lr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Jn(o,a,c,d){const f=Ie();return Lr(f,pc(),a)&&(Pt(),yo(hi(),f,o,a,c,d)),Jn}function iu(o,a,c,d){return Lr(o,pc(),c)?a+be(c)+d:zt}function iD(o,a,c,d,f,m,v,w){const D=Ie(),S=Pt(),M=o+22,U=S.firstCreatePass?function wd(o,a,c,d,f,m,v,w,D){const S=a.consts,M=gd(a,o,4,v||null,Kr(S,w));Ii(a,c,M,Kr(S,D)),mc(a,M);const U=M.tViews=ab(2,M,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,M),U.queries=a.queries.embeddedTView(M)),M}(M,S,D,a,c,d,f,m,v):S.data[M];qi(U,!1);const Y=D[11].createComment("");$c(S,D,Y,U),Pr(Y,D),Lf(D,D[M]=Pf(Y,D,Y,U)),no(U)&&sb(S,D,U),null!=v&&ob(D,U,w)}function _b(o){return vr(function uo(){return Wt.lFrame.contextLView}(),22+o)}function wo(o,a,c){const d=Ie();return Lr(d,pc(),a)&&En(Pt(),hi(),d,o,a,d[11],c,!1),wo}function Cg(o,a,c,d,f){const v=f?"class":"style";hr(o,c,a.inputs[v],v,d)}function Wf(o,a,c,d){const f=Ie(),m=Pt(),v=22+o,w=f[11],D=f[v]=pf(w,a,function Dh(){return Wt.lFrame.currentNamespace}()),S=m.firstCreatePass?function Cd(o,a,c,d,f,m,v){const w=a.consts,S=gd(a,o,2,f,Kr(w,m));return Ii(a,c,S,Kr(w,v)),null!==S.attrs&&Uf(S,S.attrs,!1),null!==S.mergedAttrs&&Uf(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(v,m,f,0,a,c,d):m.data[v];qi(S,!0);const M=S.mergedAttrs;null!==M&&fo(w,D,M);const U=S.classes;null!==U&&Uv(w,D,U);const Y=S.styles;return null!==Y&&Bv(w,D,Y),64!=(64&S.flags)&&$c(m,f,D,S),0===function Z(){return Wt.lFrame.elementDepthCount}()&&Pr(D,f),function fe(){Wt.lFrame.elementDepthCount++}(),no(S)&&(sb(m,f,S),LE(m,S,f)),null!==d&&ob(f,S),Wf}function Ed(){let o=qn();Vs()?pl():(o=o.parent,qi(o,!1));const a=o;!function Ue(){Wt.lFrame.elementDepthCount--}();const c=Pt();return c.firstCreatePass&&(mc(c,o),Zr(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Hu(o){return 0!=(16&o.flags)}(a)&&Cg(c,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ju(o){return 0!=(32&o.flags)}(a)&&Cg(c,a,Ie(),a.stylesWithoutHost,!1),Ed}function qf(o,a,c,d){return Wf(o,a,c,d),Ed(),qf}function Qa(o,a,c){const d=Ie(),f=Pt(),m=o+22,v=f.firstCreatePass?function yb(o,a,c,d,f){const m=a.consts,v=Kr(m,d),w=gd(a,o,8,"ng-container",v);return null!==v&&Uf(w,v,!0),Ii(a,c,w,Kr(m,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,f,d,a,c):f.data[m];qi(v,!0);const w=d[m]=d[11].createComment("");return $c(f,d,w,v),Pr(w,d),no(v)&&(sb(f,d,v),LE(f,v,d)),null!=c&&ob(d,v),Qa}function Sr(){let o=qn();const a=Pt();return Vs()?pl():(o=o.parent,qi(o,!1)),a.firstCreatePass&&(mc(a,o),Zr(o)&&a.queries.elementEnd(o)),Sr}function Dd(){return Ie()}function Eg(o){return!!o&&"function"==typeof o.then}function Dg(o){return!!o&&"function"==typeof o.subscribe}const Ig=Dg;function Sg(o,a,c,d){const f=Ie(),m=Pt(),v=qn();return vb(m,f,f[11],v,o,a,0,d),Sg}function Ag(o,a){const c=qn(),d=Ie(),f=Pt();return vb(f,d,Ti(vh(f.data),c,d),c,o,a),Ag}function vb(o,a,c,d,f,m,v,w){const D=no(d),M=o.firstCreatePass&&hb(o),U=a[8],Y=Rl(a);let oe=!0;if(3&d.type||w){const it=cr(d,a),vt=w?w(it):it,Ot=Y.length,Le=w?Pn=>w(ai(Pn[d.index])):d.index;let Gt=null;if(!w&&D&&(Gt=function NT(o,a,c,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const w=a[7],D=f[m+2];return w.length>D?w[D]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,d.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=m,Gt.__ngLastListenerFn__=m,oe=!1;else{m=wb(d,a,U,m,!1);const Pn=c.listen(vt,f,m);Y.push(m,Pn),M&&M.push(f,Le,Ot,Ot+1)}}else m=wb(d,a,U,m,!1);const Me=d.outputs;let $e;if(oe&&null!==Me&&($e=Me[f])){const it=$e.length;if(it)for(let vt=0;vt<it;vt+=2){const mi=a[$e[vt]][$e[vt+1]].subscribe(m),wu=Y.length;Y.push(m,mi),M&&M.push(f,d.index,wu,-(wu+1))}}}function bb(o,a,c,d){try{return!1!==c(d)}catch(f){return Bf(o,f),!1}}function wb(o,a,c,d,f){return function m(v){if(v===Function)return d;Vf(2&o.flags?Mn(o.index,a):a);let D=bb(a,0,d,v),S=m.__ngNextListenerFn__;for(;S;)D=bb(a,0,S,v)&&D,S=S.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Zf(o=1){return function Aa(o){return(Wt.lFrame.contextLView=function My(o,a){for(;o>0;)a=a[15],o--;return a}(o,Wt.lFrame.contextLView))[8]}(o)}function LT(o,a){let c=null;const d=function yf(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?_f(o,m,!0):_T(d,m))return f}else c=f}return c}function sD(o){const a=Ie()[16][6];if(!a.projection){const d=a.projection=ws(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=o?LT(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function Cb(o,a=0,c){const d=Ie(),f=Pt(),m=gd(f,22+o,16,null,c||null);null===m.projection&&(m.projection=a),pl(),64!=(64&m.flags)&&function Vv(o,a,c){eg(a[11],0,a,c,cE(o,c,a),ud(c.parent||a[6],c,a))}(f,d,m)}function Jo(o,a,c,d,f){const m=Ie(),v=iu(m,a,c,d);return v!==zt&&En(Pt(),hi(),m,o,v,m[11],f,!1),Jo}function Kf(o,a,c,d,f){const m=o[c+1],v=null===a;let w=d?Ws(m):Go(m),D=!1;for(;0!==w&&(!1===D||v);){const M=o[w+1];aD(o[w],a)&&(D=!0,o[w+1]=d?Kc(M):_o(M)),w=d?Ws(M):Go(M)}D&&(o[c+1]=d?_o(m):Kc(m))}function aD(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ei(o,a)>=0}const fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sd(o){return o.substring(fr.key,fr.keyEnd)}function lu(o,a){const c=fr.textEnd;return c===a?-1:(a=fr.keyEnd=function Ad(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,fr.key=a,c),cu(o,a,c))}function cu(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Mg(o,a,c){return Zs(o,a,c,!1),Mg}function ea(o,a){return Zs(o,a,null,!0),ea}function ds(o,a){for(let c=function lD(o){return function Tb(o){fr.key=0,fr.keyEnd=0,fr.value=0,fr.valueEnd=0,fr.textEnd=o.length}(o),lu(o,cu(o,0,fr.textEnd))}(a);c>=0;c=lu(a,c))fn(o,Sd(a),!0)}function Zs(o,a,c,d){const f=Ie(),m=Pt(),v=Fo(2);m.firstUpdatePass&&Td(m,o,v,d),a!==zt&&Lr(f,v,a)&&kb(m,m.data[di()],f,f[11],o,f[v+1]=function hD(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=pe(zs(o)))),o}(a,c),d,v)}function xb(o,a){return a>=o.expandoStartIndex}function Td(o,a,c,d){const f=o.data;if(null===f[c+1]){const m=f[di()],v=xb(o,c);Rb(m,d)&&null===a&&!v&&(a=!1),a=function UT(o,a,c,d){const f=vh(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Ja(c=Md(null,o,a,c,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=Md(f,o,a,c,d),null===m){let D=function HT(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Go(d))return o[Ws(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=Md(null,o,a,D[1],d),D=Ja(D,a.attrs,d),function an(o,a,c,d){o[Ws(c?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else m=function jT(o,a,c){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Ja(d,o[m].hostAttrs,c);return Ja(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,d),function Si(o,a,c,d,f,m){let v=m?a.classBindings:a.styleBindings,w=Ws(v),D=Go(v);o[d]=c;let M,S=!1;if(Array.isArray(c)){const U=c;M=U[1],(null===M||ei(U,M)>0)&&(S=!0)}else M=c;if(f)if(0!==D){const Y=Ws(o[w+1]);o[d+1]=Tf(Y,w),0!==Y&&(o[Y+1]=lg(o[Y+1],d)),o[w+1]=function ME(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Tf(w,0),0!==w&&(o[w+1]=lg(o[w+1],d)),w=d;else o[d+1]=Tf(D,0),0===w?w=d:o[D+1]=lg(o[D+1],d),D=d;S&&(o[d+1]=_o(o[d+1])),Kf(o,M,d,!0),Kf(o,M,d,!1),function Tg(o,a,c,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ei(m,a)>=0&&(c[d+1]=Kc(c[d+1]))}(a,M,o,d,m),v=Tf(w,D),m?a.classBindings=v:a.styleBindings=v}(f,m,a,c,v,d)}}function Md(o,a,c,d,f){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=a[w],d=Ja(d,m.hostAttrs,f),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Ja(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),fn(o,v,!!c||a[++m]))}return void 0===o?null:o}function kb(o,a,c,d,f,m,v,w){if(!(3&a.type))return;const D=o.data,S=D[w+1];xg(function cg(o){return 1==(1&o)}(S)?Ob(D,a,c,f,Go(S),v):void 0)||(xg(m)||function Mf(o){return 2==(2&o)}(S)&&(m=Ob(D,null,c,f,w,v)),function gf(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:go.DashCase;null==f?o.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=go.Important),o.setStyle(c,d,f,m))}}(d,v,ss(di(),c),f,m))}function Ob(o,a,c,d,f,m){const v=null===a;let w;for(;f>0;){const D=o[f],S=Array.isArray(D),M=S?D[1]:D,U=null===M;let Y=c[f+1];Y===zt&&(Y=U?xt:void 0);let oe=U?Ke(Y,d):M===d?Y:void 0;if(S&&!xg(oe)&&(oe=Ke(D,d)),xg(oe)&&(w=oe,v))return w;const Me=o[f+1];f=v?Ws(Me):Go(Me)}if(null!==a){let D=m?a.residualClasses:a.residualStyles;null!=D&&(w=Ke(D,d))}return w}function xg(o){return void 0!==o}function Rb(o,a){return 0!=(o.flags&(a?16:32))}function fD(o,a=""){const c=Ie(),d=Pt(),f=o+22,m=d.firstCreatePass?gd(d,f,1,a,null):d.data[f],v=c[f]=function Wm(o,a){return o.createText(a)}(c[11],a);$c(d,c,v,m),qi(m,!1)}function Fb(o){return kg("",o,""),Fb}function kg(o,a,c){const d=Ie(),f=iu(d,o,a,c);return f!==zt&&function Dn(o,a,c){const d=ss(a,o);!function qm(o,a,c){o.setValue(a,c)}(o[11],d,c)}(d,di(),f),kg}function Rg(o,a,c){!function Xi(o,a,c,d){const f=Pt(),m=Fo(2);f.firstUpdatePass&&Td(f,null,m,d);const v=Ie();if(c!==zt&&Lr(v,m,c)){const w=f.data[di()];if(Rb(w,d)&&!xb(f,m)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(c=ye(D,c||"")),Cg(f,w,v,c,d)}else!function dD(o,a,c,d,f,m,v,w){f===zt&&(f=xt);let D=0,S=0,M=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==M||null!==U;){const Y=D<f.length?f[D+1]:void 0,oe=S<m.length?m[S+1]:void 0;let $e,Me=null;M===U?(D+=2,S+=2,Y!==oe&&(Me=U,$e=oe)):null===U||null!==M&&M<U?(D+=2,Me=M):(S+=2,Me=U,$e=oe),null!==Me&&kb(o,a,c,d,Me,$e,v,w),M=D<f.length?f[D]:null,U=S<m.length?m[S]:null}}(f,w,v,v[11],v[m+1],v[m+1]=function Qf(o,a,c){if(null==c||""===c)return xt;const d=[],f=zs(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,m)}}(fn,ds,iu(Ie(),o,a,c),!0)}function Ks(o,a,c){const d=Ie();return Lr(d,pc(),a)&&En(Pt(),hi(),d,o,a,d[11],c,!0),Ks}function Fg(o,a,c){const d=Ie();if(Lr(d,pc(),a)){const m=Pt(),v=hi();En(m,v,d,o,a,Ti(vh(m.data),v,d),c,!0)}return Fg}const na=void 0;var ZT=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SD(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Od={};function Hb(o){const a=function KT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=TD(a);if(c)return c;const d=a.split("-")[0];if(c=TD(d),c)return c;if("en"===d)return ZT;throw new Ae(701,!1)}function AD(o){return Hb(o)[Vt.PluralCase]}function TD(o){return o in Od||(Od[o]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[o]),Od[o]}var Vt=(()=>((Vt=Vt||{})[Vt.LocaleId=0]="LocaleId",Vt[Vt.DayPeriodsFormat=1]="DayPeriodsFormat",Vt[Vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vt[Vt.DaysFormat=3]="DaysFormat",Vt[Vt.DaysStandalone=4]="DaysStandalone",Vt[Vt.MonthsFormat=5]="MonthsFormat",Vt[Vt.MonthsStandalone=6]="MonthsStandalone",Vt[Vt.Eras=7]="Eras",Vt[Vt.FirstDayOfWeek=8]="FirstDayOfWeek",Vt[Vt.WeekendRange=9]="WeekendRange",Vt[Vt.DateFormat=10]="DateFormat",Vt[Vt.TimeFormat=11]="TimeFormat",Vt[Vt.DateTimeFormat=12]="DateTimeFormat",Vt[Vt.NumberSymbols=13]="NumberSymbols",Vt[Vt.NumberFormats=14]="NumberFormats",Vt[Vt.CurrencyCode=15]="CurrencyCode",Vt[Vt.CurrencySymbol=16]="CurrencySymbol",Vt[Vt.CurrencyName=17]="CurrencyName",Vt[Vt.Currencies=18]="Currencies",Vt[Vt.Directionality=19]="Directionality",Vt[Vt.PluralCase=20]="PluralCase",Vt[Vt.ExtraData=21]="ExtraData",Vt))();const Rd="en-US";let jb=Rd;function t0(o,a,c,d,f){if(o=Q(o),Array.isArray(o))for(let m=0;m<o.length;m++)t0(o[m],a,c,d,f);else{const m=Pt(),v=Ie();let w=Lc(o)?o:Q(o.provide),D=dv(o);const S=qn(),M=1048575&S.providerIndexes,U=S.directiveStart,Y=S.providerIndexes>>20;if(Lc(o)||!o.multi){const oe=new os(D,f,pd),Me=s0(w,a,f?M:M+Y,U);-1===Me?(bc(xa(S,v),m,w),n0(m,o,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(oe),v.push(oe)):(c[Me]=oe,v[Me]=oe)}else{const oe=s0(w,a,M+Y,U),Me=s0(w,a,M,M+Y),$e=oe>=0&&c[oe],it=Me>=0&&c[Me];if(f&&!it||!f&&!$e){bc(xa(S,v),m,w);const vt=function o0(o,a,c,d,f){const m=new os(o,c,pd);return m.multi=[],m.index=a,m.componentProviders=0,r0(m,f,d&&!c),m}(f?_M:qg,c.length,f,d,D);!f&&it&&(c[Me].providerFactory=vt),n0(m,o,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(vt),v.push(vt)}else n0(m,o,oe>-1?oe:Me,r0(c[f?Me:oe],D,!f&&d));!f&&d&&it&&c[Me].componentProviders++}}}function n0(o,a,c,d){const f=Lc(a),m=function XA(o){return!!o.useClass}(a);if(f||m){const D=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(D){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=S.indexOf(c);-1===M?S.push(c,[d,D]):S[M+1].push(d,D)}else S.push(c,D)}}}function r0(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function s0(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function qg(o,a,c,d){return Yg(this.multi,[])}function _M(o,a,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Us(c,c[1],this.providerFactory.index,d);m=w.slice(0,v),Yg(f,m);for(let D=v;D<w.length;D++)m.push(w[D])}else m=[],Yg(f,m);return m}function Yg(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Zg(o,a=[]){return c=>{c.providersResolver=(d,f)=>function gM(o,a,c){const d=Pt();if(d.firstCreatePass){const f=Br(o);t0(c,d.data,d.blueprint,f,!0),t0(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class ra{}class lp{}function a0(o,a){return new l0(o,a??null)}class l0 extends ra{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ji(this);const d=Ne(a);this._bootstrapComponents=mo(d.bootstrap),this._r3Injector=EE(a,c,[{provide:ra,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class c0 extends lp{constructor(a){super(),this.moduleType=a}create(a){return new l0(this.moduleType,a)}}class zD extends ra{constructor(a,c,d){super(),this.componentFactoryResolver=new ji(this),this.instance=null;const f=new eT([...a,{provide:ra,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],c||uv(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Kg(o,a,c=null){return new zD(o,a,c).injector}let u0=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=av(0,c.type),f=d.length>0?Kg([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=cn({token:o,providedIn:"environment",factory:()=>new o(Gn(id))}),o})();function GD(o){o.getStandaloneInjector=a=>a.get(u0).getOrCreateStandaloneInjector(o)}function cp(o,a,c){const d=wi()+o,f=Ie();return f[d]===zt?Qo(f,d,c?a.call(c):a()):function Gf(o,a){return o[a]}(f,d)}function dp(o,a){const c=o[a];return c===zt?void 0:c}function v0(o,a,c,d,f,m,v){const w=a+c;return function Ll(o,a,c,d){const f=Lr(o,a,c);return Lr(o,a+1,d)||f}(o,w,f,m)?Qo(o,w+2,v?d.call(v,f,m):d(f,m)):dp(o,w+2)}function b0(o,a){const c=Pt();let d;const f=o+22;c.firstCreatePass?(d=function EM(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=Gi(d.type)),v=bn(pd);try{const w=$u(!1),D=m();return $u(w),function rD(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Ie(),f,D),D}finally{bn(v)}}function tI(o,a,c){const d=o+22,f=Ie(),m=vr(f,d);return tl(f,d)?function eI(o,a,c,d,f,m){const v=a+c;return Lr(o,v,f)?Qo(o,v+1,m?d.call(m,f):d(f)):dp(o,v+1)}(f,wi(),a,m.transform,c,m):m.transform(c)}function nI(o,a,c,d){const f=o+22,m=Ie(),v=vr(m,f);return tl(m,f)?v0(m,wi(),a,v.transform,c,d,v):v.transform(c,d)}function tl(o,a){return o[1].data[a].pure}function Wl(o){return a=>{setTimeout(o,void 0,a)}}const Qs=class C0 extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,m=c||(()=>null),v=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=Wl(m),f&&(f=Wl(f)),v&&(v=Wl(v)));const w=super.subscribe({next:f,error:m,complete:v});return a instanceof j.w0&&a.add(w),w}};function t_(){return this._results[Ya()]()}class ql{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ya(),d=ql.prototype;d[c]||(d[c]=t_)}get changes(){return this._changes||(this._changes=new Qs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Zi(a);(this._changesDetected=!function Vo(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _u=(()=>{class o{}return o.__NG_ELEMENT_ID__=D0,o})();const iI=_u,E0=class extends iI{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=Nt(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Ve(d,f,a),new Nr(f)}};function D0(){return Xs(qn(),Ie())}function Xs(o,a){return 4&o.type?new E0(a,o,Ci(o,a)):null}let fp=(()=>{class o{}return o.__NG_ELEMENT_ID__=SM,o})();function SM(){return i_(qn(),Ie())}const I0=fp,rI=class extends I0{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Ci(this._hostTNode,this._hostLView)}get injector(){return new Ec(this._hostTNode,this._hostLView)}get parentInjector(){const a=vc(this._hostTNode,this._hostLView);if(Py(a)){const c=Po(a,this._hostLView),d=Ma(a);return new Ec(c[1].data[d+8],c)}return new Ec(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=n_(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=a.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(a,c,d,f,m){const v=a&&!function hn(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const U=c||{};w=U.index,d=U.injector,f=U.projectableNodes,m=U.environmentInjector||U.ngModuleRef}const D=v?a:new bo(A(a)),S=d||this.parentInjector;if(!m&&null==D.ngModule){const Y=(v?S:this.parentInjector).get(id,null);Y&&(m=Y)}const M=D.create(S,f,void 0,m);return this.insert(M.hostView,w),M}insert(a,c){const d=a._lView,f=d[1];if(function rm(o){return ar(o[3])}(d)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const U=d[3],Y=new rI(U,U[6],U[3]);Y.detach(Y.indexOf(a))}}const m=this._adjustIndex(c),v=this._lContainer;!function Fv(o,a,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=a),d<m-10?(a[4]=c[f],Ai(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function oE(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=64}(f,d,v,m);const w=Jm(m,v),D=d[11],S=jc(D,v[7]);return null!==S&&function pT(o,a,c,d,f,m){d[0]=f,d[6]=a,Gc(o,d,c,1,f,m)}(f,v[6],D,d,S,w),a.attachToViewContainerRef(),Ai(S0(v),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=n_(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Uc(this._lContainer,c);d&&(qe(S0(this._lContainer),c),Pv(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Uc(this._lContainer,c);return d&&null!=qe(S0(this._lContainer),c)?new Nr(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function n_(o){return o[8]}function S0(o){return o[8]||(o[8]=[])}function i_(o,a){let c;const d=a[o.index];if(ar(d))c=d;else{let f;if(8&o.type)f=ai(d);else{const m=a[11];f=m.createComment("");const v=cr(o,a);Gs(m,jc(m,v),f,function fE(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=c=Pf(d,a,f,o),Lf(a,c)}return new rI(c,o,a)}class Yl{constructor(a){this.queryList=a,this.matches=null}clone(){return new Yl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new pp(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==nl(a,c).matches&&this.queries[c].setDirty()}}class sI{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class T0{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new T0(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class s_{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new s_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,c,oI(c,m)),this.matchTNodeWithReadOption(a,c,Cc(c,a,m,!1,!1))}else d===_u?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Cc(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Sl||f===fp||f===_u&&4&c.type)this.addMatch(c.index,-2);else{const m=Cc(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function oI(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function M0(o,a,c,d){return-1===c?function TM(o,a){return 11&o.type?Ci(o,a):4&o.type?Xs(o,a):null}(a,o):-2===c?function MM(o,a,c){return c===Sl?Ci(a,o):c===_u?Xs(a,o):c===fp?i_(a,o):void 0}(o,a,d):Us(o,o[1],c,a)}function o_(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,v=c.matches,w=[];for(let D=0;D<v.length;D+=2){const S=v[D];w.push(S<0?null:M0(a,m[S],v[D+1],c.metadata.read))}f.matches=w}return f.matches}function x0(o,a,c,d){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const v=o_(o,a,f,c);for(let w=0;w<m.length;w+=2){const D=m[w];if(D>0)d.push(v[w/2]);else{const S=m[w+1],M=a[-D];for(let U=10;U<M.length;U++){const Y=M[U];Y[17]===Y[3]&&x0(Y[1],Y,S,d)}if(null!==M[9]){const U=M[9];for(let Y=0;Y<U.length;Y++){const oe=U[Y];x0(oe[1],oe,S,d)}}}}}return d}function a_(o){const a=Ie(),c=Pt(),d=bh();wh(d+1);const f=nl(c,d);if(o.dirty&&function oo(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?x0(c,a,d,[]):o_(c,a,f,d);o.reset(m,nT),o.notifyOnChanges()}return!0}return!1}function aI(o,a,c){const d=Pt();d.firstCreatePass&&(u_(d,new sI(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),c_(d,Ie(),a)}function l_(o,a,c,d){const f=Pt();if(f.firstCreatePass){const m=qn();u_(f,new sI(a,c,d),m.index),function $d(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}c_(f,Ie(),c)}function k0(){return function O0(o,a){return o[19].queries[a].queryList}(Ie(),bh())}function c_(o,a,c){const d=new ql(4==(4&c));UE(o,a,d,d.destroy),null===a[19]&&(a[19]=new pp),a[19].queries.push(new Yl(d))}function u_(o,a,c){null===o.queries&&(o.queries=new T0),o.queries.track(new s_(a,c))}function nl(o,a){return o.queries.getByIndex(a)}function d_(o,a){return Xs(o,a)}function Gd(...o){}const E_=new Xn("Application Initializer");let gp=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Gd,this.reject=Gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Eg(m))c.push(m);else if(Ig(m)){const v=new Promise((w,D)=>{m.subscribe({complete:w,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Gn(E_,8))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const D_=new Xn("AppId",{providedIn:"root",factory:function W0(){return`${q0()}${q0()}${q0()}`}});function q0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const I_=new Xn("Platform Initializer"),LM=new Xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),S_=new Xn("appBootstrapListener"),Y0=new Xn("AnimationModuleType");let VM=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const _p=new Xn("LocaleId",{providedIn:"root",factory:()=>Lh(_p,tt.Optional|tt.SkipSelf)||function CI(){return typeof $localize<"u"&&$localize.locale||Rd}()}),BM=new Xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class II{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let SI=(()=>{class o{compileModuleSync(c){return new c0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=mo(Ne(c).declarations).reduce((v,w)=>{const D=A(w);return D&&v.push(new bo(D)),v},[]);return new II(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pi=(()=>Promise.resolve(0))();function Tr(o){typeof Zone>"u"?pi.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Is{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qs(!1),this.onMicrotaskEmpty=new Qs(!1),this.onStable=new Qs(!1),this.onError=new Qs(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function sa(){let o=mt.requestAnimationFrame,a=mt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Q0(o){const a=()=>{!function TI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,M_(o),o.isCheckStableRunning=!0,Wd(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),M_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,w)=>{try{return yp(o),c.invokeTask(f,m,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),MI(o)}},onInvoke:(c,d,f,m,v,w,D)=>{try{return yp(o),c.invoke(f,m,v,w,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),MI(o)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,M_(o),Wd(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new Ae(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,HM,Gd,Gd);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const HM={};function Wd(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function M_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function yp(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function MI(o){o._nesting--,Wd(o)}class jR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qs,this.onMicrotaskEmpty=new Qs,this.onStable=new Qs,this.onError=new Qs}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const xI=new Xn(""),kI=new Xn("");let x_,jM=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,x_||(function $M(o){x_=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),Tr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tr(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Gn(Is),Gn(OI),Gn(kI))},o.\u0275prov=cn({token:o,factory:o.\u0275fac}),o})(),OI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return x_?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),oa=null;const X0=new Xn("AllowMultipleToken"),vp=new Xn("PlatformDestroyListeners");class RI{constructor(a,c){this.name=a,this.token=c}}function bu(o,a,c=[]){const d=`Platform: ${a}`,f=new Xn(d);return(m=[])=>{let v=rw();if(!v||v.injector.get(X0,!1)){const w=[...c,...m,{provide:f,useValue:!0}];o?o(w):function k_(o){if(oa&&!oa.get(X0,!1))throw new Ae(400,!1);oa=o;const a=o.get(sw);(function O_(o){const a=o.get(I_,null);a&&a.forEach(c=>c())})(o)}(function FI(o=[],a){return qc.create({name:a,providers:[{provide:UC,useValue:"platform"},{provide:vp,useValue:new Set([()=>oa=null])},...o]})}(w,d))}return function iw(o){const a=rw();if(!a)throw new Ae(401,!1);return a}()}}function rw(){return oa?.get(sw)??null}let sw=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function ow(o,a){let c;return c="noop"===o?new jR:("zone.js"===o?void 0:o)||new Is(a),c}(d?.ngZone,function PI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Is,useValue:f}];return f.run(()=>{const v=qc.create({providers:m,parent:this.injector,name:c.moduleType.name}),w=c.create(v),D=w.injector.get(od,null);if(!D)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:M=>{D.handleError(M)}});w.onDestroy(()=>{F_(this._modules,w),S.unsubscribe()})}),function NI(o,a,c){try{const d=c();return Eg(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const S=w.injector.get(gp);return S.runInitializers(),S.donePromise.then(()=>(function MD(o){Rt(o,"Expected localeId to be defined"),"string"==typeof o&&(jb=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(_p,Rd)||Rd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=LI({},d);return function J0(o,a,c){const d=new c0(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(R_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ae(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(vp,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Gn(qc))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function LI(o,a){return Array.isArray(a)?a.reduce(LI,o):{...o,...a}}let R_=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new N.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),Tr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(m,v.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof hv;if(!this._injector.get(gp).done)throw!f&&ce(c),new Ae(405,false);let v;v=f?c:this._injector.get(sf).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const w=function tw(o){return o.isBoundToModule}(v)?void 0:this._injector.get(ra),S=v.create(qc.NULL,[],d||v.selector,w),M=S.location.nativeElement,U=S.injector.get(xI,null);return U?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),F_(this.components,S),U?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;F_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(S_,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>F_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ae(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Gn(Is),Gn(id),Gn(od))},o.\u0275prov=cn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function F_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let VI=!0,ci=!1;function zR(){return ci=!0,VI}function WM(){if(ci)throw new Error("Cannot enable prod mode after platform setup.");VI=!1}let YM=(()=>{class o{}return o.__NG_ELEMENT_ID__=UI,o})();function UI(o){return function ZM(o,a,c){if(gs(o)&&!c){const d=Mn(o.index,a);return new Nr(d,d)}return 47&o.type?new Nr(a[16],a):null}(qn(),Ie(),16==(16&o))}class B_{constructor(){}supports(a){return yd(a)}create(a){return new JM(a)}}const XM=(o,a)=>a;class JM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||XM}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<dw(d,f,m)?c:d,w=dw(v,f,m),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const S=w-f,M=D-f;if(S!=M){for(let Y=0;Y<S;Y++){const oe=Y<m.length?m[Y]:m[Y]=0,Me=oe+Y;M<=Me&&Me<S&&(m[Y]=oe+1)}m[v.previousIndex]=M-S}}w!==D&&a(v,w,D)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!yd(a))throw new Ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),d=!0),c=c._next}else f=0,function wg(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Ya()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new ex(c,d),m,f),a}_verifyReinsertion(a,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new U_),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ex{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class U_{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new uw,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class Ql{constructor(){}supports(a){return a instanceof Map||nu(a)}create(){return new $I}}class $I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||nu(a)))throw new Ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new zI(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class zI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function H_(){return new Cp([new B_])}let Cp=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||H_()),deps:[[o,new Cl,new La]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ae(901,!1)}}return o.\u0275prov=cn({token:o,providedIn:"root",factory:H_}),o})();function Ep(){return new Zd([new Ql])}let Zd=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Ep()),deps:[[o,new Cl,new La]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ae(901,!1)}}return o.\u0275prov=cn({token:o,providedIn:"root",factory:Ep}),o})();const WI=bu(null,"core",[]);let Ip=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Gn(R_))},o.\u0275mod=Jt({type:o}),o.\u0275inj=At({}),o})();function Xl(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},579:(ft,ke,F)=>{F.d(ke,{EI:()=>Te,Gb:()=>Oi,Iv:()=>Bn,Kz:()=>wt,Xd:()=>ui,lT:()=>oi,xP:()=>et});var l=F(5861),j=F(9681),N=F(1877),ie=F(2090),ge=F(4859);F(2833);const ne="analytics",pe="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Re=new N.Yd("@firebase/analytics");function Se(R){return Promise.all(R.map(x=>x.catch(A=>A)))}function Ae(R,x){const A=document.createElement("script");A.src=`${Q}?l=${R}&id=${x}`,A.async=!0,document.head.appendChild(A)}function be(R,x,A,k,z,ce){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(R,x,A,k,z,ce){const Ne=k[z];try{if(Ne)yield x[Ne];else{const _e=(yield Se(A)).find(xe=>xe.measurementId===z);_e&&(yield x[_e.appId])}}catch(ze){Re.error(ze)}R("config",z,ce)})).apply(this,arguments)}function ct(R,x,A,k,z){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(R,x,A,k,z){try{let ce=[];if(z&&z.send_to){let Ne=z.send_to;Array.isArray(Ne)||(Ne=[Ne]);const ze=yield Se(A);for(const _e of Ne){const xe=ze.find(tn=>tn.measurementId===_e),dt=xe&&x[xe.appId];if(!dt){ce=[];break}ce.push(dt)}}0===ce.length&&(ce=Object.values(x)),yield Promise.all(ce),R("event",k,z||{})}catch(ce){Re.error(ce)}})).apply(this,arguments)}function De(R){const x=window.document.getElementsByTagName("script");for(const A of Object.values(x))if(A.src&&A.src.includes(Q)&&A.src.includes(R))return A;return null}const te=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=new class X{constructor(x={},A=1e3){this.throttleMetadata=x,this.intervalMillis=A}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,A){this.throttleMetadata[x]=A}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function he(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function ae(R){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(R){var x;const{appId:A,apiKey:k}=R,z={method:"GET",headers:he(k)},ce=G.replace("{app-id}",A),Ne=yield fetch(ce,z);if(200!==Ne.status&&304!==Ne.status){let ze="";try{const _e=yield Ne.json();null!==(x=_e.error)&&void 0!==x&&x.message&&(ze=_e.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:ze})}return Ne.json()})).apply(this,arguments)}function Be(R){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(R,x=J,A){const{appId:k,apiKey:z,measurementId:ce}=R.options;if(!k)throw te.create("no-app-id");if(!z){if(ce)return{measurementId:ce,appId:k};throw te.create("no-api-key")}const Ne=x.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Kn;return setTimeout((0,l.Z)(function*(){ze.abort()}),void 0!==A?A:6e4),ln({appId:k,apiKey:z,measurementId:ce},Ne,ze,x)})).apply(this,arguments)}function ln(R,x,A){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(R,{throttleEndTimeMillis:x,backoffCount:A},k,z=J){var ce,Ne;const{appId:ze,measurementId:_e}=R;try{yield Ye(k,x)}catch(xe){if(_e)return Re.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${null===(ce=xe)||void 0===ce?void 0:ce.message}]`),{appId:ze,measurementId:_e};throw xe}try{const xe=yield ae(R);return z.deleteThrottleMetadata(ze),xe}catch(xe){const dt=xe;if(!_n(dt)){if(z.deleteThrottleMetadata(ze),_e)return Re.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:ze,measurementId:_e};throw xe}const tn=503===Number(null===(Ne=dt?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,ie.$s)(A,z.intervalMillis,30):(0,ie.$s)(A,z.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+tn,backoffCount:A+1};return z.setThrottleMetadata(ze,Mt),Re.debug(`Calling attemptFetch again in ${tn} millis`),ln(R,Mt,k,z)}})).apply(this,arguments)}function Ye(R,x){return new Promise((A,k)=>{const z=Math.max(x-Date.now(),0),ce=setTimeout(A,z);R.addEventListener(()=>{clearTimeout(ce),k(te.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function _n(R){if(!(R instanceof ie.ZR&&R.customData))return!1;const x=Number(R.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Kn{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let pn,si;function qt(){return(qt=(0,l.Z)(function*(R,x,A,k,z){if(z&&z.global)R("event",A,k);else{const ce=yield x;R("event",A,Object.assign(Object.assign({},k),{send_to:ce}))}})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{screen_name:A}),Promise.resolve();R("config",yield x,{update:!0,screen_name:A})})).apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{user_id:A}),Promise.resolve();R("config",yield x,{update:!0,user_id:A})})).apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(R,x,A,k){if(k&&k.global){const z={};for(const ce of Object.keys(A))z[`user_properties.${ce}`]=A[ce];return R("set",z),Promise.resolve()}R("config",yield x,{update:!0,user_properties:A})})).apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(R,x){const A=yield R;window[`ga-disable-${A}`]=!x})).apply(this,arguments)}function xi(R){si=R}function yr(R){pn=R}function tt(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(){var R;if(!(0,ie.hl)())return Re.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(x){return Re.warn(te.create("indexeddb-unavailable",{errorInfo:null===(R=x)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(R,x,A,k,z,ce,Ne){var ze;const _e=Be(R);_e.then(Yt=>{A[Yt.measurementId]=Yt.appId,R.options.measurementId&&Yt.measurementId!==R.options.measurementId&&Re.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>Re.error(Yt)),x.push(_e);const xe=tt().then(Yt=>{if(Yt)return k.getId()}),[dt,tn]=yield Promise.all([_e,xe]);De(ce)||Ae(ce,dt.measurementId),si&&(z("consent","default",si),xi(void 0)),z("js",new Date);const Mt=null!==(ze=Ne?.config)&&void 0!==ze?ze:{};return Mt.origin="firebase",Mt.update=!0,null!=tn&&(Mt[pe]=tn),z("config",dt.measurementId,Mt),pn&&(z("set",pn),yr(void 0)),dt.measurementId})).apply(this,arguments)}class vi{constructor(x){this.app=x}_delete(){return delete Ni[this.app.options.appId],Promise.resolve()}}let Ni={},xn=[];const Rn={};let ht,mt,dn="dataLayer",pt="gtag",Fn=!1;function ui(R){if(Fn)throw te.create("already-initialized");R.dataLayerName&&(dn=R.dataLayerName),R.gtagName&&(pt=R.gtagName)}function xt(R,x,A){!function bi(){const R=[];if((0,ie.ru)()&&R.push("This is a browser extension environment."),(0,ie.zI)()||R.push("Cookies are not available."),R.length>0){const x=R.map((k,z)=>`(${z+1}) ${k}`).join(" "),A=te.create("invalid-analytics-context",{errorInfo:x});Re.warn(A.message)}}();const k=R.options.appId;if(!k)throw te.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw te.create("no-api-key");Re.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ni[k])throw te.create("already-exists",{id:k});if(!Fn){!function Je(R){let x=[];Array.isArray(window[R])?x=window[R]:window[R]=x}(dn);const{wrappedGtag:ce,gtagCore:Ne}=function Fe(R,x,A,k,z){let ce=function(...Ne){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(ce=window[z]),window[z]=function Pe(R,x,A,k){function ce(){return(ce=(0,l.Z)(function*(Ne,ze,_e){try{"event"===Ne?yield ct(R,x,A,ze,_e):"config"===Ne?yield be(R,x,A,k,ze,_e):"consent"===Ne?R("consent","update",_e):R("set",ze)}catch(xe){Re.error(xe)}})).apply(this,arguments)}return function z(Ne,ze,_e){return ce.apply(this,arguments)}}(ce,R,x,A),{gtagCore:ce,wrappedGtag:window[z]}}(Ni,xn,Rn,dn,pt);mt=ce,ht=Ne,Fn=!0}return Ni[k]=function Qn(R,x,A,k,z,ce,Ne){return bn.apply(this,arguments)}(R,xn,Rn,x,ht,dn,A),new vi(R)}function Oi(){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}function oi(R,x,A){R=(0,ie.m9)(R),function At(R,x,A,k){return Vn.apply(this,arguments)}(mt,Ni[R.app.options.appId],x,A).catch(k=>Re.error(k))}function Bn(R,x,A){R=(0,ie.m9)(R),function ir(R,x,A,k){return _r.apply(this,arguments)}(mt,Ni[R.app.options.appId],x,A).catch(k=>Re.error(k))}function et(R,x,A){R=(0,ie.m9)(R),function Wn(R,x,A,k){return yi.apply(this,arguments)}(mt,Ni[R.app.options.appId],x,A).catch(k=>Re.error(k))}function Te(R,x){R=(0,ie.m9)(R),function rr(R,x){return ri.apply(this,arguments)}(Ni[R.app.options.appId],x).catch(A=>Re.error(A))}function wt(R,x,A,k){R=(0,ie.m9)(R),function cn(R,x,A,k,z){return qt.apply(this,arguments)}(mt,Ni[R.app.options.appId],x,A,k).catch(z=>Re.error(z))}const Jt="@firebase/analytics",W="0.8.2";!function $(){(0,j._registerComponent)(new ge.wA(ne,(x,{options:A})=>xt(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,j._registerComponent)(new ge.wA("analytics-internal",function R(x){try{const A=x.getProvider(ne).getImmediate();return{logEvent:(k,z,ce)=>wt(A,k,z,ce)}}catch(A){throw te.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,j.registerVersion)(Jt,W),(0,j.registerVersion)(Jt,W,"esm2017")}()},3942:(ft,ke,F)=>{F.d(ke,{Z:()=>Ae});var l=F(2090),j=F(4859),N=F(9681),ie=F(1877);class ge{constructor(be,ue){this._delegate=be,this.firebase=ue,(0,N._addComponent)(be,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(be,ue=N._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(be);return!Qe.isInitialized()&&"EXPLICIT"===(null===(ct=Qe.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ue})}_removeServiceInstance(be,ue=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ue)}_addComponent(be){(0,N._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,N._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const Je=function pe(Je){const be={},ue={__esModule:!0,initializeApp:function Pe(te,le={}){const we=N.initializeApp(te,le);if((0,l.r3)(be,we.name))return be[we.name];const X=new Je(we,ue);return be[we.name]=X,X},app:Qe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(te){const le=te.name,we=le.replace("-compat","");if(N._registerComponent(te)&&"PUBLIC"===te.type){const X=(J=Qe())=>{if("function"!=typeof J[we])throw ne.create("invalid-app-argument",{appName:le});return J[we]()};void 0!==te.serviceProps&&(0,l.ZB)(X,te.serviceProps),ue[we]=X,Je.prototype[we]=function(...J){return this._getService.bind(this,le).apply(this,te.multipleInstances?J:[])}}return"PUBLIC"===te.type?ue[we]:null},removeApp:function ct(te){delete be[te]},useAsService:function Ze(te,le){return"serverAuth"===le?null:le},modularAPIs:N}};function Qe(te){if(!(0,l.r3)(be,te=te||N._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:te});return be[te]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function Fe(){return Object.keys(be).map(te=>be[te])}}),Qe.App=Je,ue}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(ue){(0,l.ZB)(Je,ue)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Je}(),G=new ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=q;!function Se(Je){(0,N.registerVersion)("@firebase/app-compat","0.1.36",Je)}()},9681:(ft,ke,F)=>{F.r(ke),F.d(ke,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>cn,_apps:()=>_n,_clearComponents:()=>ir,_components:()=>Kn,_getProvider:()=>At,_registerComponent:()=>qt,_removeServiceInstance:()=>Vn,deleteApp:()=>yr,getApp:()=>si,getApps:()=>xi,initializeApp:()=>ri,onLog:()=>Qn,registerVersion:()=>Sn,setLogLevel:()=>bn});var l=F(5861),j=F(4859),N=F(1877),ie=F(2090),ge=F(8766);class ve{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ne(et){return"VERSION"===et.getComponent()?.type}(rt)){const wt=rt.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",q=new N.Yd("@firebase/app"),Rt="[DEFAULT]",Ye={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Kn=new Map;function pn(et,Te){try{et.container.addComponent(Te)}catch(rt){q.debug(`Component ${Te.name} failed to register with FirebaseApp ${et.name}`,rt)}}function cn(et,Te){et.container.addOrOverwriteComponent(Te)}function qt(et){const Te=et.name;if(Kn.has(Te))return q.debug(`There were multiple attempts to register component ${Te}.`),!1;Kn.set(Te,et);for(const rt of _n.values())pn(rt,et);return!0}function At(et,Te){const rt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),et.container.getProvider(Te)}function Vn(et,Te,rt=Rt){At(et,Te).clearInstance(rt)}function ir(){Kn.clear()}const Wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yi{constructor(Te,rt,wt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const rr="9.12.0";function ri(et,Te={}){let rt=et;"object"!=typeof Te&&(Te={name:Te});const wt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Te),Tt=wt.name;if("string"!=typeof Tt||!Tt)throw Wn.create("bad-app-name",{appName:String(Tt)});if(rt||(rt=(0,ie.aH)()),!rt)throw Wn.create("no-options");const Jt=_n.get(Tt);if(Jt){if((0,ie.vZ)(rt,Jt.options)&&(0,ie.vZ)(wt,Jt.config))return Jt;throw Wn.create("duplicate-app",{appName:Tt})}const W=new j.H0(Tt);for(const R of Kn.values())W.addComponent(R);const $=new yi(rt,wt,W);return _n.set(Tt,$),$}function si(et=Rt){const Te=_n.get(et);if(!Te&&et===Rt)return ri();if(!Te)throw Wn.create("no-app",{appName:et});return Te}function xi(){return Array.from(_n.values())}function yr(et){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(et){const Te=et.name;_n.has(Te)&&(_n.delete(Te),yield Promise.all(et.container.getProviders().map(rt=>rt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function Sn(et,Te,rt){var wt;let Tt=null!==(wt=Ye[et])&&void 0!==wt?wt:et;rt&&(Tt+=`-${rt}`);const Jt=Tt.match(/\s|\//),W=Te.match(/\s|\//);if(Jt||W){const $=[`Unable to register library "${Tt}" with version "${Te}":`];return Jt&&$.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Jt&&W&&$.push("and"),W&&$.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void q.warn($.join(" "))}qt(new j.wA(`${Tt}-version`,()=>({library:Tt,version:Te}),"VERSION"))}function Qn(et,Te){if(null!==et&&"function"!=typeof et)throw Wn.create("invalid-log-argument");(0,N.Am)(et,Te)}function bn(et){(0,N.Ub)(et)}const xn="firebase-heartbeat-store";let Rn=null;function dn(){return Rn||(Rn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(et,Te)=>{0===Te&&et.createObjectStore(xn)}}).catch(et=>{throw Wn.create("idb-open",{originalErrorMessage:et.message})})),Rn}function ht(){return(ht=(0,l.Z)(function*(et){var Te;try{return(yield dn()).transaction(xn).objectStore(xn).get(ui(et))}catch(rt){if(rt instanceof ie.ZR)q.warn(rt.message);else{const wt=Wn.create("idb-get",{originalErrorMessage:null===(Te=rt)||void 0===Te?void 0:Te.message});q.warn(wt.message)}}})).apply(this,arguments)}function mt(et,Te){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(et,Te){var rt;try{const Tt=(yield dn()).transaction(xn,"readwrite");return yield Tt.objectStore(xn).put(Te,ui(et)),Tt.done}catch(wt){if(wt instanceof ie.ZR)q.warn(wt.message);else{const Tt=Wn.create("idb-set",{originalErrorMessage:null===(rt=wt)||void 0===rt?void 0:rt.message});q.warn(Tt.message)}}})).apply(this,arguments)}function ui(et){return`${et.name}!${et.options.appId}`}class ki{constructor(Te){this.container=Te,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Qt(rt),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var Te=this;return(0,l.Z)(function*(){const wt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Ft();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!Te._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Tt))return Te._heartbeatsCache.heartbeats.push({date:Tt,agent:wt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Jt=>{const W=new Date(Jt.date).valueOf();return Date.now()-W<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,l.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const rt=Ft(),{heartbeatsToSend:wt,unsentEntries:Tt}=function Oi(et,Te=1024){const rt=[];let wt=et.slice();for(const Tt of et){const Jt=rt.find(W=>W.agent===Tt.agent);if(Jt){if(Jt.dates.push(Tt.date),oi(rt)>Te){Jt.dates.pop();break}}else if(rt.push({agent:Tt.agent,dates:[Tt.date]}),oi(rt)>Te){rt.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:wt}}(Te._heartbeatsCache.heartbeats),Jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:wt}));return Te._heartbeatsCache.lastSentHeartbeatDate=rt,Tt.length>0?(Te._heartbeatsCache.heartbeats=Tt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Jt})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,l.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function pt(et){return ht.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var rt=this;return(0,l.Z)(function*(){var wt;if(yield rt._canUseIndexedDBPromise){const Jt=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(wt=Te.lastSentHeartbeatDate)&&void 0!==wt?wt:Jt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var rt=this;return(0,l.Z)(function*(){var wt;if(yield rt._canUseIndexedDBPromise){const Jt=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(wt=Te.lastSentHeartbeatDate)&&void 0!==wt?wt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Te.heartbeats]})}})()}}function oi(et){return(0,ie.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Bn(et){qt(new j.wA("platform-logger",Te=>new ve(Te),"PRIVATE")),qt(new j.wA("heartbeat",Te=>new ki(Te),"PRIVATE")),Sn(pe,"0.8.1",et),Sn(pe,"0.8.1","esm2017"),Sn("fire-js","")}("")},4859:(ft,ke,F)=>{F.d(ke,{H0:()=>pe,wA:()=>N});var l=F(5861),j=F(2090);class N{constructor(q,G,Q){this.name=q,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ie="[DEFAULT]";class ge{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const Q=new j.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:G});Re&&Q.resolve(Re)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const Q=this.normalizeInstanceIdentifier(q?.identifier),Re=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(Re)return null;throw Se}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ne(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:Re});Q.resolve(Se)}catch{}}}}clearInstance(q=ie){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ie){return this.instances.has(q)}getOptions(q=ie){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,Q=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Se,Ae]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&Ae.resolve(Re);return Re}onInit(q,G){var Q;const Re=this.normalizeInstanceIdentifier(G),Se=null!==(Q=this.onInitCallbacks.get(Re))&&void 0!==Q?Q:new Set;Se.add(q),this.onInitCallbacks.set(Re,Se);const Ae=this.instances.get(Re);return Ae&&q(Ae,Re),()=>{Se.delete(q)}}invokeOnInitCallbacks(q,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Re of Q)try{Re(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let Q=this.instances.get(q);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===ie?void 0:ye),options:G}),this.instances.set(q,Q),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(Q,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Q)}catch{}var ye;return Q||null}normalizeInstanceIdentifier(q=ie){return this.component?this.component.multipleInstances?q:ie:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new ge(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(ft,ke,F)=>{var l=F(5861),j=F(9681),N=F(4859),ie=F(2090),ge=F(8766);const ve="@firebase/installations",ne="0.5.14",ye=`w:${ne}`,q="FIS_v2",Je=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(ee){return ee instanceof ie.ZR&&ee.code.includes("request-failed")}function ue({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function ct(ee){return{token:ee.token,requestStatus:2,expiresIn:le(ee.expiresIn),creationTime:Date.now()}}function Qe(ee,Ce){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(ee,Ce){const gt=(yield Ce.json()).error;return Je.create("request-failed",{requestName:ee,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function Fe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function De(ee,{refreshToken:Ce}){const je=Fe(ee);return je.append("Authorization",function we(ee){return`${q} ${ee}`}(Ce)),je}function Ze(ee){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(ee){const Ce=yield ee();return Ce.status>=500&&Ce.status<600?ee():Ce})).apply(this,arguments)}function le(ee){return Number(ee.replace("s","000"))}function X(ee,Ce){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},{fid:je}){const gt=ue(ee),en=Fe(ee),mn=Ce.getImmediate({optional:!0});if(mn){const or=yield mn.getHeartbeatsHeader();or&&en.append("x-firebase-client",or)}const Hn={method:"POST",headers:en,body:JSON.stringify({fid:je,authVersion:q,appId:ee.appId,sdkVersion:ye})},sr=yield Ze(()=>fetch(gt,Hn));if(sr.ok){const or=yield sr.json();return{fid:or.fid||je,registrationStatus:2,refreshToken:or.refreshToken,authToken:ct(or.authToken)}}throw yield Qe("Create Installation",sr)})).apply(this,arguments)}function he(ee){return new Promise(Ce=>{setTimeout(Ce,ee)})}const He=/^[cdef][\w-]{21}$/;function _t(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const je=function ln(ee){return function ae(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return He.test(je)?je:""}catch{return""}}function Rt(ee){return`${ee.appName}!${ee.appId}`}const Ye=new Map;function _n(ee,Ce){const je=Rt(ee);cn(je,Ce),function qt(ee,Ce){const je=function Vn(){return!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=ee=>{cn(ee.data.key,ee.data.fid)}),At}();je&&je.postMessage({key:ee,fid:Ce}),function ir(){0===Ye.size&&At&&(At.close(),At=null)}()}(je,Ce)}function cn(ee,Ce){const je=Ye.get(ee);if(je)for(const gt of je)gt(Ce)}let At=null;const yi="firebase-installations-store";let rr=null;function ri(){return rr||(rr=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,Ce)=>{0===Ce&&ee.createObjectStore(yi)}})),rr}function si(ee,Ce){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(ee,Ce){const je=Rt(ee),en=(yield ri()).transaction(yi,"readwrite"),mn=en.objectStore(yi),zn=yield mn.get(je);return yield mn.put(Ce,je),yield en.done,(!zn||zn.fid!==Ce.fid)&&_n(ee,Ce.fid),Ce})).apply(this,arguments)}function yr(ee){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(ee){const Ce=Rt(ee),gt=(yield ri()).transaction(yi,"readwrite");yield gt.objectStore(yi).delete(Ce),yield gt.done})).apply(this,arguments)}function Sn(ee,Ce){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(ee,Ce){const je=Rt(ee),en=(yield ri()).transaction(yi,"readwrite"),mn=en.objectStore(yi),zn=yield mn.get(je),Hn=Ce(zn);return void 0===Hn?yield mn.delete(je):yield mn.put(Hn,je),yield en.done,Hn&&(!zn||zn.fid!==Hn.fid)&&_n(ee,Hn.fid),Hn})).apply(this,arguments)}function bn(ee){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(ee){let Ce;const je=yield Sn(ee.appConfig,gt=>{const en=Ni(gt),mn=xn(ee,en);return Ce=mn.registrationPromise,mn.installationEntry});return""===je.fid?{installationEntry:yield Ce}:{installationEntry:je,registrationPromise:Ce}})).apply(this,arguments)}function Ni(ee){return Fn(ee||{fid:_t(),registrationStatus:0})}function xn(ee,Ce){if(0===Ce.registrationStatus){if(!navigator.onLine)return{installationEntry:Ce,registrationPromise:Promise.reject(Je.create("app-offline"))};const je={fid:Ce.fid,registrationStatus:1,registrationTime:Date.now()},gt=function Rn(ee,Ce){return dn.apply(this,arguments)}(ee,je);return{installationEntry:je,registrationPromise:gt}}return 1===Ce.registrationStatus?{installationEntry:Ce,registrationPromise:pt(ee)}:{installationEntry:Ce}}function dn(){return(dn=(0,l.Z)(function*(ee,Ce){try{const je=yield X(ee,Ce);return si(ee.appConfig,je)}catch(je){throw be(je)&&409===je.customData.serverCode?yield yr(ee.appConfig):yield si(ee.appConfig,{fid:Ce.fid,registrationStatus:0}),je}})).apply(this,arguments)}function pt(ee){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(ee){let Ce=yield mt(ee.appConfig);for(;1===Ce.registrationStatus;)yield he(100),Ce=yield mt(ee.appConfig);if(0===Ce.registrationStatus){const{installationEntry:je,registrationPromise:gt}=yield bn(ee);return gt||je}return Ce})).apply(this,arguments)}function mt(ee){return Sn(ee,Ce=>{if(!Ce)throw Je.create("installation-not-found");return Fn(Ce)})}function Fn(ee){return function ui(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function bi(ee,Ce){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ce},je){const gt=ki(ee,je),en=De(ee,je),mn=Ce.getImmediate({optional:!0});if(mn){const or=yield mn.getHeartbeatsHeader();or&&en.append("x-firebase-client",or)}const Hn={method:"POST",headers:en,body:JSON.stringify({installation:{sdkVersion:ye,appId:ee.appId}})},sr=yield Ze(()=>fetch(gt,Hn));if(sr.ok)return ct(yield sr.json());throw yield Qe("Generate Auth Token",sr)})).apply(this,arguments)}function ki(ee,{fid:Ce}){return`${ue(ee)}/${Ce}/authTokens:generate`}function Ft(ee){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(ee,Ce=!1){let je;const gt=yield Sn(ee.appConfig,mn=>{if(!rt(mn))throw Je.create("not-registered");const zn=mn.authToken;if(!Ce&&wt(zn))return mn;if(1===zn.requestStatus)return je=Qt(ee,Ce),mn;{if(!navigator.onLine)throw Je.create("app-offline");const Hn=Jt(mn);return je=et(ee,Hn),Hn}});return je?yield je:gt.authToken})).apply(this,arguments)}function Qt(ee,Ce){return oi.apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(ee,Ce){let je=yield Bn(ee.appConfig);for(;1===je.authToken.requestStatus;)yield he(100),je=yield Bn(ee.appConfig);const gt=je.authToken;return 0===gt.requestStatus?Ft(ee,Ce):gt})).apply(this,arguments)}function Bn(ee){return Sn(ee,Ce=>{if(!rt(Ce))throw Je.create("not-registered");return function W(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ce.authToken)?Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}}):Ce})}function et(ee,Ce){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(ee,Ce){try{const je=yield bi(ee,Ce),gt=Object.assign(Object.assign({},Ce),{authToken:je});return yield si(ee.appConfig,gt),je}catch(je){if(!be(je)||401!==je.customData.serverCode&&404!==je.customData.serverCode){const gt=Object.assign(Object.assign({},Ce),{authToken:{requestStatus:0}});yield si(ee.appConfig,gt)}else yield yr(ee.appConfig);throw je}})).apply(this,arguments)}function rt(ee){return void 0!==ee&&2===ee.registrationStatus}function wt(ee){return 2===ee.requestStatus&&!function Tt(ee){const Ce=Date.now();return Ce<ee.creationTime||ee.creationTime+ee.expiresIn<Ce+36e5}(ee)}function Jt(ee){const Ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ce})}function R(){return(R=(0,l.Z)(function*(ee){const Ce=ee,{installationEntry:je,registrationPromise:gt}=yield bn(Ce);return gt?gt.catch(console.error):Ft(Ce).catch(console.error),je.fid})).apply(this,arguments)}function A(){return(A=(0,l.Z)(function*(ee,Ce=!1){const je=ee;return yield k(je),(yield Ft(je,Ce)).token})).apply(this,arguments)}function k(ee){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(ee){const{registrationPromise:Ce}=yield bn(ee);Ce&&(yield Ce)})).apply(this,arguments)}function Yt(ee){return Je.create("missing-app-config-values",{valueName:ee})}const Or="installations",ps=ee=>{const Ce=ee.getProvider("app").getImmediate(),je=function Mt(ee){if(!ee||!ee.options)throw Yt("App Configuration");if(!ee.name)throw Yt("App Name");const Ce=["projectId","apiKey","appId"];for(const je of Ce)if(!ee.options[je])throw Yt(je);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ce);return{app:Ce,appConfig:je,heartbeatServiceProvider:(0,j._getProvider)(Ce,"heartbeat"),_delete:()=>Promise.resolve()}},Fs=ee=>{const Ce=ee.getProvider("app").getImmediate(),je=(0,j._getProvider)(Ce,Or).getImmediate();return{getId:()=>function $(ee){return R.apply(this,arguments)}(je),getToken:en=>function x(ee){return A.apply(this,arguments)}(je,en)}};(function Ct(){(0,j._registerComponent)(new N.wA(Or,ps,"PUBLIC")),(0,j._registerComponent)(new N.wA("installations-internal",Fs,"PRIVATE"))})(),(0,j.registerVersion)(ve,ne),(0,j.registerVersion)(ve,ne,"esm2017")},1877:(ft,ke,F)=>{F.d(ke,{Am:()=>ye,Ub:()=>pe,Yd:()=>ne,in:()=>j});const l=[];var j=(()=>{return(q=j||(j={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",j;var q})();const N={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ie=j.INFO,ge={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ve=(q,G,...Q)=>{if(G<q.logLevel)return;const Re=(new Date).toISOString(),Se=ge[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${Re}]  ${q.name}:`,...Q)};class ne{constructor(G){this.name=G,this._logLevel=ie,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function pe(q){l.forEach(G=>{G.setLogLevel(q)})}function ye(q,G){for(const Q of l){let Re=null;G&&G.level&&(Re=N[G.level]),Q.userLogHandler=null===q?null:(Se,Ae,...Je)=>{const be=Je.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch{return null}}).filter(ue=>ue).join(" ");Ae>=(Re??Se.logLevel)&&q({level:j[Ae].toLowerCase(),message:be,args:Je,type:Se.name})}}}},8766:(ft,ke,F)=>{F.d(ke,{Lj:()=>Pe,X3:()=>Qe});var l=F(5861);let N,ie;const ne=new WeakMap,pe=new WeakMap,ye=new WeakMap,q=new WeakMap,G=new WeakMap;let Se={get(le,we,X){if(le instanceof IDBTransaction){if("done"===we)return pe.get(le);if("objectStoreNames"===we)return le.objectStoreNames||ye.get(le);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ue(le[we])},set:(le,we,X)=>(le[we]=X,!0),has:(le,we)=>le instanceof IDBTransaction&&("done"===we||"store"===we)||we in le};function be(le){return"function"==typeof le?function Je(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...we){return le.apply(ct(this),we),ue(ne.get(this))}:function(...we){return ue(le.apply(ct(this),we))}:function(we,...X){const J=le.call(ct(this),we,...X);return ye.set(J,we.sort?we.sort():[we]),ue(J)}}(le):(le instanceof IDBTransaction&&function Re(le){if(pe.has(le))return;const we=new Promise((X,J)=>{const he=()=>{le.removeEventListener("complete",ae),le.removeEventListener("error",He),le.removeEventListener("abort",He)},ae=()=>{X(),he()},He=()=>{J(le.error||new DOMException("AbortError","AbortError")),he()};le.addEventListener("complete",ae),le.addEventListener("error",He),le.addEventListener("abort",He)});pe.set(le,we)}(le),((le,we)=>we.some(X=>le instanceof X))(le,function ge(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Se):le)}function ue(le){if(le instanceof IDBRequest)return function Q(le){const we=new Promise((X,J)=>{const he=()=>{le.removeEventListener("success",ae),le.removeEventListener("error",He)},ae=()=>{X(ue(le.result)),he()},He=()=>{J(le.error),he()};le.addEventListener("success",ae),le.addEventListener("error",He)});return we.then(X=>{X instanceof IDBCursor&&ne.set(X,le)}).catch(()=>{}),G.set(we,le),we}(le);if(q.has(le))return q.get(le);const we=be(le);return we!==le&&(q.set(le,we),G.set(we,le)),we}const ct=le=>G.get(le);function Qe(le,we,{blocked:X,upgrade:J,blocking:he,terminated:ae}={}){const He=indexedDB.open(le,we),Be=ue(He);return J&&He.addEventListener("upgradeneeded",_t=>{J(ue(He.result),_t.oldVersion,_t.newVersion,ue(He.transaction))}),X&&He.addEventListener("blocked",()=>X()),Be.then(_t=>{ae&&_t.addEventListener("close",()=>ae()),he&&_t.addEventListener("versionchange",()=>he())}).catch(()=>{}),Be}function Pe(le,{blocked:we}={}){const X=indexedDB.deleteDatabase(le);return we&&X.addEventListener("blocked",()=>we()),ue(X).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ze=new Map;function te(le,we){if(!(le instanceof IDBDatabase)||we in le||"string"!=typeof we)return;if(Ze.get(we))return Ze.get(we);const X=we.replace(/FromIndex$/,""),J=we!==X,he=De.includes(X);if(!(X in(J?IDBIndex:IDBObjectStore).prototype)||!he&&!Fe.includes(X))return;const ae=function(){var He=(0,l.Z)(function*(Be,..._t){const ln=this.transaction(Be,he?"readwrite":"readonly");let Rt=ln.store;return J&&(Rt=Rt.index(_t.shift())),(yield Promise.all([Rt[X](..._t),he&&ln.done]))[0]});return function(_t){return He.apply(this,arguments)}}();return Ze.set(we,ae),ae}!function Ae(le){Se=le(Se)}(le=>({...le,get:(we,X,J)=>te(we,X)||le.get(we,X,J),has:(we,X)=>!!te(we,X)||le.has(we,X)}))},5861:(ft,ke,F)=>{function l(N,ie,ge,ve,ne,pe,ye){try{var q=N[pe](ye),G=q.value}catch(Q){return void ge(Q)}q.done?ie(G):Promise.resolve(G).then(ve,ne)}function j(N){return function(){var ie=this,ge=arguments;return new Promise(function(ve,ne){var pe=N.apply(ie,ge);function ye(G){l(pe,ve,ne,ye,q,"next",G)}function q(G){l(pe,ve,ne,ye,q,"throw",G)}ye(void 0)})}}F.d(ke,{Z:()=>j})}},ft=>{ft(ft.s=4487)}]);