"use strict";(self.webpackChunkoffice_buddy=self.webpackChunkoffice_buddy||[]).push([[179],{2011:(rt,Me,O)=>{O.d(Me,{Dh:()=>fe,GT:()=>_e,Ot:()=>ne,cc:()=>Ee,hO:()=>ke,on:()=>W,pX:()=>pe,xv:()=>ge});var a=O(4650),H=O(127),P=O(880);rt=O.hmd(rt);const ie=["ngOnDestroy"],pe=(ue,et,ze,Oe={})=>new Proxy(ue,{get:(xe,Ce)=>ze.runOutsideAngular(()=>{var $e;if(ue[Ce])return!(null===($e=Oe?.spy)||void 0===$e)&&$e.get&&Oe.spy.get(Ce,ue[Ce]),ue[Ce];if(ie.indexOf(Ce)>-1)return()=>{};const te=et.toPromise().then(ae=>{const ye=ae&&ae[Ce];return"function"==typeof ye?ye.bind(ae):ye&&ye.then?ye.then(Q=>ze.run(()=>Q)):ze.run(()=>ye)});return new Proxy(()=>{},{get:(ae,ye)=>te[ye],apply:(ae,ye,Q)=>te.then(J=>{var de;const oe=J&&J(...Q);return!(null===(de=Oe?.spy)||void 0===de)&&de.apply&&Oe.spy.apply(Ce,Q,oe),oe})})})}),_e=(ue,et)=>{et.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Oe=>{Object.defineProperty(ue.prototype,Oe,Object.getOwnPropertyDescriptor(ze.prototype||ze,Oe))})})};class ne{constructor(et){return et}}const fe=new a.OlP("angularfire2.app.options"),ge=new a.OlP("angularfire2.app.name");function W(ue,et,ze){const xe="object"==typeof ze&&ze||{};xe.name=xe.name||"string"==typeof ze&&ze||"[DEFAULT]";const $e=H.Z.apps.filter(te=>te&&te.name===xe.name)[0]||et.runOutsideAngular(()=>H.Z.initializeApp(ue,xe));try{JSON.stringify(ue)!==JSON.stringify($e.options)&&z("error",`${$e.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne($e)}const z=(ue,...et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ue](...et)},K={provide:ne,useFactory:W,deps:[fe,a.R0b,[new a.FiY,ge]]};let ke=(()=>{class ue{constructor(ze){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",a.q4F.full,ze.toString())}static initializeApp(ze,Oe){return{ngModule:ue,providers:[{provide:fe,useValue:ze},{provide:ge,useValue:Oe}]}}}return ue.\u0275fac=function(ze){return new(ze||ue)(a.LFG(a.Lbi))},ue.\u0275mod=a.oAB({type:ue}),ue.\u0275inj=a.cJS({providers:[K]}),ue})();function Ee(ue,et,ze,Oe,xe){const[,Ce,$e]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===ue)||[];if(Ce)return function De(ue,et){try{return ue.toString()===et.toString()}catch{return ue===et}}(xe,$e)||(ve("error",`${et} was already initialized on the ${ze} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:xe,was:$e})),Ce;{const te=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ue,te,xe]),te}}const Ye=!!rt.hot,ve=(ue,...et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[ue](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(rt,Me,O)=>{O.d(Me,{q4:()=>Os,iC:()=>rr,HU:()=>_o,vb:()=>Uu,JM:()=>ic,nk:()=>Bn,u3:()=>xt});var a=O(4650),H=O(5867),P=O(5861),ie=O(9681),pe=O(2090),_e=O(4859),ne=O(1877);O(2833);const ge="@firebase/remote-config",W="0.3.13",Ee=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lt{constructor(N,Z,he,Ne){this.client=N,this.storage=Z,this.storageCache=he,this.logger=Ne}isCachedDataFresh(N,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Z,Ne=he<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ne}.`),Ne}fetch(N){var Z=this;return(0,P.Z)(function*(){const[he,Ne]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Z.isCachedDataFresh(N.cacheMaxAgeMillis,he))return Ne;N.eTag=Ne&&Ne.eTag;const Ge=yield Z.client.fetch(N),ft=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&ft.push(Z.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(ft),Ge})()}}function jt(L=navigator){return L.languages&&L.languages[0]||L.language}class Dt{constructor(N,Z,he,Ne,Ge,ft){this.firebaseInstallations=N,this.sdkVersion=Z,this.namespace=he,this.projectId=Ne,this.apiKey=Ge,this.appId=ft}fetch(N){var Z=this;return(0,P.Z)(function*(){var he,Ne,Ge;const[ft,Vt]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Tt={sdk_version:Z.sdkVersion,app_instance_id:ft,app_instance_id_token:Vt,app_id:Z.appId,language_code:jt()},Sn={method:"POST",headers:Un,body:JSON.stringify(Tt)},ds=fetch(At,Sn),hs=new Promise((Ps,sr)=>{N.signal.addEventListener(()=>{const Jn=new Error("The operation was aborted.");Jn.name="AbortError",sr(Jn)})});let Ci;try{yield Promise.race([ds,hs]),Ci=yield ds}catch(Ps){let sr="fetch-client-network";throw"AbortError"===(null===(he=Ps)||void 0===he?void 0:he.name)&&(sr="fetch-timeout"),Ee.create(sr,{originalErrorMessage:null===(Ne=Ps)||void 0===Ne?void 0:Ne.message})}let Ur=Ci.status;const Jo=Ci.headers.get("ETag")||void 0;let Ya,fs;if(200===Ci.status){let Ps;try{Ps=yield Ci.json()}catch(sr){throw Ee.create("fetch-client-parse",{originalErrorMessage:null===(Ge=sr)||void 0===Ge?void 0:Ge.message})}Ya=Ps.entries,fs=Ps.state}if("INSTANCE_STATE_UNSPECIFIED"===fs?Ur=500:"NO_CHANGE"===fs?Ur=304:("NO_TEMPLATE"===fs||"EMPTY_CONFIG"===fs)&&(Ya={}),304!==Ur&&200!==Ur)throw Ee.create("fetch-status",{httpStatus:Ur});return{status:Ur,eTag:Jo,config:Ya}})()}}class Tn{constructor(N,Z){this.client=N,this.storage=Z}fetch(N){var Z=this;return(0,P.Z)(function*(){const he=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(N,he)})()}attemptFetch(N,{throttleEndTimeMillis:Z,backoffCount:he}){var Ne=this;return(0,P.Z)(function*(){yield function je(L,N){return new Promise((Z,he)=>{const Ne=Math.max(N-Date.now(),0),Ge=setTimeout(Z,Ne);L.addEventListener(()=>{clearTimeout(Ge),he(Ee.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,Z);try{const Ge=yield Ne.client.fetch(N);return yield Ne.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function Jt(L){if(!(L instanceof pe.ZR&&L.customData))return!1;const N=Number(L.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ge))throw Ge;const ft={throttleEndTimeMillis:Date.now()+(0,pe.$s)(he),backoffCount:he+1};return yield Ne.storage.setThrottleMetadata(ft),Ne.attemptFetch(N,ft)}})()}}class kt{constructor(N,Z,he,Ne,Ge){this.app=N,this._client=Z,this._storageCache=he,this._storage=Ne,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mt(L,N){var Z;const he=L.target.error||void 0;return Ee.create(N,{originalErrorMessage:he&&(null===(Z=he)||void 0===Z?void 0:Z.message)})}const un="app_namespace_store";class Gn{constructor(N,Z,he,Ne=function In(){return new Promise((L,N)=>{var Z;try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=Ne=>{N(mt(Ne,"storage-open"))},he.onsuccess=Ne=>{L(Ne.target.result)},he.onupgradeneeded=Ne=>{0===Ne.oldVersion&&Ne.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(he){N(Ee.create("storage-open",{originalErrorMessage:null===(Z=he)||void 0===Z?void 0:Z.message}))}})}()){this.appId=N,this.appName=Z,this.namespace=he,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var Z=this;return(0,P.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((Ne,Ge)=>{var ft;const we=he.transaction([un],"readonly").objectStore(un),At=Z.createCompositeKey(N);try{const Un=we.get(At);Un.onerror=Tt=>{Ge(mt(Tt,"storage-get"))},Un.onsuccess=Tt=>{const Sn=Tt.target.result;Ne(Sn?Sn.value:void 0)}}catch(Un){Ge(Ee.create("storage-get",{originalErrorMessage:null===(ft=Un)||void 0===ft?void 0:ft.message}))}})})()}set(N,Z){var he=this;return(0,P.Z)(function*(){const Ne=yield he.openDbPromise;return new Promise((Ge,ft)=>{var Vt;const At=Ne.transaction([un],"readwrite").objectStore(un),Un=he.createCompositeKey(N);try{const Tt=At.put({compositeKey:Un,value:Z});Tt.onerror=Sn=>{ft(mt(Sn,"storage-set"))},Tt.onsuccess=()=>{Ge()}}catch(Tt){ft(Ee.create("storage-set",{originalErrorMessage:null===(Vt=Tt)||void 0===Vt?void 0:Vt.message}))}})})()}delete(N){var Z=this;return(0,P.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((Ne,Ge)=>{var ft;const we=he.transaction([un],"readwrite").objectStore(un),At=Z.createCompositeKey(N);try{const Un=we.delete(At);Un.onerror=Tt=>{Ge(mt(Tt,"storage-delete"))},Un.onsuccess=()=>{Ne()}}catch(Un){Ge(Ee.create("storage-delete",{originalErrorMessage:null===(ft=Un)||void 0===ft?void 0:ft.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class yi{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,P.Z)(function*(){const Z=N.storage.getLastFetchStatus(),he=N.storage.getLastSuccessfulFetchTimestampMillis(),Ne=N.storage.getActiveConfig(),Ge=yield Z;Ge&&(N.lastFetchStatus=Ge);const ft=yield he;ft&&(N.lastSuccessfulFetchTimestampMillis=ft);const Vt=yield Ne;Vt&&(N.activeConfig=Vt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Ai(){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,P.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function Nn(){(0,ie._registerComponent)(new _e.wA("remote-config",function L(N,{instanceIdentifier:Z}){const he=N.getProvider("app").getImmediate(),Ne=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ee.create("registration-window");if(!(0,pe.hl)())throw Ee.create("indexed-db-unavailable");const{projectId:Ge,apiKey:ft,appId:Vt}=he.options;if(!Ge)throw Ee.create("registration-project-id");if(!ft)throw Ee.create("registration-api-key");if(!Vt)throw Ee.create("registration-app-id");const we=new Gn(Vt,he.name,Z=Z||"firebase"),At=new yi(we),Un=new ne.Yd(ge);Un.logLevel=ne.in.ERROR;const Tt=new Dt(Ne,ie.SDK_VERSION,Z,Ge,ft,Vt),Sn=new Tn(Tt,we),ds=new lt(Sn,we,At,Un),hs=new kt(he,ds,At,we,Un);return function $e(L){const N=(0,pe.m9)(L);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(hs),hs},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ge,W),(0,ie.registerVersion)(ge,W,"esm2017")}();var sn=O(8766);const xn="/firebase-messaging-sw.js",nn="/firebase-cloud-messaging-push-scope",Qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",on="google.c.a.c_id",dn="google.c.a.c_l",Yt="google.c.a.ts",st="google.c.a.e";var ot=(()=>{return(L=ot||(ot={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",ot;var L})();function ln(L){const N=new Uint8Array(L);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ln(L){const Z=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Z),Ne=new Uint8Array(he.length);for(let Ge=0;Ge<he.length;++Ge)Ne[Ge]=he.charCodeAt(Ge);return Ne}const Xn="fcm_token_details_db",ii="fcm_token_object_Store";function Ct(L){return ri.apply(this,arguments)}function ri(){return ri=(0,P.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(Xn))return null;let N=null;return(yield(0,sn.X3)(Xn,5,{upgrade:(he=(0,P.Z)(function*(Ne,Ge,ft,Vt){var we;if(Ge<2||!Ne.objectStoreNames.contains(ii))return;const At=Vt.objectStore(ii),Un=yield At.index("fcmSenderId").get(L);if(yield At.clear(),Un)if(2===Ge){const Tt=Un;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;N={token:Tt.fcmToken,createTime:null!==(we=Tt.createTime)&&void 0!==we?we:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:ln(Tt.vapidKey)}}}else if(3===Ge){const Tt=Un;N={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ln(Tt.auth),p256dh:ln(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ln(Tt.vapidKey)}}}else if(4===Ge){const Tt=Un;N={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:ln(Tt.auth),p256dh:ln(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:ln(Tt.vapidKey)}}}}),function(Ge,ft,Vt,we){return he.apply(this,arguments)})})).close(),yield(0,sn.Lj)(Xn),yield(0,sn.Lj)("fcm_vapid_details_db"),yield(0,sn.Lj)("undefined"),Pt(N)?N:null;var he}),ri.apply(this,arguments)}function Pt(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:N}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const qe="firebase-messaging-store";let Ae=null;function Xe(){return Ae||(Ae=(0,sn.X3)("firebase-messaging-database",1,{upgrade:(L,N)=>{0===N&&L.createObjectStore(qe)}})),Ae}function dt(L){return _t.apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(L){const N=x(L),he=yield(yield Xe()).transaction(qe).objectStore(qe).get(N);if(he)return he;{const Ne=yield Ct(L.appConfig.senderId);if(Ne)return yield Ft(L,Ne),Ne}})).apply(this,arguments)}function Ft(L,N){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(L,N){const Z=x(L),Ne=(yield Xe()).transaction(qe,"readwrite");return yield Ne.objectStore(qe).put(N,Z),yield Ne.done,N})).apply(this,arguments)}function j(L){return R.apply(this,arguments)}function R(){return(R=(0,P.Z)(function*(L){const N=x(L),he=(yield Xe()).transaction(qe,"readwrite");yield he.objectStore(qe).delete(N),yield he.done})).apply(this,arguments)}function x({appConfig:L}){return L.appId}const k=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $(L,N){return ce.apply(this,arguments)}function ce(){return(ce=(0,P.Z)(function*(L,N){var Z;const he=yield Lt(L),Ne=Rt(N),Ge={method:"POST",headers:he,body:JSON.stringify(Ne)};let ft;try{ft=yield(yield fetch(nt(L.appConfig),Ge)).json()}catch(Vt){throw k.create("token-subscribe-failed",{errorInfo:null===(Z=Vt)||void 0===Z?void 0:Z.toString()})}if(ft.error)throw k.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw k.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function Pe(L,N){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(L,N){var Z;const he=yield Lt(L),Ne=Rt(N.subscriptionOptions),Ge={method:"PATCH",headers:he,body:JSON.stringify(Ne)};let ft;try{ft=yield(yield fetch(`${nt(L.appConfig)}/${N.token}`,Ge)).json()}catch(Vt){throw k.create("token-update-failed",{errorInfo:null===(Z=Vt)||void 0===Z?void 0:Z.toString()})}if(ft.error)throw k.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw k.create("token-update-no-token");return ft.token})).apply(this,arguments)}function me(L,N){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(L,N){var Z;const Ne={method:"DELETE",headers:yield Lt(L)};try{const ft=yield(yield fetch(`${nt(L.appConfig)}/${N}`,Ne)).json();if(ft.error)throw k.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(Ge){throw k.create("token-unsubscribe-failed",{errorInfo:null===(Z=Ge)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function nt({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function Lt(L){return yt.apply(this,arguments)}function yt(){return(yt=(0,P.Z)(function*({appConfig:L,installations:N}){const Z=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Rt({p256dh:L,auth:N,endpoint:Z,vapidKey:he}){const Ne={web:{endpoint:Z,auth:N,p256dh:L}};return he!==Qn&&(Ne.web.applicationPubKey=he),Ne}const zi=6048e5;function gn(L){return wr.apply(this,arguments)}function wr(){return(wr=(0,P.Z)(function*(L){const N=yield Nt(L.swRegistration,L.vapidKey),Z={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:N.endpoint,auth:ln(N.getKey("auth")),p256dh:ln(N.getKey("p256dh"))},he=yield dt(L.firebaseDependencies);if(he){if(En(he.subscriptionOptions,Z))return Date.now()>=he.createTime+zi?ee(L,{token:he.token,createTime:Date.now(),subscriptionOptions:Z}):he.token;try{yield me(L.firebaseDependencies,he.token)}catch(Ne){console.warn(Ne)}return Be(L.firebaseDependencies,Z)}return Be(L.firebaseDependencies,Z)})).apply(this,arguments)}function Lr(L){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*(L){const N=yield dt(L.firebaseDependencies);N&&(yield me(L.firebaseDependencies,N.token),yield j(L.firebaseDependencies));const Z=yield L.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function ee(L,N){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(L,N){try{const Z=yield Pe(L.firebaseDependencies,N),he=Object.assign(Object.assign({},N),{token:Z,createTime:Date.now()});return yield Ft(L.firebaseDependencies,he),Z}catch(Z){throw yield Lr(L),Z}})).apply(this,arguments)}function Be(L,N){return at.apply(this,arguments)}function at(){return(at=(0,P.Z)(function*(L,N){const he={token:yield $(L,N),createTime:Date.now(),subscriptionOptions:N};return yield Ft(L,he),he.token})).apply(this,arguments)}function Nt(L,N){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,P.Z)(function*(L,N){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ln(N)})})).apply(this,arguments)}function En(L,N){return N.vapidKey===L.vapidKey&&N.endpoint===L.endpoint&&N.auth===L.auth&&N.p256dh===L.p256dh}function _n(L){const N={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function Ii(L,N){if(!N.notification)return;L.notification={};const Z=N.notification.title;Z&&(L.notification.title=Z);const he=N.notification.body;he&&(L.notification.body=he);const Ne=N.notification.image;Ne&&(L.notification.image=Ne)}(N,L),function Si(L,N){!N.data||(L.data=N.data)}(N,L),function rn(L,N){var Z,he,Ne,Ge,ft;if(!(N.fcmOptions||null!==(Z=N.notification)&&void 0!==Z&&Z.click_action))return;L.fcmOptions={};const Vt=null!==(Ne=null===(he=N.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ne?Ne:null===(Ge=N.notification)||void 0===Ge?void 0:Ge.click_action;Vt&&(L.fcmOptions.link=Vt);const we=null===(ft=N.fcmOptions)||void 0===ft?void 0:ft.analytics_label;we&&(L.fcmOptions.analyticsLabel=we)}(N,L),N}function Lu(L){return"object"==typeof L&&!!L&&on in L}function co(L,N){const Z=[];for(let he=0;he<L.length;he++)Z.push(L.charAt(he)),he<N.length&&Z.push(N.charAt(he));return Z.join("")}function rs(L){return k.create("missing-app-config-values",{valueName:L})}co("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),co("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(N,Z,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function uo(L){if(!L||!L.options)throw rs("App Configuration Object");if(!L.name)throw rs("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=L;for(const he of N)if(!Z[he])throw rs(he);return{appName:L.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ne,installations:Z,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Vr(L){return Er.apply(this,arguments)}function Er(){return(Er=(0,P.Z)(function*(L){var N;try{L.swRegistration=yield navigator.serviceWorker.register(xn,{scope:nn}),L.swRegistration.update().catch(()=>{})}catch(Z){throw k.create("failed-service-worker-registration",{browserErrorMessage:null===(N=Z)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function hn(L,N){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(L,N){if(!N&&!L.swRegistration&&(yield Vr(L)),N||!L.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw k.create("invalid-sw-registration");L.swRegistration=N}})).apply(this,arguments)}function pi(L,N){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(L,N){N?L.vapidKey=N:L.vapidKey||(L.vapidKey=Qn)})).apply(this,arguments)}function Dr(){return(Dr=(0,P.Z)(function*(L,N){if(!navigator)throw k.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw k.create("permission-blocked");return yield pi(L,N?.vapidKey),yield hn(L,N?.serviceWorkerRegistration),gn(L)})).apply(this,arguments)}function ss(L,N,Z){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(L,N,Z){const he=Zo(N);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Z[on],message_name:Z[dn],message_time:Z[Yt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zo(L){switch(L){case ot.NOTIFICATION_CLICKED:return"notification_open";case ot.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ho(){return(ho=(0,P.Z)(function*(L,N){const Z=N.data;if(!Z.isFirebaseMessaging)return;L.onMessageHandler&&Z.messageType===ot.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(_n(Z)):L.onMessageHandler.next(_n(Z)));const he=Z.data;Lu(he)&&"1"===he[st]&&(yield ss(L,Z.messageType,he))})).apply(this,arguments)}const ks="@firebase/messaging",Qi=L=>{const N=new fr(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Gh(L,N){return ho.apply(this,arguments)}(N,Z)),N},Wh=L=>{const N=L.getProvider("messaging").getImmediate();return{getToken:he=>function ir(L,N){return Dr.apply(this,arguments)}(N,he)}};function Vu(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ar(){(0,ie._registerComponent)(new _e.wA("messaging",Qi,"PUBLIC")),(0,ie._registerComponent)(new _e.wA("messaging-internal",Wh,"PRIVATE")),(0,ie.registerVersion)(ks,"0.9.18"),(0,ie.registerVersion)(ks,"0.9.18","esm2017")}();var tc=O(7982),ja=O(4408),wm=O(7565);const bi=new class nc extends wm.v{}(class mo extends ja.o{constructor(N,Z){super(N,Z),this.scheduler=N,this.work=Z}schedule(N,Z=0){return Z>0?super.schedule(N,Z):(this.delay=Z,this.state=N,this.scheduler.flush(this),this)}execute(N,Z){return Z>0||this.closed?super.execute(N,Z):this._execute(N,Z)}requestAsyncId(N,Z,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(N,Z,he):(N.flush(this),0)}});var os=O(4986),$a=O(9751),za=O(8505),Xo=O(9468),Ga=O(5363);const Os=new a.GfV("7.4.1"),Fi="__angularfire_symbol__analyticsIsSupportedValue",Ir="__angularfire_symbol__analyticsIsSupported",Wa="__angularfire_symbol__remoteConfigIsSupportedValue",Ti="__angularfire_symbol__remoteConfigIsSupported",as="__angularfire_symbol__messagingIsSupportedValue",mi="__angularfire_symbol__messagingIsSupported";globalThis[Ir]||(globalThis[Ir]=(0,tc.Gb)().then(L=>globalThis[Fi]=L).catch(()=>globalThis[Fi]=!1)),globalThis[mi]||(globalThis[mi]=Vu().then(L=>globalThis[as]=L).catch(()=>globalThis[as]=!1)),globalThis[Ti]||(globalThis[Ti]=Ai().then(L=>globalThis[Wa]=L).catch(()=>globalThis[Wa]=!1));const Bn={async:()=>globalThis[Ir],sync:()=>{const L=globalThis[Fi];if(void 0===L)throw new Error((L=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${L} in the constructor, first ensure that ${L} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${L})\`.`)("Analytics"));return L}};function ic(L,N,Z){if(N){if(1===N.length)return N[0];const Ge=N.filter(ft=>ft.app===Z);if(1===Ge.length)return Ge[0]}return Z.container.getProvider(L).getImmediate({optional:!0})}const Uu=(L,N)=>{const Z=N?[N]:(0,H.C6)(),he=[];return Z.forEach(Ne=>{Ne.container.getProvider(L).instances.forEach(ft=>{he.includes(ft)||he.push(ft)})}),he};function pr(){}class xi{constructor(N,Z=bi){this.zone=N,this.delegate=Z}now(){return this.delegate.now()}schedule(N,Z,he){const Ne=this.zone;return this.delegate.schedule(function(ft){Ne.runGuarded(()=>{N.apply(this,[ft])})},Z,he)}}class rc{constructor(N){this.zone=N,this.task=null}call(N,Z){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pr,{},pr,pr)),Z.pipe((0,za.b)({next:he,complete:he,error:he})).subscribe(N).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _o=(()=>{class L{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new xi(Zone.current)),this.insideAngular=Z.run(()=>new xi(Zone.current,os.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(Z){return new(Z||L)(a.LFG(a.R0b))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Ni(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function an(L){return Ni().ngZone.runOutsideAngular(()=>L())}function cs(L){return Ni().ngZone.run(()=>L())}function rr(L){return Ni(),function vo(L){return function(Z){return(Z=Z.lift(new rc(L.ngZone))).pipe((0,Xo.R)(L.outsideAngular),(0,Ga.Q)(L.insideAngular))}}(Ni())(L)}const yo=(L,N)=>function(){const he=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),cs(()=>L.apply(void 0,he))},xt=(L,N)=>function(){let Z;const he=arguments;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof he[Ge]&&(N&&(Z||(Z=cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pr,{},pr,pr)))),he[Ge]=yo(he[Ge],Z));const Ne=an(()=>L.apply(this,he));if(!N){if(Ne instanceof $a.y){const Ge=Ni();return Ne.pipe((0,Xo.R)(Ge.outsideAngular),(0,Ga.Q)(Ge.insideAngular))}return cs(()=>Ne)}return Ne instanceof $a.y?Ne.pipe(rr):Ne instanceof Promise?cs(()=>new Promise((Ge,ft)=>Ne.then(Vt=>cs(()=>Ge(Vt)),Vt=>cs(()=>ft(Vt))))):"function"==typeof Ne&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Ne.apply(this,arguments)}:cs(()=>Ne)}},9934:(rt,Me,O)=>{O.d(Me,{$:()=>Ge,A:()=>z,B:()=>Ee,G:()=>be,H:()=>En,J:()=>Ar,L:()=>G,M:()=>nc,N:()=>$a,P:()=>Io,Q:()=>za,R:()=>Hm,T:()=>Xo,U:()=>os,V:()=>Ir,W:()=>Wa,X:()=>Em,Y:()=>vo,Z:()=>xt,_:()=>N,a:()=>Ns,a0:()=>Un,a1:()=>Sn,a2:()=>hs,a3:()=>Ur,a4:()=>Ya,a5:()=>Ps,a6:()=>Jn,a7:()=>Hr,a8:()=>Za,a9:()=>Fs,aA:()=>wc,aB:()=>ld,aC:()=>yn,aD:()=>sd,aE:()=>ht,aI:()=>ta,aL:()=>Os,aa:()=>Sy,ab:()=>Hu,ac:()=>$u,af:()=>Im,ag:()=>Sm,ah:()=>Xh,ak:()=>pr,al:()=>km,an:()=>Rm,ao:()=>Qu,ap:()=>nt,aq:()=>ye,ar:()=>Se,as:()=>Pe,at:()=>ze,au:()=>Ac,av:()=>To,aw:()=>Oe,ax:()=>te,ay:()=>J,az:()=>j,b:()=>wo,c:()=>jm,d:()=>yc,e:()=>id,f:()=>ra,g:()=>ky,h:()=>hf,i:()=>mc,j:()=>ff,k:()=>Ic,l:()=>vc,m:()=>zr,o:()=>fe,r:()=>ut,s:()=>B,u:()=>Mn,v:()=>Qa});var a=O(5861),H=O(2090),P=O(9681),ie=O(1877),pe=O(655),_e=O(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new ie.Yd("@firebase/auth");function et(y,...m){ue.logLevel<=ie.in.ERROR&&ue.error(`Auth (${P.SDK_VERSION}): ${y}`,...m)}function ze(y,...m){throw $e(y,...m)}function Oe(y,...m){return $e(y,...m)}function xe(y,m,g){const C=Object.assign(Object.assign({},De()),{[m]:g});return new H.LL("auth","Firebase",C).create(m,{appName:y.name})}function Ce(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&ze(y,"argument-error"),xe(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(y,...m){if("string"!=typeof y){const g=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return Ye.create(y,...m)}function te(y,m,...g){if(!y)throw $e(m,...g)}function ae(y){const m="INTERNAL ASSERTION FAILED: "+y;throw et(m),new Error(m)}function ye(y,m){y||ae(m)}const Q=new Map;function J(y){ye(y instanceof Function,"Expected a class definition");let m=Q.get(y);return m?(ye(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,Q.set(y,m),m)}function Ve(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Le(){return"http:"===lt()||"https:"===lt()}function lt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class je{constructor(m,g){this.shortDelay=m,this.longDelay=g,ye(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jt(y,m){ye(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Tn{static initialize(m,g,C){this.fetchImpl=m,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$t=new je(3e4,6e4);function kt(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function mt(y,m,g,C){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(y,m,g,C,S={}){return Di(y,S,(0,a.Z)(function*(){let F={},re={};C&&("GET"===m?re=C:F={body:JSON.stringify(C)});const Te=(0,H.xO)(Object.assign({key:y.config.apiKey},re)).slice(1),Je=yield y._getAdditionalHeaders();return Je["Content-Type"]="application/json",y.languageCode&&(Je["X-Firebase-Locale"]=y.languageCode),Tn.fetch()(yi(y,y.config.apiHost,g,Te),Object.assign({method:m,headers:Je,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Di(y,m,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(y,m,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Kt),m);try{const S=new Nn(y),F=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const re=yield F.json();if("needConfirmation"in re)throw Fn(y,"account-exists-with-different-credential",re);if(F.ok&&!("errorMessage"in re))return re;{const Te=F.ok?re.errorMessage:re.error.message,[Je,pt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Fn(y,"credential-already-in-use",re);if("EMAIL_EXISTS"===Je)throw Fn(y,"email-already-in-use",re);if("USER_DISABLED"===Je)throw Fn(y,"user-disabled",re);const Ut=C[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw xe(y,Ut,pt);ze(y,Ut)}}catch(S){if(S instanceof H.ZR)throw S;ze(y,"network-request-failed")}})).apply(this,arguments)}function In(y,m,g,C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(y,m,g,C,S={}){const F=yield mt(y,m,g,C,S);return"mfaPendingCredential"in F&&ze(y,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function yi(y,m,g,C){const S=`${m}${g}?${C}`;return y.config.emulator?Jt(y.config,S):`${y.config.apiScheme}://${S}`}class Nn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Oe(this.auth,"network-request-failed")),$t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(y,m,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const S=Oe(y,m,C);return S.customData._tokenResponse=g,S}function Ai(){return(Ai=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Qe(y,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function xn(y,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Qn(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function dn(){return(dn=(0,a.Z)(function*(y,m=!1){const g=(0,H.m9)(y),C=yield g.getIdToken(m),S=st(C);te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const F="object"==typeof S.firebase?S.firebase:void 0,re=F?.sign_in_provider;return{claims:S,token:C,authTime:Qn(Yt(S.auth_time)),issuedAtTime:Qn(Yt(S.iat)),expirationTime:Qn(Yt(S.exp)),signInProvider:re||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Yt(y){return 1e3*Number(y)}function st(y){var m;const[g,C,S]=y.split(".");if(void 0===g||void 0===C||void 0===S)return et("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,H.tV)(C);return F?JSON.parse(F):(et("Failed to decode base64 JWT payload"),null)}catch(F){return et("Caught error parsing JWT payload as JSON",null===(m=F)||void 0===m?void 0:m.toString()),null}}function ot(y,m){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(C){throw C instanceof H.ZR&&Ln(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Ln({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),C)}iteration(){var m=this;return(0,a.Z)(function*(){var g;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&m.schedule(!0))}m.schedule()})()}}class vt{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(y){var m;const g=y.auth,C=yield y.getIdToken(),S=yield ot(y,xn(g,{idToken:C}));te(S?.users.length,g,"internal-error");const F=S.users[0];y._notifyReloadListener(F);const re=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?mn(F.providerUserInfo):[],Te=Vn(y.providerData,re),Ut=!!y.isAnonymous&&!(y.email&&F.passwordHash||Te?.length),On={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Te,metadata:new vt(F.createdAt,F.lastLoginAt),isAnonymous:Ut};Object.assign(y,On)})).apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(y){const m=(0,H.m9)(y);yield ii(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Vn(y,m){return[...y.filter(C=>!m.some(S=>S.providerId===C.providerId)),...m]}function mn(y){return y.map(m=>{var{providerId:g}=m,C=(0,pe._T)(m,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ae(){return(Ae=(0,a.Z)(function*(y,m){const g=yield Di(y,{},(0,a.Z)(function*(){const C=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:F}=y.config,re=yi(y,S,"/v1/token",`key=${F}`),Te=yield y._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(re,{method:"POST",headers:Te,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(typeof m.idToken<"u","internal-error"),te(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function it(y){const m=st(y);return te(m,"internal-error"),te(typeof m.exp<"u","internal-error"),te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var C=this;return(0,a.Z)(function*(){return te(!C.accessToken||C.refreshToken,m,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var C=this;return(0,a.Z)(function*(){const{accessToken:S,refreshToken:F,expiresIn:re}=yield function qe(y,m){return Ae.apply(this,arguments)}(m,g);C.updateTokensAndExpiration(S,F,Number(re))})()}updateTokensAndExpiration(m,g,C){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,g){const{refreshToken:C,accessToken:S,expirationTime:F}=g,re=new Xe;return C&&(te("string"==typeof C,"internal-error",{appName:m}),re.refreshToken=C),S&&(te("string"==typeof S,"internal-error",{appName:m}),re.accessToken=S),F&&(te("number"==typeof F,"internal-error",{appName:m}),re.expirationTime=F),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return ae("not implemented")}}function dt(y,m){te("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class _t{constructor(m){var{uid:g,auth:C,stsTokenManager:S}=m,F=(0,pe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new vt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,a.Z)(function*(){const C=yield ot(g,g.stsTokenManager.getToken(g.auth,m));return te(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(m){return function on(y){return dn.apply(this,arguments)}(this,m)}reload(){return function ri(y){return Pt.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new _t(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var C=this;return(0,a.Z)(function*(){let S=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),S=!0),g&&(yield ii(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,a.Z)(function*(){const g=yield m.getIdToken();return yield ot(m,function ai(y,m){return Ai.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var C,S,F,re,Te,Je,pt,Ut;const On=null!==(C=g.displayName)&&void 0!==C?C:void 0,vr=null!==(S=g.email)&&void 0!==S?S:void 0,Ro=null!==(F=g.phoneNumber)&&void 0!==F?F:void 0,Dd=null!==(re=g.photoURL)&&void 0!==re?re:void 0,Ad=null!==(Te=g.tenantId)&&void 0!==Te?Te:void 0,Id=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,Cf=null!==(pt=g.createdAt)&&void 0!==pt?pt:void 0,wf=null!==(Ut=g.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:Sd,emailVerified:ha,isAnonymous:fa,providerData:pl,stsTokenManager:pa}=g;te(Sd&&pa,m,"internal-error");const Xm=Xe.fromJSON(this.name,pa);te("string"==typeof Sd,m,"internal-error"),dt(On,m.name),dt(vr,m.name),te("boolean"==typeof ha,m,"internal-error"),te("boolean"==typeof fa,m,"internal-error"),dt(Ro,m.name),dt(Dd,m.name),dt(Ad,m.name),dt(Id,m.name),dt(Cf,m.name),dt(wf,m.name);const qn=new _t({uid:Sd,auth:m,email:vr,emailVerified:ha,displayName:On,isAnonymous:fa,photoURL:Dd,phoneNumber:Ro,tenantId:Ad,stsTokenManager:Xm,createdAt:Cf,lastLoginAt:wf});return pl&&Array.isArray(pl)&&(qn.providerData=pl.map(Jm=>Object.assign({},Jm))),Id&&(qn._redirectEventId=Id),qn}static _fromIdTokenResponse(m,g,C=!1){return(0,a.Z)(function*(){const S=new Xe;S.updateFromServerResponse(g);const F=new _t({uid:g.localId,auth:m,stsTokenManager:S,isAnonymous:C});return yield ii(F),F})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,C){var S=this;return(0,a.Z)(function*(){S.storage[g]=C})()}_get(g){var C=this;return(0,a.Z)(function*(){const S=C.storage[g];return void 0===S?null:S})()}_remove(g){var C=this;return(0,a.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function j(y,m,g){return`firebase:${y}:${m}:${g}`}class R{constructor(m,g,C){this.persistence=m,this.auth=g,this.userKey=C;const{config:S,name:F}=this.auth;this.fullUserKey=j(this.userKey,S.apiKey,F),this.fullPersistenceKey=j("persistence",S.apiKey,F),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?_t._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,a.Z)(function*(){if(g.persistence===m)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,C="authUser"){return(0,a.Z)(function*(){if(!g.length)return new R(J(G),m,C);const S=(yield Promise.all(g.map(function(){var pt=(0,a.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let F=S[0]||J(G);const re=j(C,m.config.apiKey,m.name);let Te=null;for(const pt of g)try{const Ut=yield pt._get(re);if(Ut){const On=_t._fromJSON(m,Ut);pt!==F&&(Te=On),F=pt;break}}catch{}const Je=S.filter(pt=>pt._shouldAllowMigration);return F._shouldAllowMigration&&Je.length?(F=Je[0],Te&&(yield F._set(re,Te.toJSON())),yield Promise.all(g.map(function(){var pt=(0,a.Z)(function*(Ut){if(Ut!==F)try{yield Ut._remove(re)}catch{}});return function(Ut){return pt.apply(this,arguments)}}())),new R(F,m,C)):new R(F,m,C)})()}}function x(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ce(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(A(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ue(m))return"Blackberry";if(me(m))return"Webos";if(k(m))return"Safari";if((m.includes("chrome/")||$(m))&&!m.includes("edge/"))return"Chrome";if(Pe(m))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function A(y=(0,H.z$)()){return/firefox\//i.test(y)}function k(y=(0,H.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function $(y=(0,H.z$)()){return/crios\//i.test(y)}function ce(y=(0,H.z$)()){return/iemobile/i.test(y)}function Pe(y=(0,H.z$)()){return/android/i.test(y)}function Ue(y=(0,H.z$)()){return/blackberry/i.test(y)}function me(y=(0,H.z$)()){return/webos/i.test(y)}function Se(y=(0,H.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function nt(y=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Rt(y=(0,H.z$)()){return Se(y)||Pe(y)||me(y)||Ue(y)||/windows phone/i.test(y)||ce(y)}function gn(y,m=[]){let g;switch(y){case"Browser":g=x((0,H.z$)());break;case"Worker":g=`${x((0,H.z$)())}-${y}`;break;default:g=y}const C=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${C}`}class wr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const C=F=>new Promise((re,Te)=>{try{re(m(F))}catch(Je){Te(Je)}});C.onAbort=g,this.queue.push(C);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,a.Z)(function*(){var C;if(g.auth.currentUser===m)return;const S=[];try{for(const F of g.queue)yield F(m),F.onAbort&&S.push(F.onAbort)}catch(F){S.reverse();for(const re of S)try{re()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=F)||void 0===C?void 0:C.message})}})()}}class Lr{constructor(m,g,C){this.app=m,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,g){var C=this;return g&&(this._popupRedirectResolver=J(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var S,F;if(!C._deleted&&(C.persistenceManager=yield R.create(C,m),!C._deleted)){if(null!==(S=C._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,a.Z)(function*(){var C;const S=yield g.assertedPersistence.getCurrentUser();let F=S,re=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Te=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Je=F?._redirectEventId,pt=yield g.tryRedirectSignIn(m);(!Te||Te===Je)&&pt?.user&&(F=pt.user,re=!0)}if(!F)return g.directlySetCurrentUser(null);if(!F._redirectEventId){if(re)try{yield g.beforeStateQueue.runMiddleware(F)}catch(Te){F=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Te))}return F?g.reloadAndSetCurrentUserOrClear(F):g.directlySetCurrentUser(null)}return te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===F._redirectEventId?g.directlySetCurrentUser(F):g.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var g=this;return(0,a.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,a.Z)(function*(){var C;try{yield ii(m)}catch(S){if("auth/network-request-failed"!==(null===(C=S)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,a.Z)(function*(){const C=m?(0,H.m9)(m):null;return C&&te(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(m,g=!1){var C=this;return(0,a.Z)(function*(){if(!C._deleted)return m&&te(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,a.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(J(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,g,C){return this.registerStateListener(this.authStateSubscription,m,g,C)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,C){return this.registerStateListener(this.idTokenSubscription,m,g,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var C=this;return(0,a.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(g);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const C=m&&J(m)||g._popupRedirectResolver;te(C,g,"argument-error"),g.redirectPersistenceManager=yield R.create(g,[J(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,a.Z)(function*(){var C,S;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===m?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,a.Z)(function*(){if(m===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,C,S){if(this._deleted)return()=>{};const F="function"==typeof g?g:g.next.bind(g),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>F(this.currentUser)),"function"==typeof g?m.addObserver(g,C,S):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var g;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function ht(y){return(0,H.m9)(y)}class ee{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function be(y,m,g){const C=ht(y);te(C._canInitEmulator,C,"emulator-config-failed"),te(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const S=!!g?.disableWarnings,F=Be(m),{host:re,port:Te}=function at(y){const m=Be(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const F=S[1];return{host:F,port:Nt(C.substr(F.length+1))}}{const[F,re]=C.split(":");return{host:F,port:Nt(re)}}}(m);C.config.emulator={url:`${F}//${re}${null===Te?"":`:${Te}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:re,port:Te,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Qt(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function Be(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function Nt(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class En{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return ae("not implemented")}_getIdTokenResponse(m){return ae("not implemented")}_linkToIdToken(m,g){return ae("not implemented")}_getReauthenticationResolver(m){return ae("not implemented")}}function _n(y,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:resetPassword",kt(y,m))})).apply(this,arguments)}function Si(y,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Lu(y,m){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:update",kt(y,m))})).apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithPassword",kt(y,m))})).apply(this,arguments)}function fr(y,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:sendOobCode",kt(y,m))})).apply(this,arguments)}function Er(y,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(y,m){return fr(y,m)})).apply(this,arguments)}function Ha(y,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(y,m){return fr(y,m)})).apply(this,arguments)}function Mi(y,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(y,m){return fr(y,m)})).apply(this,arguments)}function Dr(y,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(y,m){return fr(y,m)})).apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithEmailLink",kt(y,m))})).apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithEmailLink",kt(y,m))})).apply(this,arguments)}class ks extends En{constructor(m,g,C,S=null){super("password",C),this._email=m,this._password=g,this._tenantId=S}static _fromEmailAndPassword(m,g){return new ks(m,g,"password")}static _fromEmailAndCode(m,g,C=null){return new ks(m,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function uo(y,m){return rs.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ki(y,m){return Zo.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:ze(m,"internal-error")}})()}_linkToIdToken(m,g){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return Si(m,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Gh(y,m){return ho.apply(this,arguments)}(m,{idToken:g,email:C._email,oobCode:C._password});default:ze(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Br(y,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithIdp",kt(y,m))})).apply(this,arguments)}class Ar extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new Ar(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):ze("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:S}=g,F=(0,pe._T)(g,["providerId","signInMethod"]);if(!C||!S)return null;const re=new Ar(C,S);return re.idToken=F.idToken||void 0,re.accessToken=F.accessToken||void 0,re.secret=F.secret,re.nonce=F.nonce,re.pendingToken=F.pendingToken||null,re}_getIdTokenResponse(m){return Br(m,this.buildRequest())}_linkToIdToken(m,g){const C=this.buildRequest();return C.idToken=g,Br(m,C)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Br(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,H.xO)(g)}return m}}function Vu(y,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:sendVerificationCode",kt(y,m))})).apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,m))})).apply(this,arguments)}function Bu(){return(Bu=(0,a.Z)(function*(y,m){const g=yield In(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,m));if(g.temporaryProof)throw Fn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Cm={USER_NOT_FOUND:"user-not-found"};function Rs(){return(Rs=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithPhoneNumber",kt(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Cm)})).apply(this,arguments)}class po extends En{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new po({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new po({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function fo(y,m){return Qo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Yh(y,m){return Bu.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ec(y,m){return Rs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:C,verificationCode:S}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:C,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:F}=m;return C||g||S||F?new po({verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:F}):null}}class mo{constructor(m){var g,C,S,F,re,Te;const Je=(0,H.zd)((0,H.pd)(m)),pt=null!==(g=Je.apiKey)&&void 0!==g?g:null,Ut=null!==(C=Je.oobCode)&&void 0!==C?C:null,On=function tc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Je.mode)&&void 0!==S?S:null);te(pt&&Ut&&On,"argument-error"),this.apiKey=pt,this.operation=On,this.code=Ut,this.continueUrl=null!==(F=Je.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(re=Je.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Te=Je.tenantId)&&void 0!==Te?Te:null}static parseLink(m){const g=function ja(y){const m=(0,H.zd)((0,H.pd)(y)).link,g=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,C=(0,H.zd)((0,H.pd)(y)).deep_link_id;return(C?(0,H.zd)((0,H.pd)(C)).link:null)||C||g||m||y}(m);try{return new mo(g)}catch{return null}}}let nc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return ks._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const S=mo.parseLink(C);return te(S,"argument-error"),ks._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class go extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class os extends go{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return te("providerId"in g&&"signInMethod"in g,"argument-error"),Ar._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return os.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return os.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:F,nonce:re,providerId:Te}=m;if(!C&&!S&&!g&&!F||!Te)return null;try{return new os(Te)._credential({idToken:g,accessToken:C,nonce:re,pendingToken:F})}catch{return null}}}let $a=(()=>{class y extends go{constructor(){super("facebook.com")}static credential(g){return Ar._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),za=(()=>{class y extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Ar._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:S}=g;if(!C&&!S)return null;try{return y.credential(C,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Xo=(()=>{class y extends go{constructor(){super("github.com")}static credential(g){return Ar._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Os extends En{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return Br(m,this.buildRequest())}_linkToIdToken(m,g){const C=this.buildRequest();return C.idToken=g,Br(m,C)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Br(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:S,pendingToken:F}=g;return C&&S&&F&&C===S?new Os(C,F):null}static _create(m,g){return new Os(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends bi{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ir.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ir.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=Os.fromJSON(m);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:C}=m;if(!g||!C)return null;try{return Os._create(C,g)}catch{return null}}}let Wa=(()=>{class y extends go{constructor(){super("twitter.com")}static credential(g,C){return Ar._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=g;if(!C||!S)return null;try{return y.credential(C,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ti(y,m){return as.apply(this,arguments)}function as(){return(as=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signUp",kt(y,m))})).apply(this,arguments)}class mi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,C,S=!1){return(0,a.Z)(function*(){const F=yield _t._fromIdTokenResponse(m,C,S),re=ls(C);return new mi({user:F,providerId:re,_tokenResponse:C,operationType:g})})()}static _forOperation(m,g,C){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const S=ls(C);return new mi({user:m,providerId:S,_tokenResponse:C,operationType:g})})()}}function ls(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Em(y){return qh.apply(this,arguments)}function qh(){return(qh=(0,a.Z)(function*(y){var m;const g=ht(y);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new mi({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Ti(g,{returnSecureToken:!0}),S=yield mi._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Bn extends H.ZR{constructor(m,g,C,S){var F;super(g.code,g.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,Bn.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,g,C,S){return new Bn(m,g,C,S)}}function ic(y,m,g,C){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Bn._fromErrorAndOperation(y,F,m,C):F})}function Uu(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function pr(y,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(y,m){const g=(0,H.m9)(y);yield Ni(!0,g,m);const{providerUserInfo:C}=yield Qe(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),S=Uu(C||[]);return g.providerData=g.providerData.filter(F=>S.has(F.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function rc(y,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(y,m,g=!1){const C=yield ot(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return mi._forOperation(y,"link",C)})).apply(this,arguments)}function Ni(y,m,g){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(y,m,g){yield ii(m);const S=!1===y?"provider-already-linked":"no-such-provider";te(Uu(m.providerData).has(g)===y,m.auth,S)})).apply(this,arguments)}function cs(y,m){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(y,m,g=!1){var C;const{auth:S}=y,F="reauthenticate";try{const re=yield ot(y,ic(S,F,m,y),g);te(re.idToken,S,"internal-error");const Te=st(re.idToken);te(Te,S,"internal-error");const{sub:Je}=Te;return te(y.uid===Je,S,"user-mismatch"),mi._forOperation(y,F,re)}catch(re){throw"auth/user-not-found"===(null===(C=re)||void 0===C?void 0:C.code)&&ze(S,"user-mismatch"),re}})).apply(this,arguments)}function Zh(y,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(y,m,g=!1){const C="signIn",S=yield ic(y,C,m),F=yield mi._fromIdTokenResponse(y,C,S);return g||(yield y._updateCurrentUser(F.user)),F})).apply(this,arguments)}function vo(y,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(y,m){return Zh(ht(y),m)})).apply(this,arguments)}function xt(y,m){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(y,m){const g=(0,H.m9)(y);return yield Ni(!1,g,m.providerId),rc(g,m)})).apply(this,arguments)}function N(y,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(y,m){return cs((0,H.m9)(y),m)})).apply(this,arguments)}function he(y,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(y,m){return In(y,"POST","/v1/accounts:signInWithCustomToken",kt(y,m))})).apply(this,arguments)}function Ge(y,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(y,m){const g=ht(y),C=yield he(g,{token:m,returnSecureToken:!0}),S=yield mi._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Vt{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?we._fromServerResponse(m,g):ze(m,"internal-error")}}class we extends Vt{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new we(g)}}function At(y,m,g){var C;te((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),te(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Un(y,m,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y),S={requestType:"PASSWORD_RESET",email:m};g&&At(C,S,g),yield Ha(C,S)})).apply(this,arguments)}function Sn(y,m,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(y,m,g){yield _n((0,H.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function hs(y,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(y,m){yield Lu((0,H.m9)(y),{oobCode:m})})).apply(this,arguments)}function Ur(y,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(y,m){const g=(0,H.m9)(y),C=yield _n(g,{oobCode:m}),S=C.requestType;switch(te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(C.mfaInfo,g,"internal-error");default:te(C.email,g,"internal-error")}let F=null;return C.mfaInfo&&(F=Vt._fromServerResponse(ht(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:S}})).apply(this,arguments)}function Ya(y,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(y,m){const{data:g}=yield Ur((0,H.m9)(y),m);return g.email})).apply(this,arguments)}function Ps(y,m,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(y,m,g){const C=ht(y),S=yield Ti(C,{returnSecureToken:!0,email:m,password:g}),F=yield mi._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function Jn(y,m,g){return vo((0,H.m9)(y),nc.credential(m,g))}function Hr(y,m,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y),S={requestType:"EMAIL_SIGNIN",email:m};te(g.handleCodeInApp,C,"argument-error"),g&&At(C,S,g),yield Mi(C,S)})).apply(this,arguments)}function Za(y,m){return"EMAIL_SIGNIN"===mo.parseLink(m)?.operation}function Fs(y,m,g){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y),S=nc.credentialWithLink(m,g||Ve());return te(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),vo(C,S)})).apply(this,arguments)}function Dm(y,m){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:createAuthUri",kt(y,m))})).apply(this,arguments)}function Sy(y,m){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(y,m){const C={identifier:m,continueUri:Le()?Ve():"http://localhost"},{signinMethods:S}=yield Dm((0,H.m9)(y),C);return S||[]})).apply(this,arguments)}function Hu(y,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,a.Z)(function*(y,m){const g=(0,H.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&At(g.auth,S,m);const{email:F}=yield Er(g.auth,S);F!==y.email&&(yield y.reload())})).apply(this,arguments)}function $u(y,m,g){return zu.apply(this,arguments)}function zu(){return(zu=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&At(C.auth,F,g);const{email:re}=yield Dr(C.auth,F);re!==y.email&&(yield y.reload())})).apply(this,arguments)}function Am(y,m){return oc.apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(y,m){return mt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Im(y,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const C=(0,H.m9)(y),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},re=yield ot(C,Am(C.auth,F));C.displayName=re.displayName||null,C.photoURL=re.photoUrl||null;const Te=C.providerData.find(({providerId:Je})=>"password"===Je);Te&&(Te.displayName=C.displayName,Te.photoURL=C.photoURL),yield C._updateTokensIfNecessary(re)})).apply(this,arguments)}function Sm(y,m){return ea((0,H.m9)(y),m,null)}function Xh(y,m){return ea((0,H.m9)(y),null,m)}function ea(y,m,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(y,m,g){const{auth:C}=y,F={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(F.email=m),g&&(F.password=g);const re=yield ot(y,Si(C,F));yield y._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Wn{constructor(m,g,C={}){this.isNewUser=m,this.providerId=g,this.profile=C}}class ps extends Wn{constructor(m,g,C,S){super(m,g,C),this.username=S}}class Yn extends Wn{constructor(m,g){super(m,"facebook.com",g)}}class Jh extends ps{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Tm extends Wn{constructor(m,g){super(m,"google.com",g)}}class xm extends ps{constructor(m,g,C){super(m,"twitter.com",g,C)}}function km(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Mm(y){var m,g;if(!y)return null;const{providerId:C}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},F=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const re=null===(g=null===(m=st(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(re)return new Wn(F,"anonymous"!==re&&"custom"!==re?re:null)}if(!C)return null;switch(C){case"facebook.com":return new Yn(F,S);case"github.com":return new Jh(F,S);case"google.com":return new Tm(F,S);case"twitter.com":return new xm(F,S,y.screenName||null);case"custom":case"anonymous":return new Wn(F,null);default:return new Wn(F,C,S)}}(g)}function Qa(y,m,g,C){return(0,H.m9)(y).onAuthStateChanged(m,g,C)}class mr{constructor(m,g,C){this.type=m,this.credential=g,this.auth=C}static _fromIdtoken(m,g){return new mr("enroll",m,g)}static _fromMfaPendingCredential(m){return new mr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,C;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return mr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return mr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Zu{constructor(m,g,C){this.session=m,this.hints=g,this.signInResolver=C}static _fromError(m,g){const C=ht(m),S=g.customData._serverResponse,F=(S.mfaInfo||[]).map(Te=>Vt._fromServerResponse(C,Te));te(S.mfaPendingCredential,C,"internal-error");const re=mr._fromMfaPendingCredential(S.mfaPendingCredential);return new Zu(re,F,function(){var Te=(0,a.Z)(function*(Je){const pt=yield Je._process(C,re);delete S.mfaInfo,delete S.mfaPendingCredential;const Ut=Object.assign(Object.assign({},S),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(g.operationType){case"signIn":const On=yield mi._fromIdTokenResponse(C,g.operationType,Ut);return yield C._updateCurrentUser(On.user),On;case"reauthenticate":return te(g.user,C,"internal-error"),mi._forOperation(g.user,g.operationType,Ut);default:ze(C,"internal-error")}});return function(Je){return Te.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,a.Z)(function*(){return g.signInResolver(m)})()}}function Rm(y,m){var g;const C=(0,H.m9)(y),S=m;return te(m.customData.operationType,C,"argument-error"),te(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),Zu._fromError(C,S)}function Xa(y,m){return mt(y,"POST","/v2/accounts/mfaEnrollment:start",kt(y,m))}class cc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Vt._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new cc(m)}getSession(){var m=this;return(0,a.Z)(function*(){return mr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var C=this;return(0,a.Z)(function*(){const S=m,F=yield C.getSession(),re=yield ot(C.user,S._process(C.user.auth,F,g));return yield C.user._updateTokensIfNecessary(re),C.user.reload()})()}unenroll(m){var g=this;return(0,a.Z)(function*(){var C;const S="string"==typeof m?m:m.uid,F=yield g.user.getIdToken(),re=yield ot(g.user,function lc(y,m){return mt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(y,m))}(g.user.auth,{idToken:F,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Te})=>Te!==S),yield g.user._updateTokensIfNecessary(re);try{yield g.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(C=Te)||void 0===C?void 0:C.code))throw Te}})()}}const Om=new WeakMap;function Qu(y){const m=(0,H.m9)(y);return Om.has(m)||Om.set(m,cc._fromUser(m)),Om.get(m)}const ms="__sak";class Xu{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ms,"1"),this.storage.removeItem(ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class y extends Xu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ju(){const y=(0,H.z$)();return k(y)||Se(y)}()&&function zi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),F=this.localCache[C];S!==F&&g(C,F,S)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((Te,Je,pt)=>{this.notifyListeners(Te,pt)});const S=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(S);if(g.newValue!==Te)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!C)return}const F=()=>{const Te=this.storage.getItem(S);!C&&this.localCache[S]===Te||this.notifyListeners(S,Te)},re=this.storage.getItem(S);!function yt(){return(0,H.w1)()&&10===document.documentMode}()||re===g.newValue||g.newValue===g.oldValue?F():setTimeout(F,10)}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const F of Array.from(S))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var S=()=>super._set,F=this;return(0,a.Z)(function*(){yield S().call(F,g,C),F.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,S=this;return(0,a.Z)(function*(){const F=yield C().call(S,g);return S.localCache[g]=JSON.stringify(F),F})()}_remove(g){var C=()=>super._remove,S=this;return(0,a.Z)(function*(){yield C().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),Ns=(()=>{class y extends Xu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let uc=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(F=>F.isListeningto(g));if(C)return C;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,a.Z)(function*(){const S=g,{eventId:F,eventType:re,data:Te}=S.data,Je=C.handlersMap[re];if(!Je?.size)return;S.ports[0].postMessage({status:"ack",eventId:F,eventType:re});const pt=Array.from(Je).map(function(){var On=(0,a.Z)(function*(vr){return vr(S.origin,Te)});return function(vr){return On.apply(this,arguments)}}()),Ut=yield function ed(y){return Promise.all(y.map(function(){var m=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return m.apply(this,arguments)}}()))}(pt);S.ports[0].postMessage({status:"done",eventId:F,eventType:re,response:Ut})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ta(y="",m=10){let g="";for(let C=0;C<m;C++)g+=Math.floor(10*Math.random());return y+g}class Nm{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,C=50){var S=this;return(0,a.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let re,Te;return new Promise((Je,pt)=>{const Ut=ta("",20);F.port1.start();const On=setTimeout(()=>{pt(new Error("unsupported_event"))},C);Te={messageChannel:F,onMessage(vr){const Ro=vr;if(Ro.data.eventId===Ut)switch(Ro.data.status){case"ack":clearTimeout(On),re=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Je(Ro.data.response);break;default:clearTimeout(On),clearTimeout(re),pt(new Error("invalid_response"))}}},S.handlers.add(Te),F.port1.addEventListener("message",Te.onMessage),S.target.postMessage({eventType:m,eventId:Ut,data:g},[F.port2])}).finally(()=>{Te&&S.removeMessageHandler(Te)})})()}}function gi(){return window}function Mr(){return typeof gi().WorkerGlobalScope<"u"&&"function"==typeof gi().importScripts}function Eo(){return(Eo=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const el="firebaseLocalStorageDb",nl="firebaseLocalStorage",hc="fbase_key";class Do{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fc(y,m){return y.transaction([nl],m?"readwrite":"readonly").objectStore(nl)}function sf(){const y=indexedDB.open(el,1);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(nl,{keyPath:hc})}catch(S){g(S)}}),y.addEventListener("success",(0,a.Z)(function*(){const C=y.result;C.objectStoreNames.contains(nl)?m(C):(C.close(),yield function rf(){const y=indexedDB.deleteDatabase(el);return new Do(y).toPromise()}(),m(yield sf()))}))})}function il(y,m,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(y,m,g){const C=fc(y,!0).put({[hc]:m,value:g});return new Do(C).toPromise()})).apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(y,m){const g=fc(y,!1).get(m),C=yield new Do(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function af(y,m){const g=fc(y,!0).delete(m);return new Do(g).toPromise()}const mc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield sf()),g.db})()}_withRetries(g){var C=this;return(0,a.Z)(function*(){let S=0;for(;;)try{const F=yield C._openDb();return yield g(F)}catch(F){if(S++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Mr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=uc._getInstance(function dc(){return Mr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(S,F){return{keyProcessed:(yield g._poll()).includes(F.key)}});return function(S,F){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(S,F){return["keyChanged"]});return function(S,F){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var C,S;if(g.activeServiceWorker=yield function Lm(){return Eo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nm(g.activeServiceWorker);const F=yield g.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=F[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function td(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield sf();return yield il(g,ms,"1"),yield af(g,ms),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(F=>il(F,g,C)),S.localCache[g]=C,S.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,a.Z)(function*(){const S=yield C._withRetries(F=>function Vm(y,m){return pc.apply(this,arguments)}(F,g));return C.localCache[g]=S,S})()}_remove(g){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(S=>af(S,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const C=yield g._withRetries(re=>{const Te=fc(re,!1).getAll();return new Do(Te).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const S=[],F=new Set;for(const{fbase_key:re,value:Te}of C)F.add(re),JSON.stringify(g.localCache[re])!==JSON.stringify(Te)&&(g.notifyListeners(re,Te),S.push(re));for(const re of Object.keys(g.localCache))g.localCache[re]&&!F.has(re)&&(g.notifyListeners(re,null),S.push(re));return S})()}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const F of Array.from(S))F(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Bm(y,m){return mt(y,"POST","/v2/accounts/mfaSignIn:start",kt(y,m))}function Ao(){return(Ao=(0,a.Z)(function*(y){return(yield mt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function na(y){return new Promise((m,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=m,C.onerror=S=>{const F=Oe("internal-error");F.customData=S,g(F)},C.type="text/javascript",C.charset="UTF-8",function sl(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(C)})}function nd(y){return`__${y}${Math.floor(1e6*Math.random())}`}const uf=1e12;class My{constructor(m){this.auth=m,this.counter=uf,this._widgets=new Map}render(m,g){const C=this.counter;return this._widgets.set(C,new kn(m,this.auth.name,g||{})),this.counter++,C}reset(m){var g;const C=m||uf;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(m){var g;return(null===(g=this._widgets.get(m||uf))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,a.Z)(function*(){var C;return null===(C=g._widgets.get(m||uf))||void 0===C||C.execute(),""})()}}class kn{constructor(m,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ty(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Um=nd("rcb"),PE=new je(3e4,6e4);class NE{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=gi().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return te(function LE(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(gi().grecaptcha):new Promise((C,S)=>{const F=gi().setTimeout(()=>{S(Oe(m,"network-request-failed"))},PE.get());gi()[Um]=()=>{gi().clearTimeout(F),delete gi()[Um];const Te=gi().grecaptcha;if(!Te)return void S(Oe(m,"internal-error"));const Je=Te.render;Te.render=(pt,Ut)=>{const On=Je(pt,Ut);return this.counter++,On},this.hostLanguage=g,C(Te)},na(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Um,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(F),S(Oe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=gi().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class VE{load(m){return(0,a.Z)(function*(){return new My(m)})()}clearedOneInstance(){}}const Vs="recaptcha",xy={theme:"light",type:"image"};class Hm{constructor(m,g=Object.assign({},xy),C){this.parameters=g,this.type=Vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(C),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VE:new NE,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(g)||new Promise(F=>{const re=Te=>{!Te||(m.tokenChangeListeners.delete(re),F(Te))};m.tokenChangeListeners.add(re),m.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof m)m(g);else if("string"==typeof m){const C=gi()[m];"function"==typeof C&&C(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){te(Le()&&!Mr(),m.auth,"internal-error"),yield function wi(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function _c(y){return Ao.apply(this,arguments)}(m.auth);te(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ia{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=po._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function B(y,m,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(y,m,g){const C=ht(y),S=yield We(C,m,(0,H.m9)(g));return new ia(S,F=>vo(C,F))})).apply(this,arguments)}function vc(y,m,g){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y);yield Ni(!1,C,"phone");const S=yield We(C.auth,m,(0,H.m9)(g));return new ia(S,F=>xt(C,F))})).apply(this,arguments)}function ut(y,m,g){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y),S=yield We(C.auth,m,(0,H.m9)(g));return new ia(S,F=>N(C,F))})).apply(this,arguments)}function We(y,m,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,m,g){var C;const S=yield g.verify();try{let F;if(te("string"==typeof S,y,"argument-error"),te(g.type===Vs,y,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const re=F.session;if("phoneNumber"in F)return te("enroll"===re.type,y,"internal-error"),(yield Xa(y,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,y,"internal-error");const Te=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return te(Te,y,"missing-multi-factor-info"),(yield Bm(y,{mfaPendingCredential:re.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Vu(y,{phoneNumber:F.phoneNumber,recaptchaToken:S});return re}}finally{g._reset()}})).apply(this,arguments)}function Mn(y,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(y,m){yield rc((0,H.m9)(y),m)})).apply(this,arguments)}let Io=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=ht(g)}verifyPhoneNumber(g,C){return We(this.auth,g,(0,H.m9)(C))}static credential(g,C){return po._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:S}=g;return C&&S?po._fromTokenResponse(C,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rn(y,m){return m?J(m):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ke extends En{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Br(m,this._buildIdpRequest())}_linkToIdToken(m,g){return Br(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return Br(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function _i(y){return Zh(y.auth,new Ke(y),y.bypassAuthState)}function fn(y){const{auth:m,user:g}=y;return te(g,m,"internal-error"),cs(g,new Ke(y),y.bypassAuthState)}function So(y){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(y){const{auth:m,user:g}=y;return te(g,m,"internal-error"),rc(g,new Ke(y),y.bypassAuthState)})).apply(this,arguments)}class en{constructor(m,g,C,S,F=!1){this.auth=m,this.resolver=C,this.user=S,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,a.Z)(function*(C,S){m.pendingPromise={resolve:C,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,S){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:F,tenantId:re,error:Te,type:Je}=m;if(Te)return void g.reject(Te);const pt={auth:g.auth,requestUri:C,sessionId:S,tenantId:re||void 0,postBody:F||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(pt))}catch(Ut){g.reject(Ut)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return _i;case"linkViaPopup":case"linkViaRedirect":return So;case"reauthViaPopup":case"reauthViaRedirect":return fn;default:ze(this.auth,"internal-error")}}resolve(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const df=new je(2e3,1e4);function jm(y,m,g){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(y,m,g){const C=ht(y);Ce(y,m,bi);const S=Rn(C,g);return new tn(C,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function id(y,m,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y);Ce(C.auth,m,bi);const S=Rn(C.auth,g);return new tn(C.auth,"reauthViaPopup",m,S,C).executeNotNull()})).apply(this,arguments)}function yc(y,m,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y);Ce(C.auth,m,bi);const S=Rn(C.auth,g);return new tn(C.auth,"linkViaPopup",m,S,C).executeNotNull()})).apply(this,arguments)}let tn=(()=>{class y extends en{constructor(g,C,S,F,re){super(g,C,F,re),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const C=yield g.execute();return te(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,a.Z)(function*(){ye(1===g.filter.length,"Popup operations only handle one event");const C=ta();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,S;this.pollId=null!==(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,df.get())};g()}}return y.currentPopupAction=null,y})();const ll=new Map;class cl extends en{constructor(m,g,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,a.Z)(function*(){let C=ll.get(g.auth._key());if(!C){try{const F=(yield function Us(y,m){return Xi.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;C=()=>Promise.resolve(F)}catch(S){C=()=>Promise.reject(S)}ll.set(g.auth._key(),C)}return g.bypassAuthState||ll.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(C,m);if("unknown"!==m.type){if(m.eventId){const S=yield C.auth._redirectUserForId(m.eventId);if(S)return C.user=S,g().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Xi(){return(Xi=(0,a.Z)(function*(y,m){const g=$r(m),C=ci(y);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(g));return yield C._remove(g),S})).apply(this,arguments)}function Ji(y,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(y,m){return ci(y)._set($r(m),"true")})).apply(this,arguments)}function sd(){ll.clear()}function yn(y,m){ll.set(y._key(),m)}function ci(y){return J(y._redirectPersistence)}function $r(y){return j("pendingRedirect",y.config.apiKey,y.name)}function ra(y,m,g){return function ui(y,m,g){return od.apply(this,arguments)}(y,m,g)}function od(){return(od=(0,a.Z)(function*(y,m,g){const C=ht(y);Ce(y,m,bi);const S=Rn(C,g);return yield Ji(S,C),S._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function hf(y,m,g){return function ul(y,m,g){return sa.apply(this,arguments)}(y,m,g)}function sa(){return(sa=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y);Ce(C.auth,m,bi);const S=Rn(C.auth,g);yield Ji(S,C.auth);const F=yield zm(C);return S._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function ky(y,m,g){return function $m(y,m,g){return ad.apply(this,arguments)}(y,m,g)}function ad(){return(ad=(0,a.Z)(function*(y,m,g){const C=(0,H.m9)(y);Ce(C.auth,m,bi);const S=Rn(C.auth,g);yield Ni(!1,C,m.providerId),yield Ji(S,C.auth);const F=yield zm(C);return S._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function ff(y,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(y,m){return yield ht(y)._initializationPromise,ld(y,m,!1)})).apply(this,arguments)}function ld(y,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(y,m,g=!1){const C=ht(y),S=Rn(C,m),re=yield new cl(C,S,g).execute();return re&&!g&&(delete re.user._redirectEventId,yield C._persistUserIfCurrent(re.user),yield C._setRedirectUser(null,m)),re})).apply(this,arguments)}function zm(y){return cd.apply(this,arguments)}function cd(){return(cd=(0,a.Z)(function*(y){const m=ta(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class wc{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(g=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Gm(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ud(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var C;if(m.error&&!ud(m)){const S=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,S))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const C=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gr(m))}saveEventToCache(m){this.cachedEventUids.add(gr(m)),this.lastProcessedEventTime=Date.now()}}function gr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function ud({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function To(y){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(y,m={}){return mt(y,"GET","/v1/projects",m)})).apply(this,arguments)}const _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dd=/^https?/;function hd(){return(hd=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield To(y);for(const g of m)try{if(Ry(g))return}catch{}ze(y,"unauthorized-domain")})).apply(this,arguments)}function Ry(y){const m=Ve(),{protocol:g,hostname:C}=new URL(m);if(y.startsWith("chrome-extension://")){const re=new URL(y);return""===re.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&re.hostname===C}if(!dd.test(g))return!1;if(_r.test(y))return C===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const Wm=new je(3e4,6e4);function fd(){const y=gi().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let xo=null;function pf(y){return xo=xo||function Ym(y){return new Promise((m,g)=>{var C,S,F;function re(){fd(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{fd(),g(Oe(y,"network-request-failed"))},timeout:Wm.get()})}if(null!==(S=null===(C=gi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(F=gi().gapi)||void 0===F||!F.load){const Te=nd("iframefcb");return gi()[Te]=()=>{gapi.load?re():g(Oe(y,"network-request-failed"))},na(`https://apis.google.com/js/api.js?onload=${Te}`).catch(Je=>g(Je))}re()}}).catch(m=>{throw xo=null,m})}(y),xo}const qm=new je(5e3,15e3),md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function la(y){const m=y.config;te(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?Jt(m,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:y.name,v:P.SDK_VERSION},S=mf.get(y.config.apiHost);S&&(C.eid=S);const F=y._getFrameworks();return F.length&&(C.fw=F.join(",")),`${g}?${(0,H.xO)(C).slice(1)}`}function ca(){return ca=(0,a.Z)(function*(y){const m=yield pf(y),g=gi().gapi;return te(g,y,"internal-error"),m.open({where:document.body,url:la(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},C=>new Promise(function(){var S=(0,a.Z)(function*(F,re){yield C.restyle({setHideOnLeave:!1});const Te=Oe(y,"network-request-failed"),Je=gi().setTimeout(()=>{re(Te)},qm.get());function pt(){gi().clearTimeout(Je),F(C)}C.ping(pt).then(pt,()=>{re(Te)})});return function(F,re){return S.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const Dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dl{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ac(y,m,g,C,S,F){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const re={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:P.SDK_VERSION,eventId:S};if(m instanceof bi){m.setDefaultLanguage(y.languageCode),re.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(re.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Je,pt]of Object.entries(F||{}))re[Je]=pt}if(m instanceof go){const Je=m.getScopes().filter(pt=>""!==pt);Je.length>0&&(re.scopes=Je.join(","))}y.tenantId&&(re.tid=y.tenantId);const Te=re;for(const Je of Object.keys(Te))void 0===Te[Je]&&delete Te[Je];return`${function ko({config:y}){return y.emulator?Jt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,H.xO)(Te).slice(1)}`}const yd="webStorageSupport",Ic=class _f{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=ld,this._overrideRedirectResult=yn}_openPopup(m,g,C,S){var F=this;return(0,a.Z)(function*(){var re;ye(null===(re=F.eventManagers[m._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Te=Ac(m,g,C,Ve(),S);return function hl(y,m,g,C=500,S=600){const F=Math.max((window.screen.availHeight-S)/2,0).toString(),re=Math.max((window.screen.availWidth-C)/2,0).toString();let Te="";const Je=Object.assign(Object.assign({},Dc),{width:C.toString(),height:S.toString(),top:F,left:re}),pt=(0,H.z$)().toLowerCase();g&&(Te=$(pt)?"_blank":g),A(pt)&&(m=m||"http://localhost",Je.scrollbars="yes");const Ut=Object.entries(Je).reduce((vr,[Ro,Dd])=>`${vr}${Ro}=${Dd},`,"");if(function Lt(y=(0,H.z$)()){var m;return Se(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(pt)&&"_self"!==Te)return function da(y,m){const g=document.createElement("a");g.href=y,g.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(m||"",Te),new dl(null);const On=window.open(m||"",Te,Ut);te(On,y,"popup-blocked");try{On.focus()}catch{}return new dl(On)}(m,Te,ta())})()}_openRedirect(m,g,C,S){var F=this;return(0,a.Z)(function*(){return yield F._originValidation(m),function nf(y){gi().location.href=y}(Ac(m,g,C,Ve(),S)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:S,promise:F}=this.eventManagers[g];return S?Promise.resolve(S):(ye(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(m){var g=this;return(0,a.Z)(function*(){const C=yield function gd(y){return ca.apply(this,arguments)}(m),S=new wc(m);return C.register("authEvent",F=>(te(F?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:S},g.iframes[m._key()]=C,S})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(yd,{type:yd},S=>{var F;const re=null===(F=S?.[0])||void 0===F?void 0:F[yd];void 0!==re&&g(!!re),ze(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ec(y){return hd.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return Rt()||k()||Se()}};class fl extends class vf{constructor(m){this.factorId=m}_process(m,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,C);case"signin":return this._finalizeSignIn(m,g.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new fl(m)}_finalizeEnroll(m,g,C){return function Ku(y,m){return mt(y,"POST","/v2/accounts/mfaEnrollment:finalize",kt(y,m))}(m,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function gc(y,m){return mt(y,"POST","/v2/accounts/mfaSignIn:finalize",kt(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zr=(()=>{class y{constructor(){}static assertion(g){return fl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var xr="@firebase/auth";class bd{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(C=>{var S;m((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);!g||(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Qm(y){(0,P._registerComponent)(new _e.wA("auth",(m,{options:g})=>{const C=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),{apiKey:F,authDomain:re}=C.options;return((Te,Je)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:Te.name}),te(!re?.includes(":"),"argument-error",{appName:Te.name});const pt={apiKey:F,authDomain:re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(y)},Ut=new Lr(Te,Je,pt);return function oe(y,m){const g=m?.persistence||[],C=(Array.isArray(g)?g:[g]).map(J);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(C,m?.popupRedirectResolver)}(Ut,g),Ut})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,C)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new _e.wA("auth-internal",m=>{const g=ht(m.getProvider("auth").getImmediate());return new bd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(xr,"0.20.9",function Cd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,P.registerVersion)(xr,"0.20.9","esm2017")}("Browser")},2090:(rt,Me,O)=>{O.d(Me,{$s:()=>Xe,BH:()=>Dt,DV:()=>Fn,Dv:()=>ln,GJ:()=>yi,L:()=>fe,LL:()=>Kt,Pz:()=>jt,Sg:()=>je,UG:()=>De,UI:()=>Ai,US:()=>_e,Wj:()=>vt,Wl:()=>un,Yr:()=>xe,ZB:()=>z,ZR:()=>Tn,aH:()=>lt,b$:()=>ue,cI:()=>mt,dS:()=>Ct,eu:()=>te,g5:()=>P,gK:()=>Ln,gQ:()=>on,h$:()=>ne,hl:()=>$e,hu:()=>H,jU:()=>Ye,lb:()=>ii,m9:()=>Ft,ne:()=>dn,p$:()=>W,pd:()=>fi,r3:()=>Nn,ru:()=>ve,tV:()=>ge,uI:()=>Ee,ug:()=>ri,vZ:()=>Qe,w1:()=>ze,w9:()=>Gn,xO:()=>nn,xb:()=>ai,z$:()=>ke,zI:()=>ae,zd:()=>Qn});const H=function(G,j){if(!G)throw P(j)},P=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ie=function(G){const j=[];let R=0;for(let x=0;x<G.length;x++){let A=G.charCodeAt(x);A<128?j[R++]=A:A<2048?(j[R++]=A>>6|192,j[R++]=63&A|128):55296==(64512&A)&&x+1<G.length&&56320==(64512&G.charCodeAt(x+1))?(A=65536+((1023&A)<<10)+(1023&G.charCodeAt(++x)),j[R++]=A>>18|240,j[R++]=A>>12&63|128,j[R++]=A>>6&63|128,j[R++]=63&A|128):(j[R++]=A>>12|224,j[R++]=A>>6&63|128,j[R++]=63&A|128)}return j},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let A=0;A<G.length;A+=3){const k=G[A],$=A+1<G.length,ce=$?G[A+1]:0,Pe=A+2<G.length,Ue=Pe?G[A+2]:0;let nt=(15&ce)<<2|Ue>>6,Lt=63&Ue;Pe||(Lt=64,$||(nt=64)),x.push(R[k>>2],R[(3&k)<<4|ce>>4],R[nt],R[Lt])}return x.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ie(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let R=0,x=0;for(;R<G.length;){const A=G[R++];if(A<128)j[x++]=String.fromCharCode(A);else if(A>191&&A<224){const k=G[R++];j[x++]=String.fromCharCode((31&A)<<6|63&k)}else if(A>239&&A<365){const Pe=((7&A)<<18|(63&G[R++])<<12|(63&G[R++])<<6|63&G[R++])-65536;j[x++]=String.fromCharCode(55296+(Pe>>10)),j[x++]=String.fromCharCode(56320+(1023&Pe))}else{const k=G[R++],$=G[R++];j[x++]=String.fromCharCode((15&A)<<12|(63&k)<<6|63&$)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const R=j?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let A=0;A<G.length;){const k=R[G.charAt(A++)],ce=A<G.length?R[G.charAt(A)]:0;++A;const Ue=A<G.length?R[G.charAt(A)]:64;++A;const Se=A<G.length?R[G.charAt(A)]:64;if(++A,null==k||null==ce||null==Ue||null==Se)throw Error();x.push(k<<2|ce>>4),64!==Ue&&(x.push(ce<<4&240|Ue>>2),64!==Se&&x.push(Ue<<6&192|Se))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ne=function(G){const j=ie(G);return _e.encodeByteArray(j,!0)},fe=function(G){return ne(G).replace(/\./g,"")},ge=function(G){try{return _e.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function W(G){return z(void 0,G)}function z(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const R in j)!j.hasOwnProperty(R)||!K(R)||(G[R]=z(G[R],j[R]));return G}function K(G){return"__proto__"!==G}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ye(){return"object"==typeof self&&self.self===self}function ve(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const G=ke();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function xe(){return!1}function $e(){return"object"==typeof indexedDB}function te(){return new Promise((G,j)=>{try{let R=!0;const x="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(x);A.onsuccess=()=>{A.result.close(),R||self.indexedDB.deleteDatabase(x),G(!0)},A.onupgradeneeded=()=>{R=!1},A.onerror=()=>{var k;j((null===(k=A.error)||void 0===k?void 0:k.message)||"")}}catch(R){j(R)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;const G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),j=G&&ge(G[1]);return j&&JSON.parse(j)})(),lt=()=>{var G;return null===(G=oe())||void 0===G?void 0:G.config},jt=G=>{var j;return null===(j=oe())||void 0===j?void 0:j[`_${G}`]};class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,R)=>{this.resolve=j,this.reject=R})}wrapCallback(j){return(R,x)=>{R?this.reject(R):this.resolve(x),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(R):j(R,x))}}}function je(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=j||"demo-project",A=G.iat||0,k=G.sub||G.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:A,exp:A+3600,auth_time:A,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify($)),""].join(".")}class Tn extends Error{constructor(j,R,x){super(R),this.code=j,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(j,R,x){this.service=j,this.serviceName=R,this.errors=x}create(j,...R){const x=R[0]||{},A=`${this.service}/${j}`,k=this.errors[j],$=k?function $t(G,j){return G.replace(kt,(R,x)=>{const A=j[x];return null!=A?String(A):`<${x}?>`})}(k,x):"Error";return new Tn(A,`${this.serviceName}: ${$} (${A}).`,x)}}const kt=/\{\$([^}]+)}/g;function mt(G){return JSON.parse(G)}function un(G){return JSON.stringify(G)}const Di=function(G){let j={},R={},x={},A="";try{const k=G.split(".");j=mt(ge(k[0])||""),R=mt(ge(k[1])||""),A=k[2],x=R.d||{},delete R.d}catch{}return{header:j,claims:R,data:x,signature:A}},Gn=function(G){const R=Di(G).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},yi=function(G){const j=Di(G).claims;return"object"==typeof j&&!0===j.admin};function Nn(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function Fn(G,j){if(Object.prototype.hasOwnProperty.call(G,j))return G[j]}function ai(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Ai(G,j,R){const x={};for(const A in G)Object.prototype.hasOwnProperty.call(G,A)&&(x[A]=j.call(R,G[A],A,G));return x}function Qe(G,j){if(G===j)return!0;const R=Object.keys(G),x=Object.keys(j);for(const A of R){if(!x.includes(A))return!1;const k=G[A],$=j[A];if(sn(k)&&sn($)){if(!Qe(k,$))return!1}else if(k!==$)return!1}for(const A of x)if(!R.includes(A))return!1;return!0}function sn(G){return null!==G&&"object"==typeof G}function nn(G){const j=[];for(const[R,x]of Object.entries(G))Array.isArray(x)?x.forEach(A=>{j.push(encodeURIComponent(R)+"="+encodeURIComponent(A))}):j.push(encodeURIComponent(R)+"="+encodeURIComponent(x));return j.length?"&"+j.join("&"):""}function Qn(G){const j={};return G.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[A,k]=x.split("=");j[decodeURIComponent(A)]=decodeURIComponent(k)}}),j}function fi(G){const j=G.indexOf("?");if(!j)return"";const R=G.indexOf("#",j);return G.substring(j,R>0?R:void 0)}class on{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,R){R||(R=0);const x=this.W_;if("string"==typeof j)for(let Se=0;Se<16;Se++)x[Se]=j.charCodeAt(R)<<24|j.charCodeAt(R+1)<<16|j.charCodeAt(R+2)<<8|j.charCodeAt(R+3),R+=4;else for(let Se=0;Se<16;Se++)x[Se]=j[R]<<24|j[R+1]<<16|j[R+2]<<8|j[R+3],R+=4;for(let Se=16;Se<80;Se++){const nt=x[Se-3]^x[Se-8]^x[Se-14]^x[Se-16];x[Se]=4294967295&(nt<<1|nt>>>31)}let Ue,me,A=this.chain_[0],k=this.chain_[1],$=this.chain_[2],ce=this.chain_[3],Pe=this.chain_[4];for(let Se=0;Se<80;Se++){Se<40?Se<20?(Ue=ce^k&($^ce),me=1518500249):(Ue=k^$^ce,me=1859775393):Se<60?(Ue=k&$|ce&(k|$),me=2400959708):(Ue=k^$^ce,me=3395469782);const nt=(A<<5|A>>>27)+Ue+Pe+me+x[Se]&4294967295;Pe=ce,ce=$,$=4294967295&(k<<30|k>>>2),k=A,A=nt}this.chain_[0]=this.chain_[0]+A&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+$&4294967295,this.chain_[3]=this.chain_[3]+ce&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295}update(j,R){if(null==j)return;void 0===R&&(R=j.length);const x=R-this.blockSize;let A=0;const k=this.buf_;let $=this.inbuf_;for(;A<R;){if(0===$)for(;A<=x;)this.compress_(j,A),A+=this.blockSize;if("string"==typeof j){for(;A<R;)if(k[$]=j.charCodeAt(A),++$,++A,$===this.blockSize){this.compress_(k),$=0;break}}else for(;A<R;)if(k[$]=j[A],++$,++A,$===this.blockSize){this.compress_(k),$=0;break}}this.inbuf_=$,this.total_+=R}digest(){const j=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let A=this.blockSize-1;A>=56;A--)this.buf_[A]=255&R,R/=256;this.compress_(this.buf_);let x=0;for(let A=0;A<5;A++)for(let k=24;k>=0;k-=8)j[x]=this.chain_[A]>>k&255,++x;return j}}function dn(G,j){const R=new Yt(G,j);return R.subscribe.bind(R)}class Yt{constructor(j,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{j(this)}).catch(x=>{this.error(x)})}next(j){this.forEachObserver(R=>{R.next(j)})}error(j){this.forEachObserver(R=>{R.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,R,x){let A;if(void 0===j&&void 0===R&&void 0===x)throw new Error("Missing Observer.");A=function it(G,j){if("object"!=typeof G||null===G)return!1;for(const R of j)if(R in G&&"function"==typeof G[R])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:R,complete:x},void 0===A.next&&(A.next=ot),void 0===A.error&&(A.error=ot),void 0===A.complete&&(A.complete=ot);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),k}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,j)}sendOne(j,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{R(this.observers[j])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}const ln=function(G,j,R,x){let A;if(x<j?A="at least "+j:x>R&&(A=0===R?"none":"no more than "+R),A)throw new Error(G+" failed: Was called with "+x+(1===x?" argument.":" arguments.")+" Expects "+A+".")};function Ln(G,j){return`${G} failed: ${j} argument `}function vt(G,j,R,x){if((!x||R)&&"function"!=typeof R)throw new Error(Ln(G,j)+"must be a valid function.")}function ii(G,j,R,x){if((!x||R)&&("object"!=typeof R||null===R))throw new Error(Ln(G,j)+"must be a valid context object.")}const Ct=function(G){const j=[];let R=0;for(let x=0;x<G.length;x++){let A=G.charCodeAt(x);if(A>=55296&&A<=56319){const k=A-55296;x++,H(x<G.length,"Surrogate pair missing trail surrogate."),A=65536+(k<<10)+(G.charCodeAt(x)-56320)}A<128?j[R++]=A:A<2048?(j[R++]=A>>6|192,j[R++]=63&A|128):A<65536?(j[R++]=A>>12|224,j[R++]=A>>6&63|128,j[R++]=63&A|128):(j[R++]=A>>18|240,j[R++]=A>>12&63|128,j[R++]=A>>6&63|128,j[R++]=63&A|128)}return j},ri=function(G){let j=0;for(let R=0;R<G.length;R++){const x=G.charCodeAt(R);x<128?j++:x<2048?j+=2:x>=55296&&x<=56319?(j+=4,R++):j+=3}return j};function Xe(G,j=1e3,R=2){const x=j*Math.pow(R,G),A=Math.round(.5*x*(Math.random()-.5)*2);return Math.min(144e5,x+A)}function Ft(G){return G&&G._delegate?G._delegate:G}},411:(rt,Me,O)=>{var a=O(4650);let H=null;function P(){return H}const ne=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ge(){return(0,a.LFG)(z)}()},providedIn:"platform"}),n})();const W=new a.OlP("Location Initialized");let z=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){K()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){K()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ke(){return new z((0,a.LFG)(ne))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(et)},providedIn:"root"}),n})();const ue=new a.OlP("appBaseHref");let et=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ye(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,c){const d=this.prepareExternalUrl(r+Ye(c));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){const d=this.prepareExternalUrl(r+Ye(c));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(ue,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ze=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,c){let d=this.prepareExternalUrl(r+Ye(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){let d=this.prepareExternalUrl(r+Ye(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(ue,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=De($e(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ye(i))}normalize(e){return n.stripTrailingSlash(function Ce(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=Ee,n.stripTrailingSlash=De,n.\u0275fac=function(e){return new(e||n)(a.LFG(ve))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function xe(){return new Oe((0,a.LFG)(ve))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var Q=(()=>((Q=Q||{})[Q.Format=0]="Format",Q[Q.Standalone=1]="Standalone",Q))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),de=(()=>((de=de||{})[de.Short=0]="Short",de[de.Medium=1]="Medium",de[de.Long=2]="Long",de[de.Full=3]="Full",de))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function Kt(n,t){return Qe((0,a.cg1)(n)[a.wAp.DateFormat],t)}function $t(n,t){return Qe((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function kt(n,t){return Qe((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function mt(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[a.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[a.wAp.NumberSymbols][oe.Group]}return i}function Nn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qe(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function sn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const fi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,on={},dn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),it=(()=>((it=it||{})[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it))();function ot(n,t,e,i){let r=function k(n){if(ce(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,c=1,d=1]=n.split("-").map(f=>+f);return ln(r,c-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(fi))return function $(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,c=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,f=Number(n[5]||0)-i,v=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return c.call(t,d,f,v,E),t}(i)}const t=new Date(n);if(!ce(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ln(e,t)||t;let f,d=[];for(;t;){if(f=dn.exec(t),!f){d.push(t);break}{d=d.concat(f.slice(1));const I=d.pop();if(!I)break;t=I}}let v=r.getTimezoneOffset();i&&(v=R(i,v),r=function A(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function x(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(R(t,r)-r))}(r,i,!0));let E="";return d.forEach(I=>{const M=function j(n){if(G[n])return G[n];let t;switch(n){case"G":case"GG":case"GGG":t=Pt(it.Eras,J.Abbreviated);break;case"GGGG":t=Pt(it.Eras,J.Wide);break;case"GGGGG":t=Pt(it.Eras,J.Narrow);break;case"y":t=Ct(st.FullYear,1,0,!1,!0);break;case"yy":t=Ct(st.FullYear,2,0,!0,!0);break;case"yyy":t=Ct(st.FullYear,3,0,!1,!0);break;case"yyyy":t=Ct(st.FullYear,4,0,!1,!0);break;case"Y":t=Ft(1);break;case"YY":t=Ft(2,!0);break;case"YYY":t=Ft(3);break;case"YYYY":t=Ft(4);break;case"M":case"L":t=Ct(st.Month,1,1);break;case"MM":case"LL":t=Ct(st.Month,2,1);break;case"MMM":t=Pt(it.Months,J.Abbreviated);break;case"MMMM":t=Pt(it.Months,J.Wide);break;case"MMMMM":t=Pt(it.Months,J.Narrow);break;case"LLL":t=Pt(it.Months,J.Abbreviated,Q.Standalone);break;case"LLLL":t=Pt(it.Months,J.Wide,Q.Standalone);break;case"LLLLL":t=Pt(it.Months,J.Narrow,Q.Standalone);break;case"w":t=_t(1);break;case"ww":t=_t(2);break;case"W":t=_t(1,!0);break;case"d":t=Ct(st.Date,1);break;case"dd":t=Ct(st.Date,2);break;case"c":case"cc":t=Ct(st.Day,1);break;case"ccc":t=Pt(it.Days,J.Abbreviated,Q.Standalone);break;case"cccc":t=Pt(it.Days,J.Wide,Q.Standalone);break;case"ccccc":t=Pt(it.Days,J.Narrow,Q.Standalone);break;case"cccccc":t=Pt(it.Days,J.Short,Q.Standalone);break;case"E":case"EE":case"EEE":t=Pt(it.Days,J.Abbreviated);break;case"EEEE":t=Pt(it.Days,J.Wide);break;case"EEEEE":t=Pt(it.Days,J.Narrow);break;case"EEEEEE":t=Pt(it.Days,J.Short);break;case"a":case"aa":case"aaa":t=Pt(it.DayPeriods,J.Abbreviated);break;case"aaaa":t=Pt(it.DayPeriods,J.Wide);break;case"aaaaa":t=Pt(it.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":t=Pt(it.DayPeriods,J.Abbreviated,Q.Standalone,!0);break;case"bbbb":t=Pt(it.DayPeriods,J.Wide,Q.Standalone,!0);break;case"bbbbb":t=Pt(it.DayPeriods,J.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":t=Pt(it.DayPeriods,J.Abbreviated,Q.Format,!0);break;case"BBBB":t=Pt(it.DayPeriods,J.Wide,Q.Format,!0);break;case"BBBBB":t=Pt(it.DayPeriods,J.Narrow,Q.Format,!0);break;case"h":t=Ct(st.Hours,1,-12);break;case"hh":t=Ct(st.Hours,2,-12);break;case"H":t=Ct(st.Hours,1);break;case"HH":t=Ct(st.Hours,2);break;case"m":t=Ct(st.Minutes,1);break;case"mm":t=Ct(st.Minutes,2);break;case"s":t=Ct(st.Seconds,1);break;case"ss":t=Ct(st.Seconds,2);break;case"S":t=Ct(st.FractionalSeconds,1);break;case"SS":t=Ct(st.FractionalSeconds,2);break;case"SSS":t=Ct(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=mn(Yt.Short);break;case"ZZZZZ":t=mn(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=mn(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=mn(Yt.Long);break;default:return null}return G[n]=t,t}(I);E+=M?M(r,e,v):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function ln(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ln(n,t){const e=function Le(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(on[e]=on[e]||{},on[e][t])return on[e][t];let i="";switch(t){case"shortDate":i=Kt(n,de.Short);break;case"mediumDate":i=Kt(n,de.Medium);break;case"longDate":i=Kt(n,de.Long);break;case"fullDate":i=Kt(n,de.Full);break;case"shortTime":i=$t(n,de.Short);break;case"mediumTime":i=$t(n,de.Medium);break;case"longTime":i=$t(n,de.Long);break;case"fullTime":i=$t(n,de.Full);break;case"short":const r=Ln(n,"shortTime"),c=Ln(n,"shortDate");i=Xn(kt(n,de.Short),[r,c]);break;case"medium":const d=Ln(n,"mediumTime"),f=Ln(n,"mediumDate");i=Xn(kt(n,de.Medium),[d,f]);break;case"long":const v=Ln(n,"longTime"),E=Ln(n,"longDate");i=Xn(kt(n,de.Long),[v,E]);break;case"full":const I=Ln(n,"fullTime"),M=Ln(n,"fullDate");i=Xn(kt(n,de.Full),[I,M])}return i&&(on[e][t]=i),i}function Xn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function vt(n,t,e="-",i,r){let c="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,c=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),c+d}function Ct(n,t,e=0,i=!1,r=!1){return function(c,d){let f=function ri(n,t){switch(n){case st.FullYear:return t.getFullYear();case st.Month:return t.getMonth();case st.Date:return t.getDate();case st.Hours:return t.getHours();case st.Minutes:return t.getMinutes();case st.Seconds:return t.getSeconds();case st.FractionalSeconds:return t.getMilliseconds();case st.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,c);if((e>0||f>-e)&&(f+=e),n===st.Hours)0===f&&-12===e&&(f=12);else if(n===st.FractionalSeconds)return function ii(n,t){return vt(n,3).substring(0,t)}(f,t);const v=mt(d,oe.MinusSign);return vt(f,t,v,i,r)}}function Pt(n,t,e=Q.Format,i=!1){return function(r,c){return function Vn(n,t,e,i,r,c){switch(e){case it.Months:return function Dt(n,t,e){const i=(0,a.cg1)(n),c=Qe([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return Qe(c,e)}(t,r,i)[n.getMonth()];case it.Days:return function jt(n,t,e){const i=(0,a.cg1)(n),c=Qe([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return Qe(c,e)}(t,r,i)[n.getDay()];case it.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(c){const E=function Fn(n){const t=(0,a.cg1)(n);return Nn(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?sn(i):[sn(i[0]),sn(i[1])])}(t),I=function ai(n,t,e){const i=(0,a.cg1)(n);Nn(i);const c=Qe([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return Qe(c,e)||[]}(t,r,i),M=E.findIndex(U=>{if(Array.isArray(U)){const[Y,X]=U,le=d>=Y.hours&&f>=Y.minutes,Re=d<X.hours||d===X.hours&&f<X.minutes;if(Y.hours<X.hours){if(le&&Re)return!0}else if(le||Re)return!0}else if(U.hours===d&&U.minutes===f)return!0;return!1});if(-1!==M)return I[M]}return function lt(n,t,e){const i=(0,a.cg1)(n),c=Qe([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return Qe(c,e)}(t,r,i)[d<12?0:1];case it.Eras:return function je(n,t){return Qe((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,c,n,t,e,i)}}function mn(n){return function(t,e,i){const r=-1*i,c=mt(e,oe.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Yt.Short:return(r>=0?"+":"")+vt(d,2,c)+vt(Math.abs(r%60),2,c);case Yt.ShortGMT:return"GMT"+(r>=0?"+":"")+vt(d,1,c);case Yt.Long:return"GMT"+(r>=0?"+":"")+vt(d,2,c)+":"+vt(Math.abs(r%60),2,c);case Yt.Extended:return 0===i?"Z":(r>=0?"+":"")+vt(d,2,c)+":"+vt(Math.abs(r%60),2,c);default:throw new Error(`Unknown zone width "${n}"`)}}}function dt(n){return ln(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function _t(n,t=!1){return function(e,i){let r;if(t){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();r=1+Math.floor((d+c)/7)}else{const c=dt(e),d=function Xe(n){const t=ln(n,0,1).getDay();return ln(n,0,1+(t<=4?4:11)-t)}(c.getFullYear()),f=c.getTime()-d.getTime();r=1+Math.round(f/6048e5)}return vt(r,n,mt(i,oe.MinusSign))}}function Ft(n,t=!1){return function(e,i){return vt(dt(e).getFullYear(),n,mt(i,oe.MinusSign),t)}}const G={};function R(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ce(n){return n instanceof Date&&!isNaN(n.valueOf())}let rn=(()=>{class n{constructor(e,i,r,c){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class rs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,c,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rs(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===c?void 0:c);else if(null!==c){const f=i.get(c);i.move(f,d),Vr(f,r)}});for(let r=0,c=i.length;r<c;r++){const f=i.get(r).context;f.index=r,f.count=c,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Vr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Vr(n,t){n.context.$implicit=t.item}let hn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ha,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ha{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Mi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ir=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Dr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Mi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ir,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ss=(()=>{class n{constructor(e,i,r){r._addDefault(new Mi(e,i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ir,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function Qi(n,t){return new a.vHH(2100,!1)}class Wh{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ar{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Vu=new Ar,Ko=new Wh;let fo=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Vu;if((0,a.F4k)(e))return Ko;throw Qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const ec=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Rs=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,c){if(null==e||""===e||e!=e)return null;try{return ot(e,i,c||this.locale,r??this.defaultTimezone??void 0)}catch(d){throw Qi()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(ec,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),mo=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"json",type:n,pure:!1,standalone:!0}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ir="browser";function mi(n){return n===Ir}function ls(n){return"server"===n}let ic=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Uu((0,a.LFG)(ne),window)}),n})();class Uu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const c=r.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],r-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=pr(this.window.history)||pr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ea extends class Xh extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pe(n){H||(H=n)}(new ea)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Mm(){return bo=bo||document.querySelector("base"),bo?bo.getAttribute("href"):null}();return null==e?null:function ps(n){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",n);const t=Wn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Si(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Wn,bo=null;const Yn=new a.OlP("TRANSITION_ID"),Tm=[{provide:a.ip1,useFactory:function Jh(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<r.length;c++)i.remove(r[c])})}},deps:[Yn,ne,a.zs3],multi:!0}];let km=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wu=new a.OlP("EventManagerPlugins");let ac=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let c=0;c<r.length;c++){const d=r[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Wu),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Qa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Co=(()=>{class n extends Qa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Yu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Yu))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Yu(n){P().remove(n)}const qu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ef=/%COMP%/g;function lc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?lc(n,r,e):(r=r.replace(ef,n),e.push(r))}return e}function cc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Qu=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ms(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new tf(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new Pm(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=lc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ac),a.LFG(Co),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ms{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ja(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ja(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const c=qu[r];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=qu[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cc(i)):this.eventManager.addEventListener(t,e,cc(i))}}function Ja(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tf extends ms{constructor(t,e,i,r){super(t),this.component=i;const c=lc(r+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr=function Xa(n){return"_ngcontent-%COMP%".replace(ef,n)}(r+"-"+i.id),this.hostAttr=function Ku(n){return"_nghost-%COMP%".replace(ef,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Pm extends ms{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=lc(r.id,r.styles,[]);for(let d=0;d<c.length;d++){const f=document.createElement("style");f.textContent=c[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wo=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Fm=["alt","control","meta","shift"],Ns={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ed={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uc=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const c=n.parseEventName(i),d=n.eventCallback(c.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const c=n._normalizeKey(i.pop());let d="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),d="code."),Fm.forEach(E=>{const I=i.indexOf(E);I>-1&&(i.splice(I,1),d+=E+".")}),d+=c,0!=i.length||0===c.length)return null;const v={};return v.domEventName=r,v.fullKey=d,v}static matchEventFullKeyCode(e,i){let r=Ns[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(r=e.code,c="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Fm.forEach(d=>{d!==r&&(0,ed[d])(e)&&(c+=d+".")}),c+=r,c===i)}static eventCallback(e,i,r){return c=>{n.matchEventFullKeyCode(c,e)&&r.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const el=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Ir},{provide:a.g9A,useValue:function Lm(){ea.makeCurrent()},multi:!0},{provide:ne,useFactory:function td(){return(0,a.RDi)(document),document},deps:[]}]),tl=new a.OlP(""),nl=[{provide:a.rWj,useClass:class xm{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const c=t.findTestabilityInTree(i,r);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let c=r.length,d=!1;const f=function(v){d=d||v,c--,0==c&&i(d)};r.forEach(function(v){v.whenStable(f)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],hc=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Eo(){return new a.qLn},deps:[]},{provide:Wu,useClass:wo,multi:!0,deps:[ne,a.R0b,a.Lbi]},{provide:Wu,useClass:uc,multi:!0,deps:[ne]},{provide:Qu,useClass:Qu,deps:[ac,Co,a.AFp]},{provide:a.FYo,useExisting:Qu},{provide:Qa,useExisting:Co},{provide:Co,useClass:Co,deps:[ne]},{provide:ac,useClass:ac,deps:[Wu,a.R0b]},{provide:class _o{},useClass:km,deps:[]},[]];let Do=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Yn,useExisting:a.AFp},Tm]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tl,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...hc,...nl],imports:[Fi,a.hGG]}),n})(),jr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function il(){return new jr((0,a.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Vs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Hm),i},providedIn:"root"}),n})(),Hm=(()=>{class n extends Vs{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xy(n){return new Hm(n.get(ne))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var ia=O(9934),B=O(2090),Bs=O(9681),vc=O(1877),si=O(4859),ut=O(7579);class li extends ut.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var We=O(4004),vn=O(4482),Mn=O(5403);function zt(n,t){return(0,vn.e)((e,i)=>{let r=0;e.subscribe((0,Mn.x)(i,c=>n.call(t,c,r++)&&i.next(c)))})}var Io=O(3269),Rn=O(8996);function Ke(...n){const t=(0,Io.yG)(n);return(0,Rn.D)(n,t)}var _i=O(9751),fn=O(6451),So=O(5363),ki=O(8421);function en(n,t){return(0,vn.e)((e,i)=>{let r=null,c=0,d=!1;const f=()=>d&&!r&&i.complete();e.subscribe((0,Mn.x)(i,v=>{r?.unsubscribe();let E=0;const I=c++;(0,ki.Xf)(n(v,I)).subscribe(r=(0,Mn.x)(i,M=>i.next(t?t(v,M,I,E++):M),()=>{r=null,f()}))},()=>{d=!0,f()}))})}var df=O(6063);class jm extends ut.x{constructor(t=1/0,e=1/0,i=df.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:c,_windowTime:d}=this;e||(i.push(t),!r&&i.push(c.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,c=r.slice();for(let d=0;d<c.length&&!t.closed;d+=i?1:2)t.next(c[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,c=(r?1:2)*t;if(t<1/0&&c<i.length&&i.splice(0,i.length-c),!r){const d=e.now();let f=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)f=v;f&&i.splice(0,f+1)}}}var al=O(3099);function id(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,al.B)({connector:()=>new jm(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const yc=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Tr=O(515);function tn(n){return n<=0?()=>Tr.E:(0,vn.e)((t,e)=>{let i=0;t.subscribe((0,Mn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Mo(n){return(0,vn.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ll(n=cl){return(0,vn.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function cl(){return new yc}var Us=O(4671);function Xi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,c)=>n(r,c,i)):Us.y,tn(1),e?Mo(t):ll(()=>new yc))}var Ji=O(576);function bc(n,t){return(0,Ji.m)(t)?en(()=>n,t):en(()=>n)}var sd=O(9468),yn=O(880),ci=O(2011),$r=O(5867),gr=O(5861);const ud=new Map,Gm={activated:!1,tokenObservers:[]},To={initialized:!1,enabled:!1};function Hn(n){return ud.get(n)||Gm}function _r(n,t){ud.set(n,t)}function dd(){return To}class xo{constructor(t,e,i,r,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=r,r>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,gr.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function pf(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Li=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function md(n){if(!Hn(n).activated)throw Li.create("use-before-activation",{appName:n.name})}function gd(n,t){return ca.apply(this,arguments)}function ca(){return(ca=(0,gr.Z)(function*({url:n,body:t},e){var i,r;const c={"Content-Type":"application/json"},d=e.getImmediate({optional:!0});if(d){const Y=yield d.getHeartbeatsHeader();Y&&(c["X-Firebase-Client"]=Y)}const f={method:"POST",body:JSON.stringify(t),headers:c};let v,E;try{v=yield fetch(n,f)}catch(Y){throw Li.create("fetch-network-error",{originalErrorMessage:null===(i=Y)||void 0===i?void 0:i.message})}if(200!==v.status)throw Li.create("fetch-status-error",{httpStatus:v.status});try{E=yield v.json()}catch(Y){throw Li.create("fetch-parse-error",{originalErrorMessage:null===(r=Y)||void 0===r?void 0:r.message})}const I=E.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const M=1e3*Number(I[1]),U=Date.now();return{token:E.token,expireTimeMillis:U+M,issuedAtTimeMillis:U}})).apply(this,arguments)}function ua(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const dl="firebase-app-check-store";let da=null;function vd(){return da||(da=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var c;t(Li.create("storage-open",{originalErrorMessage:null===(c=r.target.error)||void 0===c?void 0:c.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dl,{keyPath:"compositeKey"})}}catch(i){t(Li.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),da)}function Ic(){return(Ic=(0,gr.Z)(function*(n,t){const i=(yield vd()).transaction(dl,"readwrite"),c=i.objectStore(dl).put({compositeKey:n,value:t});return new Promise((d,f)=>{c.onsuccess=v=>{d()},i.onerror=v=>{var E;f(Li.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const xr=new vc.Yd("@firebase/app-check");function Cd(n,t){return(0,B.hl)()?function Ac(n,t){return function _f(n,t){return Ic.apply(this,arguments)}(function zr(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{xr.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function bf(){return dd().enabled}function Sc(){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,gr.Z)(function*(){const n=dd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const y={error:"UNKNOWN_ERROR"};function m(n){return B.US.encodeString(JSON.stringify(n),!1)}function g(n){return C.apply(this,arguments)}function C(){return(C=(0,gr.Z)(function*(n,t=!1){const e=n.app;md(e);const i=Hn(e);let c,r=i.token;if(r&&!pt(r)&&(_r(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(pt(v)?r=v:yield Cd(e,void 0))}if(!t&&r&&pt(r))return{token:r.token};let f,d=!1;if(bf()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gd(ua(e,yield Sc()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield Cd(e,v),_r(e,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?xr.warn(v.message):xr.error(v),c=v}return r?c?f=pt(r)?{token:r.token,internalError:c}:Ut(c):(f={token:r.token},_r(e,Object.assign(Object.assign({},i),{token:r})),yield Cd(e,r)):f=Ut(c),d&&Je(e,f),f})).apply(this,arguments)}function F(n,t){const e=Hn(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),_r(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function re(n){const{app:t}=n,e=Hn(t);let i=e.tokenRefresher;i||(i=function Te(n){const{app:t}=n;return new xo((0,gr.Z)(function*(){let i;if(i=Hn(t).token?yield g(n,!0):yield g(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Hn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),_r(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Je(n,t){const e=Hn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function pt(n){return n.expireTimeMillis-Date.now()>0}function Ut(n){return{token:m(y),error:n}}class On{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Hn(this.app);for(const e of t)F(this.app,e.next);return Promise.resolve()}}const ng="app-check-internal";!function Vy(){(0,Bs._registerComponent)(new si.wA("app-check",n=>function vr(n,t){return new On(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ng).initialize()})),(0,Bs._registerComponent)(new si.wA(ng,n=>function Ro(n){return{getToken:t=>g(n,t),addTokenListener:t=>function S(n,t,e,i){const{app:r}=n,c=Hn(r),d={next:e,error:i,type:t};if(_r(r,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&pt(c.token)){const f=c.token;Promise.resolve().then(()=>{e({token:f.token}),re(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>re(n))}(n,"INTERNAL",t),removeTokenListener:t=>F(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bs.registerVersion)("@firebase/app-check","0.5.14")}();class Af{constructor(){return(0,yn.vb)("app-check")}}typeof window<"u"&&window;var Td=O(127);const $y=new a.OlP("angularfire2.auth.use-emulator"),zy=new a.OlP("angularfire2.auth.settings"),cg=new a.OlP("angularfire2.auth.tenant-id"),ml=new a.OlP("angularfire2.auth.langugage-code"),Gy=new a.OlP("angularfire2.auth.use-device-language"),Wy=new a.OlP("angularfire.auth.persistence"),Yy=(n,t,e,i,r,c,d,f)=>(0,ci.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,c&&v.useDeviceLanguage(),d)for(const[E,I]of Object.entries(d))v.settings[E]=I;return f&&v.setPersistence(f),v},[e,i,r,c,d,f]);let xd=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I,M,U,Y){const X=new ut.x,le=Ke(void 0).pipe((0,So.Q)(d.outsideAngular),en(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,We.U)(()=>(0,ci.on)(e,c,i)),(0,We.U)(Re=>Yy(Re,c,f,E,I,M,v,U)),id({bufferSize:1,refCount:!1}));if(ls(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{le.pipe(Xi()).subscribe();const ct=le.pipe(en(Wt=>Wt.getRedirectResult().then(Zi=>Zi,()=>null)),yn.iC,id({bufferSize:1,refCount:!1})),bt=le.pipe(en(Wt=>new _i.y(Zi=>({unsubscribe:c.runOutsideAngular(()=>Wt.onAuthStateChanged(tr=>Zi.next(tr),tr=>Zi.error(tr),()=>Zi.complete()))})))),pn=le.pipe(en(Wt=>new _i.y(Zi=>({unsubscribe:c.runOutsideAngular(()=>Wt.onIdTokenChanged(tr=>Zi.next(tr),tr=>Zi.error(tr),()=>Zi.complete()))}))));this.authState=ct.pipe(bc(bt),(0,sd.R)(d.outsideAngular),(0,So.Q)(d.insideAngular)),this.user=ct.pipe(bc(pn),(0,sd.R)(d.outsideAngular),(0,So.Q)(d.insideAngular)),this.idToken=this.user.pipe(en(Wt=>Wt?(0,Rn.D)(Wt.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(en(Wt=>Wt?(0,Rn.D)(Wt.getIdTokenResult()):Ke(null))),this.credential=(0,fn.T)(ct,X,this.authState.pipe(zt(Wt=>!Wt))).pipe((0,We.U)(Wt=>Wt?.user?Wt:null),(0,sd.R)(d.outsideAngular),(0,So.Q)(d.insideAngular))}return(0,ci.pX)(this,le,c,{spy:{apply:(Re,ct,bt)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&bt.then(pn=>X.next(pn))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ci.Dh),a.LFG(ci.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(yn.HU),a.LFG($y,8),a.LFG(zy,8),a.LFG(cg,8),a.LFG(ml,8),a.LFG(Gy,8),a.LFG(Wy,8),a.LFG(Af,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),If=(()=>{class n{constructor(){Td.Z.registerVersion("angularfire",yn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[xd]}),n})();const Gr_production=!0,Gr_appVersion="0.2.2",Gr_firebase={projectId:"office-buddy-trieste",appId:"1:1068194485548:web:6aa016842792c2728a0889",storageBucket:"office-buddy-trieste.appspot.com",apiKey:"AIzaSyAaOlWtCuWDd6ujq6fvRY7Nm_XqU-Uo93g",authDomain:"office-buddy-trieste.firebaseapp.com",messagingSenderId:"1068194485548",measurementId:"G-YLR034EBYB",databaseURL:"https://office-buddy-trieste-default-rtdb.europe-west1.firebasedatabase.app/"},Gr_firebaseApiUrls={badges:"/badges",users:"/users"},Gr_formatter={shortDate:"",longDate:"",badgeIsoDateTime:"yyyy-MM-ddTHH:mm",badgeHumanDateTime:"dd/MM/yyyy HH:mm"};var kd=O(4986);function qy(n,t,e,i,r){return(c,d)=>{let f=e,v=t,E=0;c.subscribe((0,Mn.x)(d,I=>{const M=E++;v=f?n(v,I,M):(f=!0,I),i&&d.next(v)},r&&(()=>{f&&d.next(v),d.complete()})))}}function ug(n,t){return(0,vn.e)(qy(n,t,arguments.length>=2,!0))}function Sf(n,t=Us.y){return n=n??Rd,(0,vn.e)((e,i)=>{let r,c=!0;e.subscribe((0,Mn.x)(i,d=>{const f=t(d);(c||!n(r,f))&&(c=!1,r=f,i.next(d))}))})}function Rd(n,t){return n===t}var Mf=O(5032);O(5881);var OM=O(3942);const dg="@firebase/database";let hg="";function Ky(n){hg=n}class Qy{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Xy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Tf=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qy(t)}}catch{}return new Xy},gl=Tf("localStorage"),fg=Tf("sessionStorage"),ma=new vc.Yd("@firebase/database"),jE=function(){let n=1;return function(){return n++}}(),$E=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const i=e.digest();return B.US.encodeByteArray(i)},_l=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=_l.apply(null,i):t+="object"==typeof i?(0,B.Wl)(i):i,t+=" "}return t};let kc=null,zE=!0;const GE=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ma.logLevel=vc.in.VERBOSE,kc=ma.log.bind(ma),t&&fg.set("logging_enabled",!0)):"function"==typeof n?kc=n:(kc=null,fg.remove("logging_enabled"))},Gi=function(...n){if(!0===zE&&(zE=!1,null===kc&&!0===fg.get("logging_enabled")&&GE(!0)),kc){const t=_l.apply(null,n);kc(t)}},xf=function(n){return function(...t){Gi(n,...t)}},pg=function(...n){const t="FIREBASE INTERNAL ERROR: "+_l(...n);ma.error(t)},gs=function(...n){const t=`FIREBASE FATAL ERROR: ${_l(...n)}`;throw ma.error(t),new Error(t)},Vi=function(...n){const t="FIREBASE WARNING: "+_l(...n);ma.warn(t)},Pd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},_s="[MIN_NAME]",Hs="[MAX_NAME]",Oo=function(n,t){if(n===t)return 0;if(n===_s||t===Hs)return-1;if(t===_s||n===Hs)return 1;{const e=kf(n),i=kf(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Fd=function(n,t){return n===t?0:n<t?-1:1},Nd=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Wl)(t))},mg=function(n){if("object"!=typeof n||null===n)return(0,B.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,B.Wl)(t[i]),e+=":",e+=mg(n[t[i]]);return e+="}",e},tb=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ri(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const nb=function(n){(0,B.hu)(!Pd(n),"Invalid JSON number");const i=1023;let r,c,d,f,v;0===n?(c=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),c=f+i,d=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(c=0,d=Math.round(n/Math.pow(2,-1074))));const E=[];for(v=52;v;v-=1)E.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)E.push(c%2?1:0),c=Math.floor(c/2);E.push(r?1:0),E.reverse();const I=E.join("");let M="";for(v=0;v<64;v+=8){let U=parseInt(I.substr(v,8),2).toString(16);1===U.length&&(U="0"+U),M+=U}return M.toLowerCase()},gg=new RegExp("^-?(0*)\\d{1,10}$"),ib=-2147483648,_g=2147483647,kf=function(n){if(gg.test(n)){const t=Number(n);if(t>=ib&&t<=_g)return t}return null},vl=function(n){try{n()}catch(t){setTimeout(()=>{throw Vi("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ld=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class or{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Vi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vg{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Gi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vi(t)}}let Rc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const sb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ab="websocket",Cg="long_polling";class wg{constructor(t,e,i,r,c=!1,d="",f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function lb(n,t,e){let i;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===ab)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Cg)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function KE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ri(e,(c,d)=>{r.push(c+"="+d)}),i+r.join("&")}class QE{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const Eg={},ga={};function vs(n){const t=n.toString();return Eg[t]||(Eg[t]=new QE),Eg[t]}class JE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&vl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class kr{constructor(t,e,i,r,c,d,f){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=c,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xf(t),this.stats_=vs(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),lb(e,Cg,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new JE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bd((...c)=>{const[d,f,v,E,I]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=f,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[d,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&sb.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kr.forceAllow_=!0}static forceDisallow(){kr.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!kr.forceAllow_&&(kr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,B.h$)(e),r=tb(i,1840);for(let c=0;c<r.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Bd{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=jE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Bd.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){Gi("frame writing exception"),f.stack&&Gi(f.stack),Gi(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Gi("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Gi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Fc=null;typeof MozWebSocket<"u"?Fc=MozWebSocket:typeof WebSocket<"u"&&(Fc=WebSocket);let Nc=(()=>{class n{constructor(e,i,r,c,d,f,v){this.connId=e,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xf(this.connId),this.stats_=vs(i),this.connURL=n.connectionURL_(i,f,v,c,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,c,d){const f={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&sb.test(location.hostname)&&(f.r="f"),i&&(f.s=i),r&&(f.ls=r),c&&(f.ac=c),d&&(f.p=d),lb(e,ab,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gl.set("previous_websocket_failure",!0);try{let r;if((0,B.Yr)()){r={headers:{"User-Agent":`Firebase/5/${hg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,f=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;f&&(r.proxy={origin:f})}this.mySock=new Fc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Fc&&!n.forceDisallow_}static previouslyFailed(){return gl.isInMemoryStorage||!0===gl.get("previous_websocket_failure")}markConnectionHealthy(){gl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,B.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,B.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=tb(i,16384);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),pb=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[kr,Nc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Nc&&Nc.isAvailable();let r=i&&!Nc.previouslyFailed();if(e.webSocketOnly&&(i||Vi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nc];else{const c=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Sg{constructor(t,e,i,r,c,d,f,v,E,I){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=c,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=v,this.onKill_=E,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xf("c:"+this.id+":"),this.transportManager_=new pb(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ld(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nd("t",t),i=Nd("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nd("t",t),i=Nd("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nd("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?pg("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Vi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Ld(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ld(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vb{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class uD{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let c=0;c<r.length;c++)if(r[c].callback===e&&(!i||i===r[c].context))return void r.splice(c,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class yl extends uD{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yl}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class bn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function cn(){return new bn("")}function Gt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Po(n){return n.pieces_.length-n.pieceNum_}function Dn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new bn(n.pieces_,t)}function Lc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Tg(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new bn(t,0)}function jn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof bn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new bn(e,0)}function Bt(n){return n.pieceNum_>=n.pieces_.length}function ar(n,t){const e=Gt(n),i=Gt(t);if(null===e)return t;if(e===i)return ar(Dn(n),Dn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Cb(n,t){const e=bl(n,0),i=bl(t,0);for(let r=0;r<e.length&&r<i.length;r++){const c=Oo(e[r],i[r]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function xg(n,t){if(Po(n)!==Po(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Wr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Po(n)>Po(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class wb{constructor(t,e){this.errorPrefix_=e,this.parts_=bl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);dD(this)}}function dD(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+va(n))}function va(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Rg extends uD{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Rg}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Vc=1e3;let Ud,Cl=(()=>{class n extends vb{constructor(e,i,r,c,d,f,v,E){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=f,this.appCheckTokenProvider_=v,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=xf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const c=++this.requestNumber_,d={r:c,a:e,b:i};this.log_((0,B.Wl)(d)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[c]=r)}get(e){this.initConnection_();const i=new B.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:f=>{const v=f.d;"ok"===f.s?i.resolve(v):i.reject(v)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,c){this.initConnection_();const d=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+d),this.listens.has(f)||this.listens.set(f,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(f).has(d),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:i,query:e,tag:r};this.listens.get(f).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+r+" for "+c);const d={p:r};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const E=v.d,I=v.s;n.warnOnListenWarnings_(E,i),(this.listens.get(r)&&this.listens.get(r).get(c))===e&&(this.log_("listen response",v),"ok"!==I&&this.removeListen_(r,c),e.onComplete&&e.onComplete(I,E))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const r=(0,B.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Vi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,B.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,c=>{const d=c.s,f=c.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,e._queryObject,i)}sendUnlisten_(e,i,r,c){this.log_("Unlisten on "+e+" for "+i);const d={p:e};c&&(d.q=r,d.t=c),this.sendRequest("n",d)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,c){const d={p:i,d:r};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(e,i,r,c){this.putInternal("p",e,i,r,c)}merge(e,i,r,c){this.putInternal("m",e,i,r,c)}putInternal(e,i,r,c,d){this.initConnection_();const f={p:i,d:r};void 0!==d&&(f.h=d),this.outstandingPuts_.push({action:e,request:f,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):pg("Unrecognized action received from server: "+(0,B.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,gr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let v=!1,E=null;const I=function(){E?E.close():(v=!0,c())};e.realtime_={close:I,sendRequest:function(Y){(0,B.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(Y)}};const U=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Y,X]=yield Promise.all([e.authTokenProvider_.getToken(U),e.appCheckTokenProvider_.getToken(U)]);v?Gi("getToken() completed but was canceled"):(Gi("getToken() completed. Creating connection."),e.authToken_=Y&&Y.accessToken,e.appCheckToken_=X&&X.token,E=new Sg(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,c,le=>{Vi(le+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(Y){e.log_("Failed to get token: "+Y),v||(e.repoInfo_.nodeAdmin&&Vi(Y),I())}}})()}interrupt(e){Gi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(d=>mg(d)).join("$"):"default";const c=this.removeListen_(e,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const r=new bn(e).toString();let c;if(this.listens.has(r)){const d=this.listens.get(r);c=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(e,i){Gi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Gi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+hg.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Xt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Xt(t,e)}}class Bf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Xt(_s,t),r=new Xt(_s,e);return 0!==this.compare(i,r)}minPost(){return Xt.MIN}}class Sb extends Bf{static get __EMPTY_NODE(){return Ud}static set __EMPTY_NODE(t){Ud=t}compare(t,e){return Oo(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Xt.MIN}maxPost(){return new Xt(Hs,Ud)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Xt(t,Ud)}toString(){return".key"}}const js=new Sb;class Uf{constructor(t,e,i,r,c=null){this.isReverse_=r,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(d=e?i(t.key,e):1,r&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Pg,wt=(()=>{class n{constructor(e,i,r,c,d){this.key=e,this.value=i,this.color=r??n.RED,this.left=c??lr.EMPTY_NODE,this.right=d??lr.EMPTY_NODE}copy(e,i,r,c,d){return new n(e??this.key,i??this.value,r??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let c=this;const d=r(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,i,r),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return lr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,c;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return lr.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class lr{constructor(t,e=lr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new lr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(t){return new lr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Uf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Uf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Uf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Uf(this.root_,null,this.comparator_,!0,t)}}function Tb(n,t){return Oo(n.name,t.name)}function Og(n,t){return Oo(n,t)}lr.EMPTY_NODE=new class Mb{copy(t,e,i,r,c){return this}insert(t,e,i){return new wt(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kb=function(n){return"number"==typeof n?"number:"+nb(n):"string:"+n},Fg=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===Pg||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===Pg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Rb,pD,Ng,Bc=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Fg(this.priorityNode_)}static set __childrenNodeConstructor(e){Rb=e}static get __childrenNodeConstructor(){return Rb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bt(e)?this:".priority"===Gt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Gt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,B.hu)(".priority"!==r||1===Po(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Dn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kb(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?nb(this.value_):this.value_,this.lazyHash_=$E(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,B.hu)(c>=0,"Unknown leaf type: "+i),(0,B.hu)(d>=0,"Unknown leaf type: "+r),c===d?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Pn=new class mD extends Bf{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),c=i.compareTo(r);return 0===c?Oo(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Xt.MIN}maxPost(){return new Xt(Hs,new Bc("[PRIORITY-POST]",Ng))}makePost(t,e){const i=pD(t);return new Xt(e,new Bc("[PRIORITY-POST]",i))}toString(){return".priority"}},Lg=Math.log(2);class gD{constructor(t){this.count=parseInt(Math.log(t+1)/Lg,10),this.current_=this.count-1;const r=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Vg=function(n,t,e,i){n.sort(t);const r=function(v,E){const I=E-v;let M,U;if(0===I)return null;if(1===I)return M=n[v],U=e?e(M):M,new wt(U,M.node,wt.BLACK,null,null);{const Y=parseInt(I/2,10)+v,X=r(v,Y),le=r(Y+1,E);return M=n[Y],U=e?e(M):M,new wt(U,M.node,wt.BLACK,X,le)}},f=function(v){let E=null,I=null,M=n.length;const U=function(X,le){const Re=M-X,ct=M;M-=X;const bt=r(Re+1,ct),pn=n[Re],Wt=e?e(pn):pn;Y(new wt(Wt,pn.node,le,null,bt))},Y=function(X){E?(E.left=X,E=X):(I=X,E=X)};for(let X=0;X<v.count;++X){const le=v.nextBitIsOne(),Re=Math.pow(2,v.count-(X+1));le?U(Re,wt.BLACK):(U(Re,wt.BLACK),U(Re,wt.RED))}return I}(new gD(n.length));return new lr(i||t,f)};let Pb;const Hd={};class Fo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(Hd&&Pn,"ChildrenNode.ts has not been loaded"),Pb=Pb||new Fo({".priority":Hd},{".priority":Pn}),Pb}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof lr?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const c=e.getIterator(Xt.Wrap);let f,d=c.getNext();for(;d;)r=r||t.isDefinedOn(d.node),i.push(d),d=c.getNext();f=r?Vg(i,t.getCompare()):Hd;const v=t.toString(),E=Object.assign({},this.indexSet_);E[v]=t;const I=Object.assign({},this.indexes_);return I[v]=f,new Fo(I,E)}addToIndexes(t,e){const i=(0,B.UI)(this.indexes_,(r,c)=>{const d=(0,B.DV)(this.indexSet_,c);if((0,B.hu)(d,"Missing index implementation for "+c),r===Hd){if(d.isDefinedOn(t.node)){const f=[],v=e.getIterator(Xt.Wrap);let E=v.getNext();for(;E;)E.name!==t.name&&f.push(E),E=v.getNext();return f.push(t),Vg(f,d.getCompare())}return Hd}{const f=e.get(t.name);let v=r;return f&&(v=v.remove(new Xt(t.name,f))),v.insert(t,t.node)}});return new Fo(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,B.UI)(this.indexes_,r=>{if(r===Hd)return r;{const c=e.get(t.name);return c?r.remove(new Xt(t.name,c)):r}});return new Fo(i,this.indexSet_)}}let Uc,Ht=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Fg(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uc||(Uc=new n(new lr(Og),null,Fo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Uc:i}}getChild(e){const i=Gt(e);return null===i?this:this.getImmediateChild(i).getChild(Dn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Xt(e,i);let c,d;i.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(r,this.children_));const f=c.isEmpty()?Uc:this.priorityNode_;return new n(c,f,d)}}updateChild(e,i){const r=Gt(e);if(null===r)return i;{(0,B.hu)(".priority"!==Gt(e)||1===Po(e),".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(Dn(e),i);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,c=0,d=!0;if(this.forEachChild(Pn,(f,v)=>{i[f]=v.val(e),r++,d&&n.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):d=!1}),!e&&d&&c<2*r){const f=[];for(const v in i)f[v]=i[v];return f}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+kb(this.getPriority().val())+":"),this.forEachChild(Pn,(i,r)=>{const c=r.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":$E(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const c=this.resolveIndex_(r);if(c){const d=c.getPredecessorKey(new Xt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Xt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Xt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Xt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Xt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$s?-1:0}withIndex(e){if(e===js||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===js||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Pn),c=i.getIterator(Pn);let d=r.getNext(),f=c.getNext();for(;d&&f;){if(d.name!==f.name||!d.node.equals(f.node))return!1;d=r.getNext(),f=c.getNext()}return null===d&&null===f}return!1}return!1}}resolveIndex_(e){return e===js?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const $s=new class _D extends Ht{constructor(){super(new lr(Og),Ht.EMPTY_NODE,Fo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}};function ei(n,t=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bc(n,ei(t));if(n instanceof Array){let e=Ht.EMPTY_NODE;return Ri(n,(i,r)=>{if((0,B.r3)(n,i)&&"."!==i.substring(0,1)){const c=ei(r);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(ei(t))}{const e=[];let i=!1;if(Ri(n,(d,f)=>{if("."!==d.substring(0,1)){const v=ei(f);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Xt(d,v)))}}),0===e.length)return Ht.EMPTY_NODE;const c=Vg(e,Tb,d=>d.name,Og);if(i){const d=Vg(e,Pn.getCompare());return new Ht(c,ei(t),new Fo({".priority":d},{".priority":Pn}))}return new Ht(c,ei(t),Fo.Default)}}Object.defineProperties(Xt,{MIN:{value:new Xt(_s,Ht.EMPTY_NODE)},MAX:{value:new Xt(Hs,$s)}}),Sb.__EMPTY_NODE=Ht.EMPTY_NODE,Bc.__childrenNodeConstructor=Ht,function xb(n){Pg=n}($s),function wl(n){Ng=n}($s),function Ob(n){pD=n}(ei);class Hc extends Bf{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!Bt(t)&&".priority"!==Gt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),c=i.compareTo(r);return 0===c?Oo(t.name,e.name):c}makePost(t,e){const i=ei(t),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new Xt(e,r)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,$s);return new Xt(Hs,t)}toString(){return bl(this.indexPath_,0).join("/")}}const Hf=new class yD extends Bf{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Oo(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Xt.MIN}maxPost(){return Xt.MAX}makePost(t,e){const i=ei(t);return new Xt(e,i)}toString(){return".value"}},jc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bD=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const c=new Array(8);for(r=7;r>=0;r--)c[r]=jc.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let d=c.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=jc.charAt(t[r]);return(0,B.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),Ug=function(n){if(n===""+_g)return"-";const t=kf(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Hs;const c=jc.charAt(jc.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},Lb=function(n){if(n===""+ib)return _s;const t=kf(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+_g:(delete e[e.length-1],e.join("")):(e[e.length-1]=jc.charAt(jc.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Hg(n){return{type:"value",snapshotNode:n}}function El(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Dl(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function jf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class $g{constructor(t){this.index_=t}updateChild(t,e,i,r,c,d){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(Dl(e,f)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(El(e,i)):d.trackChildChange(jf(e,i,f))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Pn,(r,c)=>{e.hasChild(r)||i.trackChildChange(Dl(r,c))}),e.isLeafNode()||e.forEachChild(Pn,(r,c)=>{if(t.hasChild(r)){const d=t.getImmediateChild(r);d.equals(c)||i.trackChildChange(jf(r,c,d))}else i.trackChildChange(El(r,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $f{constructor(t){this.indexedFilter_=new $g(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$f.getStartPost_(t),this.endPost_=$f.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,c,d){return this.matches(new Xt(e,i))||(i=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,c,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ht.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);const c=this;return e.forEachChild(Pn,(d,f)=>{c.matches(new Xt(d,f))||(r=r.updateImmediateChild(d,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class $c{constructor(t){this.rangedFilter_=new $f(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,c,d){return this.rangedFilter_.matches(new Xt(e,i))||(i=Ht.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,c,d):this.fullLimitUpdateChild_(t,e,i,c,d)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;r=Ht.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const f=c.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!v)break;r=r.updateImmediateChild(f.name,f.node),d++}}else{let c,d,f,v;if(r=e.withIndex(this.index_),r=r.updatePriority(Ht.EMPTY_NODE),this.reverse_){v=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();f=(U,Y)=>M(Y,U)}else v=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let E=0,I=!1;for(;v.hasNext();){const M=v.getNext();!I&&f(c,M)<=0&&(I=!0),I&&E<this.limit_&&f(M,d)<=0?E++:r=r.updateImmediateChild(M.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,c){let d;if(this.reverse_){const M=this.index_.getCompare();d=(U,Y)=>M(Y,U)}else d=this.index_.getCompare();const f=t;(0,B.hu)(f.numChildren()===this.limit_,"");const v=new Xt(e,i),E=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),I=this.rangedFilter_.matches(v);if(f.hasChild(e)){const M=f.getImmediateChild(e);let U=r.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=U&&(U.name===e||f.hasChild(U.name));)U=r.getChildAfterChild(this.index_,U,this.reverse_);const Y=null==U?1:d(U,v);if(I&&!i.isEmpty()&&Y>=0)return c?.trackChildChange(jf(e,i,M)),f.updateImmediateChild(e,i);{c?.trackChildChange(Dl(e,M));const le=f.updateImmediateChild(e,Ht.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(c?.trackChildChange(El(U.name,U.node)),le.updateImmediateChild(U.name,U.node)):le}}return i.isEmpty()?t:I&&d(E,v)>=0?(null!=c&&(c.trackChildChange(Dl(E.name,E.node)),c.trackChildChange(El(e,i))),f.updateImmediateChild(e,i).updateImmediateChild(E.name,Ht.EMPTY_NODE)):t}}class jd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_s}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const t=new jd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Gf(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function $d(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function zc(n,t){const e=n.copy();return e.index_=t,e}function zg(n){const t={};if(n.isDefault())return t;let e;return n.index_===Pn?e="$priority":n.index_===Hf?e="$value":n.index_===js?e="$key":((0,B.hu)(n.index_ instanceof Hc,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Wl)(e),n.startSet_&&(t.startAt=(0,B.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Wf(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Pn&&(t.i=n.index_.toString()),t}class Gg extends vb{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=xf("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Gg.getListenId_(t,i),f={};this.listens_[d]=f;const v=zg(t._queryParams);this.restRequest_(c+".json",v,(E,I)=>{let M=I;if(404===E&&(M=null,E=null),null===E&&this.onDataUpdate_(c,M,!1,i),(0,B.DV)(this.listens_,d)===f){let U;U=E?401===E?"permission_denied":"rest_error:"+E:"ok",r(U,null)}})}unlisten(t,e){const i=Gg.getListenId_(t,e);delete this.listens_[i]}get(t){const e=zg(t._queryParams),i=t._path.toString(),r=new B.BH;return this.restRequest_(i+".json",e,(c,d)=>{let f=d;404===c&&(f=null,c=null),null===c?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,c])=>{r&&r.accessToken&&(e.auth=r.accessToken),c&&c.token&&(e.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let v=null;if(f.status>=200&&f.status<300){try{v=(0,B.cI)(f.responseText)}catch{Vi("Failed to parse JSON response for "+d+": "+f.responseText)}i(null,v)}else 401!==f.status&&404!==f.status&&Vi("Got unsuccessful REST response for "+d+" Status: "+f.status),i(f.status);i=null}},f.open("GET",d,!0),f.send()})}}class Bb{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Wg(){return{value:null,children:new Map}}function Lo(n,t,e){if(Bt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Gt(t);n.children.has(i)||n.children.set(i,Wg()),Lo(n.children.get(i),t=Dn(t),e)}}function Gc(n,t){if(Bt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Pn,(i,r)=>{Lo(n,new bn(i),r)}),Gc(n,t)}}if(n.children.size>0){const e=Gt(t);return t=Dn(t),n.children.has(e)&&Gc(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function zd(n,t,e){null!==n.value?e(t,n.value):function Yg(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{zd(r,new bn(t.toString()+"/"+i),e)})}class qg{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ri(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class AD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qg(t);const i=1e4+2e4*Math.random();Ld(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ri(t,(r,c)=>{c>0&&(0,B.r3)(this.statsToReport_,r)&&(e[r]=c,i=!0)}),i&&this.server_.reportStats(e),Ld(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yr=(()=>{return(n=Yr||(Yr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Yr;var n})();function Zg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Kg{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Yr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Bt(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new bn(t));return new Kg(cn(),e,this.revert)}}return(0,B.hu)(Gt(this.path)===t,"operationForChild called for unrelated child."),new Kg(Dn(this.path),this.affectedTree,this.revert)}}class Wc{constructor(t,e){this.source=t,this.path=e,this.type=Yr.LISTEN_COMPLETE}operationForChild(t){return Bt(this.path)?new Wc(this.source,cn()):new Wc(this.source,Dn(this.path))}}class ya{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Yr.OVERWRITE}operationForChild(t){return Bt(this.path)?new ya(this.source,cn(),this.snap.getImmediateChild(t)):new ya(this.source,Dn(this.path),this.snap)}}class Yc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Yr.MERGE}operationForChild(t){if(Bt(this.path)){const e=this.children.subtree(new bn(t));return e.isEmpty()?null:e.value?new ya(this.source,cn(),e.value):new Yc(this.source,cn(),e)}return(0,B.hu)(Gt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yc(this.source,Dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zs{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Bt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Gt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class LM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qf(n,t,e,i,r,c){const d=i.filter(f=>f.type===e);d.sort((f,v)=>function UM(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new Xt(t.childName,t.snapshotNode),r=new Xt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,f,v)),d.forEach(f=>{const v=function BM(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,c);r.forEach(E=>{E.respondsTo(f.type)&&t.push(E.createEvent(v,n.query_))})})}function Qg(n,t){return{eventCache:n,serverCache:t}}function Zf(n,t,e,i){return Qg(new zs(t,e,i),n.serverCache)}function ID(n,t,e,i){return Qg(n.eventCache,new zs(t,e,i))}function Xg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function qc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Gs;class $n{constructor(t,e=(()=>(Gs||(Gs=new lr(Fd)),Gs))()){this.value=t,this.children=e}static fromObject(t){let e=new $n(null);return Ri(t,(i,r)=>{e=e.set(new bn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:cn(),value:this.value};if(Bt(t))return null;{const i=Gt(t),r=this.children.get(i);if(null!==r){const c=r.findRootMostMatchingPathAndValue(Dn(t),e);return null!=c?{path:jn(new bn(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Bt(t))return this;{const e=Gt(t),i=this.children.get(e);return null!==i?i.subtree(Dn(t)):new $n(null)}}set(t,e){if(Bt(t))return new $n(e,this.children);{const i=Gt(t),c=(this.children.get(i)||new $n(null)).set(Dn(t),e),d=this.children.insert(i,c);return new $n(this.value,d)}}remove(t){if(Bt(t))return this.children.isEmpty()?new $n(null):new $n(null,this.children);{const e=Gt(t),i=this.children.get(e);if(i){const r=i.remove(Dn(t));let c;return c=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&c.isEmpty()?new $n(null):new $n(this.value,c)}return this}}get(t){if(Bt(t))return this.value;{const e=Gt(t),i=this.children.get(e);return i?i.get(Dn(t)):null}}setTree(t,e){if(Bt(t))return e;{const i=Gt(t),c=(this.children.get(i)||new $n(null)).setTree(Dn(t),e);let d;return d=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new $n(this.value,d)}}fold(t){return this.fold_(cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,c)=>{i[r]=c.fold_(jn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Bt(t))return null;{const c=Gt(t),d=this.children.get(c);return d?d.findOnPath_(Dn(t),jn(e,c),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,cn(),e)}foreachOnPath_(t,e,i){if(Bt(t))return this;{this.value&&i(e,this.value);const r=Gt(t),c=this.children.get(r);return c?c.foreachOnPath_(Dn(t),jn(e,r),i):new $n(null)}}foreach(t){this.foreach_(cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(jn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class qr{constructor(t){this.writeTree_=t}static empty(){return new qr(new $n(null))}}function Al(n,t,e){if(Bt(t))return new qr(new $n(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let c=i.value;const d=ar(r,t);return c=c.updateChild(d,e),new qr(n.writeTree_.set(r,c))}{const r=new $n(e),c=n.writeTree_.setTree(t,r);return new qr(c)}}}function Kf(n,t,e){let i=n;return Ri(e,(r,c)=>{i=Al(i,jn(t,r),c)}),i}function Qf(n,t){if(Bt(t))return qr.empty();{const e=n.writeTree_.setTree(t,new $n(null));return new qr(e)}}function e_(n,t){return null!=yr(n,t)}function yr(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ar(e.path,t)):null}function t_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pn,(i,r)=>{t.push(new Xt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Xt(i,r.value))}),t}function ba(n,t){if(Bt(t))return n;{const e=yr(n,t);return new qr(null!=e?new $n(e):n.writeTree_.subtree(t))}}function n_(n){return n.writeTree_.isEmpty()}function Il(n,t){return Hb(cn(),n.writeTree_,t)}function Hb(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,c)=>{".priority"===r?((0,B.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=Hb(jn(n,r),c,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(jn(n,".priority"),i)),e}}function Xf(n,t){return zb(t,n)}function r_(n,t){if(n.snap)return Wr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Wr(jn(n.path,e),t))return!0;return!1}function jb(n){return n.visible}function s_(n,t,e){let i=qr.empty();for(let r=0;r<n.length;++r){const c=n[r];if(t(c)){const d=c.path;let f;if(c.snap)Wr(e,d)?(f=ar(e,d),i=Al(i,f,c.snap)):Wr(d,e)&&(f=ar(d,e),i=Al(i,cn(),c.snap.getChild(f)));else{if(!c.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Wr(e,d))f=ar(e,d),i=Kf(i,f,c.children);else if(Wr(d,e))if(f=ar(d,e),Bt(f))i=Kf(i,cn(),c.children);else{const v=(0,B.DV)(c.children,Gt(f));if(v){const E=v.getChild(Dn(f));i=Al(i,cn(),E)}}}}}return i}function tp(n,t,e,i,r){if(i||r){const c=ba(n.visibleWrites,t);return!r&&n_(c)?e:r||null!=e||e_(c,cn())?Il(s_(n.allWrites,function(E){return(E.visible||r)&&(!i||!~i.indexOf(E.writeId))&&(Wr(E.path,t)||Wr(t,E.path))},t),e||Ht.EMPTY_NODE):null}{const c=yr(n.visibleWrites,t);if(null!=c)return c;{const d=ba(n.visibleWrites,t);return n_(d)?e:null!=e||e_(d,cn())?Il(d,e||Ht.EMPTY_NODE):null}}}function Gd(n,t,e,i){return tp(n.writeTree,n.treePath,t,e,i)}function l_(n,t){return function o_(n,t,e){let i=Ht.EMPTY_NODE;const r=yr(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Pn,(c,d)=>{i=i.updateImmediateChild(c,d)}),i;if(e){const c=ba(n.visibleWrites,t);return e.forEachChild(Pn,(d,f)=>{const v=Il(ba(c,new bn(d)),f);i=i.updateImmediateChild(d,v)}),t_(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return t_(ba(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function c_(n,t,e,i){return function $b(n,t,e,i,r){(0,B.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const c=jn(t,e);if(e_(n.visibleWrites,c))return null;{const d=ba(n.visibleWrites,c);return n_(d)?r.getChild(e):Il(d,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Wd(n,t){return function SD(n,t){return yr(n.visibleWrites,t)}(n.writeTree,jn(n.treePath,t))}function cr(n,t,e){return function a_(n,t,e,i){const r=jn(t,e),c=yr(n.visibleWrites,r);return null!=c?c:i.isCompleteForChild(e)?Il(ba(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function u_(n,t){return zb(jn(n.treePath,t),n.writeTree)}function zb(n,t){return{treePath:n,writeTree:t}}class jM{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const c=r.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,jf(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,Dl(i,r.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,El(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,jf(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const np=new class xD{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class ip{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cr(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qc(this.viewCache_),c=function TD(n,t,e,i,r,c){return function HM(n,t,e,i,r,c,d){let f;const v=ba(n.visibleWrites,t),E=yr(v,cn());if(null!=E)f=E;else{if(null==e)return[];f=Il(v,e)}if(f=f.withIndex(d),f.isEmpty()||f.isLeafNode())return[];{const I=[],M=d.getCompare(),U=c?f.getReverseIteratorFrom(i,d):f.getIteratorFrom(i,d);let Y=U.getNext();for(;Y&&I.length<r;)0!==M(Y,i)&&I.push(Y),Y=U.getNext();return I}}(n.writeTree,n.treePath,t,e,i,r,c)}(this.writes_,r,e,1,i,t);return 0===c.length?null:c[0]}}function Wb(n,t,e,i,r,c){const d=t.eventCache;if(null!=Wd(i,e))return t;{let f,v;if(Bt(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=qc(t),M=l_(i,E instanceof Ht?E:Ht.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),M,c)}else{const E=Gd(i,qc(t));f=n.filter.updateFullNode(t.eventCache.getNode(),E,c)}else{const E=Gt(e);if(".priority"===E){(0,B.hu)(1===Po(e),"Can't have a priority with additional path components");const I=d.getNode();v=t.serverCache.getNode();const M=c_(i,e,I,v);f=null!=M?n.filter.updatePriority(I,M):d.getNode()}else{const I=Dn(e);let M;if(d.isCompleteForChild(E)){v=t.serverCache.getNode();const U=c_(i,e,d.getNode(),v);M=null!=U?d.getNode().getImmediateChild(E).updateChild(I,U):d.getNode().getImmediateChild(E)}else M=cr(i,E,t.serverCache);f=null!=M?n.filter.updateChild(d.getNode(),E,M,I,r,c):d.getNode()}}return Zf(t,f,d.isFullyInitialized()||Bt(e),n.filter.filtersNodes())}}function Yd(n,t,e,i,r,c,d,f){const v=t.serverCache;let E;const I=d?n.filter:n.filter.getIndexedFilter();if(Bt(e))E=I.updateFullNode(v.getNode(),i,null);else if(I.filtersNodes()&&!v.isFiltered()){const Y=v.getNode().updateChild(e,i);E=I.updateFullNode(v.getNode(),Y,null)}else{const Y=Gt(e);if(!v.isCompleteForPath(e)&&Po(e)>1)return t;const X=Dn(e),Re=v.getNode().getImmediateChild(Y).updateChild(X,i);E=".priority"===Y?I.updatePriority(v.getNode(),Re):I.updateChild(v.getNode(),Y,Re,X,np,null)}const M=ID(t,E,v.isFullyInitialized()||Bt(e),I.filtersNodes());return Wb(n,M,e,r,new ip(r,M,c),f)}function d_(n,t,e,i,r,c,d){const f=t.eventCache;let v,E;const I=new ip(r,t,c);if(Bt(e))E=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=Zf(t,E,!0,n.filter.filtersNodes());else{const M=Gt(e);if(".priority"===M)E=n.filter.updatePriority(t.eventCache.getNode(),i),v=Zf(t,E,f.isFullyInitialized(),f.isFiltered());else{const U=Dn(e),Y=f.getNode().getImmediateChild(M);let X;if(Bt(U))X=i;else{const le=I.getCompleteChild(M);X=null!=le?".priority"===Lc(U)&&le.getChild(Tg(U)).isEmpty()?le:le.updateChild(U,i):Ht.EMPTY_NODE}v=Y.equals(X)?t:Zf(t,n.filter.updateChild(f.getNode(),M,X,U,I,d),f.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Yb(n,t){return n.eventCache.isCompleteForChild(t)}function h_(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function f_(n,t,e,i,r,c,d,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let E,v=t;E=Bt(e)?i:new $n(null).setTree(e,i);const I=t.serverCache.getNode();return E.children.inorderTraversal((M,U)=>{if(I.hasChild(M)){const X=h_(0,t.serverCache.getNode().getImmediateChild(M),U);v=Yd(n,v,new bn(M),X,r,c,d,f)}}),E.children.inorderTraversal((M,U)=>{const Y=!t.serverCache.isCompleteForChild(M)&&null===U.value;if(!I.hasChild(M)&&!Y){const le=h_(0,t.serverCache.getNode().getImmediateChild(M),U);v=Yd(n,v,new bn(M),le,r,c,d,f)}}),v}class FD{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $g(i.getIndex()),c=function Vb(n){return n.loadsAllData()?new $g(n.getIndex()):n.hasLimit()?new $c(n):new $f(n)}(i);this.processor_=function kD(n){return{filter:n}}(c);const d=e.serverCache,f=e.eventCache,v=r.updateFullNode(Ht.EMPTY_NODE,d.getNode(),null),E=c.updateFullNode(Ht.EMPTY_NODE,f.getNode(),null),I=new zs(v,d.isFullyInitialized(),r.filtersNodes()),M=new zs(E,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=Qg(M,I),this.eventGenerator_=new LM(this.query_)}get query(){return this.query_}}function ND(n,t){const e=qc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Bt(t)&&!e.getImmediateChild(Gt(t)).isEmpty())?e.getChild(t):null}function Kb(n){return 0===n.eventRegistrations_.length}function rp(n,t,e){const i=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(e,r);d&&i.push(d)})}if(t){let r=[];for(let c=0;c<n.eventRegistrations_.length;++c){const d=n.eventRegistrations_[c];if(d.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(c+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Qb(n,t,e,i){t.type===Yr.MERGE&&null!==t.source.queryId&&((0,B.hu)(qc(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(Xg(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,c=function OD(n,t,e,i,r){const c=new jM;let d,f;if(e.type===Yr.OVERWRITE){const E=e;E.source.fromUser?d=d_(n,t,E.path,E.snap,i,r,c):((0,B.hu)(E.source.fromServer,"Unknown source."),f=E.source.tagged||t.serverCache.isFiltered()&&!Bt(E.path),d=Yd(n,t,E.path,E.snap,i,r,f,c))}else if(e.type===Yr.MERGE){const E=e;E.source.fromUser?d=function qb(n,t,e,i,r,c,d){let f=t;return i.foreach((v,E)=>{const I=jn(e,v);Yb(t,Gt(I))&&(f=d_(n,f,I,E,r,c,d))}),i.foreach((v,E)=>{const I=jn(e,v);Yb(t,Gt(I))||(f=d_(n,f,I,E,r,c,d))}),f}(n,t,E.path,E.children,i,r,c):((0,B.hu)(E.source.fromServer,"Unknown source."),f=E.source.tagged||t.serverCache.isFiltered(),d=f_(n,t,E.path,E.children,i,r,f,c))}else if(e.type===Yr.ACK_USER_WRITE){const E=e;d=E.revert?function PD(n,t,e,i,r,c){let d;if(null!=Wd(i,e))return t;{const f=new ip(i,t,r),v=t.eventCache.getNode();let E;if(Bt(e)||".priority"===Gt(e)){let I;if(t.serverCache.isFullyInitialized())I=Gd(i,qc(t));else{const M=t.serverCache.getNode();(0,B.hu)(M instanceof Ht,"serverChildren would be complete if leaf node"),I=l_(i,M)}E=n.filter.updateFullNode(v,I,c)}else{const I=Gt(e);let M=cr(i,I,t.serverCache);null==M&&t.serverCache.isCompleteForChild(I)&&(M=v.getImmediateChild(I)),E=null!=M?n.filter.updateChild(v,I,M,Dn(e),f,c):t.eventCache.getNode().hasChild(I)?n.filter.updateChild(v,I,Ht.EMPTY_NODE,Dn(e),f,c):v,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Gd(i,qc(t)),d.isLeafNode()&&(E=n.filter.updateFullNode(E,d,c)))}return d=t.serverCache.isFullyInitialized()||null!=Wd(i,cn()),Zf(t,E,d,n.filter.filtersNodes())}}(n,t,E.path,i,r,c):function Ws(n,t,e,i,r,c,d){if(null!=Wd(r,e))return t;const f=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Bt(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return Yd(n,t,e,v.getNode().getChild(e),r,c,f,d);if(Bt(e)){let E=new $n(null);return v.getNode().forEachChild(js,(I,M)=>{E=E.set(new bn(I),M)}),f_(n,t,e,E,r,c,f,d)}return t}{let E=new $n(null);return i.foreach((I,M)=>{const U=jn(e,I);v.isCompleteForPath(U)&&(E=E.set(I,v.getNode().getChild(U)))}),f_(n,t,e,E,r,c,f,d)}}(n,t,E.path,E.affectedTree,i,r,c)}else{if(e.type!==Yr.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);d=function p_(n,t,e,i,r){const c=t.serverCache;return Wb(n,ID(t,c.getNode(),c.isFullyInitialized()||Bt(e),c.isFiltered()),e,i,np,r)}(n,t,e.path,i,c)}const v=c.getChanges();return function Gb(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Xg(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(Hg(Xg(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,r,t,e,i);return function RD(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,B.hu)(c.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,qd(n,c.changes,c.viewCache.eventCache.getNode(),null)}function qd(n,t,e,i){return function VM(n,t,e,i){const r=[],c=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(function jg(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),qf(n,r,"child_removed",t,i,e),qf(n,r,"child_added",t,i,e),qf(n,r,"child_moved",c,i,e),qf(n,r,"child_changed",t,i,e),qf(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Qc,Xc;class Zd{constructor(){this.views=new Map}}function sp(n,t,e,i){const r=t.source.queryId;if(null!==r){const c=n.views.get(r);return(0,B.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Qb(c,t,e,i)}{let c=[];for(const d of n.views.values())c=c.concat(Qb(d,t,e,i));return c}}function g_(n,t,e,i,r){const d=n.views.get(t._queryIdentifier);if(!d){let f=Gd(e,r?i:null),v=!1;f?v=!0:i instanceof Ht?(f=l_(e,i),v=!1):(f=Ht.EMPTY_NODE,v=!1);const E=Qg(new zs(f,v,!1),new zs(i,r,!1));return new FD(t,E)}return d}function op(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function er(n,t){let e=null;for(const i of n.views.values())e=e||ND(i,t);return e}function Kd(n,t){return t._queryParams.loadsAllData()?ap(n):n.views.get(t._queryIdentifier)}function Qd(n,t){return null!=Kd(n,t)}function Zr(n){return null!=ap(n)}function ap(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let UD=1;class Jc{constructor(t){this.listenProvider_=t,this.syncPointTree_=new $n(null),this.pendingWriteTree_=function MD(){return{visibleWrites:qr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function __(n,t,e,i,r){return function Jf(n,t,e,i,r){(0,B.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Al(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?eu(n,new ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ca(n,t,e=!1){const i=function i_(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Kc(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,c=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const f=n.allWrites[d];f.visible&&(d>=e&&r_(f,i.path)?r=!1:Wr(i.path,f.path)&&(c=!0)),d--}return!!r&&(c?(function ep(n){n.visibleWrites=s_(n.allWrites,jb,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Qf(n.visibleWrites,i.path):Ri(i.children,v=>{n.visibleWrites=Qf(n.visibleWrites,jn(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let c=new $n(null);return null!=i.snap?c=c.set(cn(),!0):Ri(i.children,d=>{c=c.set(new bn(d),!0)}),eu(n,new Kg(i.path,c,e))}return[]}function lp(n,t,e){return eu(n,new ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Xd(n,t,e,i,r=!1){const c=t._path,d=n.syncPointTree_.get(c);let f=[];if(d&&("default"===t._queryIdentifier||Qd(d,t))){const v=function Jb(n,t,e,i){const r=t._queryIdentifier,c=[];let d=[];const f=Zr(n);if("default"===r)for(const[v,E]of n.views.entries())d=d.concat(rp(E,e,i)),Kb(E)&&(n.views.delete(v),E.query._queryParams.loadsAllData()||c.push(E.query));else{const v=n.views.get(r);v&&(d=d.concat(rp(v,e,i)),Kb(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||c.push(v.query)))}return f&&!Zr(n)&&c.push(new(function m_(){return(0,B.hu)(Qc,"Reference.ts has not been loaded"),Qc}())(t._repo,t._path)),{removed:c,events:d}}(d,t,e,i);(function GM(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const E=v.removed;if(f=v.events,!r){const I=-1!==E.findIndex(U=>U._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(c,(U,Y)=>Zr(Y));if(I&&!M){const U=n.syncPointTree_.subtree(c);if(!U.isEmpty()){const Y=function WD(n){return n.fold((t,e,i)=>{if(e&&Zr(e))return[ap(e)];{let r=[];return e&&(r=op(e)),Ri(i,(c,d)=>{r=r.concat(d)}),r}})}(U);for(let X=0;X<Y.length;++X){const le=Y[X],Re=le.query,ct=iC(n,le);n.listenProvider_.startListening(Ml(Re),wa(n,Re),ct.hashFn,ct.onComplete)}}}!M&&E.length>0&&!i&&(I?n.listenProvider_.stopListening(Ml(t),null):E.forEach(U=>{const Y=n.queryToTagMap.get(Ys(U));n.listenProvider_.stopListening(Ml(U),Y)}))}!function YD(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Ys(i),c=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(c)}}}(n,E)}return f}function cp(n,t,e,i){const r=rC(n,i);if(null!=r){const c=Sl(r),d=c.path,f=c.queryId,v=ar(d,t);return v_(n,d,new ya(Zg(f),v,e))}return[]}function Jd(n,t,e,i=!1){const r=t._path;let c=null,d=!1;n.syncPointTree_.foreachOnPath(r,(U,Y)=>{const X=ar(U,r);c=c||er(Y,X),d=d||Zr(Y)});let v,f=n.syncPointTree_.get(r);f?(d=d||Zr(f),c=c||er(f,cn())):(f=new Zd,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=c?v=!0:(v=!1,c=Ht.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((Y,X)=>{const le=er(X,cn());le&&(c=c.updateImmediateChild(Y,le))}));const E=Qd(f,t);if(!E&&!t._queryParams.loadsAllData()){const U=Ys(t);(0,B.hu)(!n.queryToTagMap.has(U),"View does not exist, but we have a tag");const Y=function qs(){return UD++}();n.queryToTagMap.set(U,Y),n.tagToQueryMap.set(Y,U)}let M=function Xb(n,t,e,i,r,c){const d=g_(n,t,i,r,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function LD(n,t){n.eventRegistrations_.push(t)}(d,e),function VD(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pn,(c,d)=>{i.push(El(c,d))}),e.isFullyInitialized()&&i.push(Hg(e.getNode())),qd(n,i,e.getNode(),t)}(d,e)}(f,t,e,Xf(n.pendingWriteTree_,r),c,v);if(!E&&!d&&!i){const U=Kd(f,t);M=M.concat(function eh(n,t,e){const i=t._path,r=wa(n,t),c=iC(n,e),d=n.listenProvider_.startListening(Ml(t),r,c.hashFn,c.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,B.hu)(!Zr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const v=f.fold((E,I,M)=>{if(!Bt(E)&&I&&Zr(I))return[ap(I).query];{let U=[];return I&&(U=U.concat(op(I).map(Y=>Y.query))),Ri(M,(Y,X)=>{U=U.concat(X)}),U}});for(let E=0;E<v.length;++E){const I=v[E];n.listenProvider_.stopListening(Ml(I),wa(n,I))}}return d}(n,t,U))}return M}function up(n,t,e){const r=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(d,f)=>{const E=er(f,ar(d,t));if(E)return E});return tp(r,t,c,e,!0)}function eu(n,t){return tC(t,n.syncPointTree_,null,Xf(n.pendingWriteTree_,cn()))}function tC(n,t,e,i){if(Bt(n.path))return nC(n,t,e,i);{const r=t.get(cn());null==e&&null!=r&&(e=er(r,cn()));let c=[];const d=Gt(n.path),f=n.operationForChild(d),v=t.children.get(d);if(v&&f){const E=e?e.getImmediateChild(d):null,I=u_(i,d);c=c.concat(tC(f,v,E,I))}return r&&(c=c.concat(sp(r,n,i,e))),c}}function nC(n,t,e,i){const r=t.get(cn());null==e&&null!=r&&(e=er(r,cn()));let c=[];return t.children.inorderTraversal((d,f)=>{const v=e?e.getImmediateChild(d):null,E=u_(i,d),I=n.operationForChild(d);I&&(c=c.concat(nC(I,f,v,E)))}),r&&(c=c.concat(sp(r,n,i,e))),c}function iC(n,t){const e=t.query,i=wa(n,e);return{hashFn:()=>(function $M(n){return n.viewCache_.serverCache.getNode()}(t)||Ht.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function $D(n,t,e){const i=rC(n,e);if(i){const r=Sl(i),c=r.path,d=r.queryId,f=ar(c,t);return v_(n,c,new Wc(Zg(d),f))}return[]}(n,e._path,i):function jD(n,t){return eu(n,new Wc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function qE(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Xd(n,e,null,c)}}}}function wa(n,t){const e=Ys(t);return n.queryToTagMap.get(e)}function Ys(n){return n._path.toString()+"$"+n._queryIdentifier}function rC(n,t){return n.tagToQueryMap.get(t)}function Sl(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new bn(n.substr(0,t))}}function v_(n,t,e){const i=n.syncPointTree_.get(t);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),sp(i,e,Xf(n.pendingWriteTree_,t),null)}function Ml(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function BD(){return(0,B.hu)(Xc,"Reference.ts has not been loaded"),Xc}())(n._repo,n._path):n}class Bi{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Bi(e)}node(){return this.node_}}class Vo{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=jn(this.path_,t);return new Vo(this.syncTree_,e)}node(){return up(this.syncTree_,this.path_)}}const Rr=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?y_(n[".sv"],t,e):"object"==typeof n[".sv"]?tu(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},y_=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},tu=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,B.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},Tl=function(n,t,e,i){return Da(t,new Vo(e,n),i)},Ea=function(n,t,e){return Da(n,new Bi(t),e)};function Da(n,t,e){const i=n.getPriority().val(),r=Rr(i,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const d=n,f=Rr(d.getValue(),t,e);return f!==d.getValue()||r!==d.getPriority().val()?new Bc(f,ei(r)):n}{const d=n;return c=d,r!==d.getPriority().val()&&(c=c.updatePriority(new Bc(r))),d.forEachChild(Pn,(f,v)=>{const E=Da(v,t.getImmediateChild(f),e);E!==v&&(c=c.updateImmediateChild(f,E))}),c}}class Aa{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Bo(n,t){let e=t instanceof bn?t:new bn(t),i=n,r=Gt(e);for(;null!==r;){const c=(0,B.DV)(i.node.children,r)||{children:{},childCount:0};i=new Aa(r,i,c),e=Dn(e),r=Gt(e)}return i}function Kr(n){return n.node.value}function Ia(n,t){n.node.value=t,hp(n)}function xl(n){return n.node.childCount>0}function th(n,t){Ri(n.node.children,(e,i)=>{t(new Aa(e,n,i))})}function b_(n,t,e,i){e&&!i&&t(n),th(n,r=>{b_(r,t,!0,i)}),e&&i&&t(n)}function nu(n){return new bn(null===n.parent?n.name:nu(n.parent)+"/"+n.name)}function hp(n){null!==n.parent&&function aC(n,t,e){const i=function sC(n){return void 0===Kr(n)&&!xl(n)}(e),r=(0,B.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,hp(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,hp(n))}(n.parent,n.name,n)}const lC=/[\[\].#$\/\u0000-\u001F\u007F]/,cC=/[\[\].#$\u0000-\u001F\u007F]/,C_=10485760,fp=function(n){return"string"==typeof n&&0!==n.length&&!lC.test(n)},w_=function(n){return"string"==typeof n&&0!==n.length&&!cC.test(n)},iu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Pd(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},Qr=function(n,t,e,i){i&&void 0===t||kl((0,B.gK)(n,"value"),t,e)},kl=function(n,t,e){const i=e instanceof bn?new wb(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+va(i));if("function"==typeof t)throw new Error(n+"contains a function "+va(i)+" with contents = "+t.toString());if(Pd(t))throw new Error(n+"contains "+t.toString()+" "+va(i));if("string"==typeof t&&t.length>C_/3&&(0,B.ug)(t)>C_)throw new Error(n+"contains a string greater than "+C_+" utf8 bytes "+va(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,c=!1;if(Ri(t,(d,f)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(c=!0,!fp(d)))throw new Error(n+" contains an invalid key ("+d+") "+va(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function kg(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),dD(n)})(i,d),kl(n,f,i),function Eb(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&c)throw new Error(n+' contains ".value" child '+va(i)+" in addition to actual children.")}},nh=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const c=[];Ri(t,(d,f)=>{const v=new bn(d);if(kl(r,f,jn(e,v)),".priority"===Lc(v)&&!iu(f))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const c=bl(i);for(let d=0;d<c.length;d++)if((".priority"!==c[d]||d!==c.length-1)&&!fp(c[d]))throw new Error(n+"contains an invalid key ("+c[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Cb);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Wr(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,c)},ru=function(n,t,e){if(!e||void 0!==t){if(Pd(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!iu(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rl=function(n,t,e,i){if(!(i&&void 0===e||fp(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ih=function(n,t,e,i){if(!(i&&void 0===e||w_(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ur=function(n,t){if(".info"===Gt(t))throw new Error(n+" failed = Can't modify data under /.info/")},E_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!fp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),w_(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class uC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function su(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],c=r.getPath();null!==e&&!xg(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(r)}e&&n.eventLists_.push(e)}function D_(n,t,e){su(n,e),mp(n,i=>xg(i,t))}function br(n,t,e){su(n,e),mp(n,i=>Wr(i,t)||Wr(t,i))}function mp(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(A_(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function A_(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();kc&&Gi("event: "+e.toString()),vl(i)}}}const dC="repo_interrupt";class fC{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wg(),this.transactionQueueTree_=new Aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I_(n){const e=n.infoData_.getNode(new bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function rh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:I_(n)})}function S_(n,t,e,i,r){n.dataUpdateCount++;const c=new bn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(r)if(i){const v=(0,B.UI)(e,E=>ei(E));d=function zD(n,t,e,i){const r=rC(n,i);if(r){const c=Sl(r),d=c.path,f=c.queryId,v=ar(d,t),E=$n.fromObject(e);return v_(n,d,new Yc(Zg(f),v,E))}return[]}(n.serverSyncTree_,c,v,r)}else{const v=ei(e);d=cp(n.serverSyncTree_,c,v,r)}else if(i){const v=(0,B.UI)(e,E=>ei(E));d=function HD(n,t,e){const i=$n.fromObject(e);return eu(n,new Yc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,c,v)}else{const v=ei(e);d=lp(n.serverSyncTree_,c,v)}let f=c;d.length>0&&(f=Ol(n,c)),br(n.eventQueue_,f,d)}function M_(n,t){sh(n,"connected",t),!1===t&&function vC(n){ti(n,"onDisconnectEvents");const t=rh(n),e=Wg();zd(n.onDisconnect_,cn(),(r,c)=>{const d=Tl(r,c,n.serverSyncTree_,t);Lo(e,r,d)});let i=[];zd(e,cn(),(r,c)=>{i=i.concat(lp(n.serverSyncTree_,r,c));const d=O_(n,r);Ol(n,d)}),n.onDisconnect_=Wg(),br(n.eventQueue_,cn(),i)}(n)}function sh(n,t,e){const i=new bn("/.info/"+t),r=ei(e);n.infoData_.updateSnapshot(i,r);const c=lp(n.infoSyncTree_,i,r);br(n.eventQueue_,i,c)}function oh(n){return n.nextWriteId_++}function gp(n,t,e,i,r){ti(n,"set",{path:t.toString(),value:e,priority:i});const c=rh(n),d=ei(e,i),f=up(n.serverSyncTree_,t),v=Ea(d,f,c),E=oh(n),I=__(n.serverSyncTree_,t,v,E,!0);su(n.eventQueue_,I),n.server_.put(t.toString(),d.val(!0),(U,Y)=>{const X="ok"===U;X||Vi("set at "+t+" failed: "+U);const le=Ca(n.serverSyncTree_,E,!X);br(n.eventQueue_,t,le),Uo(0,r,U,Y)});const M=O_(n,t);Ol(n,M),br(n.eventQueue_,M,[])}function yC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Gc(n.onDisconnect_,t),Uo(0,e,i,r)})}function T_(n,t,e,i){const r=ei(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(c,d)=>{"ok"===c&&Lo(n.onDisconnect_,t,r),Uo(0,i,c,d)})}function x_(n,t,e){let i;i=".info"===Gt(t._path)?Xd(n.infoSyncTree_,t,e):Xd(n.serverSyncTree_,t,e),D_(n.eventQueue_,t._path,i)}function k_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(dC)}function ti(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Gi(e,...t)}function Uo(n,t,e,i){t&&vl(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let c=r;i&&(c+=": "+i);const d=new Error(c);d.code=r,t(d)}})}function R_(n,t,e){return up(n.serverSyncTree_,t,e)||Ht.EMPTY_NODE}function ah(n,t=n.transactionQueueTree_){if(t||lh(n,t),Kr(t)){const e=wC(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function JD(n,t,e){const i=e.map(E=>E.currentWriteId),r=R_(n,t,i);let c=r;const d=r.hash();for(let E=0;E<e.length;E++){const I=e[E];(0,B.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const M=ar(t,I.path);c=c.updateChild(M,I.currentOutputSnapshotRaw)}const f=c.val(!0),v=t;n.server_.put(v.toString(),f,E=>{ti(n,"transaction put response",{path:v.toString(),status:E});let I=[];if("ok"===E){const M=[];for(let U=0;U<e.length;U++)e[U].status=2,I=I.concat(Ca(n.serverSyncTree_,e[U].currentWriteId)),e[U].onComplete&&M.push(()=>e[U].onComplete(null,!0,e[U].currentOutputSnapshotResolved)),e[U].unwatcher();lh(n,Bo(n.transactionQueueTree_,t)),ah(n,n.transactionQueueTree_),br(n.eventQueue_,t,I);for(let U=0;U<M.length;U++)vl(M[U])}else{if("datastale"===E)for(let M=0;M<e.length;M++)e[M].status=3===e[M].status?4:0;else{Vi("transaction at "+v.toString()+" failed: "+E);for(let M=0;M<e.length;M++)e[M].status=4,e[M].abortReason=E}Ol(n,t)}},d)}(n,nu(t),e)}else xl(t)&&th(t,e=>{ah(n,e)})}function Ol(n,t){const e=Pl(n,t),i=nu(e);return function CC(n,t,e){if(0===t.length)return;const i=[];let r=[];const d=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const v=t[f],E=ar(e,v.path);let M,I=!1;if((0,B.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)I=!0,M=v.abortReason,r=r.concat(Ca(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)I=!0,M="maxretry",r=r.concat(Ca(n.serverSyncTree_,v.currentWriteId,!0));else{const U=R_(n,v.path,d);v.currentInputSnapshot=U;const Y=t[f].update(U.val());if(void 0!==Y){kl("transaction failed: Data returned ",Y,v.path);let X=ei(Y);"object"==typeof Y&&null!=Y&&(0,B.r3)(Y,".priority")||(X=X.updatePriority(U.getPriority()));const Re=v.currentWriteId,ct=rh(n),bt=Ea(X,U,ct);v.currentOutputSnapshotRaw=X,v.currentOutputSnapshotResolved=bt,v.currentWriteId=oh(n),d.splice(d.indexOf(Re),1),r=r.concat(__(n.serverSyncTree_,v.path,bt,v.currentWriteId,v.applyLocally)),r=r.concat(Ca(n.serverSyncTree_,Re,!0))}else I=!0,M="nodata",r=r.concat(Ca(n.serverSyncTree_,v.currentWriteId,!0))}br(n.eventQueue_,e,r),r=[],I&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&i.push("nodata"===M?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(M),!1,null)))}lh(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)vl(i[f]);ah(n,n.transactionQueueTree_)}(n,wC(n,e),i),i}function Pl(n,t){let e,i=n.transactionQueueTree_;for(e=Gt(t);null!==e&&void 0===Kr(i);)i=Bo(i,e),e=Gt(t=Dn(t));return i}function wC(n,t){const e=[];return EC(n,t,e),e.sort((i,r)=>i.order-r.order),e}function EC(n,t,e){const i=Kr(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);th(t,r=>{EC(n,r,e)})}function lh(n,t){const e=Kr(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Ia(t,e.length>0?e:void 0)}th(t,i=>{lh(n,i)})}function O_(n,t){const e=nu(Pl(n,t)),i=Bo(n.transactionQueueTree_,t);return function oC(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{_p(n,r)}),_p(n,i),b_(i,r=>{_p(n,r)}),e}function _p(n,t){const e=Kr(t);if(e){const i=[];let r=[],c=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,B.hu)(c===d-1,"All SENT items should be at beginning of queue."),c=d,e[d].status=3,e[d].abortReason="set"):((0,B.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),r=r.concat(Ca(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Ia(t,void 0):e.length=c+1,br(n.eventQueue_,nu(t),r);for(let d=0;d<i.length;d++)vl(i[d])}}const ch=function(n,t){const e=Zs(n),i=e.namespace;return"firebase.com"===e.domain&&gs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new wg(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new bn(e.pathString)}},Zs=function(n){let t="",e="",i="",r="",c="",d=!0,f="https",v=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(f=n.substring(0,E-1),n=n.substring(E+2));let I=n.indexOf("/");-1===I&&(I=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),t=n.substring(0,Math.min(I,M)),I<M&&(r=function qM(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(I,M)));const U=function P_(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vi(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,M)));E=t.indexOf(":"),E>=0?(d="https"===f||"wss"===f,v=parseInt(t.substring(E+1),10)):E=t.length;const Y=t.slice(0,E);if("localhost"===Y.toLowerCase())e="localhost";else if(Y.split(".").length<=2)e=Y;else{const X=t.indexOf(".");i=t.substring(0,X).toLowerCase(),e=t.substring(X+1),c=i}"ns"in U&&(c=U.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:f,pathString:r,namespace:c}};class DC{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class AC{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xr{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Jr{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return yC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ur("OnDisconnect.remove",this._path);const t=new B.BH;return T_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ur("OnDisconnect.set",this._path),Qr("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return T_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ur("OnDisconnect.setWithPriority",this._path),Qr("OnDisconnect.setWithPriority",t,this._path,!1),ru("OnDisconnect.setWithPriority",e,!1);const i=new B.BH;return function bC(n,t,e,i,r){const c=ei(e,i);n.server_.onDisconnectPut(t.toString(),c.val(!0),(d,f)=>{"ok"===d&&Lo(n.onDisconnect_,t,c),Uo(0,r,d,f)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ur("OnDisconnect.update",this._path),nh("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function YM(n,t,e,i){if((0,B.xb)(e))return Gi("onDisconnect().update() called with empty data.  Don't do anything."),void Uo(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,c)=>{"ok"===r&&Ri(e,(d,f)=>{const v=ei(f);Lo(n.onDisconnect_,jn(t,d),v)}),Uo(0,i,r,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ni{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Bt(this._path)?null:Lc(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const t=Wf(this._queryParams),e=mg(t);return"{}"===e?"default":e}get _queryObject(){return Wf(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof ni))return!1;const e=this._repo===t._repo,i=xg(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function bb(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function uh(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ho(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===js){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==_s)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Hs)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Pn){if(null!=t&&!iu(t)||null!=e&&!iu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof Hc||n.getIndex()===Hf,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends ni{constructor(t,e){super(t,e,new jd,!1)}get parent(){const t=Tg(this._path);return null===t?null:new es(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Fl{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new bn(t),i=ws(this.ref,t);return new Fl(this._node.getChild(e),i,Pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Fl(r,ws(this.ref,i),Pn)))}hasChild(t){const e=new bn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function IC(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?ws(n._root,t):n._root}function yp(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=ch(t,n._repo.repoInfo_.nodeAdmin);E_("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),IC(n,e.path.toString())}function ws(n,t){return null===Gt((n=(0,B.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ih("child","path",e,!1)):ih("child","path",t,!1),new es(n._repo,jn(n._path,t));var e}function bp(n,t){n=(0,B.m9)(n),ur("set",n._path),Qr("set",t,n._path,!1);const e=new B.BH;return gp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function tA(n,t){nh("update",t,n._path,!1);const e=new B.BH;return function _C(n,t,e,i){ti(n,"update",{path:t.toString(),value:e});let r=!0;const c=rh(n),d={};if(Ri(e,(f,v)=>{r=!1,d[f]=Tl(jn(t,f),ei(v),n.serverSyncTree_,c)}),r)Gi("update() called with empty data.  Don't do anything."),Uo(0,i,"ok",void 0);else{const f=oh(n),v=function WM(n,t,e,i){!function Zc(n,t,e,i){(0,B.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Kf(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=$n.fromObject(e);return eu(n,new Yc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,d,f);su(n.eventQueue_,v),n.server_.merge(t.toString(),e,(E,I)=>{const M="ok"===E;M||Vi("update at "+t+" failed: "+E);const U=Ca(n.serverSyncTree_,f,!M),Y=U.length>0?Ol(n,t):t;br(n.eventQueue_,Y,U),Uo(0,i,E,I)}),Ri(e,E=>{const I=O_(n,jn(t,E));Ol(n,I)}),br(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function TC(n){n=(0,B.m9)(n);const t=new Xr(()=>{}),e=new ou(t);return function gC(n,t,e){const i=function GD(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(E,I)=>{const M=ar(E,e);i=i||er(I,M)});let r=n.syncPointTree_.get(e);r?i=i||er(r,cn()):(r=new Zd,n.syncPointTree_=n.syncPointTree_.set(e,r));const c=null!=i,d=c?new zs(i,!0,!1):null;return function Zb(n){return Xg(n.viewCache_)}(g_(r,t,Xf(n.pendingWriteTree_,t._path),c?d.getNode():Ht.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const c=ei(r).withIndex(t._queryParams.getIndex());let d;if(Jd(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())d=lp(n.serverSyncTree_,t._path,c);else{const f=wa(n.serverSyncTree_,t);d=cp(n.serverSyncTree_,t._path,c,f)}return br(n.eventQueue_,t._path,d),Xd(n.serverSyncTree_,t,e,null,!0),c},r=>(ti(n,"get for query "+(0,B.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Fl(i,new es(n._repo,n._path),n._queryParams.getIndex()))}class ou{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new DC("value",this,new Fl(t.snapshotNode,new es(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AC(this,t,e):null}matches(t){return t instanceof ou&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class au{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AC(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const i=ws(new es(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new DC(t.type,this,new Fl(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof au&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sa(n,t,e,i,r){let c;if("object"==typeof i&&(c=void 0,r=i),"function"==typeof i&&(c=i),r&&r.onlyOnce){const v=e,E=(I,M)=>{x_(n._repo,n,f),v(I,M)};E.userCallback=e.userCallback,E.context=e.context,e=E}const d=new Xr(e,c||void 0),f="value"===t?new ou(d):new au(t,d);return function KD(n,t,e){let i;i=".info"===Gt(t._path)?Jd(n.infoSyncTree_,t,e):Jd(n.serverSyncTree_,t,e),D_(n.eventQueue_,t._path,i)}(n._repo,n,f),()=>x_(n._repo,n,f)}function wp(n,t,e,i){return Sa(n,"value",t,e,i)}function F_(n,t,e,i){return Sa(n,"child_added",t,e,i)}function N_(n,t,e,i){return Sa(n,"child_changed",t,e,i)}function L_(n,t,e,i){return Sa(n,"child_moved",t,e,i)}function V_(n,t,e,i){return Sa(n,"child_removed",t,e,i)}function B_(n,t,e){let i=null;const r=e?new Xr(e):null;"value"===t?i=new ou(r):t&&(i=new au(t,r)),x_(n._repo,n,i)}class ts{}class U_ extends ts{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qr("endAt",this._value,t._path,!0);const e=$d(t._queryParams,this._value,this._key);if(vp(e),Ho(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class nA extends ts{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qr("endBefore",this._value,t._path,!1);const e=function No(n,t,e){let i,r;return n.index_===js?("string"==typeof t&&(t=Lb(t)),r=$d(n,t,e)):(i=null==e?_s:Lb(e),r=$d(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(vp(e),Ho(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class kC extends ts{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qr("startAt",this._value,t._path,!0);const e=Gf(t._queryParams,this._value,this._key);if(vp(e),Ho(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class sA extends ts{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qr("startAfter",this._value,t._path,!1);const e=function CD(n,t,e){let i;if(n.index_===js)"string"==typeof t&&(t=Ug(t)),i=Gf(n,t,e);else{let r;r=null==e?Hs:Ug(e),i=Gf(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(vp(e),Ho(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class aA extends ts{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ni(t._repo,t._path,function zf(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class cA extends ts{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ni(t._repo,t._path,function Cs(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class dA extends ts{constructor(t){super(),this._path=t}_apply(t){uh(t,"orderByChild");const e=new bn(this._path);if(Bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Hc(e),r=zc(t._queryParams,i);return Ho(r),new ni(t._repo,t._path,r,!0)}}class fA extends ts{_apply(t){uh(t,"orderByKey");const e=zc(t._queryParams,js);return Ho(e),new ni(t._repo,t._path,e,!0)}}class mA extends ts{_apply(t){uh(t,"orderByPriority");const e=zc(t._queryParams,Pn);return Ho(e),new ni(t._repo,t._path,e,!0)}}class _A extends ts{_apply(t){uh(t,"orderByValue");const e=zc(t._queryParams,Hf);return Ho(e),new ni(t._repo,t._path,e,!0)}}class OC extends ts{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new U_(this._value,this._key)._apply(new kC(this._value,this._key)._apply(t))}}function ns(n,...t){let e=(0,B.m9)(n);for(const i of t)e=i._apply(e);return e}(function zM(n){(0,B.hu)(!Qc,"__referenceConstructor has already been defined"),Qc=n})(es),function eC(n){(0,B.hu)(!Xc,"__referenceConstructor has already been defined"),Xc=n}(es);const Ep={};function j_(n,t,e,i,r){let c=i||n.options.databaseURL;void 0===c&&(n.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gi("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,E,d=ch(c,r),f=d.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(v=!0,c=`http://${E}?ns=${f.namespace}`,d=ch(c,r),f=d.repoInfo):v=!d.repoInfo.secure;const I=r&&v?new Rc(Rc.OWNER):new vg(n.name,n.options,t);E_("Invalid Firebase Database URL",d),Bt(d.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function z_(n,t,e,i){let r=Ep[t.name];r||(r={},Ep[t.name]=r);let c=r[n.toURLString()];return c&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new fC(n,false,e,i),r[n.toURLString()]=c,c}(f,n,I,new or(n.name,e));return new vA(M,n)}class vA{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function pC(n,t,e){if(n.stats_=vs(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Gg(n.repoInfo_,(i,r,c,d)=>{S_(n,i,r,c,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>M_(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Cl(n.repoInfo_,t,(i,r,c,d)=>{S_(n,i,r,c,d)},i=>{M_(n,i)},i=>{!function mC(n,t){Ri(t,(e,i)=>{sh(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function XE(n,t){const e=n.toString();return ga[e]||(ga[e]=t()),ga[e]}(n.repoInfo_,()=>new AD(n.stats_,n.server_)),n.infoData_=new Bb,n.infoSyncTree_=new Jc({startListening:(i,r,c,d)=>{let f=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(f=lp(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),sh(n,"connected",!1),n.serverSyncTree_=new Jc({startListening:(i,r,c,d)=>(n.server_.listen(i,c,r,(f,v)=>{const E=d(f,v);br(n.eventQueue_,i._path,E)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function $_(n,t){const e=Ep[t];(!e||e[n.key]!==n)&&gs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),k_(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gs("Cannot call "+t+" on a deleted database.")}}function LC(){pb.IS_TRANSPORT_INITIALIZED&&Vi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function lu(){LC(),kr.forceDisallow()}function KM(){LC(),Nc.forceDisallow(),kr.forceAllow()}function QM(n,t){GE(n,t)}const bA={".sv":"timestamp"};class cu{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Cl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Cl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function It(n){Ky(Bs.SDK_VERSION),(0,Bs._registerComponent)(new si.wA("database",(t,{instanceIdentifier:e})=>j_(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Bs.registerVersion)(dg,"0.13.8",n),(0,Bs.registerVersion)(dg,"0.13.8","esm2017")}();const HC=new vc.Yd("@firebase/database-compat"),Y_=function(n){HC.warn("FIREBASE WARNING: "+n)};class $C{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),c=>i(c)),r}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let c=0;c<t.length;++c)r[""+c]=t[c];t=r,Y_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class zC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class jo{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ih("DataSnapshot.child","path",t,!1),new jo(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ih("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new jo(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Or(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var c;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const d=Yi.getCancelAndContextArgs_("Query.on",i,r),f=(E,I)=>{e.call(d.context,new jo(this.database,E),I)};f.userCallback=e,f.context=d.context;const v=null===(c=d.cancel)||void 0===c?void 0:c.bind(d.context);switch(t){case"value":return wp(this._delegate,f,v),e;case"child_added":return F_(this._delegate,f,v),e;case"child_removed":return V_(this._delegate,f,v),e;case"child_changed":return N_(this._delegate,f,v),e;case"child_moved":return L_(this._delegate,f,v),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,B_(this._delegate,t,r)}else B_(this._delegate,t)}get(){return TC(this._delegate).then(t=>new jo(this.database,t))}once(t,e,i,r){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const c=Yi.getCancelAndContextArgs_("Query.once",i,r),d=new B.BH,f=(E,I)=>{const M=new jo(this.database,E);e&&e.call(c.context,M,I),d.resolve(M)};f.userCallback=e,f.context=c.context;const v=E=>{c.cancel&&c.cancel.call(c.context,E),d.reject(E)};switch(t){case"value":wp(this._delegate,f,v,{onlyOnce:!0});break;case"child_added":F_(this._delegate,f,v,{onlyOnce:!0});break;case"child_removed":V_(this._delegate,f,v,{onlyOnce:!0});break;case"child_changed":N_(this._delegate,f,v,{onlyOnce:!0});break;case"child_moved":L_(this._delegate,f,v,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Yi(this.database,ns(this._delegate,function lA(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new aA(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Yi(this.database,ns(this._delegate,function uA(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cA(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Yi(this.database,ns(this._delegate,function hA(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ih("orderByChild","path",n,!1),new dA(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Yi(this.database,ns(this._delegate,function pA(){return new fA}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Yi(this.database,ns(this._delegate,function gA(){return new mA}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Yi(this.database,ns(this._delegate,function RC(){return new _A}()))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Yi(this.database,ns(this._delegate,function rA(n=null,t){return Rl("startAt","key",t,!0),new kC(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Yi(this.database,ns(this._delegate,function oA(n,t){return Rl("startAfter","key",t,!0),new sA(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Yi(this.database,ns(this._delegate,function xC(n,t){return Rl("endAt","key",t,!0),new U_(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Yi(this.database,ns(this._delegate,function iA(n,t){return Rl("endBefore","key",t,!0),new nA(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Yi(this.database,ns(this._delegate,function PC(n,t){return Rl("equalTo","key",t,!0),new OC(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Yi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,B.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,B.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Or(this.database,new es(this._delegate._repo,this._delegate._path))}}class Or extends Yi{constructor(t,e){super(t,new ni(e._repo,e._path,new jd,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Or(this.database,ws(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Or(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Or(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const i=bp(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let c=0;c<t.length;++c)r[""+c]=t[c];t=r,Y_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ur("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const i=tA(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Cp(n,t,e){if(ur("setWithPriority",n._path),Qr("setWithPriority",t,n._path,!1),ru("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new B.BH;return gp(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),c=>i(c)),r}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function eA(n){return ur("remove",n._path),bp(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function EA(n,t,e){var i;if(n=(0,B.m9)(n),ur("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,c=new B.BH,f=wp(n,()=>{});return function XD(n,t,e,i,r,c){ti(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:jE(),applyLocally:c,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=R_(n,t,void 0);d.currentInputSnapshot=f;const v=d.update(f.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{kl("transaction failed: Data returned ",v,d.path),d.status=0;const E=Bo(n.transactionQueueTree_,t),I=Kr(E)||[];let M;I.push(d),Ia(E,I),"object"==typeof v&&null!==v&&(0,B.r3)(v,".priority")?(M=(0,B.DV)(v,".priority"),(0,B.hu)(iu(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(up(n.serverSyncTree_,t)||Ht.EMPTY_NODE).getPriority().val();const U=rh(n),Y=ei(v,M),X=Ea(Y,f,U);d.currentOutputSnapshotRaw=Y,d.currentOutputSnapshotResolved=X,d.currentWriteId=oh(n);const le=__(n.serverSyncTree_,t,X,d.currentWriteId,d.applyLocally);br(n.eventQueue_,t,le),ah(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,E,I)=>{let M=null;v?c.reject(v):(M=new Fl(I,new es(n._repo,n._path),Pn),c.resolve(new cu(E,M)))},f,r),c.promise}(this._delegate,t,{applyLocally:i}).then(c=>new zC(c.committed,new jo(this.database,c.snapshot)));return e&&r.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),r}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const i=function MC(n,t){n=(0,B.m9)(n),ur("setPriority",n._path),ru("setPriority",t,!1);const e=new B.BH;return gp(n._repo,jn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const i=function SC(n,t){n=(0,B.m9)(n),ur("push",n._path),Qr("push",t,n._path,!0);const e=I_(n._repo),i=bD(e),r=ws(n,i),c=ws(n,i);let d;return d=null!=t?bp(c,t).then(()=>c):Promise.resolve(c),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,t),r=i.then(d=>new Or(this.database,d));e&&r.then(()=>e(null),d=>e(d));const c=new Or(this.database,i);return c.then=r.then.bind(r),c.catch=r.catch.bind(r,void 0),c}onDisconnect(){return ur("Reference.onDisconnect",this._delegate._path),new $C(new Jr(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class dh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:lu,forceLongPolling:KM}}useEmulator(t,e,i={}){!function yA(n,t,e,i={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gs("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let c;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Rc(Rc.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,n.app.options.projectId);c=new Rc(d)}!function NC(n,t,e,i){n.repoInfo_=new wg(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,c)}(this._delegate,t,e,i)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Or){const e=yp(this._delegate,t.toString());return new Or(this,e)}{const e=IC(this._delegate,t);return new Or(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=yp(this._delegate,t);return new Or(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function BC(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),k_(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function UC(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function QD(n){n.persistentConnection_&&n.persistentConnection_.resume(dC)}(n._repo)}(this._delegate)}}dh.ServerValue={TIMESTAMP:function CA(){return bA}(),increment:n=>function wA(n){return{".sv":{increment:n}}}(n)};var AA=Object.freeze({__proto__:null,initStandalone:function hh({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:c=!1}){Ky(e);const d=new si.zt("auth-internal",new si.H0("database-standalone"));return d.setComponent(new si.wA("auth-internal",()=>i,"PRIVATE")),{instance:new dh(j_(n,d,void 0,t,c),n),namespace:r}}});const IA=dh.ServerValue;function q_(n){return null==n}function Z_(n){return"function"==typeof n.set}function WC(n,t){return Z_(t)?t:n.ref(t)}function uu(n,t){if(function Dp(n){return"string"==typeof n}(n))return t.stringCase();if(Z_(n))return t.firebaseCase();if(function GC(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function $o(n,t,e="on",i=kd.z){return new _i.y(r=>{let c=null;return c=n[e](t,(d,f)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:f})}),"once"===e&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,We.U)(r=>{const{snapshot:c,prevKey:d}=r;let f=null;return c.exists()&&(f=c.key),{type:t,payload:c,prevKey:d,key:f}}),(0,al.B)())}function YC(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function qC(n,t){const{payload:e,prevKey:i,key:r}=t,c=YC(n,r),d=function TA(n,t){if(q_(t))return 0;{const e=YC(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(v=>{const E={payload:v,type:"value",prevKey:f,key:v.key};return f=v.key,n=[...n,E],!1})}return n;case"child_added":if(c>-1){const f=n[c-1];(f&&f.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===r?t:f);case"child_moved":if(c>-1){const f=n.splice(c,1)[0];return(n=n.slice()).splice(d,0,f),n}return n;default:return n}}function K_(n){return(q_(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Q_(n,t,e){return function MA(n,t,e){return $o(n,"value","once",e).pipe(en(i=>{const r=[Ke(i)];return t.forEach(c=>r.push($o(n,c,"on",e))),(0,fn.T)(...r).pipe(ug(qC,[]))}),Sf())}(n,t=K_(t),e)}function ZC(n,t,e){const i=(t=K_(t)).map(r=>$o(n,r,"on",e));return(0,fn.T)(...i)}function RA(n,t){return function(i,r){return uu(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function JM(n){return function(e){return e?uu(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function OA(n,t){return function(){return $o(n,"value","on",t)}}!function SA(n){n.INTERNAL.registerComponent(new si.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new dh(r,i)},"PUBLIC").setServiceProps({Reference:Or,Query:Yi,Database:dh,DataSnapshot:jo,enableLogging:QM,INTERNAL:AA,ServerValue:IA}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.8")}(OM.Z);const Ap=new a.OlP("angularfire2.realtimeDatabaseURL"),PA=new a.OlP("angularfire2.database.use-emulator");let XC=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I,M,U,Y,X,le,Re){this.schedulers=f;const ct=v,bt=(0,ci.on)(e,d,i);E&&Yy(bt,d,I,U,Y,X,M,le),this.database=(0,ci.cc)(`${bt.name}.database.${r}`,"AngularFireDatabase",bt.name,()=>{const pn=d.runOutsideAngular(()=>bt.database(r||void 0));return ct&&pn.useEmulator(...ct),pn},[ct])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>WC(this.database,e));let c=r;return i&&(c=i(r)),function eT(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:RA(i,"update"),set:RA(i,"set"),push:r=>i.push(r),remove:JM(i),snapshotChanges:r=>Q_(n,r,e).pipe(yn.iC),stateChanges:r=>ZC(n,r,e).pipe(yn.iC),auditTrail:r=>function KC(n,t,e){return function kA(n,t,e){return function xA(n,t){return $o(n,"value","on",t).pipe((0,We.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function xc(...n){const t=(0,Io.jO)(n);return(0,vn.e)((e,i)=>{const r=n.length,c=new Array(r);let d=n.map(()=>!1),f=!1;for(let v=0;v<r;v++)(0,ki.Xf)(n[v]).subscribe((0,Mn.x)(i,E=>{c[v]=E,!f&&!d[v]&&(d[v]=!0,(f=d.every(Us.y))&&(d=null))},Mf.Z));e.subscribe((0,Mn.x)(i,v=>{if(f){const E=[v,...c];i.next(t?t(...E):E)}}))})}(t),(0,We.U)(([r,c])=>{const d=r.lastKeyToLoad,f=c.map(v=>v.key);return{actions:c,lastKeyToLoad:d,loadedKeys:f}}),function Od(n){return(0,vn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Mn.x)(e,c=>(i||(i=!n(c,r++)))&&e.next(c)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,We.U)(r=>r.actions))}(n,ZC(n,t).pipe(ug((r,c)=>[...r,c],[])),e)}(n,r,e).pipe(yn.iC),valueChanges:(r,c)=>Q_(n,r,e).pipe((0,We.U)(f=>f.map(v=>c&&c.idField?Object.assign(Object.assign({},v.payload.val()),{[c.idField]:v.key}):v.payload.val())),yn.iC)}}(c,this)}object(e){return function QC(n,t){return{query:n,snapshotChanges:()=>OA(n,t.schedulers.outsideAngular)().pipe(yn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>OA(n,t.schedulers.outsideAngular)().pipe(yn.iC,(0,We.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ci.Dh),a.LFG(ci.xv,8),a.LFG(Ap,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(yn.HU),a.LFG(PA,8),a.LFG(xd,8),a.LFG($y,8),a.LFG(zy,8),a.LFG(cg,8),a.LFG(ml,8),a.LFG(Gy,8),a.LFG(Wy,8),a.LFG(Af,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),du=(()=>{class n{constructor(e){this.db=e,this.usersRef=this.db.list(Gr_firebaseApiUrls.users,i=>i.orderByChild("email"))}ngOnInit(){}getList(){return this.usersRef.snapshotChanges().pipe((0,We.U)(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getByKey(e){if(e)return this.db.object(`${Gr_firebaseApiUrls.users}/${e}`)}create(e){return this.usersRef.push(e)}update(e,i){return this.usersRef.set(e,i)}deleteByKey(e){return this.usersRef.remove(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(XC))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:NA}=Array,{getPrototypeOf:LA,prototype:VA,keys:BA}=Object;function JC(n){if(1===n.length){const t=n[0];if(NA(t))return{args:t,keys:null};if(function e0(n){return n&&"object"==typeof n&&LA(n)===VA}(t)){const e=BA(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:UA}=Array;function Ll(n){return(0,We.U)(t=>function HA(n,t){return UA(t)?n(...t):n(t)}(n,t))}function t0(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var n0=O(9672);function X_(...n){const t=(0,Io.yG)(n),e=(0,Io.jO)(n),{args:i,keys:r}=JC(n);if(0===i.length)return(0,Rn.D)([],t);const c=new _i.y(function r0(n,t,e=Us.y){return i=>{s0(t,()=>{const{length:r}=n,c=new Array(r);let d=r,f=r;for(let v=0;v<r;v++)s0(t,()=>{const E=(0,Rn.D)(n[v],t);let I=!1;E.subscribe((0,Mn.x)(i,M=>{c[v]=M,I||(I=!0,f--),f||i.next(e(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>t0(r,d):Us.y));return e?c.pipe(Ll(e)):c}function s0(n,t,e){n?(0,n0.f)(e,n,t):t()}var hu=O(8189);function Ma(...n){return function jA(){return(0,hu.J)(1)}()((0,Rn.D)(n,(0,Io.yG)(n)))}function Ta(n){return new _i.y(t=>{(0,ki.Xf)(n()).subscribe(t)})}var o0=O(9635);function xa(n,t){const e=(0,Ji.m)(n)?n:()=>n,i=r=>r.error(e());return new _i.y(t?r=>t.schedule(i,0,r):i)}var Ei=O(727);function J_(){return(0,vn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,c=e;e=null,r&&(!c||r===c)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ev extends _i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ei.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Mn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ei.w0.EMPTY)}return t}refCount(){return J_()(this)}}function Ui(...n){const t=(0,Io.yG)(n);return(0,vn.e)((e,i)=>{(t?Ma(n,e,t):Ma(n,e)).subscribe(i)})}var Hi=O(5577);function zo(n,t){return(0,Ji.m)(t)?(0,Hi.z)(n,t,1):(0,Hi.z)(n,1)}var zn=O(8505);function Ks(n){return(0,vn.e)((t,e)=>{let c,i=null,r=!1;i=t.subscribe((0,Mn.x)(e,void 0,void 0,d=>{c=(0,ki.Xf)(n(d,Ks(n)(t))),i?(i.unsubscribe(),i=null,c.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,c.subscribe(e))})}function tv(n){return n<=0?()=>Tr.E:(0,vn.e)((t,e)=>{let i=[];t.subscribe((0,Mn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function a0(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,c)=>n(r,c,i)):Us.y,tv(1),e?Mo(t):ll(()=>new yc))}function l0(n,t=!1){return(0,vn.e)((e,i)=>{let r=0;e.subscribe((0,Mn.x)(i,c=>{const d=n(c,r++);(d||t)&&i.next(c),!d&&i.complete()}))})}function c0(n){return(0,We.U)(()=>n)}function Ip(n){return(0,vn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Zt="primary",fu=Symbol("RouteTitle");class u0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pu(n){return new u0(n)}function $A(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let c=0;c<i.length;c++){const d=i[c],f=n[c];if(d.startsWith(":"))r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let c=0;c<e.length;c++)if(r=e[c],!h0(n[r],t[r]))return!1;return!0}function h0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,c)=>i[c]===r)}return n===t}function f0(n){return Array.prototype.concat.apply([],n)}function Sp(n){return n.length>0?n[n.length-1]:null}function ji(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xs(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):Ke(n)}const iv={exact:function sv(n,t,e){if(!Go(n.segments,t.segments)||!gu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!sv(n.children[i],t.children[i],e))return!1;return!0},subset:WA},m0={exact:function mu(n,t){return Qs(n,t)},subset:function GA(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>h0(n[e],t[e]))},ignored:()=>!0};function rv(n,t,e){return iv[e.paths](n.root,t.root,e.matrixParams)&&m0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function WA(n,t,e){return ov(n,t,t.segments,e)}function ov(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Go(r,e)||t.hasChildren()||!gu(r,e,i))}if(n.segments.length===e.length){if(!Go(n.segments,e)||!gu(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!WA(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Go(n.segments,r)&&gu(n.segments,r,i)&&n.children[Zt])&&ov(n.children[Zt],t,c,i)}}function gu(n,t,e){return t.every((i,r)=>m0[e](n[r].parameters,i.parameters))}class Vl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return v0.serialize(this)}}class qt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ji(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tp(this)}}class fh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pu(this.parameters)),this._parameterMap}toString(){return E0(this)}}function Go(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new Mp},providedIn:"root"}),n})();class Mp{parse(t){const e=new QA(t);return new Vl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ph(t.root,!0)}`,i=function nT(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${xp(e)}=${xp(r)}`).join("&"):`${xp(e)}=${xp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function b0(n){return encodeURI(n)}(t.fragment)}`:""}`}}const v0=new Mp;function Tp(n){return n.segments.map(t=>E0(t)).join("/")}function ph(n,t){if(!n.hasChildren())return Tp(n);if(t){const e=n.children[Zt]?ph(n.children[Zt],!1):"",i=[];return ji(n.children,(r,c)=>{c!==Zt&&i.push(`${c}:${ph(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function _0(n,t){let e=[];return ji(n.children,(i,r)=>{r===Zt&&(e=e.concat(t(i,r)))}),ji(n.children,(i,r)=>{r!==Zt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Zt?[ph(n.children[Zt],!1)]:[`${r}:${ph(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${Tp(n)}/${e[0]}`:`${Tp(n)}/(${e.join("//")})`}}function y0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return y0(n).replace(/%3B/gi,";")}function C0(n){return y0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mh(n){return decodeURIComponent(n)}function w0(n){return mh(n.replace(/\+/g,"%20"))}function E0(n){return`${C0(n.path)}${function tT(n){return Object.keys(n).map(t=>`;${C0(t)}=${C0(n[t])}`).join("")}(n.parameters)}`}const YA=/^[^\/()?;=#]+/;function kp(n){const t=n.match(YA);return t?t[0]:""}const D0=/^[^=?&#]+/,ZA=/^[^&#]+/;class QA{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Zt]=new qt(t,e)),i}parseSegment(){const t=kp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new fh(mh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=kp(this.remaining);r&&(i=r,this.capture(i))}t[mh(e)]=mh(i)}parseQueryParam(t){const e=function qA(n){const t=n.match(D0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function KA(n){const t=n.match(ZA);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=w0(e),c=w0(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(c)}else t[r]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=kp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Zt);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[Zt]:new qt([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function lv(n){return n.segments.length>0?new qt([],{[Zt]:n}):n}function Rp(n){const t={};for(const i of Object.keys(n.children)){const c=Rp(n.children[i]);(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function XA(n){if(1===n.numberOfChildren&&n.children[Zt]){const t=n.children[Zt];return new qt(n.segments.concat(t.segments),t.children)}return n}(new qt(n.segments,t))}function Bl(n){return n instanceof Vl}function S0(n,t,e,i,r){if(0===e.length)return Ul(t.root,t.root,t.root,i,r);const c=function uv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new JA(!0,0,n);let t=0,e=!1;const i=n.reduce((r,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return ji(c.outlets,(v,E)=>{f[E]="string"==typeof v?v.split("/"):v}),[...r,{outlets:f}]}if(c.segmentPath)return[...r,c.segmentPath]}return"string"!=typeof c?[...r,c]:0===d?(c.split("/").forEach((f,v)=>{0==v&&"."===f||(0==v&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,c]},[]);return new JA(e,t,i)}(e);return c.toRoot()?Ul(t.root,t.root,new qt([],{}),i,r):function d(v){const E=function tI(n,t,e,i){if(n.isAbsolute)return new Hl(t.root,!0,0);if(-1===i)return new Hl(e,e===t.root,0);return function T0(n,t,e){let i=n,r=t,c=e;for(;c>r;){if(c-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new Hl(i,!1,r-c)}(e,i+(_u(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,v),I=E.processChildren?jl(E.segmentGroup,E.index,c.commands):dv(E.segmentGroup,E.index,c.commands);return Ul(t.root,E.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function _u(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ul(n,t,e,i,r){let d,c={};i&&ji(i,(v,E)=>{c[E]=Array.isArray(v)?v.map(I=>`${I}`):`${v}`}),d=n===t?e:M0(n,t,e);const f=lv(Rp(d));return new Vl(f,c,r)}function M0(n,t,e){const i={};return ji(n.children,(r,c)=>{i[c]=r===t?e:M0(r,t,e)}),new qt(n.segments,i)}class JA{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_u(i[0]))throw new a.vHH(4003,!1);const r=i.find(vu);if(r&&r!==Sp(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function dv(n,t,e){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return jl(n,t,e);const i=function Js(n,t,e){let i=0,r=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return c;const d=n.segments[r],f=e[i];if(vu(f))break;const v=`${f}`,E=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!x0(v,E,d))return c;i+=2}else{if(!x0(v,{},d))return c;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new qt(n.segments.slice(0,i.pathIndex),{});return c.children[Zt]=new qt(n.segments.slice(i.pathIndex),n.children),jl(c,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?hv(n,t,e):i.match?jl(n,0,r):hv(n,t,e)}function jl(n,t,e){if(0===e.length)return new qt(n.segments,{});{const i=function gh(n){return vu(n[0])?n[0].outlets:{[Zt]:n}}(e),r={};return ji(i,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(r[d]=dv(n.children[d],t,c))}),ji(n.children,(c,d)=>{void 0===i[d]&&(r[d]=c)}),new qt(n.segments,r)}}function hv(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const c=e[r];if(vu(c)){const v=Pp(c.outlets);return new qt(i,v)}if(0===r&&_u(e[0])){i.push(new fh(n.segments[t].path,yu(e[0]))),r++;continue}const d=vu(c)?c.outlets[Zt]:`${c}`,f=r<e.length-1?e[r+1]:null;d&&f&&_u(f)?(i.push(new fh(d,yu(f))),r+=2):(i.push(new fh(d,{})),r++)}return new qt(i,{})}function Pp(n){const t={};return ji(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=hv(new qt([],{}),0,e))}),t}function yu(n){const t={};return ji(n,(e,i)=>t[i]=`${e}`),t}function x0(n,t,e){return n==e.path&&Qs(t,e.parameters)}class Wo{constructor(t,e){this.id=t,this.url=e}}class fv extends Wo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends Wo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $l extends Wo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class k0 extends Wo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nI extends Wo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R0 extends Wo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O0 extends Wo{constructor(t,e,i,r,c){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pv extends Wo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P0 extends Wo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iI{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rI{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iT{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mv{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _v{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fp{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class F0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=yv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return bv(t,this._root).map(e=>e.value)}}function yv(n,t){if(n===t.value)return t;for(const e of t.children){const i=yv(n,e);if(i)return i}return null}function bv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=bv(n,e);if(i.length)return i.unshift(t),i}return[]}class Yo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Np extends F0{constructor(t,e){super(t),this.snapshot=e,Dv(this,t)}toString(){return this.snapshot.toString()}}function Cv(n,t){const e=function N0(n,t){const d=new _h([],{},{},"",{},Zt,t,null,n.root,-1,{});return new Ev("",new Yo(d,[]))}(n,t),i=new li([new fh("",{})]),r=new li({}),c=new li({}),d=new li({}),f=new li(""),v=new ka(i,r,d,f,c,Zt,t,e.root);return v.snapshot=e.root,new Np(new Yo(v,[]),e)}class ka{constructor(t,e,i,r,c,d,f,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,We.U)(E=>E[fu]))??Ke(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(t=>pu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(t=>pu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wv(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],c=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(c.component)break;i--}}return function sI(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class _h{constructor(t,e,i,r,c,d,f,v,E,I,M,U){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=f,this.title=this.data?.[fu],this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=I,this._correctedLastPathIndex=U??I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ev extends F0{constructor(t,e){super(e),this.url=t,Dv(this,e)}toString(){return Av(this._root)}}function Dv(n,t){t.value._routerState=n,t.children.forEach(e=>Dv(n,e))}function Av(n){const t=n.children.length>0?` { ${n.children.map(Av).join(", ")} } `:"";return`${n.value}${t}`}function Lp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Qs(t.params,e.params)||n.params.next(e.params),function d0(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Qs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qi(n,t){const e=Qs(n.params,t.params)&&function g0(n,t){return Go(n,t)&&n.every((e,i)=>Qs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||qi(n.parent,t.parent))}function vh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function oI(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return vh(n,i,r);return vh(n,i)})}(n,t,e);return new Yo(i,r)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>vh(n,f)),d}}const i=function rT(n){return new ka(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(c=>vh(n,c));return new Yo(i,r)}}const L0="ngNavigationCancelingError";function Iv(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Bl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Sv(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Sv(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[L0]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Cu(n){return V0(n)&&Bl(n.url)}function V0(n){return n&&n[L0]}class Mv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yh,this.attachRef=null}}let yh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Mv,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bh=!1;let Tv=(()=>{class n{constructor(e,i,r,c,d){this.parentContexts=e,this.location=i,this.changeDetector=c,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||Zt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,bh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,bh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,bh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,bh);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,v=new aI(e,f,r.injector);if(i&&function lI(n){return!!n.resolveComponentFactory}(i)){const E=i.resolveComponentFactory(d);this.activated=r.createComponent(E,r.length,v)}else this.activated=r.createComponent(d,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yh),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class aI{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ka?this.route:t===yh?this.childContexts:this.parent.get(t,e)}}let wu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[Tv],encapsulation:2}),n})();function xv(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Rv(n){const t=n.children&&n.children.map(Rv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Zt&&(e.component=wu),e}function Pr(n){return n.outlet||Zt}function Bp(n,t){const e=n.filter(i=>Pr(i)===t);return e.push(...n.filter(i=>Pr(i)!==t)),e}function Up(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sT{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Lp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=zl(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,r[d],i),delete r[d]}),ji(r,(c,d)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(r===c)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=zl(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=zl(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=zl(e);t.children.forEach(c=>{this.activateRoutes(c,r[c.value.outlet],i),this.forwardEvent(new _v(c.value.snapshot))}),t.children.length&&this.forwardEvent(new mv(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(Lp(r),r===c)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Lp(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=Up(r.snapshot),v=f?.get(a._Vd)??null;d.attachRef=null,d.route=r,d.resolver=v,d.injector=f,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class H0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hp{constructor(t,e){this.component=t,this.route=e}}function hI(n,t,e){const i=n._root;return Ch(i,t?t._root:null,e,[i.value])}function Gl(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function Ch(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=zl(t);return n.children.forEach(d=>{(function $0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const v=function z0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Go(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Go(n.url,t.url)||!Qs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(n,t)||!Qs(n.queryParams,t.queryParams);default:return!qi(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new H0(i)):(c.data=d.data,c._resolvedData=d._resolvedData),Ch(n,t,c.component?f?f.children:null:e,i,r),v&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Hp(f.outlet.component,d))}else d&&wh(t,f,r),r.canActivateChecks.push(new H0(i)),Ch(n,null,c.component?f?f.children:null:e,i,r)})(d,c[d.value.outlet],e,i.concat([d.value]),r),delete c[d.value.outlet]}),ji(c,(d,f)=>wh(d,e.getContext(f),r)),r}function wh(n,t,e){const i=zl(n),r=n.value;ji(i,(c,d)=>{wh(c,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Hp(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Eh(n){return"function"==typeof n}function K0(n){return n instanceof yc||"EmptyError"===n?.name}const Dh=Symbol("INITIAL_VALUE");function Ah(){return en(n=>X_(n.map(t=>t.pipe(tn(1),Ui(Dh)))).pipe((0,We.U)(t=>{for(const e of t)if(!0!==e){if(e===Dh)return Dh;if(!1===e||e instanceof Vl)return e}return!0}),zt(t=>t!==Dh),tn(1)))}function Ov(n){return(0,o0.z)((0,zn.b)(t=>{if(Bl(t))throw Iv(0,t)}),(0,We.U)(t=>!0===t))}const zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pv(n,t,e,i,r){const c=Q0(n,t,e);return c.matched?function $p(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ke(r.map(d=>{const f=Gl(d,n);return Xs(function Z0(n){return n&&Eh(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))})).pipe(Ah(),Ov()):Ke(!0)}(i=xv(t,i),t,e).pipe((0,We.U)(d=>!0===d?c:{...zp})):Ke(c)}function Q0(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||$A)(e,n,t);if(!r)return{...zp};const c={};ji(r.posParams,(f,v)=>{c[v]=f.path});const d=r.consumed.length>0?{...c,...r.consumed[r.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function Du(n,t,e,i,r="corrected"){if(e.length>0&&function J0(n,t,e){return e.some(i=>Gp(n,t,i)&&Pr(i)!==Zt)}(n,e,i)){const d=new qt(t,function mI(n,t,e,i){const r={};r[Zt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Pr(c)!==Zt){const d=new qt([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Pr(c)]=d}return r}(n,t,i,new qt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function mT(n,t,e){return e.some(i=>Gp(n,t,i))}(n,e,i)){const d=new qt(n.segments,function X0(n,t,e,i,r,c){const d={};for(const f of i)if(Gp(n,e,f)&&!r[Pr(f)]){const v=new qt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[Pr(f)]=v}return{...r,...d}}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new qt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Gp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ew(n,t,e,i){return!!(Pr(n)===i||i!==Zt&&Gp(t,e,n))&&("**"===n.path||Q0(t,n,e).matched)}function tw(n,t,e){return 0===t.length&&!n.children[e]}const Wl=!1;class Wp{constructor(t){this.segmentGroup=t||null}}class gI{constructor(t){this.urlTree=t}}function Yp(n){return xa(new Wp(n))}function _I(n){return xa(new gI(n))}class gT{constructor(t,e,i,r,c){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=c,this.allowRedirects=!0}apply(){const t=Du(this.urlTree.root,[],[],this.config).segmentGroup,e=new qt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Zt).pipe((0,We.U)(c=>this.createUrlTree(Rp(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ks(c=>{if(c instanceof gI)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Wp?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Zt).pipe((0,We.U)(r=>this.createUrlTree(Rp(r),t.queryParams,t.fragment))).pipe(Ks(r=>{throw r instanceof Wp?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,Wl)}createUrlTree(t,e,i){const r=lv(t);return new Vl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,We.U)(c=>new qt([],c))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const c of Object.keys(i.children))"primary"===c?r.unshift(c):r.push(c);return(0,Rn.D)(r).pipe(zo(c=>{const d=i.children[c],f=Bp(e,c);return this.expandSegmentGroup(t,f,d,c).pipe((0,We.U)(v=>({segment:v,outlet:c})))}),ug((c,d)=>(c[d.outlet]=d.segment,c),{}),a0())}expandSegment(t,e,i,r,c,d){return(0,Rn.D)(i).pipe(zo(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,c,d).pipe(Ks(E=>{if(E instanceof Wp)return Ke(null);throw E}))),Xi(f=>!!f),Ks((f,v)=>{if(K0(f))return tw(e,r,c)?Ke(new qt([],{})):Yp(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,c,d,f){return ew(r,e,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,c,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d):Yp(e):Yp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_I(c):this.lineralizeSegments(i,c).pipe((0,Hi.z)(d=>{const f=new qt(d,{});return this.expandSegment(t,f,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){const{matched:f,consumedSegments:v,remainingSegments:E,positionalParamSegments:I}=Q0(e,r,c);if(!f)return Yp(e);const M=this.applyRedirectCommands(v,r.redirectTo,I);return r.redirectTo.startsWith("/")?_I(M):this.lineralizeSegments(r,M).pipe((0,Hi.z)(U=>this.expandSegment(t,e,i,U.concat(E),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,c){return"**"===i.path?(t=xv(i,t),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,We.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new qt(r,{})))):Ke(new qt(r,{}))):Pv(e,i,r,t).pipe(en(({matched:d,consumedSegments:f,remainingSegments:v})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Hi.z)(I=>{const M=I.injector??t,U=I.routes,{segmentGroup:Y,slicedSegments:X}=Du(e,f,v,U),le=new qt(Y.segments,Y.children);if(0===X.length&&le.hasChildren())return this.expandChildren(M,U,le).pipe((0,We.U)(pn=>new qt(f,pn)));if(0===U.length&&0===X.length)return Ke(new qt(f,{}));const Re=Pr(i)===c;return this.expandSegment(M,le,U,X,Re?Zt:c,!0).pipe((0,We.U)(bt=>new qt(f.concat(bt.segments),bt.children)))})):Yp(e)))}getChildConfig(t,e,i){return e.children?Ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function pT(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(d=>{const f=Gl(d,n);return Xs(function fI(n){return n&&Eh(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))})).pipe(Ah(),Ov())}(t,e,i).pipe((0,Hi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,zn.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function yI(n){return xa(Sv(Wl,3))}())):Ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[Zt])return xa(new a.vHH(4e3,Wl));r=r.children[Zt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const c=this.createSegmentGroup(t,e.root,i,r);return new Vl(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ji(t,(r,c)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[c]=e[f]}else i[c]=r}),i}createSegmentGroup(t,e,i,r){const c=this.createSegments(t,e.segments,i,r);let d={};return ji(e.children,(f,v)=>{d[v]=this.createSegmentGroup(t,f,i,r)}),new qt(c,d)}createSegments(t,e,i,r){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,r):this.findOrReturn(c,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,Wl);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class nw{}class wI{constructor(t,e,i,r,c,d,f,v){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=v}recognize(){const t=Du(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Zt).pipe((0,We.U)(e=>{if(null===e)return null;const i=new _h([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yo(i,e),c=new Ev(this.url,r);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,i=wv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Rn.D)(Object.keys(i.children)).pipe(zo(r=>{const c=i.children[r],d=Bp(e,r);return this.processSegmentGroup(t,d,c,r)}),ug((r,c)=>r&&c?(r.push(...c),r):null),l0(r=>null!==r),Mo(null),a0(),(0,We.U)(r=>{if(null===r)return null;const c=iw(r);return function Fv(n){n.sort((t,e)=>t.value.outlet===Zt?-1:e.value.outlet===Zt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,i,r,c){return(0,Rn.D)(e).pipe(zo(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,c)),Xi(d=>!!d),Ks(d=>{if(K0(d))return tw(i,r,c)?Ke([]):Ke(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,c){if(e.redirectTo||!ew(e,i,r,c))return Ke(null);let d;if("**"===e.path){const f=r.length>0?Sp(r).parameters:{},v=sw(i)+r.length;d=Ke({snapshot:new _h(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lv(e),Pr(e),e.component??e._loadedComponent??null,e,rw(i),v,Vv(e),v),consumedSegments:[],remainingSegments:[]})}else d=Pv(i,e,r,t).pipe((0,We.U)(({matched:f,consumedSegments:v,remainingSegments:E,parameters:I})=>{if(!f)return null;const M=sw(i)+v.length;return{snapshot:new _h(v,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lv(e),Pr(e),e.component??e._loadedComponent??null,e,rw(i),M,Vv(e),M),consumedSegments:v,remainingSegments:E}}));return d.pipe(en(f=>{if(null===f)return Ke(null);const{snapshot:v,consumedSegments:E,remainingSegments:I}=f;t=e._injector??t;const M=e._loadedInjector??t,U=function EI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Y,slicedSegments:X}=Du(i,E,I,U.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution);if(0===X.length&&Y.hasChildren())return this.processChildren(M,U,Y).pipe((0,We.U)(Re=>null===Re?null:[new Yo(v,Re)]));if(0===U.length&&0===X.length)return Ke([new Yo(v,[])]);const le=Pr(e)===c;return this.processSegment(M,U,Y,X,le?Zt:c).pipe((0,We.U)(Re=>null===Re?null:[new Yo(v,Re)]))}))}}function is(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function iw(n){const t=[],e=new Set;for(const i of n){if(!is(i)){t.push(i);continue}const r=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=iw(i.children);t.push(new Yo(i.value,r))}return t.filter(i=>!e.has(i))}function rw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function sw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Lv(n){return n.data||{}}function Vv(n){return n.resolve||{}}function Zp(n){return"string"==typeof n.title||null===n.title}function to(n){return en(t=>{const e=n(t);return e?(0,Rn.D)(e).pipe((0,We.U)(()=>t)):Ke(t)})}let Bv=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(c=>c.outlet===Zt);return i}getResolvedTitleForRoute(e){return e.data[fu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Kp)},providedIn:"root"}),n})(),Kp=(()=>{class n extends Bv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(jr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SI{}class MI extends class vT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qp=new a.OlP("",{providedIn:"root",factory:()=>({})}),Xp=new a.OlP("ROUTES");let uw=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Xs(e.loadComponent()).pipe((0,zn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Ip(()=>{this.componentLoaders.delete(e)})),r=new ev(i,()=>new ut.x).pipe(J_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,We.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,E,I=!1;Array.isArray(f)?E=f:(v=f.create(e).injector,E=f0(v.get(Xp,[],a.XFs.Self|a.XFs.Optional)));return{routes:E.map(Rv),injector:v}}),Ip(()=>{this.childrenLoaders.delete(i)})),d=new ev(c,()=>new ut.x).pipe(J_());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return Xs(e()).pipe((0,Hi.z)(i=>i instanceof a.YKP||Array.isArray(i)?Ke(i):(0,Rn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dw{}class xI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yT(n){throw n}function Uv(n,t,e){return t.parse("/")}const hw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Hv(){const n=(0,a.f3M)(av),t=(0,a.f3M)(yh),e=(0,a.f3M)(Oe),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),c=(0,a.f3M)(Xp,{optional:!0})??[],d=(0,a.f3M)(Qp,{optional:!0})??{},f=(0,a.f3M)(Kp),v=(0,a.f3M)(Bv,{optional:!0}),E=(0,a.f3M)(dw,{optional:!0}),I=(0,a.f3M)(SI,{optional:!0}),M=new oi(null,n,t,e,i,r,f0(c));return E&&(M.urlHandlingStrategy=E),I&&(M.routeReuseStrategy=I),M.titleStrategy=v??f,function pw(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,M),M}let oi=(()=>{class n{constructor(e,i,r,c,d,f,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.x,this.errorHandler=yT,this.malformedUriErrorHandler=Uv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ke(void 0),this.urlHandlingStrategy=new xI,this.routeReuseStrategy=new MI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(uw),this.configLoader.onLoadEndListener=U=>this.triggerEvent(new rI(U)),this.configLoader.onLoadStartListener=U=>this.triggerEvent(new iI(U)),this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const M=d.get(a.R0b);this.isNgZoneEnabled=M instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function zA(){return new Vl(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cv(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(zt(r=>0!==r.id),(0,We.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),en(r=>{let c=!1,d=!1;return Ke(r).pipe((0,zn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),en(f=>{const v=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Mh(f.source)&&(this.browserUrlTree=f.extractedUrl),Ke(f).pipe(en(M=>{const U=this.transitions.getValue();return i.next(new fv(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),U!==this.transitions.getValue()?Tr.E:Promise.resolve(M)}),function CI(n,t,e,i){return en(r=>function bI(n,t,e,i,r){return new gT(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,We.U)(c=>({...r,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zn.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function DI(n,t,e,i,r,c){return(0,Hi.z)(d=>function Es(n,t,e,i,r,c,d="emptyOnly",f="legacy"){return new wI(n,t,e,i,r,d,f,c).recognize().pipe(en(v=>null===v?function _T(n){return new _i.y(t=>t.error(n))}(new nw):Ke(v)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,c).pipe((0,We.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zn.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(Y,M)}this.browserUrlTree=M.urlAfterRedirects}const U=new nI(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(U)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:Y,source:X,restoredState:le,extras:Re}=f,ct=new fv(U,this.serializeUrl(Y),X,le);i.next(ct);const bt=Cv(Y,this.rootComponentType).snapshot;return Ke(r={...f,targetSnapshot:bt,urlAfterRedirects:Y,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Tr.E}),(0,zn.b)(f=>{const v=new R0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),(0,We.U)(f=>r={...f,guards:hI(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function aT(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Ke({...e,guardsResult:!0}):function lT(n,t,e,i){return(0,Rn.D)(n).pipe((0,Hi.z)(r=>function jp(n,t,e,i,r){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Ke(c.map(f=>{const v=Up(t)??r,E=Gl(f,v);return Xs(function q0(n){return n&&Eh(n.canDeactivate)}(E)?E.canDeactivate(n,t,e,i):v.runInContext(()=>E(n,t,e,i))).pipe(Xi())})).pipe(Ah()):Ke(!0)}(r.component,r.route,e,t,i)),Xi(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Hi.z)(f=>f&&function G0(n){return"boolean"==typeof n}(f)?function cT(n,t,e,i){return(0,Rn.D)(t).pipe(zo(r=>Ma(function dT(n,t){return null!==n&&t&&t(new iT(n)),Ke(!0)}(r.route.parent,i),function uT(n,t){return null!==n&&t&&t(new gv(n)),Ke(!0)}(r.route,i),function fT(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function j0(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Ta(()=>Ke(d.guards.map(v=>{const E=Up(d.node)??e,I=Gl(v,E);return Xs(function Y0(n){return n&&Eh(n.canActivateChild)}(I)?I.canActivateChild(i,n):E.runInContext(()=>I(i,n))).pipe(Xi())})).pipe(Ah())));return Ke(c).pipe(Ah())}(n,r.path,e),function hT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(c=>Ta(()=>{const d=Up(t)??e,f=Gl(c,d);return Xs(function W0(n){return n&&Eh(n.canActivate)}(f)?f.canActivate(t,n):d.runInContext(()=>f(t,n))).pipe(Xi())}));return Ke(r).pipe(Ah())}(n,r.route,e))),Xi(r=>!0!==r,!0))}(i,c,n,t):Ke(f)),(0,We.U)(f=>({...e,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,zn.b)(f=>{if(r.guardsResult=f.guardsResult,Bl(f.guardsResult))throw Iv(0,f.guardsResult);const v=new O0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(v)}),zt(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),to(f=>{if(f.guards.canActivateChecks.length)return Ke(f).pipe((0,zn.b)(v=>{const E=new pv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),en(v=>{let E=!1;return Ke(v).pipe(function ow(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let c=0;return(0,Rn.D)(r).pipe(zo(d=>function aw(n,t,e,i){const r=n.routeConfig,c=n._resolve;return void 0!==r?.title&&!Zp(r)&&(c[fu]=r.title),function AI(n,t,e,i){const r=function lw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const c={};return(0,Rn.D)(r).pipe((0,Hi.z)(d=>function II(n,t,e,i){const r=Up(t)??i,c=Gl(n,r);return Xs(c.resolve?c.resolve(t,e):r.runInContext(()=>c(t,e)))}(n[d],t,e,i).pipe(Xi(),(0,zn.b)(f=>{c[d]=f}))),tv(1),c0(c),Ks(d=>K0(d)?Tr.E:xa(d)))}(c,n,t,i).pipe((0,We.U)(d=>(n._resolvedData=d,n.data=wv(n,e).resolve,r&&Zp(r)&&(n.data[fu]=r.title),null)))}(d.route,i,n,t)),(0,zn.b)(()=>c++),tv(1),(0,Hi.z)(d=>c===r.length?Ke(e):Tr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zn.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,zn.b)(v=>{const E=new P0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}))}),to(f=>{const v=E=>{const I=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,zn.b)(M=>{E.component=M}),(0,We.U)(()=>{})));for(const M of E.children)I.push(...v(M));return I};return X_(v(f.targetSnapshot.root)).pipe(Mo(),tn(1))}),to(()=>this.afterPreactivation()),(0,We.U)(f=>{const v=function bu(n,t,e){const i=vh(n,t._root,e?e._root:void 0);return new Np(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:v}}),(0,zn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,We.U)(i=>(new sT(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,zn.b)({next(){c=!0},complete(){c=!0}}),Ip(()=>{c||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ks(f=>{if(d=!0,V0(f)){Cu(f)||(this.navigated=!0,this.restoreHistory(r,!0));const v=new $l(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(v),Cu(f)){const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mh(r.source)};this.scheduleNavigation(E,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const v=new k0(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(v);try{r.resolve(this.errorHandler(f))}catch(E){r.reject(E)}}return Tr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const f={...c};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:v}=i,E=r||this.routerState.root,I=v?this.currentUrlTree.fragment:d;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...c};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}return null!==M&&(M=this.removeEmptyProps(M)),S0(E,this.currentUrlTree,e,M,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Bl(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Jp(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...hw}:!1===i?{...fw}:i,Bl(e))return rv(this.currentUrlTree,e,r);const c=this.parseUrl(e);return rv(this.currentUrlTree,c,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const c=e[r];return null!=c&&(i[r]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new eo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,c,d){if(this.disposed)return Promise.resolve(!1);let f,v,E;d?(f=d.resolve,v=d.reject,E=d.promise):E=new Promise((U,Y)=>{f=U,v=Y});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:f,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),c={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",c):this.location.go(r,"",c)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const c=new $l(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return Hv()},providedIn:"root"}),n})();function Mh(n){return"imperative"!==n}let Th=(()=>{class n{constructor(e,i,r,c,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=c,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ut.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(oi),a.Y36(ka),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Au=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ut.x,this.subscription=e.events.subscribe(c=>{c instanceof eo&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,c,d){return!!(0!==e||i||r||c||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(oi),a.Y36(ka),a.Y36(ve))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),jv=(()=>{class n{constructor(e,i,r,c,d,f){this.router=e,this.element=i,this.renderer=r,this.cdr=c,this.link=d,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=e.events.subscribe(v=>{v instanceof eo&&this.update()})}ngAfterContentInit(){Ke(this.links.changes,this.linksWithHrefs.changes,Ke(null)).pipe((0,hu.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Rn.D)(e).pipe((0,hu.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function mw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(oi),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Th,8),a.Y36(Au,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Th,5),a.Suo(r,Au,5)),2&e){let c;a.iGM(c=a.CRH())&&(i.links=c),a.iGM(c=a.CRH())&&(i.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class gw{}let CT=(()=>{class n{constructor(e,i,r,c,d){this.router=e,this.injector=r,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(zt(e=>e instanceof eo),zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,a.MMx)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,f=c._loadedInjector??d;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?r.push(this.preloadConfig(d,c)):(c.children||c._loadedRoutes)&&r.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Rn.D)(r).pipe((0,hu.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ke(null);const c=r.pipe((0,Hi.z)(d=>null===d?Ke(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Rn.D)([c,d]).pipe((0,hu.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(gw),a.LFG(uw))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const em=new a.OlP("");let _w=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof eo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Fp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Fp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function xh(n,t){return{\u0275kind:n,\u0275providers:t}}function vw(n){return[{provide:Xp,multi:!0,useValue:n}]}function RI(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(oi),r=n.get(yw);1===n.get(Iu)&&i.initialNavigation(),n.get(Oa,null,a.XFs.Optional)?.setUpPreloading(),n.get(em,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const yw=new a.OlP("",{factory:()=>new ut.x}),Iu=new a.OlP("",{providedIn:"root",factory:()=>1});const Oa=new a.OlP("");function Cw(n){return xh(0,[{provide:Oa,useExisting:CT},{provide:gw,useExisting:n}])}const nm=new a.OlP("ROUTER_FORROOT_GUARD"),$v=[Oe,{provide:av,useClass:Mp},{provide:oi,useFactory:Hv},yh,{provide:ka,useFactory:function kI(n){return n.routerState.root},deps:[oi]},uw];function im(){return new a.PXZ("Router",oi)}let DT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[$v,[],vw(e),{provide:nm,useFactory:Ew,deps:[[oi,new a.FiY,new a.tp0]]},{provide:Qp,useValue:i||{}},i?.useHash?{provide:ve,useClass:ze}:{provide:ve,useClass:et},{provide:em,useFactory:()=>{const n=(0,a.f3M)(oi),t=(0,a.f3M)(ic),e=(0,a.f3M)(Qp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _w(n,t,e)}},i?.preloadingStrategy?Cw(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:im},i?.initialNavigation?FI(i):[],[{provide:Dw,useFactory:RI},{provide:a.tb,multi:!0,useExisting:Dw}]]}}static forChild(e){return{ngModule:n,providers:[vw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(nm,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[wu]}),n})();function Ew(n){return"guarded"}function FI(n){return["disabled"===n.initialNavigation?xh(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(oi);return()=>{t.setUpLocationChangeListener()}}},{provide:Iu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xh(2,[{provide:Iu,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(c=>{const d=t.get(oi),f=t.get(yw);(function r(c){t.get(oi).events.pipe(zt(f=>f instanceof eo||f instanceof $l||f instanceof k0),(0,We.U)(f=>f instanceof eo||f instanceof $l&&(0===f.code||1===f.code)&&null),zt(f=>null!==f),tn(1)).subscribe(()=>{c()})})(()=>{c(!0),i=!0}),d.afterPreactivation=()=>(c(!0),i||f.closed?Ke(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const Dw=new a.OlP("");let no=(()=>{class n{constructor(e,i,r){this.angularFireAuth=e,this.userApiService=i,this.router=r,this.userSubject=new li(null),this.user$=this.userSubject.asObservable(),this.isAdmin$=this.user$.pipe((0,We.U)(c=>!!c?.isAdmin)),this.isAuthorized$=this.user$.pipe((0,We.U)(c=>!!c?.isAuthorized)),this.isAuthenticated$=this.user$.pipe((0,We.U)(c=>!!c)),this.angularFireAuth.authState.pipe(zt(c=>!!c)).subscribe(c=>this.retrieveUserInfo(c))}login(){this.angularFireAuth.signInWithPopup(new ia.Q).then(e=>{console.debug("[AuthService login",e.user)},e=>{this.resetUserInfo(),alert(e.message)})}logout(){this.angularFireAuth.signOut().then(e=>{this.router.navigate(["login"]),this.resetUserInfo()})}setUserInfo(e){this.userSubject.next(e)}resetUserInfo(){this.userSubject.next(null)}retrieveUserInfo(e){if(!e?.uid)return void this.resetUserInfo();const{uid:i,email:r,displayName:c}=e,d={uid:i,email:r,displayName:c,isAdmin:!1,isAuthorized:!1};this.setUserInfo(d),this.userApiService.getByKey(e.uid)?.valueChanges().subscribe({next:f=>{console.debug("[AuthService retrieveUserInfo OK]",{...d,isAdmin:f?.isAdmin}),this.setUserInfo({...d,isAdmin:f?.isAdmin,isAuthorized:!!f}),this.router.navigate(["home"])},error:f=>{console.error("[AuthService retrieveUserInfo ERROR]",f)}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xd),a.LFG(du),a.LFG(oi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Aw=O(1144);const Iw=["addListener","removeListener"],LI=["addEventListener","removeEventListener"],VI=["on","off"];function io(n,t,e,i){if((0,Ji.m)(e)&&(i=e,e=void 0),i)return io(n,t,e).pipe(Ll(i));const[r,c]=function zv(n){return(0,Ji.m)(n.addEventListener)&&(0,Ji.m)(n.removeEventListener)}(n)?LI.map(d=>f=>n[d](t,f,e)):function TT(n){return(0,Ji.m)(n.addListener)&&(0,Ji.m)(n.removeListener)}(n)?Iw.map(rm(n,t)):function Sw(n){return(0,Ji.m)(n.on)&&(0,Ji.m)(n.off)}(n)?VI.map(rm(n,t)):[];if(!r&&(0,Aw.z)(n))return(0,Hi.z)(d=>io(d,t,e))((0,ki.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new _i.y(d=>{const f=(...v)=>d.next(1<v.length?v:v[0]);return r(f),()=>c(f)})}function rm(n,t){return e=>i=>n[e](t,i)}const Pa=new _i.y(Mf.Z),RT={connector:()=>new ut.x};function Mw(n,t=RT){const{connector:e}=t;return(0,vn.e)((i,r)=>{const c=e();(0,ki.Xf)(n(function kT(n){return new _i.y(t=>n.subscribe(t))}(c))).subscribe(r),r.add(i.subscribe(c))})}function HI(n,t){return t?e=>Ma(t.pipe(tn(1),function OT(){return(0,vn.e)((n,t)=>{n.subscribe((0,Mn.x)(t,Mf.Z))})}()),e.pipe(HI(n))):(0,Hi.z)((e,i)=>n(e,i).pipe(tn(1),c0(e)))}var PT=O(3532);function jI(n=0,t,e=kd.P){let i=-1;return null!=t&&((0,PT.K)(t)?e=t:i=t),new _i.y(r=>{let c=function FT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},c)})}function sm(n,t=kd.z){const e=jI(n,t);return HI(()=>e)}const om="Service workers are disabled or not supported by this browser";class Gv{constructor(t){if(this.serviceWorker=t,t){const i=io(t,"controllerchange").pipe((0,We.U)(()=>t.controller)),c=Ma(Ta(()=>Ke(t.controller)),i);this.worker=c.pipe(zt(I=>!!I)),this.registration=this.worker.pipe(en(()=>t.getRegistration()));const E=io(t,"message").pipe((0,We.U)(I=>I.data)).pipe(zt(I=>I&&I.type)).pipe(function UI(n){return n?t=>Mw(n)(t):t=>function BI(n,t){const e=(0,Ji.m)(n)?n:()=>n;return(0,Ji.m)(t)?Mw(t,{connector:e}):i=>new ev(i,e)}(new ut.x)(t)}());E.connect(),this.events=E}else this.worker=this.events=this.registration=function NT(n){return Ta(()=>xa(new Error(n)))}(om)}postMessage(t,e){return this.worker.pipe(tn(1),(0,zn.b)(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),c=this.postMessage(t,e);return Promise.all([c,r]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(zt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(tn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(zt(e=>e.nonce===t),tn(1),(0,We.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let LT=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new ut.x,!e.isEnabled)return this.messages=Pa,this.notificationClicks=Pa,void(this.subscription=Pa);this.messages=this.sw.eventsOfType("PUSH").pipe((0,We.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,We.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,We.U)(r=>r.pushManager));const i=this.pushManager.pipe(en(r=>r.getSubscription()));this.subscription=(0,fn.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(om));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(r.length));for(let d=0;d<r.length;d++)c[d]=r.charCodeAt(d);return i.applicationServerKey=c,this.pushManager.pipe(en(d=>d.subscribe(i)),tn(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(tn(1),en(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(om))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Gv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$I=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Pa,this.available=Pa,this.activated=Pa,void(this.unrecoverable=Pa);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(zt(i=>"VERSION_READY"===i.type),(0,We.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(om));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(om));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Gv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Tw{}const s=new a.OlP("NGSW_REGISTER_SCRIPT");function o(n,t,e,i){return()=>{if(!mi(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[d,...f]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":r=Ke(null);break;case"registerWithDelay":r=l(+f[0]||0);break;case"registerWhenStable":r=f[0]?(0,fn.T)(u(n),l(+f[0])):u(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(a.R0b).runOutsideAngular(()=>r.pipe(tn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function l(n){return Ke(null).pipe(sm(n))}function u(n){return n.get(a.z2F).isStable.pipe(zt(e=>e))}function h(n,t){return new Gv(mi(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let b,p=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:s,useValue:e},{provide:Tw,useValue:i},{provide:Gv,useFactory:h,deps:[Tw,a.Lbi]},{provide:a.ip1,useFactory:o,deps:[a.zs3,s,Tw,a.Lbi],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[LT,$I]}),n})(),_=(()=>{class n{constructor(e){this.swUpdate=e}init(){this.swUpdate.versionUpdates.pipe(zt(e=>"VERSION_READY"===e.type)).subscribe(e=>{console.debug({versionCheck:e}),confirm("A new version is available, do you want to install it?")&&document.location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($I))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let T,w=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?mi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function q(){if(T)return T;if("object"!=typeof document||!document)return T=new Set(V),T;let n=document.createElement("input");return T=new Set(V.filter(t=>(n.setAttribute("type",t),n.type===t))),T}let se,tt,St;function He(n){return function Ie(){if(null==se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>se=!0}))}finally{se=se||!1}return se}()?n:!!n.capture}function Et(){if(null==tt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tt=!1,tt;if("scrollBehavior"in document.documentElement.style)tt=!0;else{const n=Element.prototype.scrollTo;tt=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tt}function Zn(n){if(function Cn(){if(null==St){const n=typeof document<"u"?document.head:null;St=!(!n||!n.createShadowRoot&&!n.attachShadow)}return St}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function qo(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ro(n){return n.composedPath?n.composedPath()[0]:n.target}function kh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ds(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function GI(n,t=kd.z){return(0,vn.e)((e,i)=>{let r=null,c=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const E=c;c=null,i.next(E)}};function v(){const E=d+n,I=t.now();if(I<E)return r=this.schedule(void 0,E-I),void i.add(r);f()}e.subscribe((0,Mn.x)(i,E=>{c=E,d=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{c=r=null}))})}function VT(n){return zt((t,e)=>n<=e)}function Oi(n){return(0,vn.e)((t,e)=>{(0,ki.Xf)(n).subscribe((0,Mn.x)(e,()=>e.complete(),Mf.Z)),!e.closed&&t.subscribe(e)})}function Kn(n){return null!=n&&"false"!=`${n}`}function cm(n,t=0){return function rP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Fw(n){return Array.isArray(n)?n:[n]}function $i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Yl(n){return n instanceof a.SBq?n.nativeElement:n}let BT=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sP=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Yl(e);return new _i.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ut.x,r=this._mutationObserverFactory.create(c=>i.next(c));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(BT))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oP=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Kn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=cm(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(GI(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sP),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),UT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[BT]}),n})();const HT=new Set;let um,aP=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cP}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function lP(n){if(!HT.has(n))try{um||(um=document.createElement("style"),um.setAttribute("type","text/css"),document.head.appendChild(um)),um.sheet&&(um.sheet.insertRule(`@media ${n} {body{ }}`,0),HT.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cP(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let uP=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ut.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jT(Fw(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let c=X_(jT(Fw(e)).map(d=>this._registerQuery(d).observable));return c=Ma(c.pipe(tn(1)),c.pipe(VT(1),GI(0))),c.pipe((0,We.U)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:v,query:E})=>{f.matches=f.matches||v,f.breakpoints[E]=v}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),c={observable:new _i.y(d=>{const f=v=>this._zone.run(()=>d.next(v));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Ui(i),(0,We.U)(({matches:d})=>({query:e,matches:d})),Oi(this._destroySubject)),mql:i};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(aP),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jT(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class GT{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ut.x,this._typeaheadSubscription=Ei.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ut.x,this.change=new ut.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,zn.b)(e=>this._pressedLetters.push(e)),GI(t),zt(()=>this._pressedLetters.length>0),(0,We.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const c=(this._activeItemIndex+r)%i.length,d=i[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ds(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class fP extends GT{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class WT extends GT{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Nw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function mP(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function pP(n){try{return n.frameElement}catch{return null}}(function EP(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===qT(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),c=qT(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function CP(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==c:"video"===r?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function wP(n){return!function _P(n){return function yP(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function gP(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function vP(n){return function bP(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||YT(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YT(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function qT(n){if(!YT(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class DP{constructor(t,e,i,r,c=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(tn(1)).subscribe(t)}}let WI=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new DP(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Nw),a.LFG(a.R0b),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function qI(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const AP=new a.OlP("cdk-input-modality-detector-options"),IP={ignoreKeys:[18,17,224,91,16]},dm=He({passive:!0,capture:!0});let SP=(()=>{class n{constructor(e,i,r,c){this._platform=e,this._mostRecentTarget=null,this._modality=new li(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ro(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YI(d)?"keyboard":"mouse"),this._mostRecentTarget=ro(d))},this._onTouchstart=d=>{qI(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ro(d))},this._options={...IP,...c},this.modalityDetected=this._modality.pipe(VT(1)),this.modalityChanged=this.modalityDetected.pipe(Sf()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dm),r.addEventListener("mousedown",this._onMousedown,dm),r.addEventListener("touchstart",this._onTouchstart,dm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dm),document.removeEventListener("mousedown",this._onMousedown,dm),document.removeEventListener("touchstart",this._onTouchstart,dm))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w),a.LFG(a.R0b),a.LFG(ne),a.LFG(AP,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MP=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function TP(){return null}}),xP=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kP=(()=>{class n{constructor(e,i,r,c){this._ngZone=i,this._defaultOptions=c,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let c,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[c,d]=i,this.clear(),clearTimeout(this._previousTimeout),c||(c=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let c=0;c<i.length;c++)i[c].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(MP,8),a.LFG(a.R0b),a.LFG(ne),a.LFG(xP,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RP=new a.OlP("cdk-focus-monitor-default-options"),Lw=He({passive:!0,capture:!0});let Ph=(()=>{class n{constructor(e,i,r,c,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut.x,this._rootNodeFocusAndBlurListener=f=>{for(let E=ro(f);E;E=E.parentElement)"focus"===f.type?this._onFocus(f,E):this._onBlur(f,E)},this._document=c,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Yl(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const c=Zn(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new ut.x,rootNode:c};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Yl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const c=Yl(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,v])=>this._originChanged(f,i,v)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),c=ro(e);!r||!r.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oi(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,c)=>{(c===e||r.checkChildren&&c.contains(e))&&i.push([c,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(w),a.LFG(SP),a.LFG(ne,8),a.LFG(RP,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KT="cdk-high-contrast-black-on-white",QT="cdk-high-contrast-white-on-black",ZI="cdk-high-contrast-active";let XT=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(uP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ZI,KT,QT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ZI,KT):2===i&&e.add(ZI,QT)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JT=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(XT))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[UT]}),n})();const OP=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function PP(){return(0,a.f3M)(ne)}}),FP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Mu=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function NP(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?FP.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(OP,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function LP(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function VP(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const BP=["*"],HP=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function UP(){return!0}});let An=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!kh()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(XT),a.LFG(HP,8),a.LFG(ne))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zv,Zv]}),n})();function KI(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Kn(t)}}}function Kv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Qv(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Kn(t)}}}function jP(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?cm(e):this.defaultTabIndex}}}function nx(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}const $P=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function zP(){return(0,a.f3M)(a.soG)}});class Na{constructor(){this._localeChanges=new ut.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const QI=new a.OlP("mat-date-formats"),GP=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function XI(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let WP=(()=>{class n extends Na{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return XI(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return XI(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return XI(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let c=this._createDateWithOverflow(e,i,r);return c.getMonth(),c}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(GP.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const c=new Date;return c.setFullYear(e,i,r),c.setHours(0,0,0,0),c}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($P,8),a.LFG(w))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const YP={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let qP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Na,useClass:WP}]}),n})(),ix=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:QI,useValue:YP}],imports:[qP]}),n})(),JI=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})();class QP{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const sx={enterDuration:225,exitDuration:150},eS=He({passive:!0}),ox=["mousedown","touchstart"],ax=["mouseup","mouseleave","touchend","touchcancel"];class JP{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...sx,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function eF(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,v=e-r.top,E=c.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-d+"px",I.style.top=v-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I);const M=window.getComputedStyle(I),Y=M.transitionDuration,X="none"===M.transitionProperty||"0s"===Y||"0s, 0s"===Y,le=new QP(this,I,i,X);I.style.transform="scale3d(1, 1, 1)",le.state=0,i.persistent||(this._mostRecentTransientRipple=le);let Re=null;return!X&&(E||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>this._finishRippleTransition(le),bt=()=>this._destroyRipple(le);I.addEventListener("transitionend",ct),I.addEventListener("transitioncancel",bt),Re={onTransitionEnd:ct,onTransitionCancel:bt}}),this._activeRipples.set(le,Re),(X||!E)&&this._finishRippleTransition(le),le}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...sx,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Yl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ox))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ax),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=YI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!qI(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,eS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(ox.forEach(t=>{this._triggerElement.removeEventListener(t,this,eS)}),this._pointerUpEventsRegistered&&ax.forEach(t=>{this._triggerElement.removeEventListener(t,this,eS)}))}}const tF=new a.OlP("mat-ripple-global-options");let Jv=(()=>{class n{constructor(e,i,r,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new JP(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(w),a.Y36(tF,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Vw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})(),lx=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),tS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An]}),n})();const cx=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),ux=new a.OlP("MatOptgroup");let nF=0;class dx{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let iF=(()=>{class n{constructor(e,i,r,c){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+nF++,this.onSelectionChange=new a.vpe,this._stateChanges=new ut.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Kn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ds(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new dx(this,e))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),hx=(()=>{class n extends iF{constructor(e,i,r,c){super(e,i,r,c)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(cx,8),a.Y36(ux,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(c){return i._handleKeydown(c)}),2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:BP,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,LP,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,VP,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Jv,hn,lx],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function nS(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),c=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===r[c]&&c++;return c}return 0}let Bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Vw,Fi,An,tS]}),n})();const rF=["mat-button",""],sF=["*"],aF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],lF=Kv(KI(Qv(class{constructor(n){this._elementRef=n}})));let hm=(()=>{class n extends lF{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of aF)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Ph),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Jv,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:rF,ngContentSelectors:sF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Jv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Vw,An,An]}),n})(),cF=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Kn(e)}get inset(){return this._inset}set inset(e){this._inset=Kn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),rS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})();function px(...n){const t=(0,Io.jO)(n),{args:e,keys:i}=JC(n),r=new _i.y(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let v=d,E=d;for(let I=0;I<d;I++){let M=!1;(0,ki.Xf)(e[I]).subscribe((0,Mn.x)(c,U=>{M||(M=!0,E--),f[I]=U},()=>v--,void 0,()=>{(!v||!M)&&(E||c.next(i?t0(i,f):f),c.complete())}))}});return t?r.pipe(Ll(t)):r}class uF{}class Tu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),c=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dF{encodeKey(t){return mx(t)}encodeValue(t){return mx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fF=/%(\d[a-f0-9])/gi,pF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mx(n){return encodeURIComponent(n).replace(fF,(t,e)=>pF[e]??t)}function Uw(n){return`${n}`}class xu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hF(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const c=r.indexOf("="),[d,f]=-1==c?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,c)),t.decodeValue(r.slice(c+1))],v=e.get(d)||[];v.push(f),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Uw):[Uw(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Uw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Uw(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class mF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _x(n){return typeof Blob<"u"&&n instanceof Blob}function vx(n){return typeof FormData<"u"&&n instanceof FormData}class ey{constructor(t,e,i,r){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,c=r):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Tu),this.context||(this.context=new mF),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new xu,this.urlWithParams=e}serializeBody(){return null===this.body?null:gx(this.body)||_x(this.body)||vx(this.body)||function _F(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vx(this.body)?null:_x(this.body)?this.body.type||null:gx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,E=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((M,U)=>M.set(U,t.setHeaders[U]),v)),t.setParams&&(E=Object.keys(t.setParams).reduce((M,U)=>M.set(U,t.setParams[U]),E)),new ey(e,i,c,{params:E,headers:v,context:I,reportProgress:f,responseType:r,withCredentials:d})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class sS extends class vF{constructor(t,e=200,i="OK"){this.headers=t.headers||new Tu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=dr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function oS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bx=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let c;if(e instanceof ey)c=e;else{let v,E;v=r.headers instanceof Tu?r.headers:new Tu(r.headers),r.params&&(E=r.params instanceof xu?r.params:new xu({fromObject:r.params})),c=new ey(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Ke(c).pipe(zo(v=>this.handler.handle(v)));if(e instanceof ey||"events"===r.observe)return d;const f=d.pipe(zt(v=>v instanceof sS));switch(r.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,We.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return f.pipe((0,We.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return f.pipe((0,We.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return f.pipe((0,We.U)(v=>v.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new xu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,oS(r,i))}post(e,i,r={}){return this.request("POST",e,oS(r,i))}put(e,i,r={}){return this.request("PUT",e,oS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(uF))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const bF=["*"];let Hw;function ty(n){return function CF(){if(void 0===Hw&&(Hw=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Hw=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Hw}()?.createHTML(n)||n}function Cx(n){return Error(`Unable to find icon with the name "${n}"`)}function wx(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Ex(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let jw=(()=>{class n{constructor(e,i,r,c){this._httpClient=e,this._sanitizer=i,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,c){return this._addSvgIconConfig(e,i,new Fh(r,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,c){const d=this._sanitizer.sanitize(a.q3G.HTML,r);if(!d)throw Ex(r);const f=ty(d);return this._addSvgIconConfig(e,i,new Fh("",f,c))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Fh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const c=this._sanitizer.sanitize(a.q3G.HTML,i);if(!c)throw Ex(i);const d=ty(c);return this._addSvgIconSetConfig(e,new Fh("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw wx(e);const r=this._cachedIconsByUrl.get(i);return r?Ke($w(r)):this._loadSvgIconFromConfig(new Fh(e,null)).pipe((0,zn.b)(c=>this._cachedIconsByUrl.set(i,c)),(0,We.U)(c=>$w(c)))}getNamedSvgIcon(e,i=""){const r=Dx(i,e);let c=this._svgIconConfigs.get(r);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(i,e),c)return this._svgIconConfigs.set(r,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):xa(Cx(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ke($w(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,We.U)(i=>$w(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ke(r):px(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Ks(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),Ke(null)})))).pipe((0,We.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw Cx(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const c=i[r];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,zn.b)(i=>e.svgText=i),(0,We.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ke(null):this._fetchIcon(e).pipe((0,zn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const c=e.querySelector(`[id="${i}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(ty("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ty("<svg></svg>")),r=e.attributes;for(let c=0;c<r.length;c++){const{name:d,value:f}=r[c];"id"!==d&&i.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[c].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,c=r?.withCredentials??!1;if(!this._httpClient)throw function wF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!d)throw wx(i);const f=this._inProgressUrlFetches.get(d);if(f)return f;const v=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,We.U)(E=>ty(E)),Ip(()=>this._inProgressUrlFetches.delete(d)),(0,al.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Dx(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const c=this._resolvers[r](i,e);if(c)return DF(c)?new Fh(c.url,null,c.options):new Fh(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(bx,8),a.LFG(Vs),a.LFG(ne,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $w(n){return n.cloneNode(!0)}function Dx(n,t){return n+":"+t}function DF(n){return!(!n.url||!n.options)}const AF=Kv(class{constructor(n){this._elementRef=n}}),IF=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),SF=new a.OlP("mat-icon-location",{providedIn:"root",factory:function MF(){const n=(0,a.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Ax=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TF=Ax.map(n=>`[${n}]`).join(", "),xF=/^url\(['"]?#(.*?)['"]?\)$/;let aS=(()=>{class n extends AF{constructor(e,i,r,c,d,f){super(e),this._iconRegistry=i,this._location=c,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ei.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Kn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,c)=>{r.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(TF),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<i.length;c++)Ax.forEach(d=>{const f=i[c],v=f.getAttribute(d),E=v?v.match(xF):null;if(E){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:d,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tn(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(jw),a.$8M("aria-hidden"),a.Y36(SF),a.Y36(a.qLn),a.Y36(IF,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:bF,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})();var Sx=O(4408);let lS,kF=1;const zw={};function Mx(n){return n in zw&&(delete zw[n],!0)}const RF={setImmediate(n){const t=kF++;return zw[t]=!0,lS||(lS=Promise.resolve()),lS.then(()=>Mx(t)&&n()),t},clearImmediate(n){Mx(n)}},{setImmediate:OF,clearImmediate:PF}=RF,Gw={setImmediate(...n){const{delegate:t}=Gw;return(t?.setImmediate||OF)(...n)},clearImmediate(n){const{delegate:t}=Gw;return(t?.clearImmediate||PF)(n)},delegate:void 0};var Tx=O(7565);const cS=new class NF extends Tx.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class FF extends Sx.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Gw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(Gw.clearImmediate(e),t._scheduled=void 0)}});class xx{}const ql="*";function ku(n,t){return{type:7,name:n,definitions:t,options:{}}}function so(n,t=null){return{type:4,styles:t,timings:n}}function kx(n,t=null){return{type:3,steps:n,options:t}}function Rx(n,t=null){return{type:2,steps:n,options:t}}function hi(n){return{type:6,styles:n,offset:null}}function La(n,t,e){return{type:0,name:n,styles:t,options:e}}function As(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function uS(n=null){return{type:9,options:n}}function dS(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Px(n){Promise.resolve().then(n)}class ny{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Px(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Fx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const c=this.players.length;0==c?Px(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++i==c&&this._onDestroy()}),d.onStart(()=>{++r==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class fS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class pS extends fS{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class iy extends fS{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class VF extends fS{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class mS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof pS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof iy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof VF?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BF extends mS{constructor(t,e,i,r,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,v=this._document.createComment("dom-portal");f.parentNode.insertBefore(v,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(f,v)})},this._document=c}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gS=(()=>{class n extends mS{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(c,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ne))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const sy={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=sy;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(c=>{e=void 0,n(c)});return new Ei.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=sy;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=sy;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class HF extends Tx.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class UF extends Sx.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=sy.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(sy.cancelAnimationFrame(e),t._scheduled=void 0)}});function Nx(n,t=kd.z){return function $F(n){return(0,vn.e)((t,e)=>{let i=!1,r=null,c=null,d=!1;const f=()=>{if(c?.unsubscribe(),c=null,i){i=!1;const E=r;r=null,e.next(E)}d&&e.complete()},v=()=>{c=null,d&&e.complete()};t.subscribe((0,Mn.x)(e,E=>{i=!0,r=E,c||(0,ki.Xf)(n(E)).subscribe(c=(0,Mn.x)(e,f,v))},()=>{d=!0,(!i||!c||c.closed)&&e.complete()}))})}(()=>jI(n,t))}let GF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ut.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new _i.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Nx(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zt(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Yl(i),c=e.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>io(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(w),a.LFG(ne,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ut.x,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,c=r.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Nx(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w),a.LFG(a.R0b),a.LFG(ne,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zv,fm,Zv,fm]}),n})();const Vx=Et();class YF{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$i(-this._previousScrollPosition.left),t.style.top=$i(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,c=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Vx&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Vx&&(i.scrollBehavior=c,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class qF{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Bx{enable(){}disable(){}attach(){}}function _S(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Ux(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ZF{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_S(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KF=(()=>{class n{constructor(e,i,r,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Bx,this.close=d=>new qF(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new YF(this._viewportRuler,this._document),this.reposition=d=>new ZF(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GF),a.LFG(oy),a.LFG(a.R0b),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ay{constructor(t){if(this.scrollStrategy=new Bx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class QF{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Hx=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XF=(()=>{class n extends Hx{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const f=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JF=(()=>{class n extends Hx{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ro(c)},this._clickListener=c=>{const d=ro(c),f="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let E=v.length-1;E>-1;E--){const I=v[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(c)):M.next(c)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(w),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ww=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||kh()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<r.length;c++)r[c].remove()}const i=this._document.createElement("div");i.classList.add(e),kh()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(w))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ly{constructor(t,e,i,r,c,d,f,v,E,I=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=c,this._keyboardDispatcher=d,this._document=f,this._location=v,this._outsideClickDispatcher=E,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new ut.x,this._attachments=new ut.x,this._detachments=new ut.x,this._locationChanges=Ei.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new ut.x,this._outsidePointerEvents=new ut.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$i(this._config.width),t.height=$i(this._config.height),t.minWidth=$i(this._config.minWidth),t.minHeight=$i(this._config.minHeight),t.maxWidth=$i(this._config.maxWidth),t.maxHeight=$i(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Fw(e||[]).filter(c=>!!c);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Oi((0,fn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jx="cdk-overlay-connected-position-bounding-box",eN=/([A-Za-z%]+)$/;class tN{constructor(t,e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut.x,this._resizeSubscription=Ei.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(jx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,c=[];let d;for(let f of this._preferredPositions){let v=this._getOriginPoint(t,r,f),E=this._getOverlayPoint(v,e,f),I=this._getOverlayFit(E,e,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,v);this._canFitWithFlexibleDimensions(I,E,i)?c.push({position:f,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,f)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:E,originPoint:v,position:f,overlayRect:e})}if(c.length){let f=null,v=-1;for(const E of c){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>v&&(v=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,c;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?d:f}return e.left<0&&(r-=e.left),c="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:r,y:c}}_getOverlayPoint(t,e,i){let r,c;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+c}}_getOverlayFit(t,e,i,r){const c=zx(e);let{x:d,y:f}=t,v=this._getOffset(r,"x"),E=this._getOffset(r,"y");v&&(d+=v),E&&(f+=E);let U=0-f,Y=f+c.height-i.height,X=this._subtractOverflows(c.width,0-d,d+c.width-i.width),le=this._subtractOverflows(c.height,U,Y),Re=X*le;return{visibleArea:Re,isCompletelyWithinViewport:c.width*c.height===Re,fitsInViewportVertically:le===c.height,fitsInViewportHorizontally:X==c.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,c=i.right-e.x,d=$x(this._overlayRef.getConfig().minHeight),f=$x(this._overlayRef.getConfig().minWidth),E=t.fitsInViewportHorizontally||null!=f&&f<=c;return(t.fitsInViewportVertically||null!=d&&d<=r)&&E}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=zx(e),c=this._viewportRect,d=Math.max(t.x+r.width-c.width,0),f=Math.max(t.y+r.height-c.height,0),v=Math.max(c.top-i.top-t.y,0),E=Math.max(c.left-i.left-t.x,0);let I=0,M=0;return I=r.width<=c.width?E||-d:t.x<this._viewportMargin?c.left-i.left-t.x:0,M=r.height<=c.height?v||-f:t.y<this._viewportMargin?c.top-i.top-t.y:0,this._previousPushAmount={x:I,y:M},{x:t.x+I,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new QF(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let c,d,f,I,M,U;if("top"===e.overlayY)d=t.y,c=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,c=i.height-f+this._viewportMargin;else{const Y=Math.min(i.bottom-t.y+i.top,t.y),X=this._lastBoundingBoxSize.height;c=2*Y,d=t.y-Y,c>X&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-X/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)U=i.width-t.x+this._viewportMargin,I=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,I=i.right-t.x;else{const Y=Math.min(i.right-t.x+i.left,t.x),X=this._lastBoundingBoxSize.width;I=2*Y,M=t.x-Y,I>X&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-X/2)}return{top:d,left:M,bottom:f,right:U,width:I,height:c}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=$i(i.height),r.top=$i(i.top),r.bottom=$i(i.bottom),r.width=$i(i.width),r.left=$i(i.left),r.right=$i(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(r.maxHeight=$i(c)),d&&(r.maxWidth=$i(d))}this._lastBoundingBoxSize=i,Nh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Nh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Nh(i,this._getExactOverlayY(e,t,I)),Nh(i,this._getExactOverlayX(e,t,I))}else i.position="static";let f="",v=this._getOffset(e,"x"),E=this._getOffset(e,"y");v&&(f+=`translateX(${v}px) `),E&&(f+=`translateY(${E}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=$i(d.maxHeight):c&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=$i(d.maxWidth):c&&(i.maxWidth="")),Nh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":r.top=$i(c.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":r.left=$i(c.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ux(t,i),isOriginOutsideView:_S(t,i),isOverlayClipped:Ux(e,i),isOverlayOutsideView:_S(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Fw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Nh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function $x(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(eN);return e&&"px"!==e?null:parseFloat(t)}return n||null}function zx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Gx="cdk-global-overlay-wrapper";class nN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Gx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:c,maxWidth:d,maxHeight:f}=i,v=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==c&&"100vh"!==c||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,M=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let Y="",X="",le="";v?le="flex-start":"center"===I?(le="center",U?X=M:Y=M):U?"left"===I||"end"===I?(le="flex-end",Y=M):("right"===I||"start"===I)&&(le="flex-start",X=M):"left"===I||"start"===I?(le="flex-start",Y=M):("right"===I||"end"===I)&&(le="flex-end",X=M),t.position=this._cssPosition,t.marginLeft=v?"0":Y,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":X,e.justifyContent=le,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Gx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let iN=(()=>{class n{constructor(e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c}global(){return new nN}flexibleConnectedTo(e){return new tN(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oy),a.LFG(ne),a.LFG(w),a.LFG(Ww))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rN=0,Is=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I,M,U,Y){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=f,this._ngZone=v,this._document=E,this._directionality=I,this._location=M,this._outsideClickDispatcher=U,this._animationsModuleType=Y}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),c=this._createPortalOutlet(r),d=new ay(e);return d.direction=d.direction||this._directionality.value,new ly(c,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+rN++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new BF(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(KF),a.LFG(Ww),a.LFG(a._Vd),a.LFG(iN),a.LFG(XF),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ne),a.LFG(Mu),a.LFG(Oe),a.LFG(JF),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const sN=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Wx=new a.OlP("cdk-connected-overlay-scroll-strategy");let Yx=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),qx=(()=>{class n{constructor(e,i,r,c,d){this._overlay=e,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ei.w0.EMPTY,this._attachSubscription=Ei.w0.EMPTY,this._detachSubscription=Ei.w0.EMPTY,this._positionSubscription=Ei.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new iy(i,r),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Kn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Kn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Kn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Kn(e)}get push(){return this._push}set push(e){this._push=Kn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=sN);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ds(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ay({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Yx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(l0(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Is),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(Wx),a.Y36(Mu,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const aN={provide:Wx,deps:[Is],useFactory:function oN(n){return()=>n.scrollStrategies.reposition()}};let pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Is,aN],imports:[Zv,ry,Lx,Lx]}),n})();const lN=["mat-menu-item",""];function cN(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}const Zx=["*"];function uN(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c._handleKeydown(r))})("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Yw={transformMenu:ku("transformMenu",[La("void",hi({opacity:0,transform:"scale(0.8)"})),As("void => enter",so("120ms cubic-bezier(0, 0, 0.2, 1)",hi({opacity:1,transform:"scale(1)"}))),As("* => void",so("100ms 25ms linear",hi({opacity:0})))]),fadeInItems:ku("fadeInItems",[La("showing",hi({opacity:1})),As("void => *",[hi({opacity:0}),so("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},dN=new a.OlP("MatMenuContent"),vS=new a.OlP("MAT_MENU_PANEL"),hN=Qv(KI(class{}));let qw=(()=>{class n extends hN{constructor(e,i,r,c,d){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new ut.x,this._focused=new ut.x,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ne),a.Y36(Ph),a.Y36(vS,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&a.NdJ("click",function(c){return i._checkDisabled(c)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(a.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:lN,ngContentSelectors:Zx,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,cN,2,0,"svg",1)),2&e&&(a.xp6(1),a.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),a.xp6(1),a.Q6J("ngIf",i._triggersSubmenu))},dependencies:[hn,Jv],encapsulation:2,changeDetection:0}),n})();const Kx=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function fN(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let pN=0,cy=(()=>{class n{constructor(e,i,r,c){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=c,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._tabSubscription=Ei.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ut.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+pN++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Kn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Kn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new WT(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ui(this._directDescendantItems),en(e=>(0,fn.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),c=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[c]&&!r[c].disabled?i.setActiveItem(c):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ui(this._directDescendantItems),en(i=>(0,fn.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ds(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ui(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Kx),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,dN,5),a.Suo(r,qw,5),a.Suo(r,qw,4)),2&e){let c;a.iGM(c=a.CRH())&&(i.lazyContent=c.first),a.iGM(c=a.CRH())&&(i._allItems=c),a.iGM(c=a.CRH())&&(i.items=c)}},viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,5),2&e){let r;a.iGM(r=a.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),mN=(()=>{class n extends cy{constructor(e,i,r,c){super(e,i,r,c),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Kx),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:vS,useExisting:n}]),a.qOj],ngContentSelectors:Zx,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,uN,3,6,"ng-template"))},dependencies:[rn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Yw.transformMenu,Yw.fadeInItems]},changeDetection:0}),n})();const Qx=new a.OlP("mat-menu-scroll-strategy"),_N={provide:Qx,deps:[Is],useFactory:function gN(n){return()=>n.scrollStrategies.reposition()}},Xx=He({passive:!0});let vN=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=v,this._focusMonitor=E,this._ngZone=I,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ei.w0.EMPTY,this._hoverSubscription=Ei.w0.EMPTY,this._menuCloseSubscription=Ei.w0.EMPTY,this._handleTouchStart=M=>{qI(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof cy?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Xx),f&&(f._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Xx),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),c=r.positionStrategy;this._setPosition(e,c),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof cy&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Oi(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof cy?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(zt(r=>"void"===r.toState),tn(1),Oi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new ay({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const c="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,i){let[r,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[v,E]=[d,f],[I,M]=[r,c],U=0;if(this.triggersSubmenu()){if(M=r="before"===e.xPosition?"start":"end",c=I="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Y=this._parentMaterialMenu.items.first;this._parentInnerPadding=Y?Y._getHostElement().offsetTop:0}U="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(v="top"===d?"bottom":"top",E="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:I,overlayY:d,offsetY:U},{originX:c,originY:v,overlayX:M,overlayY:d,offsetY:U},{originX:r,originY:E,overlayX:I,overlayY:f,offsetY:-U},{originX:c,originY:E,overlayX:M,overlayY:f,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ke(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(zt(d=>d!==this._menuItemInstance),zt(()=>this._menuOpen)):Ke();return(0,fn.T)(e,r,c,i)}_handleMousedown(e){YI(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(zt(e=>e===this._menuItemInstance&&!e.disabled),sm(0,cS)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof cy&&this.menu._isAnimating?this.menu._animationDone.pipe(tn(1),sm(0,cS),Oi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new iy(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Is),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(Qx),a.Y36(vS,8),a.Y36(qw,10),a.Y36(Mu,8),a.Y36(Ph),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&a.NdJ("click",function(c){return i._handleClick(c)})("mousedown",function(c){return i._handleMousedown(c)})("keydown",function(c){return i._handleKeydown(c)}),2&e&&a.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),yN=(()=>{class n extends vN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_N],imports:[Fi,An,Vw,pm,fm,An]}),n})();const bN=["*",[["mat-toolbar-row"]]],CN=["*","mat-toolbar-row"],wN=Kv(class{constructor(n){this._elementRef=n}});let EN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),DN=(()=>{class n extends wN{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(w),a.Y36(ne))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,EN,5),2&e){let c;a.iGM(c=a.CRH())&&(i._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:CN,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(bN),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})(),yS=(()=>{class n{constructor(e,i,r,c){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=c,this.authService.isAdmin$.subscribe(d=>{d?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no),a.Y36(a.SBq),a.Y36(a.Rgc),a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","obAdminOnly",""]]}),n})(),tk=(()=>{class n{constructor(e,i,r,c){this.authService=e,this.element=i,this.templateRef=r,this.viewContainer=c,this.authService.isAuthorized$.subscribe(d=>{d?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no),a.Y36(a.SBq),a.Y36(a.Rgc),a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","obAuthorizedOnly",""]]}),n})();function AN(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.login())}),a._uU(1," Login "),a.qZA()}}function IN(n,t){1&n&&(a.TgZ(0,"a",12),a._uU(1,"Home"),a.qZA())}function SN(n,t){1&n&&(a.TgZ(0,"a",13),a._uU(1,"Badges"),a.qZA())}function MN(n,t){1&n&&(a.TgZ(0,"a",14),a._uU(1,"Users"),a.qZA())}function TN(n,t){if(1&n){const e=a.EpF();a.ynx(0)(1),a.YNc(2,IN,2,0,"a",9),a.YNc(3,SN,2,0,"a",10),a.YNc(4,MN,2,0,"a",11),a._UZ(5,"mat-divider"),a.BQk(),a.TgZ(6,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.logout())}),a._uU(7," Logout "),a.TgZ(8,"em"),a._uU(9),a.ALo(10,"async"),a.qZA()(),a.BQk()}if(2&n){const e=a.oxw();a.xp6(9),a.Oqu(a.lcZ(10,1,e.username$))}}let nk=(()=>{class n{constructor(e){this.authService=e,this.version=Gr_appVersion,this.isAuthenticated$=this.authService.isAuthenticated$,this.username$=this.authService.user$.pipe((0,We.U)(i=>i?.email))}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-toolbar"]],decls:19,vars:8,consts:[["color","primary"],["mat-button","","routerLink","/"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLinkActive","active","routerLink","/home",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges",4,"obAuthorizedOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/users",4,"obAdminOnly"],["mat-menu-item","","routerLinkActive","active","routerLink","/home"],["mat-menu-item","","routerLinkActive","active","routerLink","/badges"],["mat-menu-item","","routerLinkActive","active","routerLink","/users"]],template:function(e,i){if(1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),a._uU(3,"apartment"),a.qZA(),a.TgZ(4,"span"),a._uU(5,"Office Buddy "),a.TgZ(6,"small")(7,"em"),a._uU(8),a.qZA()()()(),a._UZ(9,"span",2),a.TgZ(10,"button",3)(11,"mat-icon"),a._uU(12,"menu"),a.qZA()(),a.TgZ(13,"mat-menu",4,5),a.YNc(15,AN,2,0,"button",6),a.ALo(16,"async"),a.YNc(17,TN,11,3,"ng-container",7),a.ALo(18,"async"),a.qZA()()),2&e){const r=a.MAs(14);a.xp6(8),a.hij("v",i.version||"0",""),a.xp6(2),a.Q6J("matMenuTriggerFor",r),a.xp6(5),a.Q6J("ngIf",!a.lcZ(16,4,i.isAuthenticated$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(18,6,i.isAuthenticated$))}},dependencies:[hn,hm,cF,aS,mN,qw,yN,DN,Au,Th,jv,yS,tk,fo],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-menu-item.active[_ngcontent-%COMP%]{background-color:#efefef}"]}),n})(),xN=(()=>{class n{constructor(e,i){this.authService=e,this.appCheckUpdateService=i,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){this.appCheckUpdateService.init()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no),a.Y36(_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-root"]],decls:3,vars:0,consts:[["id","app-toolbar"],["id","app-content"]],template:function(e,i){1&e&&(a._UZ(0,"ob-toolbar",0),a.TgZ(1,"div",1),a._UZ(2,"router-outlet"),a.qZA())},dependencies:[nk,Tv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}#app-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px;overflow:auto}"]}),n})();var bS=O(655),CS=O(7982);function ON(n){return new _i.y(function(t){return{unsubscribe:(0,ia.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Zw{constructor(t){return t}}const BN=(0,yn.u3)(ON,!0);class uy{constructor(t){return t}}const sk=yn.nk.async,HN=(0,yn.u3)(CS.Kz,!0),jN=(0,yn.u3)(CS.Iv,!0);let ok=(()=>{class n{constructor(e,i,r){let c;this.disposables=[],(0,$r.KN)("angularfire",yn.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(d=>{c=d})),sk().then(()=>{const d=r.get(uy);d?this.disposables=[BN(e).subscribe(f=>{jN(d,f?.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zw),a.LFG(a.R0b),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ak="firebase_screen_id",ES="outlet",dy="screen_class",lk="screen_name";let e1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const DS={},t1=n=>{const t=[n[dy],n[ES]].join("#");if(DS.hasOwnProperty(t))return DS[t];{const e=e1++;return DS[t]=e,e}},ck=(n,t,e)=>n.events.pipe(zt(r=>r instanceof _v)).pipe(en(r=>{var c;const f=(null===(c=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,Y=>Y.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===c?void 0:c.toString())||"",v=n.routerState.root.children.map(Y=>Y).find(Y=>Y.outlet===r.snapshot.outlet);if(!v)return Ke(null);let E=v;for(;E.firstChild;)E=E.firstChild;const I=E.pathFromRoot.map(Y=>{var X;return null===(X=Y.routeConfig)||void 0===X?void 0:X.path}).filter(Y=>Y).join("/")||"/",M={[lk]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[ES]:r.snapshot.outlet};t&&(M.page_title=t.getTitle());let U=v.component;if(U){if(U===wu){let Y=r.snapshot;for(;Y.firstChild;)Y=Y.firstChild;U=Y.component}}else U=r.snapshot.component;if("string"==typeof U)return Ke(Object.assign(Object.assign({},M),{[dy]:U}));if(U){const Y=e.resolveComponentFactory(U);return Ke(Object.assign(Object.assign({},M),{[dy]:Y.selector}))}return Ke(null)}),zt(r=>!!r),(0,We.U)(r=>Object.assign({firebase_screen_class:r[dy],[ak]:t1(r)},r)),function kN(n,t,e,i){return(0,vn.e)((r,c)=>{let d;t&&"function"!=typeof t?({duration:e,element:d,connector:i}=t):d=t;const f=new Map,v=X=>{f.forEach(X),X(c)},E=X=>v(le=>le.error(X));let I=0,M=!1;const U=new Mn.Q(c,X=>{try{const le=n(X);let Re=f.get(le);if(!Re){f.set(le,Re=i?i():new ut.x);const ct=function Y(X,le){const Re=new _i.y(ct=>{I++;const bt=le.subscribe(ct);return()=>{bt.unsubscribe(),0==--I&&M&&U.unsubscribe()}});return Re.key=X,Re}(le,Re);if(c.next(ct),e){const bt=(0,Mn.x)(Re,()=>{Re.complete(),bt?.unsubscribe()},void 0,void 0,()=>f.delete(le));U.add((0,ki.Xf)(e(ct)).subscribe(bt))}}Re.next(d?d(X):X)}catch(le){E(le)}},()=>v(X=>X.complete()),E,()=>f.clear(),()=>(M=!0,0===I));r.subscribe(U)})}(r=>r[ES]),(0,Hi.z)(r=>r.pipe(Sf((c,d)=>JSON.stringify(c)===JSON.stringify(d)),Ui(void 0),function RN(){return(0,vn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Mn.x)(t,r=>{const c=e;e=r,i&&t.next([c,r]),i=!0}))})}(),(0,We.U)(([c,d])=>c?Object.assign({firebase_previous_class:c[dy],firebase_previous_screen:c[lk],firebase_previous_id:c[ak]},d):d))));let n1=(()=>{class n{constructor(e,i,r,c,d,f){(0,$r.KN)("angularfire",yn.q4.full,"screen-tracking"),sk().then(()=>{const v=f.get(uy);!e||!v||c.runOutsideAngular(()=>{this.disposable=ck(e,i,r).pipe(en(E=>(0,bS.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),HN(v,"screen_view",E)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oi,8),a.LFG(jr,8),a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(ok,8),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function uk(n){return new a.vHH(3e3,!1)}function H1(){return typeof window<"u"&&typeof window.document<"u"}function IS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ru(n){switch(n.length){case 0:return new ny;case 1:return n[0];default:return new Fx(n)}}function dk(n,t,e,i,r=new Map,c=new Map){const d=[],f=[];let v=-1,E=null;if(i.forEach(I=>{const M=I.get("offset"),U=M==v,Y=U&&E||new Map;I.forEach((X,le)=>{let Re=le,ct=X;if("offset"!==le)switch(Re=t.normalizePropertyName(Re,d),ct){case"!":ct=r.get(le);break;case ql:ct=c.get(le);break;default:ct=t.normalizeStyleValue(le,Re,ct,d)}Y.set(Re,ct)}),U||f.push(Y),E=Y,v=M}),d.length)throw function T1(n){return new a.vHH(3502,!1)}();return f}function SS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&MS(e,"start",n)));break;case"done":n.onDone(()=>i(e&&MS(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&MS(e,"destroy",n)))}}function MS(n,t,e){const c=TS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function TS(n,t,e,i,r="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:c,disabled:!!d}}function Ss(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function hk(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let xS=(n,t)=>!1,fk=(n,t,e)=>[],pk=null;function kS(n){const t=n.parentNode||n.host;return t===pk?null:t}(IS()||typeof Element<"u")&&(H1()?(pk=(()=>document.documentElement)(),xS=(n,t)=>{for(;t;){if(t===n)return!0;t=kS(t)}return!1}):xS=(n,t)=>n.contains(t),fk=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Lh=null,mk=!1;const gk=xS,_k=fk;let vk=(()=>{class n{validateStyleProperty(e){return function $1(n){Lh||(Lh=function z1(){return typeof document<"u"?document.body:null}()||{},mk=!!Lh.style&&"WebkitAppearance"in Lh.style);let t=!0;return Lh.style&&!function j1(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Lh.style,!t&&mk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Lh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return gk(e,i)}getParentElement(e){return kS(e)}query(e,i,r){return _k(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,c,d,f=[],v){return new ny(r,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),RS=(()=>{class n{}return n.NOOP=new vk,n})();const OS="ng-enter",Kw="ng-leave",Qw="ng-trigger",Xw=".ng-trigger",bk="ng-animating",PS=".ng-animating";function Zl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:FS(parseFloat(t[1]),t[2])}function FS(n,t){return"s"===t?1e3*n:n}function Jw(n,t,e){return n.hasOwnProperty("duration")?n:function Y1(n,t,e){let r,c=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(uk()),{duration:0,delay:0,easing:""};r=FS(parseFloat(f[1]),f[2]);const v=f[3];null!=v&&(c=FS(parseFloat(v),f[4]));const E=f[5];E&&(d=E)}else r=n;if(!e){let f=!1,v=t.length;r<0&&(t.push(function a1(){return new a.vHH(3100,!1)}()),f=!0),c<0&&(t.push(function l1(){return new a.vHH(3101,!1)}()),f=!0),f&&t.splice(v,0,uk())}return{duration:r,delay:c,easing:d}}(n,t,e)}function hy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ck(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ou(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ek(n,t,e){return e?t+":"+e+";":""}function Dk(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Ek(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ek(0,Q1(e),n.style[e]));n.setAttribute("style",t)}function Va(n,t,e){n.style&&(t.forEach((i,r)=>{const c=LS(r);e&&!e.has(r)&&e.set(r,n.style[c]),n.style[c]=i}),IS()&&Dk(n))}function Vh(n,t){n.style&&(t.forEach((e,i)=>{const r=LS(i);n.style[r]=""}),IS()&&Dk(n))}function fy(n){return Array.isArray(n)?1==n.length?n[0]:Rx(n):n}const NS=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ak(n){let t=[];if("string"==typeof n){let e;for(;e=NS.exec(n);)t.push(e[1]);NS.lastIndex=0}return t}function py(n,t,e){const i=n.toString(),r=i.replace(NS,(c,d)=>{let f=t[d];return null==f&&(e.push(function u1(n){return new a.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function eE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const K1=/-+([a-z0-9])/g;function LS(n){return n.replace(K1,(...t)=>t[1].toUpperCase())}function Q1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ms(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function d1(n){return new a.vHH(3004,!1)}()}}function Ik(n,t){return window.getComputedStyle(n)[t]}function iL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function rL(n,t,e){if(":"==n[0]){const v=function sL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function A1(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function D1(n){return new a.vHH(3015,!1)}()),t;const r=i[1],c=i[2],d=i[3];t.push(Sk(r,d));"<"==c[0]&&!("*"==r&&"*"==d)&&t.push(Sk(d,r))}(i,e,t)):e.push(n),e}const rE=new Set(["true","1"]),sE=new Set(["false","0"]);function Sk(n,t){const e=rE.has(n)||sE.has(n),i=rE.has(t)||sE.has(t);return(r,c)=>{let d="*"==n||n==r,f="*"==t||t==c;return!d&&e&&"boolean"==typeof r&&(d=r?rE.has(n):sE.has(n)),!f&&i&&"boolean"==typeof c&&(f=c?rE.has(t):sE.has(t)),d&&f}}const oL=new RegExp("s*:selfs*,?","g");function VS(n,t,e,i){return new aL(n).build(t,e,i)}class aL{constructor(t){this._driver=t}build(t,e,i){const r=new uL(e);return this._resetContextStyleTimingState(r),Ms(this,fy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function f1(){return new a.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const v=f,E=v.name;E.toString().split(/\s*,\s*/).forEach(I=>{v.name=I,c.push(this.visitState(v,e))}),v.name=E}else if(1==f.type){const v=this.visitTransition(f,e);i+=v.queryCount,r+=v.depCount,d.push(v)}else e.errors.push(function p1(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:c,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const c=new Set,d=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(v=>{Ak(v).forEach(E=>{d.hasOwnProperty(E)||c.add(E)})})}),c.size&&(eE(c.values()),e.errors.push(function m1(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ms(this,fy(t.animation),e);return{type:1,matchers:iL(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Bh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ms(this,i,e)),options:Bh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const c=t.steps.map(d=>{e.currentTime=i;const f=Ms(this,d,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:c,options:Bh(t.options)}}visitAnimate(t,e){const i=function hL(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BS(Jw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=BS(0,0,"");return c.dynamic=!0,c.strValue=e,c}const r=Jw(e,t);return BS(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,c=t.styles?t.styles:hi({});if(5==c.type)r=this.visitKeyframes(c,e);else{let d=t.styles,f=!1;if(!d){f=!0;const E={};i.easing&&(E.easing=i.easing),d=hi(E)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=f,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of r)"string"==typeof f?f===ql?i.push(f):e.errors.push(new a.vHH(3002,!1)):i.push(Ck(f));let c=!1,d=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!c))for(let v of f.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,v)=>{const E=e.collectedStyles.get(e.currentQuerySelector),I=E.get(v);let M=!0;I&&(c!=r&&c>=I.startTime&&r<=I.endTime&&(e.errors.push(function _1(n,t,e,i,r){return new a.vHH(3010,!1)}()),M=!1),c=I.startTime),M&&E.set(v,{startTime:c,endTime:r}),e.options&&function Z1(n,t,e){const i=t.params||{},r=Ak(n);r.length&&r.forEach(c=>{i.hasOwnProperty(c)||e.push(function c1(n){return new a.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function v1(){return new a.vHH(3011,!1)}()),i;let c=0;const d=[];let f=!1,v=!1,E=0;const I=t.steps.map(ct=>{const bt=this._makeStyleAst(ct,e);let pn=null!=bt.offset?bt.offset:function dL(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(bt.styles),Wt=0;return null!=pn&&(c++,Wt=bt.offset=pn),v=v||Wt<0||Wt>1,f=f||Wt<E,E=Wt,d.push(Wt),bt});v&&e.errors.push(function y1(){return new a.vHH(3012,!1)}()),f&&e.errors.push(function b1(){return new a.vHH(3200,!1)}());const M=t.steps.length;let U=0;c>0&&c<M?e.errors.push(function C1(){return new a.vHH(3202,!1)}()):0==c&&(U=1/(M-1));const Y=M-1,X=e.currentTime,le=e.currentAnimateTimings,Re=le.duration;return I.forEach((ct,bt)=>{const pn=U>0?bt==Y?1:U*bt:d[bt],Wt=pn*Re;e.currentTime=X+le.delay+Wt,le.duration=Wt,this._validateStyleAst(ct,e),ct.offset=pn,i.styles.push(ct)}),i}visitReference(t,e){return{type:8,animation:Ms(this,fy(t.animation),e),options:Bh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Bh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Bh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function lL(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(oL,"")),n=n.replace(/@\*/g,Xw).replace(/@\w+/g,e=>Xw+"-"+e.slice(1)).replace(/:animating/g,PS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+c:c,Ss(e.collectedStyles,e.currentQuerySelector,new Map);const f=Ms(this,fy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:c,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:Bh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function w1(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Jw(t.timings,e.errors,!0);return{type:12,animation:Ms(this,fy(t.animation),e),timings:i,options:null}}}class uL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bh(n){return n?(n=hy(n)).params&&(n.params=function cL(n){return n?hy(n):null}(n.params)):n={},n}function BS(n,t,e){return{duration:n,delay:t,easing:e}}function US(n,t,e,i,r,c,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:c,totalTime:r+c,easing:d,subTimeline:f}}class oE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const mL=new RegExp(":enter","g"),_L=new RegExp(":leave","g");function HS(n,t,e,i,r,c=new Map,d=new Map,f,v,E=[]){return(new vL).buildKeyframes(n,t,e,i,r,c,d,f,v,E)}class vL{buildKeyframes(t,e,i,r,c,d,f,v,E,I=[]){E=E||new oE;const M=new jS(t,e,E,r,c,I,[]);M.options=v;const U=v.delay?Zl(v.delay):0;M.currentTimeline.delayNextStep(U),M.currentTimeline.setStyles([d],null,M.errors,v),Ms(this,i,M);const Y=M.timelines.filter(X=>X.containsAnimation());if(Y.length&&f.size){let X;for(let le=Y.length-1;le>=0;le--){const Re=Y[le];if(Re.element===e){X=Re;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([f],null,M.errors,v)}return Y.length?Y.map(X=>X.buildKeyframes()):[US(e,[],[],[],0,U,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const c=r?.delay;if(c){const d="number"==typeof c?c:Zl(py(c,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let c=e.currentTimeline.currentTime;const d=null!=i.duration?Zl(i.duration):null,f=null!=i.delay?Zl(i.delay):null;return 0!==d&&t.forEach(v=>{const E=e.appendInstructionToTimeline(v,d,f);c=Math.max(c,E.duration+E.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ms(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const c=t.options;if(c&&(c.params||c.delay)&&(r=e.createSubContext(c),r.transformIntoNewTimeline(),null!=c.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aE);const d=Zl(c.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Ms(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Zl(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);c&&f.delayNextStep(c),Ms(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Jw(e.params?py(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(c):i.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,c=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(v=>{f.forwardTime((v.offset||0)*c),f.setStyles(v.styles,v.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+c),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},c=r.delay?Zl(r.delay):0;c&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=aE);let d=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let v=null;f.forEach((E,I)=>{e.currentQueryIndex=I;const M=e.createSubContext(t.options,E);c&&M.delayNextStep(c),E===e.element&&(v=M.currentTimeline),Ms(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),f=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=f-v;break;case"full":v=i.currentStaggerTime}const I=e.currentTimeline;v&&I.delayNextStep(v);const M=I.currentTime;Ms(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const aE={};class jS{constructor(t,e,i,r,c,d,f,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=c,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new lE(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Zl(i.duration)),null!=i.delay&&(r.delay=Zl(i.delay));const c=i.params;if(c){let d=r.params;d||(d=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=py(c[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,c=new jS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=aE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},c=new yL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(c),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,c,d){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(mL,"."+this._enterClassName)).replace(_L,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),f.push(...E)}return!c&&0==f.length&&d.push(function E1(n){return new a.vHH(3014,!1)}()),f}}class lE{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ql),this._currentKeyframe.set(e,ql);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const c=r&&r.params||{},d=function bL(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let c of i)e.set(c,ql)}else Ou(r,e)}),e}(t,this._globalTimelineStyles);for(let[f,v]of d){const E=py(v,c,i);this._pendingStyles.set(f,E),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ql),this._updateStyle(f,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,v)=>{const E=Ou(f,new Map,this._backFill);E.forEach((I,M)=>{"!"===I?t.add(M):I===ql&&e.add(M)}),i||E.set("offset",v/this.duration),r.push(E)});const c=t.size?eE(t.values()):[],d=e.size?eE(e.values()):[];if(i){const f=r[0],v=new Map(f);f.set("offset",0),v.set("offset",1),r=[f,v]}return US(this.element,r,c,d,this.duration,this.startTime,this.easing,!1)}}class yL extends lE{constructor(t,e,i,r,c,d,f=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=i+e,f=e/d,v=Ou(t[0]);v.set("offset",0),c.push(v);const E=Ou(t[0]);E.set("offset",xk(f)),c.push(E);const I=t.length-1;for(let M=1;M<=I;M++){let U=Ou(t[M]);const Y=U.get("offset");U.set("offset",xk((e+Y*i)/d)),c.push(U)}i=d,e=0,r="",t=c}return US(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function xk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class $S{}const CL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wL extends $S{normalizePropertyName(t,e){return LS(t)}normalizeStyleValue(t,e,i,r){let c="";const d=i.toString().trim();if(CL.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function h1(n,t){return new a.vHH(3005,!1)}())}return d+c}}function kk(n,t,e,i,r,c,d,f,v,E,I,M,U){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:c,toState:i,toStyles:d,timelines:f,queriedElements:v,preStyleProps:E,postStyleProps:I,totalTime:M,errors:U}}const zS={};class Rk{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function EL(n,t,e,i,r){return n.some(c=>c(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,c,d,f,v,E,I){const M=[],U=this.ast.options&&this.ast.options.params||zS,X=this.buildStyles(i,f&&f.params||zS,M),le=v&&v.params||zS,Re=this.buildStyles(r,le,M),ct=new Set,bt=new Map,pn=new Map,Wt="void"===r,Zi={params:DL(le,U),delay:this.ast.options?.delay},tr=I?[]:HS(t,e,this.ast.animation,c,d,X,Re,Zi,E,M);let Nr=0;if(tr.forEach(Xl=>{Nr=Math.max(Xl.duration+Xl.delay,Nr)}),M.length)return kk(e,this._triggerName,i,r,Wt,X,Re,[],[],bt,pn,Nr,M);tr.forEach(Xl=>{const Jl=Xl.element,HO=Ss(bt,Jl,new Set);Xl.preStyleProps.forEach($h=>HO.add($h));const Iy=Ss(pn,Jl,new Set);Xl.postStyleProps.forEach($h=>Iy.add($h)),Jl!==e&&ct.add(Jl)});const Ql=eE(ct.values());return kk(e,this._triggerName,i,r,Wt,X,Re,tr,Ql,bt,pn,Nr)}}function DL(n,t){const e=hy(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class AL{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=hy(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!==d&&(r[c]=d)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,f)=>{d&&(d=py(d,r,e));const v=this.normalizer.normalizePropertyName(f,e);d=this.normalizer.normalizeStyleValue(f,v,d,e),i.set(v,d)})}),i}}class SL{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new AL(r.style,r.options&&r.options.params||{},i))}),Ok(this.states,"true","1"),Ok(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Rk(t,r,this.states))}),this.fallbackTransition=function ML(n,t,e){return new Rk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Ok(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const TL=new oE;class xL{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],c=VS(this._driver,e,i,[]);if(i.length)throw function x1(n){return new a.vHH(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,i){const r=t.element,c=dk(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],c=this._animations.get(t);let d;const f=new Map;if(c?(d=HS(this._driver,e,c,OS,Kw,new Map,new Map,i,TL,r),d.forEach(I=>{const M=Ss(f,I.element,new Map);I.postStyleProps.forEach(U=>M.set(U,null))})):(r.push(function k1(){return new a.vHH(3300,!1)}()),d=[]),r.length)throw function R1(n){return new a.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((U,Y)=>{I.set(Y,this._driver.computeStyle(M,Y,ql))})});const E=Ru(d.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(t,E),E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function O1(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const c=TS(e,"","","");return SS(this._getPlayer(t),i,c,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const c=this._getPlayer(t);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Pk="ng-animate-queued",GS="ng-animate-disabled",FL=[],Fk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oo="__ng_removed";class WS{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function UL(n){return n??null}(i?t.value:t),i){const c=hy(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const my="void",YS=new WS(my);class LL{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ao(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function P1(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function F1(n){return new a.vHH(3303,!1)}();if(!function HL(n){return"start"==n||"done"==n}(i))throw function N1(n,t){return new a.vHH(3400,!1)}();const c=Ss(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};c.push(d);const f=Ss(this._engine.statesByElement,t,new Map);return f.has(e)||(ao(t,Qw),ao(t,Qw+"-"+e),f.set(e,YS)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(d);v>=0&&c.splice(v,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function L1(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const c=this._getTrigger(e),d=new qS(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(ao(t,Qw),ao(t,Qw+"-"+e),this._engine.statesByElement.set(t,f=new Map));let v=f.get(e);const E=new WS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&E.absorbOptions(v.options),f.set(e,E),v||(v=YS),E.value!==my&&v.value===E.value){if(!function zL(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const c=e[r];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(v.params,E.params)){const le=[],Re=c.matchStyles(v.value,v.params,le),ct=c.matchStyles(E.value,E.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{Vh(t,Re),Va(t,ct)})}return}const U=Ss(this._engine.playersByElement,t,[]);U.forEach(le=>{le.namespaceId==this.id&&le.triggerName==e&&le.queued&&le.destroy()});let Y=c.matchTransition(v.value,E.value,t,E.params),X=!1;if(!Y){if(!r)return;Y=c.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:v,toState:E,player:d,isFallbackTransition:X}),X||(ao(t,Pk),d.onStart(()=>{mm(t,Pk)})),d.onDone(()=>{let le=this.players.indexOf(d);le>=0&&this.players.splice(le,1);const Re=this._engine.playersByElement.get(t);if(Re){let ct=Re.indexOf(d);ct>=0&&Re.splice(ct,1)}}),this.players.push(d),U.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Xw,!0);i.forEach(r=>{if(r[oo])return;const c=this._engine.fetchNamespacesByElement(r);c.size?c.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const c=this._engine.statesByElement.get(t),d=new Map;if(c){const f=[];if(c.forEach((v,E)=>{if(d.set(E,v.value),this._triggers.has(E)){const I=this.trigger(t,E,my,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Ru(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(c=>{const d=c.name;if(r.has(d))return;r.add(d);const v=this._triggers.get(d).fallbackTransition,E=i.get(d)||YS,I=new WS(my),M=new qS(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:E,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(t):[];if(c&&c.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const c=t[oo];(!c||c===Fk)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ao(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const c=i.element,d=this._elementListeners.get(c);d&&d.forEach(f=>{if(f.name==i.triggerName){const v=TS(c,i.triggerName,i.fromState.value,i.toState.value);v._data=t,SS(i.player,f.phase,v,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const c=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class VL{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new LL(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,f=this.driver.getParentElement(e);for(;f;){const v=r.get(f);if(v){const E=i.indexOf(v);i.splice(E+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const c=this._fetchNamespace(r.namespaceId);c&&e.add(c)}return e}trigger(t,e,i,r){if(cE(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!cE(e))return;const c=e[oo];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ao(t,GS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),mm(t,GS))}removeNode(t,e,i,r){if(cE(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,c){this.collectedLeaveElements.push(e),e[oo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,i,r,c){return cE(e)?this._fetchNamespace(t).listen(e,i,r,c):()=>{}}_buildInstruction(t,e,i,r,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Xw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,PS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ru(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[oo];if(e&&e.setForRemoval){if(t[oo]=Fk,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(GS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ao(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ru(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function V1(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new oE,r=[],c=new Map,d=[],f=new Map,v=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(gt=>{I.add(gt);const Mt=this.driver.query(gt,".ng-animate-queued",!0);for(let Ot=0;Ot<Mt.length;Ot++)I.add(Mt[Ot])});const M=this.bodyNode,U=Array.from(this.statesByElement.keys()),Y=Vk(U,this.collectedEnterElements),X=new Map;let le=0;Y.forEach((gt,Mt)=>{const Ot=OS+le++;X.set(Mt,Ot),gt.forEach(wn=>ao(wn,Ot))});const Re=[],ct=new Set,bt=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Mt=this.collectedLeaveElements[gt],Ot=Mt[oo];Ot&&Ot.setForRemoval&&(Re.push(Mt),ct.add(Mt),Ot.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(wn=>ct.add(wn)):bt.add(Mt))}const pn=new Map,Wt=Vk(U,Array.from(ct));Wt.forEach((gt,Mt)=>{const Ot=Kw+le++;pn.set(Mt,Ot),gt.forEach(wn=>ao(wn,Ot))}),t.push(()=>{Y.forEach((gt,Mt)=>{const Ot=X.get(Mt);gt.forEach(wn=>mm(wn,Ot))}),Wt.forEach((gt,Mt)=>{const Ot=pn.get(Mt);gt.forEach(wn=>mm(wn,Ot))}),Re.forEach(gt=>{this.processLeaveNode(gt)})});const Zi=[],tr=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(e).forEach(Ot=>{const wn=Ot.player,nr=Ot.element;if(Zi.push(wn),this.collectedEnterElements.length){const Cr=nr[oo];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has(Ot.triggerName)){const zh=Cr.previousTriggersValues.get(Ot.triggerName),lo=this.statesByElement.get(Ot.element);if(lo&&lo.has(Ot.triggerName)){const OE=lo.get(Ot.triggerName);OE.value=zh,lo.set(Ot.triggerName,OE)}}return void wn.destroy()}}const Ua=!M||!this.driver.containsElement(M,nr),xs=pn.get(nr),Nu=X.get(nr),vi=this._buildInstruction(Ot,i,Nu,xs,Ua);if(vi.errors&&vi.errors.length)return void tr.push(vi);if(Ua)return wn.onStart(()=>Vh(nr,vi.fromStyles)),wn.onDestroy(()=>Va(nr,vi.toStyles)),void r.push(wn);if(Ot.isFallbackTransition)return wn.onStart(()=>Vh(nr,vi.fromStyles)),wn.onDestroy(()=>Va(nr,vi.toStyles)),void r.push(wn);const zO=[];vi.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||zO.push(Cr)}),vi.timelines=zO,i.append(nr,vi.timelines),d.push({instruction:vi,player:wn,element:nr}),vi.queriedElements.forEach(Cr=>Ss(f,Cr,[]).push(wn)),vi.preStyleProps.forEach((Cr,zh)=>{if(Cr.size){let lo=v.get(zh);lo||v.set(zh,lo=new Set),Cr.forEach((OE,IM)=>lo.add(IM))}}),vi.postStyleProps.forEach((Cr,zh)=>{let lo=E.get(zh);lo||E.set(zh,lo=new Set),Cr.forEach((OE,IM)=>lo.add(IM))})});if(tr.length){const gt=[];tr.forEach(Mt=>{gt.push(function B1(n,t){return new a.vHH(3505,!1)}())}),Zi.forEach(Mt=>Mt.destroy()),this.reportError(gt)}const Nr=new Map,Ql=new Map;d.forEach(gt=>{const Mt=gt.element;i.has(Mt)&&(Ql.set(Mt,Mt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,Nr))}),r.forEach(gt=>{const Mt=gt.element;this._getPreviousPlayers(Mt,!1,gt.namespaceId,gt.triggerName,null).forEach(wn=>{Ss(Nr,Mt,[]).push(wn),wn.destroy()})});const Xl=Re.filter(gt=>Uk(gt,v,E)),Jl=new Map;Lk(Jl,this.driver,bt,E,ql).forEach(gt=>{Uk(gt,v,E)&&Xl.push(gt)});const Iy=new Map;Y.forEach((gt,Mt)=>{Lk(Iy,this.driver,new Set(gt),v,"!")}),Xl.forEach(gt=>{const Mt=Jl.get(gt),Ot=Iy.get(gt);Jl.set(gt,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const $h=[],jO=[],$O={};d.forEach(gt=>{const{element:Mt,player:Ot,instruction:wn}=gt;if(i.has(Mt)){if(I.has(Mt))return Ot.onDestroy(()=>Va(Mt,wn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(wn.totalTime),void r.push(Ot);let nr=$O;if(Ql.size>1){let xs=Mt;const Nu=[];for(;xs=xs.parentNode;){const vi=Ql.get(xs);if(vi){nr=vi;break}Nu.push(xs)}Nu.forEach(vi=>Ql.set(vi,nr))}const Ua=this._buildAnimation(Ot.namespaceId,wn,Nr,c,Iy,Jl);if(Ot.setRealPlayer(Ua),nr===$O)$h.push(Ot);else{const xs=this.playersByElement.get(nr);xs&&xs.length&&(Ot.parentPlayer=Ru(xs)),r.push(Ot)}}else Vh(Mt,wn.fromStyles),Ot.onDestroy(()=>Va(Mt,wn.toStyles)),jO.push(Ot),I.has(Mt)&&r.push(Ot)}),jO.forEach(gt=>{const Mt=c.get(gt.element);if(Mt&&Mt.length){const Ot=Ru(Mt);gt.setRealPlayer(Ot)}}),r.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<Re.length;gt++){const Mt=Re[gt],Ot=Mt[oo];if(mm(Mt,Kw),Ot&&Ot.hasAnimation)continue;let wn=[];if(f.size){let Ua=f.get(Mt);Ua&&Ua.length&&wn.push(...Ua);let xs=this.driver.query(Mt,PS,!0);for(let Nu=0;Nu<xs.length;Nu++){let vi=f.get(xs[Nu]);vi&&vi.length&&wn.push(...vi)}}const nr=wn.filter(Ua=>!Ua.destroyed);nr.length?jL(this,Mt,nr):this.processLeaveNode(Mt)}return Re.length=0,$h.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Mt=this.players.indexOf(gt);this.players.splice(Mt,1)}),gt.play()}),$h}elementContainsData(t,e){let i=!1;const r=e[oo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,c){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const v=!c||c==my;f.forEach(E=>{E.queued||!v&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(t,e,i){const c=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const E=v.element,I=E!==c,M=Ss(i,E,[]);this._getPreviousPlayers(E,I,d,f,e.toState).forEach(Y=>{const X=Y.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),Y.destroy(),M.push(Y)})}Vh(c,e.fromStyles)}_buildAnimation(t,e,i,r,c,d){const f=e.triggerName,v=e.element,E=[],I=new Set,M=new Set,U=e.timelines.map(X=>{const le=X.element;I.add(le);const Re=le[oo];if(Re&&Re.removedBeforeQueried)return new ny(X.duration,X.delay);const ct=le!==v,bt=function $L(n){const t=[];return Bk(n,t),t}((i.get(le)||FL).map(Nr=>Nr.getRealPlayer())).filter(Nr=>!!Nr.element&&Nr.element===le),pn=c.get(le),Wt=d.get(le),Zi=dk(0,this._normalizer,0,X.keyframes,pn,Wt),tr=this._buildPlayer(X,Zi,bt);if(X.subTimeline&&r&&M.add(le),ct){const Nr=new qS(t,f,le);Nr.setRealPlayer(tr),E.push(Nr)}return tr});E.forEach(X=>{Ss(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function BL(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,X.element,X))}),I.forEach(X=>ao(X,bk));const Y=Ru(U);return Y.onDestroy(()=>{I.forEach(X=>mm(X,bk)),Va(v,e.toStyles)}),M.forEach(X=>{Ss(r,X,[]).push(Y)}),Y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ny(t.duration,t.delay)}}class qS{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ny,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>SS(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cE(n){return n&&1===n.nodeType}function Nk(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Lk(n,t,e,i,r){const c=[];e.forEach(v=>c.push(Nk(v)));const d=[];i.forEach((v,E)=>{const I=new Map;v.forEach(M=>{const U=t.computeStyle(E,M,r);I.set(M,U),(!U||0==U.length)&&(E[oo]=NL,d.push(E))}),n.set(E,I)});let f=0;return e.forEach(v=>Nk(v,c[f++])),d}function Vk(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),c=new Map;function d(f){if(!f)return 1;let v=c.get(f);if(v)return v;const E=f.parentNode;return v=e.has(E)?E:r.has(E)?1:d(E),c.set(f,v),v}return t.forEach(f=>{const v=d(f);1!==v&&e.get(v).push(f)}),e}function ao(n,t){n.classList?.add(t)}function mm(n,t){n.classList?.remove(t)}function jL(n,t,e){Ru(e).onDone(()=>n.processLeaveNode(t))}function Bk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Fx?Bk(i.players,t):t.push(i)}}function Uk(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(c=>r.add(c)):t.set(n,i),e.delete(n),!0}class uE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,c)=>{},this._transitionEngine=new VL(t,e,i),this._timelineEngine=new xL(t,e,i),this._transitionEngine.onRemovalComplete=(r,c)=>this.onRemovalComplete(r,c)}registerTrigger(t,e,i,r,c){const d=t+"-"+r;let f=this._triggerCache[d];if(!f){const v=[],I=VS(this._driver,c,v,[]);if(v.length)throw function M1(n,t){return new a.vHH(3404,!1)}();f=function IL(n,t,e){return new SL(n,t,e)}(r,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[c,d]=hk(i);this._timelineEngine.command(c,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,c){if("@"==i.charAt(0)){const[d,f]=hk(i);return this._timelineEngine.listen(d,e,f,c)}return this._transitionEngine.listen(t,e,i,r,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let WL=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Va(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Va(this._element,this._initialStyles),this._endStyles&&(Va(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vh(this._element,this._endStyles),this._endStyles=null),Va(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZS(n){let t=null;return n.forEach((e,i)=>{(function YL(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Hk{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Ik(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qL{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return gk(t,e)}getParentElement(t){return kS(t)}query(t,e,i){return _k(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,c,d=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};c&&(v.easing=c);const E=new Map,I=d.filter(Y=>Y instanceof Hk);(function X1(n,t){return 0===n||0===t})(i,r)&&I.forEach(Y=>{Y.currentSnapshot.forEach((X,le)=>E.set(le,X))});let M=function q1(n){return n.length?n[0]instanceof Map?n:n.map(t=>Ck(t)):[]}(e).map(Y=>Ou(Y));M=function J1(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((c,d)=>{i.has(d)||r.push(d),i.set(d,c)}),r.length)for(let c=1;c<t.length;c++){let d=t[c];r.forEach(f=>d.set(f,Ik(n,f)))}}return t}(t,M,E);const U=function GL(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ZS(t[0]),t.length>1&&(i=ZS(t[t.length-1]))):t instanceof Map&&(e=ZS(t)),e||i?new WL(n,e,i):null}(t,M);return new Hk(t,M,v,U)}}let ZL=(()=>{class n extends xx{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Rx(e):e;return jk(this._renderer,null,i,"register",[r]),new KL(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class KL extends class LF{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new QL(this._id,t,e||{},this._renderer)}}class QL{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jk(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const $k="@.disabled";let XL=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,d)=>{const f=d?.parentNode(c);f&&d.removeChild(f,c)}}createRenderer(e,i){const c=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(c);return I||(I=new zk("",c,this.engine),this._rendererCache.set(c,I)),I}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const v=I=>{Array.isArray(I)?I.forEach(v):this.engine.registerTrigger(d,f,e,I.name,I)};return i.data.animation.forEach(v),new JL(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(uE),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class zk{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==$k?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class JL extends zk{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==$k?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function eV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),d="";return"@"!=c.charAt(0)&&([c,d]=function tV(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,r,c,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}const Gk=[{provide:xx,useClass:ZL},{provide:$S,useFactory:function iV(){return new wL}},{provide:uE,useClass:(()=>{class n extends uE{constructor(e,i,r,c){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(RS),a.LFG($S),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:a.FYo,useFactory:function rV(n,t,e){return new XL(n,t,e)},deps:[Qu,uE,a.R0b]}],KS=[{provide:RS,useFactory:()=>new qL},{provide:a.QbO,useValue:"BrowserAnimations"},...Gk],Wk=[{provide:RS,useClass:vk},{provide:a.QbO,useValue:"NoopAnimations"},...Gk];let sV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Wk:KS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:KS,imports:[Do]}),n})();const aV=new a.OlP("angularfire2.analytics.analyticsCollectionEnabled"),lV=new a.OlP("angularfire2.analytics.appVersion"),cV=new a.OlP("angularfire2.analytics.appName"),uV=new a.OlP("angularfire2.analytics.debugMode"),dV=new a.OlP("angularfire2.analytics.config"),hE="dataLayer";let gy=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I){if(this.analyticsInitialized=new Promise(()=>{}),mi(v)){window[hE]=window[hE]||[];const U=(...le)=>"config"===le[0]&&"firebase"===le[2].origin&&(this.measurementId=le[1],!0),Y=le=>{window.gtag=(...Re)=>{le&&le(...Re),"event"===Re[0]&&Re[2].send_to===this.measurementId&&(c&&(Re[2].app_name=c),r&&(Re[2].app_version=r)),d&&typeof console<"u"&&console.info(...Re),function(...ct){window[hE].push(arguments)}(...Re)}};window[hE].some(U)?(this.analyticsInitialized=Promise.resolve(),Y()):this.analyticsInitialized=new Promise(le=>{Y((...Re)=>{U(...Re)&&le()})}),f&&this.updateConfig(f),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=Ke(void 0).pipe((0,So.Q)(I.outsideAngular),en(CS.Gb),en(U=>U?E.runOutsideAngular(()=>O.e(643).then(O.bind(O,8643))):Tr.E),(0,We.U)(()=>(0,ci.cc)("analytics","AngularFireAnalytics",e.name,()=>{const U=e.analytics();return!1===i&&U.setAnalyticsCollectionEnabled(!1),U},[e,i,f,d])),id({bufferSize:1,refCount:!1}));return(0,ci.pX)(this,M,E)}updateConfig(e){return(0,bS.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ci.Ot),a.LFG(aV,8),a.LFG(lV,8),a.LFG(cV,8),a.LFG(uV,8),a.LFG(dV,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(yn.HU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qk=(()=>{class n{constructor(e,i,r,c){if(this.disposables=[],Td.Z.registerVersion("angularfire",yn.q4.full,"compat-user-tracking"),ls(i))this.initialized=Promise.resolve();else{let d;this.initialized=c.runOutsideAngular(()=>new Promise(f=>d=f)),this.disposables=[r.authState.subscribe(f=>{e.setUserId(f?.uid),d()}),r.credential.subscribe(f=>{if(f){const v=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:v}),e.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gy),a.LFG(a.Lbi),a.LFG(xd),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),vV=(()=>{class n{constructor(e,i,r,c,d,f){if(Td.Z.registerVersion("angularfire",yn.q4.full,"compat-screen-tracking"),!i||!e)return this;d.runOutsideAngular(()=>{this.disposable=ck(i,r,c).pipe(en(v=>(0,bS.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield e.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gy),a.LFG(oi,8),a.LFG(jr,8),a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(qk,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),yV=(()=>{class n{constructor(e,i,r){Td.Z.registerVersion("angularfire",yn.q4.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gy),a.LFG(vV,8),a.LFG(qk,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[gy]}),n})();class QS{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ut.x,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!i.has(c)).forEach(c=>this._unmarkSelected(c));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let Zk=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Uh=(()=>{class n extends Zk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ts=new a.OlP("NgValueAccessor"),CV={provide:Ts,useExisting:(0,a.Gpc)(()=>fE),multi:!0},EV=new a.OlP("CompositionEventMode");let fE=(()=>{class n extends Zk{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wV(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(EV,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[a._Bn([CV]),a.qOj]}),n})();function Pu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Qk(n){return null!=n&&"number"==typeof n.length}const hr=new a.OlP("NgValidators"),Fu=new a.OlP("NgAsyncValidators"),AV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class XS{static min(t){return function Xk(n){return t=>{if(Pu(t.value)||Pu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Jk(n){return t=>{if(Pu(t.value)||Pu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return eR(t)}static requiredTrue(t){return function tR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function nR(n){return Pu(n.value)||AV.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function iR(n){return t=>Pu(t.value)||!Qk(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function rR(n){return t=>Qk(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function sR(n){if(!n)return pE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Pu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return dR(t)}static composeAsync(t){return hR(t)}}function eR(n){return Pu(n.value)?{required:!0}:null}function pE(n){return null}function oR(n){return null!=n}function aR(n){return(0,a.QGY)(n)?(0,Rn.D)(n):n}function lR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function cR(n,t){return t.map(e=>e(n))}function uR(n){return n.map(t=>function IV(n){return!n.validate}(t)?t:e=>t.validate(e))}function dR(n){if(!n)return null;const t=n.filter(oR);return 0==t.length?null:function(e){return lR(cR(e,t))}}function JS(n){return null!=n?dR(uR(n)):null}function hR(n){if(!n)return null;const t=n.filter(oR);return 0==t.length?null:function(e){return px(cR(e,t).map(aR)).pipe((0,We.U)(lR))}}function eM(n){return null!=n?hR(uR(n)):null}function fR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pR(n){return n._rawValidators}function mR(n){return n._rawAsyncValidators}function tM(n){return n?Array.isArray(n)?n:[n]:[]}function mE(n,t){return Array.isArray(n)?n.includes(t):n===t}function gR(n,t){const e=tM(t);return tM(n).forEach(r=>{mE(e,r)||e.push(r)}),e}function _R(n,t){return tM(t).filter(e=>!mE(n,e))}class vR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fr extends vR{get formDirective(){return null}get path(){return null}}class Ba extends vR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bR=(()=>{class n extends yR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),CR=(()=>{class n extends yR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const _y="VALID",_E="INVALID",gm="PENDING",vy="DISABLED";function sM(n){return(vE(n)?n.validators:n)||null}function ER(n){return Array.isArray(n)?JS(n):n||null}function oM(n,t){return(vE(t)?t.asyncValidators:n)||null}function DR(n){return Array.isArray(n)?eM(n):n||null}function vE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class SR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ER(this._rawValidators),this._composedAsyncValidatorFn=DR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_y}get invalid(){return this.status===_E}get pending(){return this.status==gm}get disabled(){return this.status===vy}get enabled(){return this.status!==vy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ER(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=DR(t)}addValidators(t){this.setValidators(gR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_R(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_R(t,this._rawAsyncValidators))}hasValidator(t){return mE(this._rawValidators,t)}hasAsyncValidator(t){return mE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vy,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_y,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_y||this.status===gm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vy:_y}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gm,this._hasOwnPendingAsyncValidator=!0;const e=aR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?vy:this.errors?_E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gm)?gm:this._anyControlsHaveStatus(_E)?_E:_y}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class yy extends SR{constructor(t,e,i){super(sM(e),oM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function IR(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function AR(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,c)=>{i=e(i,r,c)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function yE(n,t){return[...t.path,n]}function by(n,t){aM(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function FV(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&MR(n,t)})}(n,t),function LV(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function NV(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&MR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function PV(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function bE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function CE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aM(n,t){const e=pR(n);null!==t.validator?n.setValidators(fR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=mR(n);null!==t.asyncValidator?n.setAsyncValidators(fR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();CE(t._rawValidators,r),CE(t._rawAsyncValidators,r)}function wE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=pR(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.validator);c.length!==r.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const r=mR(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.asyncValidator);c.length!==r.length&&(e=!0,n.setAsyncValidators(c))}}}const i=()=>{};return CE(t._rawValidators,i),CE(t._rawAsyncValidators,i),e}function MR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TR(n,t){aM(n,t)}function kR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const jV={provide:Fr,useExisting:(0,a.Gpc)(()=>wy)},Cy=(()=>Promise.resolve())();let wy=(()=>{class n extends Fr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new yy({},JS(e),eM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Cy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),by(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Cy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Cy.then(()=>{const i=this._findContainer(e.path),r=new yy({});TR(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Cy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Cy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,kR(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hr,10),a.Y36(Fu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([jV]),a.qOj]}),n})();function RR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function OR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Hh=class extends SR{constructor(t=null,e,i){super(sM(e),oM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=OR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){OR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let PR=(()=>{class n extends Fr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return yE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const uM=new a.OlP("NgModelWithFormControlWarning"),QV={provide:Fr,useExisting:(0,a.Gpc)(()=>_m)};let _m=(()=>{class n extends Fr{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return by(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){bE(e.control||null,e,!1),function HV(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,kR(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(bE(i||null,e),(n=>n instanceof Hh)(r)&&(by(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);TR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function VV(n,t){return wE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aM(this.form,this),this._oldForm&&wE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hr,10),a.Y36(Fu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([QV]),a.qOj,a.TTD]}),n})();const XV={provide:Fr,useExisting:(0,a.Gpc)(()=>EE)};let EE=(()=>{class n extends PR{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){zR(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fr,13),a.Y36(hr,10),a.Y36(Fu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([XV]),a.qOj]}),n})();const JV={provide:Fr,useExisting:(0,a.Gpc)(()=>dM)};let dM=(()=>{class n extends Fr{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return yE(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zR(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fr,13),a.Y36(hr,10),a.Y36(Fu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([JV]),a.qOj]}),n})();function zR(n){return!(n instanceof EE||n instanceof _m||n instanceof dM)}const eB={provide:Ba,useExisting:(0,a.Gpc)(()=>hM)};let hM=(()=>{class n extends Ba{constructor(e,i,r,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function cM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(c=>{c.constructor===fE?e=c:function UV(n){return Object.getPrototypeOf(n.constructor)===Uh}(c)?i=c:r=c}),r||i||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function lM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Fr,13),a.Y36(hr,10),a.Y36(Fu,10),a.Y36(Ts,10),a.Y36(uM,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([eB]),a.qOj,a.TTD]}),n})(),jh=(()=>{class n{constructor(){this._validator=pE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const cB={provide:hr,useExisting:(0,a.Gpc)(()=>DE),multi:!0};let DE=(()=>{class n extends jh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=e=>eR}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([cB]),a.qOj]}),n})(),nO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[UR]}),n})(),mB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[nO]}),n})(),iO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[nO]}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rx,Vw,An,tS,Fi,rx,An,tS,rS]}),n})();function xB(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const e=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),a.uIk("r",e._getCircleRadius())}}function kB(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const e=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),a.uIk("r",e._getCircleRadius())}}const OB=Kv(class{constructor(n){this._elementRef=n}},"primary"),PB=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function FB(){return{diameter:100}}});class Kl extends OB{constructor(t,e,i,r,c,d,f,v){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Ei.w0.EMPTY,this.mode="determinate";const E=Kl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),E.has(i.head)||E.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!c&&!c._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),c&&(c.color&&(this.color=this.defaultColor=c.color),c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth)),e.isBrowser&&e.SAFARI&&f&&d&&v&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&v.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=cm(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=cm(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,cm(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Zn(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Kl._diameters;let r=i.get(t);if(!r||!r.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),t.appendChild(c),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Kl._diameters=new WeakMap,Kl.\u0275fac=function(t){return new(t||Kl)(a.Y36(a.SBq),a.Y36(w),a.Y36(ne,8),a.Y36(a.QbO,8),a.Y36(PB),a.Y36(a.sBO),a.Y36(oy),a.Y36(a.R0b))},Kl.\u0275cmp=a.Xpm({type:Kl,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(a.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,xB,1,11,"circle",2),a.YNc(3,kB,1,9,"circle",3),a.qZA()),2&t&&(a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===e.mode),a.uIk("viewBox",e._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},dependencies:[ir,Dr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let oO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,Fi,An]}),n})();const LB=["connectionContainer"],VB=["inputContainer"],BB=["label"];function UB(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function HB(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function jB(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function $B(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function zB(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function GB(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,jB,4,1,"ng-container",12),a.YNc(3,$B,1,0,"ng-content",12),a.YNc(4,zB,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function WB(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function YB(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function qB(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function ZB(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function KB(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,ZB,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const QB=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],XB=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],JB=new a.OlP("MatError"),e2={transitionMessages:ku("transitionMessages",[La("enter",hi({opacity:1,transform:"translateY(0%)"})),As("void => enter",[hi({opacity:0,transform:"translateY(-5px)"}),so("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const t2=new a.OlP("MatHint");let gM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const r2=new a.OlP("MatPrefix"),s2=new a.OlP("MatSuffix");let aO=0;const a2=Kv(class{constructor(n){this._elementRef=n}},"primary"),l2=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ey=new a.OlP("MatFormField");let c2=(()=>{class n extends a2{constructor(e,i,r,c,d,f,v){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=c,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ut.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aO++,this._labelId="mat-form-field-label-"+aO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=c?.appearance||"legacy",c&&(this._hideRequiredMarker=Boolean(c.hideRequiredMarker),c.color&&(this.color=this.defaultColor=c.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Kn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ui(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Oi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Oi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ui(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ui(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Oi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,io(this._label.nativeElement,"transitionend").pipe(tn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,r=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const I=i.querySelectorAll(`${r}, ${c}`);for(let M=0;M<I.length;M++)I[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const v=i.querySelectorAll(r),E=i.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(I),U=e.children,Y=this._getStartEnd(U[0].getBoundingClientRect());let X=0;for(let le=0;le<U.length;le++)X+=U[le].offsetWidth;d=Math.abs(Y-M)-5,f=X>0?.75*X+10:0}for(let I=0;I<v.length;I++)v[I].style.width=`${d}px`;for(let I=0;I<E.length;I++)E[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Mu,8),a.Y36(l2,8),a.Y36(w),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,AE,5),a.Suo(r,AE,7),a.Suo(r,gM,5),a.Suo(r,gM,7),a.Suo(r,n2,5),a.Suo(r,JB,5),a.Suo(r,t2,5),a.Suo(r,r2,5),a.Suo(r,s2,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._controlNonStatic=c.first),a.iGM(c=a.CRH())&&(i._controlStatic=c.first),a.iGM(c=a.CRH())&&(i._labelChildNonStatic=c.first),a.iGM(c=a.CRH())&&(i._labelChildStatic=c.first),a.iGM(c=a.CRH())&&(i._placeholderChild=c.first),a.iGM(c=a.CRH())&&(i._errorChildren=c),a.iGM(c=a.CRH())&&(i._hintChildren=c),a.iGM(c=a.CRH())&&(i._prefixChildren=c),a.iGM(c=a.CRH())&&(i._suffixChildren=c)}},viewQuery:function(e,i){if(1&e&&(a.Gf(LB,7),a.Gf(VB,5),a.Gf(BB,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Ey,useExisting:n}]),a.qOj],ngContentSelectors:XB,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(QB),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(c){return i._control.onContainerClick&&i._control.onContainerClick(c)}),a.YNc(3,UB,9,0,"ng-container",3),a.YNc(4,HB,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,GB,5,16,"label",8),a.qZA()(),a.YNc(10,WB,2,0,"div",9),a.qZA(),a.YNc(11,YB,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,qB,2,1,"div",12),a.YNc(14,KB,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[hn,ir,Dr,oP],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[e2.transitionMessages]},changeDetection:0}),n})(),Dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,An,UT,An]}),n})();const cO=He({passive:!0});let u2=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Tr.E;const i=Yl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const c=new ut.x,d="cdk-text-field-autofilled",f=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,cO),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:c,unlisten:()=>{i.removeEventListener("animationstart",f,cO)}}),c}stopMonitoring(e){const i=Yl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(w),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const dO=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),d2=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let h2=0;const f2=nx(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ut.x}});let p2=(()=>{class n extends f2{constructor(e,i,r,c,d,f,v,E,I,M){super(f,c,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=E,this._formField=M,this._uid="mat-input-"+h2++,this.focused=!1,this.stateChanges=new ut.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>q().has(X)),this._iOSKeyupListener=X=>{const le=X.target;!le.value&&0===le.selectionStart&&0===le.selectionEnd&&(le.setSelectionRange(1,1),le.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,Y=U.nodeName.toLowerCase();this._inputValueAccessor=v||U,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Kn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(XS.required)??!1}set required(e){this._required=Kn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&q().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Kn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){d2.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(w),a.Y36(Ba,10),a.Y36(wy,8),a.Y36(_m,8),a.Y36(JI),a.Y36(dO,10),a.Y36(u2),a.Y36(a.R0b),a.Y36(Ey,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:AE,useExisting:n}]),a.qOj,a.TTD]}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[JI],imports:[uO,Dy,An,uO,Dy]}),n})();const v2={provide:new a.OlP("mat-autocomplete-scroll-strategy"),deps:[Is],useFactory:function _2(n){return()=>n.scrollStrategies.reposition()}};let pO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[v2],imports:[pm,Bw,An,Fi,fm,Bw,An]}),n})();const w2=["trigger"],E2=["panel"];function D2(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function A2(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function I2(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function S2(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,A2,2,1,"span",10),a.YNc(2,I2,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function M2(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c._handleKeydown(r))}),a.Hsn(3,1),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const T2=[[["mat-select-trigger"]],"*"],x2=["mat-select-trigger","*"],mO={transformPanelWrap:ku("transformPanelWrap",[As("* => void",dS("@transformPanel",[uS()],{optional:!0}))]),transformPanel:ku("transformPanel",[La("void",hi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),La("showing",hi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),La("showing-multiple",hi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),As("void => *",so("120ms cubic-bezier(0, 0, 0.2, 1)")),As("* => void",so("100ms 25ms linear",hi({opacity:0})))])};let gO=0;const vO=new a.OlP("mat-select-scroll-strategy"),P2=new a.OlP("MAT_SELECT_CONFIG"),F2={provide:vO,deps:[Is],useFactory:function O2(n){return()=>n.scrollStrategies.reposition()}};class N2{constructor(t,e){this.source=t,this.value=e}}const L2=Qv(jP(KI(nx(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new ut.x}})))),V2=new a.OlP("MatSelectTrigger");let B2=(()=>{class n extends L2{constructor(e,i,r,c,d,f,v,E,I,M,U,Y,X,le){super(d,c,v,E,M),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=I,this._liveAnnouncer=X,this._defaultOptions=le,this._panelOpen=!1,this._compareWith=(Re,ct)=>Re===ct,this._uid="mat-select-"+gO++,this._triggerAriaLabelledBy=null,this._destroy=new ut.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+gO++,this._panelDoneAnimatingStream=new ut.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Ta(()=>{const Re=this.options;return Re?Re.changes.pipe(Ui(Re),en(()=>(0,fn.T)(...Re.map(ct=>ct.onSelectionChange)))):this._ngZone.onStable.pipe(tn(1),en(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(zt(Re=>Re),(0,We.U)(()=>{})),this._closedStream=this.openedChange.pipe(zt(Re=>!Re),(0,We.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=le?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=le.typeaheadDebounceInterval),this._scrollStrategyFactory=Y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(U)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(XS.required)??!1}set required(e){this._required=Kn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Kn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Kn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=cm(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new QS(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Sf(),Oi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Oi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ui(null),Oi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,c=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&c&&!Ds(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const v=this.selected;v&&f!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,c=40===r||38===r,d=i.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==r&&32!==r||!i.activeItem||Ds(e))if(!d&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(f?v.select():v.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&c&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(tn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new fP(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Oi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Oi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,fn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Oi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,fn.T)(...this.options.map(i=>i._stateChanges)).pipe(Oi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(oy),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(JI),a.Y36(a.SBq),a.Y36(Mu,8),a.Y36(wy,8),a.Y36(_m,8),a.Y36(Ey,8),a.Y36(Ba,10),a.$8M("tabindex"),a.Y36(vO),a.Y36(kP),a.Y36(P2,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(w2,5),a.Gf(E2,5),a.Gf(qx,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.trigger=r.first),a.iGM(r=a.CRH())&&(i.panel=r.first),a.iGM(r=a.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),U2=(()=>{class n extends B2{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const c=this._getItemHeight();return Math.min(Math.max(0,c*e-i+c/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Oi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=nS(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function fx(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new N2(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),c=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let E=this._selectionModel.selected[0]||this.options.first;d=E&&E.group?32:16}r||(d*=-1);const f=0-(e.left+d-(r?c:0)),v=e.right+d-i.width+(r?0:c);f>0?d+=f+8:v>0&&(d-=v+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const c=this._getItemHeight(),d=(c-this._triggerRect.height)/2,f=Math.floor(256/c);let v;return this.disableOptionCentering?0:(v=0===this._scrollTop?e*c:this._scrollTop===r?(e-(this._getItemCount()-f))*c+(c-(this._getItemCount()*c-256)%c):i-c/2,Math.round(-1*v-d))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,d=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),E=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;E>d?this._adjustPanelUp(E,d):f>c?this._adjustPanelDown(f,c,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const c=Math.round(e-i);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),d=i*e-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=nS(f,this.options,this.optionGroups);const v=r/2;this._scrollTop=this._calculateOverlayScroll(f,v,d),this._offsetY=this._calculateOverlayOffsetY(f,v,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,V2,5),a.Suo(r,hx,5),a.Suo(r,ux,5)),2&e){let c;a.iGM(c=a.CRH())&&(i.customTrigger=c.first),a.iGM(c=a.CRH())&&(i.options=c),a.iGM(c=a.CRH())&&(i.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(c){return i._handleKeydown(c)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:AE,useExisting:n},{provide:cx,useExisting:n}]),a.qOj],ngContentSelectors:x2,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(a.F$t(T2),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,D2,2,1,"span",3),a.YNc(5,S2,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,M2,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[rn,ir,Dr,ss,qx,Yx],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[mO.transformPanelWrap,mO.transformPanel]},changeDetection:0}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[F2],imports:[Fi,pm,Bw,An,fm,Dy,Bw,An]}),n})(),$2=(()=>{class n{constructor(){this.changes=new ut.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J2={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[Is],useFactory:function X2(n){return()=>n.scrollStrategies.reposition()}};let EO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$2,J2],imports:[Fi,iS,pm,JT,ry,An,fm]}),n})();const rU=["*",[["mat-card-footer"]]],sU=["*","mat-card-footer"];let _M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),yM=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:sU,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(rU),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[An,An]}),n})();function oU(n,t){}class xE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let AO=(()=>{class n extends mS{constructor(e,i,r,c,d,f,v,E){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=v,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const M=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),M},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=qo(),c=this._elementRef.nativeElement;(!r||r===this._document.body||r===c||c.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=qo();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qo())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(WI),a.Y36(ne,8),a.Y36(xE),a.Y36(Nw),a.Y36(a.R0b),a.Y36(ly),a.Y36(Ph))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(gS,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&a.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,oU,0,0,"ng-template",0)},dependencies:[gS],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class bM{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ut.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ds(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const IO=new a.OlP("DialogScrollStrategy"),aU=new a.OlP("DialogData"),lU=new a.OlP("DefaultDialogConfig"),uU={provide:IO,deps:[Is],useFactory:function cU(n){return()=>n.scrollStrategies.block()}};let dU=0,SO=(()=>{class n{constructor(e,i,r,c,d,f){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut.x,this._afterOpenedAtThisLevel=new ut.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ta(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ui(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new xE,...i}).id=i.id||"cdk-dialog-"+dU++,i.id&&this.getDialogById(i.id);const c=this._getOverlayConfig(i),d=this._overlay.create(c),f=new bM(d,i),v=this._attachContainer(d,f,i);return f.containerInstance=v,this._attachDialogContent(e,f,v,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){CM(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){CM(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),CM(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new ay({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const c=r.injector||r.viewContainerRef?.injector,d=[{provide:xE,useValue:r},{provide:bM,useValue:i},{provide:ly,useValue:e}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,d.push(...r.container.providers(r))):f=AO;const v=new pS(f,r.viewContainerRef,a.zs3.create({parent:c||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(v).instance}_attachDialogContent(e,i,r,c){if(e instanceof a.Rgc){const d=this._createInjector(c,i,r,void 0);let f={$implicit:c.data,dialogRef:i};c.templateContext&&(f={...f,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),r.attachTemplatePortal(new iy(e,null,f,d))}else{const d=this._createInjector(c,i,r,this._injector),f=r.attachComponentPortal(new pS(e,c.viewContainerRef,d,c.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(e,i,r,c){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:aU,useValue:e.data},{provide:bM,useValue:i}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(i,e,r)):f.push(...e.providers)),e.direction&&(!d||!d.get(Mu,null,a.XFs.Optional))&&f.push({provide:Mu,useValue:{value:e.direction,change:Ke()}}),a.zs3.create({parent:d||c,providers:f})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const c=i[r];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Is),a.LFG(a.zs3),a.LFG(lU,8),a.LFG(n,12),a.LFG(Ww),a.LFG(IO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function CM(n,t){let e=n.length;for(;e--;)t(n[e])}let hU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[SO,uU],imports:[pm,ry,JT,ry]}),n})();function fU(n,t){}const bm={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},pU={dialogContainer:ku("dialogContainer",[La("void, exit",hi({opacity:0,transform:"scale(0.7)"})),La("enter",hi({transform:"none"})),As("* => enter",kx([so("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",hi({transform:"none",opacity:1})),dS("@*",uS(),{optional:!0})]),bm),As("* => void, * => exit",kx([so("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",hi({opacity:0})),dS("@*",uS(),{optional:!0})]),bm)])};class kE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=bm.params.enterAnimationDuration,this.exitAnimationDuration=bm.params.exitAnimationDuration}}let mU=(()=>{class n extends AO{constructor(e,i,r,c,d,f,v,E){super(e,i,r,c,d,f,v,E),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(WI),a.Y36(ne,8),a.Y36(kE),a.Y36(Nw),a.Y36(a.R0b),a.Y36(ly),a.Y36(Ph))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),gU=(()=>{class n extends mU{constructor(e,i,r,c,d,f,v,E,I){super(e,i,r,c,d,f,v,I),this._changeDetectorRef=E,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||bm.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||bm.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(WI),a.Y36(ne,8),a.Y36(kE),a.Y36(Nw),a.Y36(a.R0b),a.Y36(ly),a.Y36(a.sBO),a.Y36(Ph))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(c){return i._onAnimationStart(c)})("@dialogContainer.done",function(c){return i._onAnimationDone(c)}),2&e&&(a.Ikx("id",i._config.id),a.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,fU,0,0,"ng-template",0)},dependencies:[gS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[pU.dialogContainer]}}),n})();class wM{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ut.x,this._beforeClosed=new ut.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(zt(r=>"opened"===r.state),tn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(zt(r=>"closed"===r.state),tn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fn.T)(this.backdropClick(),this.keydownEvents().pipe(zt(r=>27===r.keyCode&&!this.disableClose&&!Ds(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function _U(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zt(e=>"closing"===e.state),tn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const MO=new a.OlP("MatDialogData"),vU=new a.OlP("mat-dialog-default-options"),TO=new a.OlP("mat-dialog-scroll-strategy"),bU={provide:TO,deps:[Is],useFactory:function yU(n){return()=>n.scrollStrategies.block()}};let CU=0,wU=(()=>{class n{constructor(e,i,r,c,d,f,v,E,I,M){this._overlay=e,this._defaultOptions=r,this._parentDialog=c,this._dialogRefConstructor=v,this._dialogContainerType=E,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut.x,this._afterOpenedAtThisLevel=new ut.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Ta(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ui(void 0))),this._scrollStrategy=f,this._dialog=i.get(SO)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new kE,...i}).id=i.id||`${this._idPrefix}${CU++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:kE,useValue:i},{provide:xE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(d,f,v)=>(r=new this._dialogRefConstructor(d,i,v),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:v},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=c.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),RE=(()=>{class n extends wU{constructor(e,i,r,c,d,f,v,E){super(e,i,c,f,v,d,wM,gU,MO,E)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Is),a.LFG(a.zs3),a.LFG(Oe,8),a.LFG(vU,8),a.LFG(TO),a.LFG(n,12),a.LFG(Ww),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),EU=0,xO=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+EU++}ngOnInit(){this._dialogRef||(this._dialogRef=function AU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(wM,8),a.Y36(a.SBq),a.Y36(RE))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&a.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),DU=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[RE,bU],imports:[hU,pm,ry,An,An]}),n})();const IU=[pO,iS,DO,EO,RO,rS,Dy,Ix,hO,sO,Jx,ix,oO,yO,ek];let EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[IU,pO,iS,DO,EO,RO,rS,Dy,Ix,hO,sO,Jx,ix,oO,yO,ek]}),n})();function SU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.logout())}),a._uU(1,"Logout"),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("color",e.color)}}function MU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",2),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.login())}),a._uU(1,"Login"),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("color",e.color)}}let OO=(()=>{class n{constructor(e){this.authService=e,this.user$=this.authService.user$}ngOnInit(){}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-login-with-google"]],inputs:{color:"color"},decls:4,vars:4,consts:[["mat-raised-button","",3,"color","click",4,"ngIf","ngIfElse"],["showLogin",""],["mat-raised-button","",3,"color","click"]],template:function(e,i){if(1&e&&(a.YNc(0,SU,2,1,"button",0),a.ALo(1,"async"),a.YNc(2,MU,2,1,"ng-template",null,1,a.W1O)),2&e){const r=a.MAs(3);a.Q6J("ngIf",a.lcZ(1,2,i.user$))("ngIfElse",r)}},dependencies:[hn,hm,fo]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,EM,If,EM]}),n})(),PO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-spinner"]],decls:2,vars:1,consts:[[1,"spinner-container"],["mode","indeterminate",3,"diameter"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"mat-progress-spinner",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("diameter",50))},dependencies:[Kl],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})(),FO=(()=>{class n{constructor(e){this.datePipe=e}jsToHtmlDate(e){return this.datePipe.transform(e,Gr_formatter.badgeIsoDateTime)||void 0}isoToHtmlDate(e){if(e)return this.datePipe.transform(new Date(e),Gr_formatter.badgeIsoDateTime)||void 0}htmlToIso(e){return new Date(e+":00.000").toISOString()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Rs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xU(n,t){if(1&n&&(a.TgZ(0,"mat-option",16),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}const kU=function(){return["in","out"]};let DM=(()=>{class n{constructor(e){this.dateService=e,this.badge={clock:"in",timestamp:this.dateService.jsToHtmlDate(new Date)},this.formSubmitted=new a.vpe,this.badgeForm=new yy({clock:new Hh(this.badge?.clock),timestamp:new Hh(this.badge?.timestamp),user:new yy({uid:new Hh(this.badge?.user?.uid),email:new Hh(this.badge?.user?.email),displayName:new Hh(this.badge?.user?.displayName)})})}ngOnInit(){}ngOnChanges(e){e?.badge?.currentValue&&this.badgeForm.patchValue({...e?.badge?.currentValue})}submit(){if(this.badgeForm.invalid)return;const e={...this.badgeForm.value,timestamp:this.dateService.htmlToIso(this.badgeForm.value.timestamp)};this.formSubmitted.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(FO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-badge-form"]],inputs:{badge:"badge"},outputs:{formSubmitted:"formSubmitted"},features:[a.TTD],decls:27,vars:3,consts:[[3,"formGroup","submit"],[1,"fields"],["formGroupName","user"],["appearance","outline",1,"field-user-uid"],["matInput","","formControlName","uid","required",""],["appearance","outline",1,"field-user-email"],["matInput","","formControlName","email","required",""],["appearance","outline",1,"field-user-name"],["matInput","","formControlName","displayName","required",""],["appearance","outline",1,"field-clock"],["formControlName","clock","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"field-timestamp"],["matInput","","type","datetime-local","formControlName","timestamp","required",""],[1,"buttons"],["mat-raised-button","","color","primary","type","submit"],[3,"value"]],template:function(e,i){1&e&&(a.TgZ(0,"form",0),a.NdJ("submit",function(){return i.submit()}),a.TgZ(1,"div",1),a.ynx(2,2),a.TgZ(3,"mat-form-field",3)(4,"mat-label"),a._uU(5,"uid"),a.qZA(),a._UZ(6,"input",4),a.qZA(),a.TgZ(7,"mat-form-field",5)(8,"mat-label"),a._uU(9,"email"),a.qZA(),a._UZ(10,"input",6),a.qZA(),a.TgZ(11,"mat-form-field",7)(12,"mat-label"),a._uU(13,"name"),a.qZA(),a._UZ(14,"input",8),a.qZA(),a.BQk(),a.TgZ(15,"mat-form-field",9)(16,"mat-label"),a._uU(17,"clock"),a.qZA(),a.TgZ(18,"mat-select",10),a.YNc(19,xU,2,2,"mat-option",11),a.qZA()(),a.TgZ(20,"mat-form-field",12)(21,"mat-label"),a._uU(22,"timestamp"),a.qZA(),a._UZ(23,"input",13),a.qZA()(),a.TgZ(24,"div",14)(25,"button",15),a._uU(26,"Save"),a.qZA()()()),2&e&&(a.Q6J("formGroup",i.badgeForm),a.xp6(19),a.Q6J("ngForOf",a.DdM(2,kU)))},dependencies:[fr,hx,hm,c2,gM,p2,U2,VR,fE,bR,CR,DE,_m,hM,EE],styles:[".fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})(),NO=(()=>{class n{constructor(e){this.dateService=e,this.formSubmitted=new a.vpe}ngOnInit(){this.badgeForm={...this.badge,timestamp:this.dateService.isoToHtmlDate(this.badge?.timestamp)}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(FO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-badge-edit-dialog"]],inputs:{badge:"badge"},outputs:{formSubmitted:"formSubmitted"},decls:4,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(a.TgZ(0,"h1",0),a._uU(1,"Edit Badge"),a.qZA(),a.TgZ(2,"div",1)(3,"ob-badge-form",2),a.NdJ("formSubmitted",function(c){return i.formSubmitted.emit(c)}),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("badge",i.badgeForm))},dependencies:[xO,kO,DM]}),n})();function RU(n,t){if(1&n&&(a.TgZ(0,"h1",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.data.title)}}function OU(n,t){if(1&n&&(a.TgZ(0,"mat-dialog-content")(1,"p"),a._uU(2),a.qZA()()),2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.message)}}function PU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.onCancel())}),a._uU(1),a.qZA()}if(2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.data.cancelText)}}let LO=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}onEsc(){this.close(!1)}ngOnInit(){}onCancel(){this.close(!1)}onConfirm(){this.close(!0)}close(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(MO),a.Y36(wM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-dialog"]],hostBindings:function(e,i){1&e&&a.NdJ("keydown.esc",function(){return i.onEsc()})},decls:6,vars:4,consts:[["mat-dialog-title","",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title",""],["mat-flat-button","",3,"click"]],template:function(e,i){1&e&&(a.YNc(0,RU,2,1,"h1",0),a.YNc(1,OU,3,1,"mat-dialog-content",1),a.TgZ(2,"mat-dialog-actions",2),a.YNc(3,PU,2,1,"button",3),a.TgZ(4,"button",4),a.NdJ("click",function(){return i.onConfirm()}),a._uU(5),a.qZA()()),2&e&&(a.Q6J("ngIf",!!i.data.title),a.xp6(1),a.Q6J("ngIf",!!i.data.message),a.xp6(2),a.Q6J("ngIf",!!i.data.cancelText),a.xp6(2),a.Oqu(i.data.confirmText))},dependencies:[hn,hm,xO,kO,DU]}),n})(),VO=(()=>{class n{constructor(e){this.dialog=e}open(e){this.dialogRef=this.dialog.open(LO,{data:{title:e.title,message:e.message,cancelText:e.cancelText,confirmText:e.confirmText}})}confirmed(){return this.dialogRef?this.dialogRef.afterClosed().pipe(tn(1),(0,We.U)(e=>e)):Ke(!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(RE))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FU=[VO];let NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...FU],imports:[Fi,EM,iO]}),n})(),BO=(()=>{class n{constructor(){this.abortController=new AbortController,this.hasNfcCapability$=new li(!1),this.permissionState$=new li("denied"),this.readRunningState$=new li("stopped"),this.writeRunningState$=new li("stopped"),this.messages$=new ut.x}init(){var e=this;return(0,gr.Z)(function*(){if("NDEFReader"in window){console.debug("[NfcService] This browser has NFC capability! <3"),e.hasNfcCapability$.next(!0);const i=yield navigator.permissions.query({name:"nfc"});e.permissionState$.next(i.state),i.onchange=()=>{console.debug("[NfcService] The user decided to change his settings. New permission: "+i.state),e.permissionState$.next(i.state),"denied"===i.state&&e.stopRead()},"granted"===i.state?(console.debug("[NfcService] The user has granted the NFC permission"),e.startRead()):"prompt"===i.state?console.debug("[NfcService] The user should be asked to grant the NFC permission"):console.debug("[NfcService] The user didn't grant the NFC permission")}else console.debug("[NfcService] No NFC capability :(")})()}startRead(){var e=this;return(0,gr.Z)(function*(){e.stopWrite(),e.abortController=new AbortController,e.ndef=new NDEFReader;try{const i=yield e.ndef.scan({signal:e.abortController.signal});e.readRunningState$.next("started"),console.debug("[NfcService] Scan started successfully.",i),e.ndef.onreadingerror=()=>{console.debug("[NfcService] Cannot read data from the NFC tag. Try another one?")},e.ndef.onreading=r=>{console.debug("[NfcService] NDEF message read.",r);const c=new TextDecoder;for(const d of r.message.records)e.messages$.next({recordType:d.recordType,mediaType:d.mediaType,data:c.decode(d.data)})}}catch(i){console.error(`[NfcService] Error! Scan failed to start: ${i}.`)}})()}stopRead(){this.abortController.abort(),this.readRunningState$.next("stopped")}startWrite(e){var i=this;return(0,gr.Z)(function*(){i.stopRead(),i.abortController=new AbortController,i.ndef=new NDEFReader;try{const r=yield i.ndef.write(e,{signal:i.abortController.signal});console.debug(`[NfcService] NDEF message "${e}" written!`,r),i.writeRunningState$.next("started")}catch(r){i.writeRunningState$.next("stopped"),console.error("[NfcService] Error on NDEF message  writing!",r)}})()}stopWrite(){this.abortController.abort(),this.writeRunningState$.next("stopped")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UO=(()=>{class n{constructor(e){this.db=e,this.badgesRef=this.db.list(Gr_firebaseApiUrls.badges,i=>i.orderByChild("timestamp"))}ngOnInit(){}getList(){return this.badgesRef.snapshotChanges().pipe((0,We.U)(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getByKey(e){throw"Unsupported method"}create(e){return this.badgesRef.push(e)}update(e,i){return this.badgesRef.set(e,i)}deleteByKey(e){return this.badgesRef.remove(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(XC))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.startNfcScan())}),a.TgZ(1,"span"),a._uU(2,"Start"),a.qZA(),a.TgZ(3,"mat-icon"),a._uU(4,"play_arrow"),a.qZA()()}}function VU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.stopNfcScan())}),a.TgZ(1,"span"),a._uU(2,"Stop"),a.qZA(),a.TgZ(3,"mat-icon"),a._uU(4,"stop"),a.qZA()()}}function BU(n,t){1&n&&(a.TgZ(0,"li"),a._uU(1," Click the button to start NFC service "),a.qZA())}function UU(n,t){1&n&&(a.TgZ(0,"li")(1,"strong"),a._uU(2,"Grant permission manually in browser settings"),a.qZA(),a._uU(3," (you've blocked NFC permission when asked) "),a.qZA())}function HU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(3);return a.KtG(r.stopWriteNfc())}),a.TgZ(1,"span"),a._uU(2,"STOP"),a.qZA(),a._uU(3,"\xa0"),a.TgZ(4,"mat-icon"),a._uU(5,"stop"),a.qZA()()}}function jU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"div")(2,"strong"),a._uU(3,"Tag administration section"),a.qZA()(),a.TgZ(4,"div")(5,"button",11),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.startWriteNfc("in"))}),a.TgZ(6,"span"),a._uU(7,"Write IN"),a.qZA(),a._uU(8,"\xa0"),a.TgZ(9,"mat-icon"),a._uU(10,"login"),a.qZA()(),a.TgZ(11,"button",11),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.startWriteNfc("out"))}),a.TgZ(12,"span"),a._uU(13,"Write OUT"),a.qZA(),a._uU(14,"\xa0"),a.TgZ(15,"mat-icon"),a._uU(16,"logout"),a.qZA()(),a.YNc(17,HU,6,0,"button",12),a.qZA()()}if(2&n){const e=a.oxw(2);a.xp6(17),a.Q6J("ngIf","started"===e.nfcWriteRunningState)}}function $U(n,t){if(1&n&&(a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"NFC badge"),a.qZA(),a.TgZ(3,"mat-card-content")(4,"div"),a._uU(5,"Running status: "),a.TgZ(6,"strong"),a._uU(7),a.qZA()(),a.TgZ(8,"div"),a._uU(9,"Permission status: "),a.TgZ(10,"strong"),a._uU(11),a.qZA()(),a.TgZ(12,"div",6),a.YNc(13,LU,5,0,"button",7),a.YNc(14,VU,5,0,"button",8),a.qZA(),a.TgZ(15,"strong"),a._uU(16,"To use NFC:"),a.qZA(),a.TgZ(17,"ul"),a.YNc(18,BU,2,0,"li",1),a.YNc(19,UU,4,0,"li",1),a.TgZ(20,"li"),a._uU(21," Activate the NFC feature in the smartphone settings "),a.qZA(),a.TgZ(22,"li"),a._uU(23," Touch the appropriate smart tag (Black = IN, Red = OUT) "),a.qZA()(),a._UZ(24,"hr"),a.YNc(25,jU,18,1,"div",5),a.qZA()()),2&n){const e=a.oxw();a.xp6(7),a.Oqu(e.nfcReadRunningState),a.xp6(4),a.Oqu(e.nfcPermissionState),a.xp6(2),a.Q6J("ngIf","stopped"===e.nfcReadRunningState&&"denied"!==e.nfcPermissionState),a.xp6(1),a.Q6J("ngIf","started"===e.nfcReadRunningState),a.xp6(4),a.Q6J("ngIf","denied"!==e.nfcPermissionState),a.xp6(1),a.Q6J("ngIf","denied"===e.nfcPermissionState)}}function zU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"Manual badge"),a.qZA(),a.TgZ(3,"mat-card-content")(4,"ob-badge-form",14),a.NdJ("formSubmitted",function(r){a.CHM(e);const c=a.oxw();return a.KtG(c.addBadgeItem(r))}),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(4),a.Q6J("badge",e.newBadge)}}let GU=(()=>{class n{constructor(e,i,r,c,d){this.auth=e,this.nfcService=i,this.badgeApiService=r,this.datePipe=c,this.confirmDialog=d,this.hasNfcCapability$=this.nfcService.hasNfcCapability$,this.nfcMessages$=this.nfcService.messages$,this.nfcPermissionState="denied",this.nfcReadRunningState="stopped",this.nfcWriteRunningState="stopped",this.messages=[],this.newBadge={clock:"in",timestamp:this.datePipe.transform(new Date,Gr_formatter.badgeIsoDateTime)??void 0}}ngOnInit(){this.nfcService.init(),this.nfcService.readRunningState$.subscribe(e=>{this.nfcReadRunningState=e}),this.nfcService.writeRunningState$.subscribe(e=>{this.nfcWriteRunningState=e}),this.nfcService.permissionState$.subscribe(e=>{this.nfcPermissionState=e}),this.nfcMessages$.subscribe(e=>{this.doBadge(e.data)}),this.auth.user$.pipe(zt(e=>!!e),(0,zn.b)(e=>{const{uid:i,email:r,displayName:c}=e;this.user={uid:i,email:r,displayName:c},this.newBadge={...this.newBadge,user:this.user}})).subscribe()}badgeIn(){this.doBadge("in")}badgeOut(){this.doBadge("out")}doBadge(e){if(!this.user)return void alert(`No username to use for badge ${e}`);const i={user:this.user,clock:e,timestamp:(new Date).toISOString()};this.addBadgeItem(i)}addBadgeItem(e){this.badgeApiService.create(e).then(i=>{console.debug("Updated",e),this.confirmDialog.open({message:JSON.stringify(e,null,2),confirmText:"Ok",title:"Badge sent"})})}startNfcScan(){this.nfcService.startRead()}stopNfcScan(){this.nfcService.stopRead()}startWriteNfc(e){this.nfcService.startWrite(e)}stopWriteNfc(){this.nfcService.stopWrite()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no),a.Y36(BO),a.Y36(UO),a.Y36(Rs),a.Y36(VO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-home"]],decls:15,vars:3,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"new-badge-buttons"],["mat-fab","","color","primary",1,"new-badge-button","in",3,"click"],["mat-fab","","color","warn",1,"new-badge-button","out",3,"click"],[4,"obAdminOnly"],[1,"nfc-badge-button"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],["mat-flat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"],[3,"badge","formSubmitted"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,$U,26,6,"mat-card",1),a.ALo(2,"async"),a.TgZ(3,"mat-card")(4,"mat-card-title"),a._uU(5,"New badge"),a.qZA(),a.TgZ(6,"mat-card-content")(7,"div",2)(8,"button",3),a.NdJ("click",function(){return i.badgeIn()}),a.TgZ(9,"mat-icon"),a._uU(10,"login"),a.qZA()(),a.TgZ(11,"button",4),a.NdJ("click",function(){return i.badgeOut()}),a.TgZ(12,"mat-icon"),a._uU(13,"logout"),a.qZA()()()()(),a.YNc(14,zU,5,1,"mat-card",5),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,i.hasNfcCapability$)))},dependencies:[hn,hm,yM,_M,vM,aS,yS,DM,fo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px}.nfc-badge-button[_ngcontent-%COMP%]{margin-block:20px}.new-badge-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;padding-block:20px}.new-badge-button[_ngcontent-%COMP%]{width:120px;height:120px}.new-badge-button[_ngcontent-%COMP%]   .mat-fab.mat-button-wrapper[_ngcontent-%COMP%]{width:90px;height:90px}.new-badge-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:90px;width:90px;height:90px}.new-badge-button.in[_ngcontent-%COMP%]{background-color:#60c687}.new-badge-button.out[_ngcontent-%COMP%]{background-color:#e95e5e}"]}),n})();function WU(n,t){1&n&&a._UZ(0,"ob-spinner")}function YU(n,t){1&n&&(a.TgZ(0,"p"),a._uU(1,"No data"),a.qZA())}function qU(n,t){1&n&&(a.TgZ(0,"mat-icon",9),a._uU(1,"login"),a.qZA())}function ZU(n,t){1&n&&(a.TgZ(0,"mat-icon",10),a._uU(1,"logout"),a.qZA())}function KU(n,t){if(1&n&&(a.TgZ(0,"span")(1,"strong"),a._uU(2),a.ALo(3,"date"),a.qZA()()),2&n){const e=a.oxw().$implicit;a.xp6(2),a.Oqu(a.xi3(3,1,e.timestamp,"dd/MM/yyyy HH:mm"))}}function QU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",4)(1,"span"),a.YNc(2,qU,2,0,"mat-icon",5),a.YNc(3,ZU,2,0,"mat-icon",6),a.YNc(4,KU,4,4,"span",1),a.qZA(),a.TgZ(5,"span"),a._uU(6),a.qZA(),a.TgZ(7,"span")(8,"button",7),a.NdJ("click",function(){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d.deleteBadgeItem(c))}),a.TgZ(9,"mat-icon"),a._uU(10,"delete"),a.qZA()(),a.TgZ(11,"button",8),a.NdJ("click",function(){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d.openUpdateBadgeModal(c))}),a.TgZ(12,"mat-icon"),a._uU(13,"edit"),a.qZA()()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.Q6J("ngIf","in"===e.clock),a.xp6(1),a.Q6J("ngIf","out"===e.clock),a.xp6(1),a.Q6J("ngIf",e.timestamp),a.xp6(2),a.Oqu(e.user.displayName||e.user.email||e.user.uid||"No user info")}}function XU(n,t){if(1&n&&(a.TgZ(0,"mat-card")(1,"mat-card-title"),a._uU(2,"Badge list"),a.qZA(),a.TgZ(3,"mat-card-content")(4,"div",2),a.YNc(5,YU,2,0,"p",1),a.YNc(6,QU,14,4,"div",3),a.qZA()()()),2&n){const e=t.ngIf;a.xp6(5),a.Q6J("ngIf",!e.length),a.xp6(1),a.Q6J("ngForOf",e)}}let JU=(()=>{class n{constructor(e,i,r){this.badgeApiService=e,this.datePipe=i,this.dialog=r,this.isLoading=!0}ngOnInit(){this.badges$=this.badgeApiService.getList().pipe((0,zn.b)(e=>this.isLoading=!1),(0,We.U)(e=>e.reverse()),Ks(e=>(console.debug({err:e}),this.isLoading=!1,Ke([]))))}deleteBadgeItem(e){confirm(`Are you sure to delete badge by ${e.user?.email}\n${e.clock.toUpperCase()}: ${this.datePipe.transform(new Date(e.timestamp),Gr_formatter.badgeHumanDateTime)}?`)&&e.key&&this.badgeApiService.deleteByKey(e.key).then(r=>console.debug("Deleted",e))}openUpdateBadgeModal(e){const i=this.dialog.open(NO,{width:"350px"});i.componentInstance.badge=e,i.componentInstance.formSubmitted.subscribe(r=>{this.badgeApiService.update(e.key,r).then(c=>console.debug("Updated",r)),i.close()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(UO),a.Y36(Rs),a.Y36(RE))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-badge-list"]],decls:4,vars:4,consts:[[1,"app-content-inner"],[4,"ngIf"],[1,"badge-list"],["class","badge-list-item",4,"ngFor","ngForOf"],[1,"badge-list-item"],["class","badge-in",4,"ngIf"],["class","badge-out",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"badge-in"],[1,"badge-out"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,WU,1,0,"ob-spinner",1),a.YNc(2,XU,7,2,"mat-card",1),a.ALo(3,"async"),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",i.isLoading),a.xp6(1),a.Q6J("ngIf",a.lcZ(3,2,i.badges$)))},dependencies:[fr,hn,hm,yM,_M,vM,aS,PO,fo,Rs],styles:[".badge-list[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.badge-list-item[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}.badge-list-item[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#efefef}.badge-list-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.badge-list-item[_ngcontent-%COMP%]   .badge-in[_ngcontent-%COMP%]{color:#60c687}.badge-list-item[_ngcontent-%COMP%]   .badge-out[_ngcontent-%COMP%]{color:#e95e5e}"]}),n})(),eH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-not-found"]],decls:5,vars:0,consts:[[1,"app-content-inner"],["routerLink","/home"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Page not found. Go to "),a.TgZ(3,"a",1),a._uU(4,"HOME"),a.qZA()()())},dependencies:[Au]}),n})(),tH=(()=>{class n{constructor(e){this.userApiService=e,this.users=[]}ngOnInit(){this.userApiService.getList().subscribe(e=>this.users=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(du))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-user-list"]],decls:8,vars:3,consts:[[1,"app-content-inner"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),a._uU(3,"User list"),a.qZA(),a.TgZ(4,"mat-card-content")(5,"pre"),a._uU(6),a.ALo(7,"json"),a.qZA()()()()),2&e&&(a.xp6(6),a.Oqu(a.lcZ(7,1,i.users)))},dependencies:[yM,_M,vM,mo]}),n})(),nH=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAdmin$.pipe((0,We.U)(r=>r),(0,zn.b)(r=>{r||this.router.navigate(["/"])}))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(no),a.LFG(oi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iH(n,t){1&n&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2,"You have to be authenticated to use this app. "),a._UZ(3,"ob-login-with-google",2),a.qZA(),a.BQk())}function rH(n,t){1&n&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2,"You are not authorized to use this app."),a.qZA(),a.BQk())}function sH(n,t){1&n&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2,"You are authorized to use this app. Go to "),a.TgZ(3,"a",3),a._uU(4,"HOME"),a.qZA()(),a.BQk())}let oH=(()=>{class n{constructor(e){this.authService=e,this.isAuthorized$=this.authService.isAuthorized$,this.isAuthenticated$=this.authService.isAuthenticated$}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(no))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ob-login"]],decls:8,vars:11,consts:[[1,"app-content-inner"],[4,"ngIf"],["color","primary"],["routerLink","/home"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,iH,4,0,"ng-container",1),a.ALo(2,"async"),a.YNc(3,rH,3,0,"ng-container",1),a.ALo(4,"async"),a.ALo(5,"async"),a.YNc(6,sH,5,0,"ng-container",1),a.ALo(7,"async"),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",!a.lcZ(2,3,i.isAuthenticated$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,5,i.isAuthenticated$)&&!a.lcZ(5,7,i.isAuthorized$)),a.xp6(3),a.Q6J("ngIf",a.lcZ(7,9,i.isAuthorized$)))},dependencies:[hn,OO,Au,fo],styles:["p[_ngcontent-%COMP%]{text-align:center}"]}),n})(),AM=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isAuthorized$.pipe((0,We.U)(r=>r),(0,zn.b)(r=>{r||this.router.navigate(["/login"])}))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(no),a.LFG(oi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aH=[{path:"login",component:oH},{path:"home",component:GU,canActivate:[AM]},{path:"badges",component:JU,canActivate:[AM]},{path:"users",component:tH,canActivate:[AM,nH]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:eH}];let lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,DT.forRoot(aH)]}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[xN]}),n.\u0275inj=a.cJS({providers:[_,Rs,BO,n1,ok],imports:[Do,mB,iO,p.register("ngsw-worker.js",{enabled:Gr_production,registrationStrategy:"registerWhenStable:30000"}),ci.hO.initializeApp(Gr_firebase),yV,If,sV,TU,NU,lH]}),n})();Gr_production&&(0,a.G48)(),el().bootstrapModule(cH).catch(n=>console.error(n))},7982:(rt,Me,O)=>{O.d(Me,{Gb:()=>a.Gb,Iv:()=>a.Iv,Kz:()=>a.Kz});var a=O(579)},5867:(rt,Me,O)=>{O.d(Me,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp});var a=O(9681);(0,a.registerVersion)("firebase","9.12.0","app")},127:(rt,Me,O)=>{O.d(Me,{Z:()=>a.Z});var a=O(3942);a.Z.registerVersion("firebase","9.12.0","app-compat")},5881:(rt,Me,O)=>{O.r(Me);var a=O(5861),H=O(3942),P=O(9934),ie=O(2090),ne=(O(9681),O(1877),O(4859));function fe(){return window}function z(){return(z=(0,a.Z)(function*(x,A,k){var $;const{BuildInfo:ce}=fe();(0,P.aq)(A.sessionId,"AuthEvent did not contain a session ID");const Pe=yield ue(A.sessionId),Ue={};return(0,P.ar)()?Ue.ibi=ce.packageName:(0,P.as)()?Ue.apn=ce.packageName:(0,P.at)(x,"operation-not-supported-in-this-environment"),ce.displayName&&(Ue.appDisplayName=ce.displayName),Ue.sessionId=Pe,(0,P.au)(x,k,A.type,void 0,null!==($=A.eventId)&&void 0!==$?$:void 0,Ue)})).apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(x){const{BuildInfo:A}=fe(),k={};(0,P.ar)()?k.iosBundleId=A.packageName:(0,P.as)()?k.androidPackageName=A.packageName:(0,P.at)(x,"operation-not-supported-in-this-environment"),yield(0,P.av)(x,k)})).apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(x,A,k){const{cordova:$}=fe();let ce=()=>{};try{yield new Promise((Pe,Ue)=>{let me=null;function Se(){var yt;Pe();const Rt=null===(yt=$.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof Rt&&Rt(),"function"==typeof k?.close&&k.close()}function nt(){me||(me=window.setTimeout(()=>{Ue((0,P.aw)(x,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===document?.visibilityState&&nt()}A.addPassiveListener(Se),document.addEventListener("resume",nt,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Lt,!1),ce=()=>{A.removePassiveListener(Se),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Lt,!1),me&&window.clearTimeout(me)}})}finally{ce()}})).apply(this,arguments)}function ue(x){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(x){const A=ze(x),k=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(k)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ze(x){if((0,P.aq)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const A=new ArrayBuffer(x.length),k=new Uint8Array(A);for(let $=0;$<x.length;$++)k[$]=x.charCodeAt($);return k}class xe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(A)),super.onEvent(A)}initialized(){var A=this;return(0,a.Z)(function*(){yield A.initPromise})()}}function te(x){return ae.apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(x){const A=yield J()._get(de(x));return A&&(yield J()._remove(de(x))),A})).apply(this,arguments)}function Q(){const x=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const $=Math.floor(Math.random()*A.length);x.push(A.charAt($))}return x.join("")}function J(){return(0,P.ay)(P.b)}function de(x){return(0,P.az)("authEvent",x.config.apiKey,x.name)}function Le(x){if(!x?.includes("?"))return{};const[A,...k]=x.split("?");return(0,ie.zd)(k.join("?"))}function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function kt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function un(x=(0,ie.z$)()){return!("file:"!==kt()&&"ionic:"!==kt()&&"capacitor:"!==kt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){try{const x=self.localStorage,A=P.aI();if(x)return x.setItem(A,"1"),x.removeItem(A),!function Gn(x=(0,ie.z$)()){return function Pi(){return(0,ie.w1)()&&11===document?.documentMode}()||function In(x=(0,ie.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ie.hl)()}catch{return Nn()&&(0,ie.hl)()}return!1}function Nn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function mt(){return"http:"===kt()||"https:"===kt()}()||(0,ie.ru)()||un())&&!function Di(){return(0,ie.b$)()||(0,ie.UG)()}()&&yi()&&!Nn()}function ai(){return un()&&typeof document<"u"}function Qe(){return(Qe=(0,a.Z)(function*(){return!!ai()&&new Promise(x=>{const A=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),x(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},nn=P.ax,Qn="persistence";function on(x){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(x){yield x._initializationPromise;const A=st(),k=P.az(Qn,x.config.apiKey,x.name);A&&A.setItem(k,x._getPersistence())})).apply(this,arguments)}function st(){var x;try{return(null===(x=function sn(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const it=P.ax;class ot{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class jt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(A){var k=this;return(0,a.Z)(function*(){const $=A._key();let ce=k.eventManagers.get($);return ce||(ce=new xe(A),k.eventManagers.set($,ce),k.attachCallbackListeners(A,ce)),ce})()}_openPopup(A){(0,P.at)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,k,$,ce){var Pe=this;return(0,a.Z)(function*(){!function ve(x){var A,k,$,ce,Pe,Ue,me,Se,nt,Lt;const yt=fe();(0,P.ax)("function"==typeof(null===(A=yt?.universalLinks)||void 0===A?void 0:A.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=yt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Pe=null===(ce=null===($=yt?.cordova)||void 0===$?void 0:$.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Pe?void 0:Pe.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Se=null===(me=null===(Ue=yt?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===me?void 0:me.browsertab)||void 0===Se?void 0:Se.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Lt=null===(nt=yt?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Lt?void 0:Lt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const Ue=yield Pe._initialize(A);yield Ue.initialized(),Ue.resetRedirect(),(0,P.aD)(),yield Pe._originValidation(A);const me=function Ce(x,A,k=null){return{type:A,eventId:k,urlResponse:null,sessionId:Q(),postBody:null,tenantId:x.tenantId,error:(0,P.aw)(x,"no-auth-event")}}(A,$,ce);yield function $e(x,A){return J()._set(de(x),A)}(A,me);const Se=yield function W(x,A,k){return z.apply(this,arguments)}(A,me,k),nt=yield function Ee(x){const{cordova:A}=fe();return new Promise(k=>{A.plugins.browsertab.isAvailable($=>{let ce=null;$?A.plugins.browsertab.openUrl(x):ce=A.InAppBrowser.open(x,(0,P.ap)()?"_blank":"_system","location=yes"),k(ce)})})}(Se);return function De(x,A,k){return Ye.apply(this,arguments)}(A,Ue,nt)})()}_isIframeWebStorageSupported(A,k){throw new Error("Method not implemented.")}_originValidation(A){const k=A._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function K(x){return ke.apply(this,arguments)}(A)),this.originValidationPromises[k]}attachCallbackListeners(A,k){const{universalLinks:$,handleOpenURL:ce,BuildInfo:Pe}=fe(),Ue=setTimeout((0,a.Z)(function*(){yield te(A),k.onEvent(je())}),500),me=function(){var Lt=(0,a.Z)(function*(yt){clearTimeout(Ue);const Rt=yield te(A);let zi=null;Rt&&yt?.url&&(zi=function ye(x,A){var k,$;const ce=function Ve(x){const A=Le(x),k=A.link?decodeURIComponent(A.link):void 0,$=Le(k).link,ce=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return Le(ce).link||ce||$||k||x}(A);if(ce.includes("/__/auth/callback")){const Pe=Le(ce),Ue=Pe.firebaseError?function oe(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Pe.firebaseError)):null,me=null===($=null===(k=Ue?.code)||void 0===k?void 0:k.split("auth/"))||void 0===$?void 0:$[1],Se=me?(0,P.aw)(me):null;return Se?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ce,postBody:null}}return null}(Rt,yt.url)),k.onEvent(zi||je())});return function(Rt){return Lt.apply(this,arguments)}}();typeof $<"u"&&"function"==typeof $.subscribe&&$.subscribe(null,me);const Se=ce,nt=`${Pe.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Lt=(0,a.Z)(function*(yt){if(yt.toLowerCase().startsWith(nt)&&me({url:yt}),"function"==typeof Se)try{Se(yt)}catch(Rt){console.error(Rt)}});return function(yt){return Lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(A){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,k,$,ce){var Pe=this;return(0,a.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openPopup(A,k,$,ce)})()}_openRedirect(A,k,$,ce){var Pe=this;return(0,a.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openRedirect(A,k,$,ce)})()}_isIframeWebStorageSupported(A,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,k)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return ai()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return it(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,a.Z)(function*(){if(A.underlyingResolver)return;const k=yield function Ai(){return Qe.apply(this,arguments)}();A.underlyingResolver=k?A.cordovaResolver:A.browserResolver})()}}function ln(x){return x.unwrap()}function Xn(x){return ii(x)}function ii(x){const{_tokenResponse:A}=x instanceof ie.ZR?x.customData:x;if(!A)return null;if(!(x instanceof ie.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return P.P.credentialFromResult(x);const k=A.providerId;if(!k||k===P.o.PASSWORD)return null;let $;switch(k){case P.o.GOOGLE:$=P.Q;break;case P.o.FACEBOOK:$=P.N;break;case P.o.GITHUB:$=P.T;break;case P.o.TWITTER:$=P.W;break;default:const{oauthIdToken:ce,oauthAccessToken:Pe,oauthTokenSecret:Ue,pendingToken:me,nonce:Se}=A;return Pe||Ue||ce||me?me?k.startsWith("saml.")?P.aL._create(k,me):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:me,idToken:ce,accessToken:Pe}):new P.U(k).credential({idToken:ce,accessToken:Pe,rawNonce:Se}):null}return x instanceof ie.ZR?$.credentialFromError(x):$.credentialFromResult(x)}function Ct(x,A){return A.catch(k=>{throw k instanceof ie.ZR&&function vt(x,A){var k,$;const ce=null===(k=A.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null===($=A)||void 0===$?void 0:$.code))A.resolver=new Vn(x,P.an(x,A));else if(ce){const Pe=ii(A),Ue=A;Pe&&(Ue.credential=Pe,Ue.tenantId=ce.tenantId||void 0,Ue.email=ce.email||void 0,Ue.phoneNumber=ce.phoneNumber||void 0)}}(x,k),k}).then(k=>{const ce=k.user;return{operationType:k.operationType,credential:Xn(k),additionalUserInfo:P.al(k),user:mn.getOrCreate(ce)}})}function ri(x,A){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(x,A){const k=yield A;return{verificationId:k.verificationId,confirm:$=>Ct(x,k.confirm($))}})).apply(this,arguments)}class Vn{constructor(A,k){this.resolver=k,this.auth=function Ln(x){return x.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Ct(ln(this.auth),this.resolver.resolveSignIn(A))}}class mn{constructor(A){this._delegate=A,this.multiFactor=P.ao(A)}static getOrCreate(A){return mn.USER_MAP.has(A)||mn.USER_MAP.set(A,new mn(A)),mn.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var k=this;return(0,a.Z)(function*(){return Ct(k.auth,P.Z(k._delegate,A))})()}linkWithPhoneNumber(A,k){var $=this;return(0,a.Z)(function*(){return ri($.auth,P.l($._delegate,A,k))})()}linkWithPopup(A){var k=this;return(0,a.Z)(function*(){return Ct(k.auth,P.d(k._delegate,A,ot))})()}linkWithRedirect(A){var k=this;return(0,a.Z)(function*(){return yield on(P.aE(k.auth)),P.g(k._delegate,A,ot)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var k=this;return(0,a.Z)(function*(){return Ct(k.auth,P._(k._delegate,A))})()}reauthenticateWithPhoneNumber(A,k){return ri(this.auth,P.r(this._delegate,A,k))}reauthenticateWithPopup(A){return Ct(this.auth,P.e(this._delegate,A,ot))}reauthenticateWithRedirect(A){var k=this;return(0,a.Z)(function*(){return yield on(P.aE(k.auth)),P.h(k._delegate,A,ot)})()}sendEmailVerification(A){return P.ab(this._delegate,A)}unlink(A){var k=this;return(0,a.Z)(function*(){return yield P.ak(k._delegate,A),k})()}updateEmail(A){return P.ag(this._delegate,A)}updatePassword(A){return P.ah(this._delegate,A)}updatePhoneNumber(A){return P.u(this._delegate,A)}updateProfile(A){return P.af(this._delegate,A)}verifyBeforeUpdateEmail(A,k){return P.ac(this._delegate,A,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mn.USER_MAP=new WeakMap;const qe=P.ax;let Ae=(()=>{class x{constructor(k,$){if(this.app=k,$.isInitialized())return this._delegate=$.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=k.options;qe(ce,"invalid-api-key",{appName:k.name}),qe(ce,"invalid-api-key",{appName:k.name});const Pe=typeof window<"u"?ot:void 0;this._delegate=$.initialize({options:{persistence:dt(ce,k.name),popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,$){P.G(this._delegate,k,$)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,$){return P.a1(this._delegate,k,$)}createUserWithEmailAndPassword(k,$){var ce=this;return(0,a.Z)(function*(){return Ct(ce._delegate,P.a5(ce._delegate,k,$))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,a.Z)(function*(){qe(Fn(),k._delegate,"operation-not-supported-in-this-environment");const $=yield P.j(k._delegate,ot);return $?Ct(k._delegate,Promise.resolve($)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Jt(x,A){(0,P.aE)(x)._logFramework(A)}(this._delegate,k)}onAuthStateChanged(k,$,ce){const{next:Pe,error:Ue,complete:me}=Xe(k,$,ce);return this._delegate.onAuthStateChanged(Pe,Ue,me)}onIdTokenChanged(k,$,ce){const{next:Pe,error:Ue,complete:me}=Xe(k,$,ce);return this._delegate.onIdTokenChanged(Pe,Ue,me)}sendSignInLinkToEmail(k,$){return P.a7(this._delegate,k,$)}sendPasswordResetEmail(k,$){return P.a0(this._delegate,k,$||void 0)}setPersistence(k){var $=this;return(0,a.Z)(function*(){let ce;switch(function fi(x,A){nn(Object.values(xn).includes(A),x,"invalid-persistence-type"),(0,ie.b$)()?nn(A!==xn.SESSION,x,"unsupported-persistence-type"):(0,ie.UG)()?nn(A===xn.NONE,x,"unsupported-persistence-type"):Nn()?nn(A===xn.NONE||A===xn.LOCAL&&(0,ie.hl)(),x,"unsupported-persistence-type"):nn(A===xn.NONE||yi(),x,"unsupported-persistence-type")}($._delegate,k),k){case xn.SESSION:ce=P.a;break;case xn.LOCAL:ce=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case xn.NONE:ce=P.L;break;default:return P.at("argument-error",{appName:$._delegate.name})}return $._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Ct(this._delegate,P.X(this._delegate))}signInWithCredential(k){return Ct(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return Ct(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,$){return Ct(this._delegate,P.a6(this._delegate,k,$))}signInWithEmailLink(k,$){return Ct(this._delegate,P.a9(this._delegate,k,$))}signInWithPhoneNumber(k,$){return ri(this._delegate,P.s(this._delegate,k,$))}signInWithPopup(k){var $=this;return(0,a.Z)(function*(){return qe(Fn(),$._delegate,"operation-not-supported-in-this-environment"),Ct($._delegate,P.c($._delegate,k,ot))})()}signInWithRedirect(k){var $=this;return(0,a.Z)(function*(){return qe(Fn(),$._delegate,"operation-not-supported-in-this-environment"),yield on($._delegate),P.f($._delegate,k,ot)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=xn,x})();function Xe(x,A,k){let $=x;"function"!=typeof x&&({next:$,error:A,complete:k}=x);const ce=$;return{next:Ue=>ce(Ue&&mn.getOrCreate(Ue)),error:A,complete:k}}function dt(x,A){const k=function Yt(x,A){const k=st();if(!k)return[];const $=P.az(Qn,x,A);switch(k.getItem($)){case xn.NONE:return[P.L];case xn.LOCAL:return[P.i,P.a];case xn.SESSION:return[P.a];default:return[]}}(x,A);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const $ of[P.b,P.a])k.includes($)||k.push($);return k.includes(P.L)||k.push(P.L),k}class _t{constructor(){this.providerId="phone",this._delegate=new P.P(ln(H.Z.auth()))}static credential(A,k){return P.P.credential(A,k)}verifyPhoneNumber(A,k){return this._delegate.verifyPhoneNumber(A,k)}unwrap(){return this._delegate}}_t.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,_t.PROVIDER_ID=P.P.PROVIDER_ID;const Ft=P.ax;class G{constructor(A,k,$=H.Z.app()){var ce;Ft(null===(ce=$.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:$.name}),this._delegate=new P.R(A,k,$.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(x){x.INTERNAL.registerComponent(new ne.wA("auth-compat",A=>{const k=A.getProvider("app-compat").getImmediate(),$=A.getProvider("auth");return new Ae(k,$)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:_t,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:G,TwitterAuthProvider:P.W,Auth:Ae,AuthCredential:P.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.22")}(H.Z)},9751:(rt,Me,O)=>{O.d(Me,{y:()=>fe});var a=O(930),H=O(727),P=O(8822),ie=O(9635),pe=O(2416),_e=O(576),ne=O(2806);let fe=(()=>{class K{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const De=new K;return De.source=this,De.operator=Ee,De}subscribe(Ee,De,Ye){const ve=function z(K){return K&&K instanceof a.Lv||function W(K){return K&&(0,_e.m)(K.next)&&(0,_e.m)(K.error)&&(0,_e.m)(K.complete)}(K)&&(0,H.Nn)(K)}(Ee)?Ee:new a.Hp(Ee,De,Ye);return(0,ne.x)(()=>{const{operator:ue,source:et}=this;ve.add(ue?ue.call(ve,et):et?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(De){Ee.error(De)}}forEach(Ee,De){return new(De=ge(De))((Ye,ve)=>{const ue=new a.Hp({next:et=>{try{Ee(et)}catch(ze){ve(ze),ue.unsubscribe()}},error:ve,complete:Ye});this.subscribe(ue)})}_subscribe(Ee){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Ee)}[P.L](){return this}pipe(...Ee){return(0,ie.U)(Ee)(this)}toPromise(Ee){return new(Ee=ge(Ee))((De,Ye)=>{let ve;this.subscribe(ue=>ve=ue,ue=>Ye(ue),()=>De(ve))})}}return K.create=ke=>new K(ke),K})();function ge(K){var ke;return null!==(ke=K??pe.v.Promise)&&void 0!==ke?ke:Promise}},7579:(rt,Me,O)=>{O.d(Me,{x:()=>ne});var a=O(9751),H=O(727);const ie=(0,O(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=O(8737),_e=O(2806);let ne=(()=>{class ge extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const K=new fe(this,this);return K.operator=z,K}_throwIfClosed(){if(this.closed)throw new ie}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:K}=this;for(;K.length;)K.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:K,isStopped:ke,observers:Ee}=this;return K||ke?H.Lc:(this.currentObservers=null,Ee.push(z),new H.w0(()=>{this.currentObservers=null,(0,pe.P)(Ee,z)}))}_checkFinalizedStatuses(z){const{hasError:K,thrownError:ke,isStopped:Ee}=this;K?z.error(ke):Ee&&z.complete()}asObservable(){const z=new a.y;return z.source=this,z}}return ge.create=(W,z)=>new fe(W,z),ge})();class fe extends ne{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===K||K.call(z,W)}error(W){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===K||K.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,K;return null!==(K=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==K?K:H.Lc}}},930:(rt,Me,O)=>{O.d(Me,{Hp:()=>Ye,Lv:()=>K});var a=O(576),H=O(727),P=O(2416),ie=O(7849),pe=O(5032);const _e=ge("C",void 0,void 0);function ge(Oe,xe,Ce){return{kind:Oe,value:xe,error:Ce}}var W=O(3410),z=O(2806);class K extends H.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,H.Nn)(xe)&&xe.add(this)):this.destination=ze}static create(xe,Ce,$e){return new Ye(xe,Ce,$e)}next(xe){this.isStopped?et(function fe(Oe){return ge("N",Oe,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?et(function ne(Oe){return ge("E",void 0,Oe)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?et(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ee(Oe,xe){return ke.call(Oe,xe)}class De{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(xe)}catch($e){ve($e)}}error(xe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(xe)}catch($e){ve($e)}else ve(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Ce){ve(Ce)}}}class Ye extends K{constructor(xe,Ce,$e){let te;if(super(),(0,a.m)(xe)||!xe)te={next:xe??void 0,error:Ce??void 0,complete:$e??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(xe),ae.unsubscribe=()=>this.unsubscribe(),te={next:xe.next&&Ee(xe.next,ae),error:xe.error&&Ee(xe.error,ae),complete:xe.complete&&Ee(xe.complete,ae)}):te=xe}this.destination=new De(te)}}function ve(Oe){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Oe):(0,ie.h)(Oe)}function et(Oe,xe){const{onStoppedNotification:Ce}=P.v;Ce&&W.z.setTimeout(()=>Ce(Oe,xe))}const ze={closed:!0,next:pe.Z,error:function ue(Oe){throw Oe},complete:pe.Z}},727:(rt,Me,O)=>{O.d(Me,{Lc:()=>_e,w0:()=>pe,Nn:()=>ne});var a=O(576);const P=(0,O(3888).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((K,ke)=>`${ke+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ie=O(8737);class pe{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ee of z)Ee.remove(this);else z.remove(this);const{initialTeardown:K}=this;if((0,a.m)(K))try{K()}catch(Ee){W=Ee instanceof P?Ee.errors:[Ee]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ee of ke)try{fe(Ee)}catch(De){W=W??[],De instanceof P?W=[...W,...De.errors]:W.push(De)}}if(W)throw new P(W)}}add(W){var z;if(W&&W!==this)if(this.closed)fe(W);else{if(W instanceof pe){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,ie.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,ie.P)(z,W),W instanceof pe&&W._removeParent(this)}}pe.EMPTY=(()=>{const ge=new pe;return ge.closed=!0,ge})();const _e=pe.EMPTY;function ne(ge){return ge instanceof pe||ge&&"closed"in ge&&(0,a.m)(ge.remove)&&(0,a.m)(ge.add)&&(0,a.m)(ge.unsubscribe)}function fe(ge){(0,a.m)(ge)?ge():ge.unsubscribe()}},2416:(rt,Me,O)=>{O.d(Me,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,Me,O)=>{O.d(Me,{E:()=>H});const H=new(O(9751).y)(pe=>pe.complete())},8996:(rt,Me,O)=>{O.d(Me,{D:()=>xe});var a=O(8421),H=O(5363),P=O(9468),_e=O(9751),fe=O(2202),ge=O(576),W=O(9672);function K(Ce,$e){if(!Ce)throw new Error("Iterable cannot be null");return new _e.y(te=>{(0,W.f)(te,$e,()=>{const ae=Ce[Symbol.asyncIterator]();(0,W.f)(te,$e,()=>{ae.next().then(ye=>{ye.done?te.complete():te.next(ye.value)})},0,!0)})})}var ke=O(3670),Ee=O(8239),De=O(1144),Ye=O(6495),ve=O(2206),ue=O(4532),et=O(3260);function xe(Ce,$e){return $e?function Oe(Ce,$e){if(null!=Ce){if((0,ke.c)(Ce))return function ie(Ce,$e){return(0,a.Xf)(Ce).pipe((0,P.R)($e),(0,H.Q)($e))}(Ce,$e);if((0,De.z)(Ce))return function ne(Ce,$e){return new _e.y(te=>{let ae=0;return $e.schedule(function(){ae===Ce.length?te.complete():(te.next(Ce[ae++]),te.closed||this.schedule())})})}(Ce,$e);if((0,Ee.t)(Ce))return function pe(Ce,$e){return(0,a.Xf)(Ce).pipe((0,P.R)($e),(0,H.Q)($e))}(Ce,$e);if((0,ve.D)(Ce))return K(Ce,$e);if((0,Ye.T)(Ce))return function z(Ce,$e){return new _e.y(te=>{let ae;return(0,W.f)(te,$e,()=>{ae=Ce[fe.h](),(0,W.f)(te,$e,()=>{let ye,Q;try{({value:ye,done:Q}=ae.next())}catch(J){return void te.error(J)}Q?te.complete():te.next(ye)},0,!0)}),()=>(0,ge.m)(ae?.return)&&ae.return()})}(Ce,$e);if((0,et.L)(Ce))return function ze(Ce,$e){return K((0,et.Q)(Ce),$e)}(Ce,$e)}throw(0,ue.z)(Ce)}(Ce,$e):(0,a.Xf)(Ce)}},8421:(rt,Me,O)=>{O.d(Me,{Xf:()=>ke});var a=O(655),H=O(1144),P=O(8239),ie=O(9751),pe=O(3670),_e=O(2206),ne=O(4532),fe=O(6495),ge=O(3260),W=O(576),z=O(7849),K=O(8822);function ke(Oe){if(Oe instanceof ie.y)return Oe;if(null!=Oe){if((0,pe.c)(Oe))return function Ee(Oe){return new ie.y(xe=>{const Ce=Oe[K.L]();if((0,W.m)(Ce.subscribe))return Ce.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,H.z)(Oe))return function De(Oe){return new ie.y(xe=>{for(let Ce=0;Ce<Oe.length&&!xe.closed;Ce++)xe.next(Oe[Ce]);xe.complete()})}(Oe);if((0,P.t)(Oe))return function Ye(Oe){return new ie.y(xe=>{Oe.then(Ce=>{xe.closed||(xe.next(Ce),xe.complete())},Ce=>xe.error(Ce)).then(null,z.h)})}(Oe);if((0,_e.D)(Oe))return ue(Oe);if((0,fe.T)(Oe))return function ve(Oe){return new ie.y(xe=>{for(const Ce of Oe)if(xe.next(Ce),xe.closed)return;xe.complete()})}(Oe);if((0,ge.L)(Oe))return function et(Oe){return ue((0,ge.Q)(Oe))}(Oe)}throw(0,ne.z)(Oe)}function ue(Oe){return new ie.y(xe=>{(function ze(Oe,xe){var Ce,$e,te,ae;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,a.KL)(Oe);!($e=yield Ce.next()).done;)if(xe.next($e.value),xe.closed)return}catch(ye){te={error:ye}}finally{try{$e&&!$e.done&&(ae=Ce.return)&&(yield ae.call(Ce))}finally{if(te)throw te.error}}xe.complete()})})(Oe,xe).catch(Ce=>xe.error(Ce))})}},6451:(rt,Me,O)=>{O.d(Me,{T:()=>_e});var a=O(8189),H=O(8421),P=O(515),ie=O(3269),pe=O(8996);function _e(...ne){const fe=(0,ie.yG)(ne),ge=(0,ie._6)(ne,1/0),W=ne;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,a.J)(ge)((0,pe.D)(W,fe)):P.E}},5403:(rt,Me,O)=>{O.d(Me,{Q:()=>P,x:()=>H});var a=O(930);function H(ie,pe,_e,ne,fe){return new P(ie,pe,_e,ne,fe)}class P extends a.Lv{constructor(pe,_e,ne,fe,ge,W){super(pe),this.onFinalize=ge,this.shouldUnsubscribe=W,this._next=_e?function(z){try{_e(z)}catch(K){pe.error(K)}}:super._next,this._error=fe?function(z){try{fe(z)}catch(K){pe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(z){pe.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(rt,Me,O)=>{O.d(Me,{U:()=>P});var a=O(4482),H=O(5403);function P(ie,pe){return(0,a.e)((_e,ne)=>{let fe=0;_e.subscribe((0,H.x)(ne,ge=>{ne.next(ie.call(pe,ge,fe++))}))})}},8189:(rt,Me,O)=>{O.d(Me,{J:()=>P});var a=O(5577),H=O(4671);function P(ie=1/0){return(0,a.z)(H.y,ie)}},5577:(rt,Me,O)=>{O.d(Me,{z:()=>fe});var a=O(4004),H=O(8421),P=O(4482),ie=O(9672),pe=O(5403),ne=O(576);function fe(ge,W,z=1/0){return(0,ne.m)(W)?fe((K,ke)=>(0,a.U)((Ee,De)=>W(K,Ee,ke,De))((0,H.Xf)(ge(K,ke))),z):("number"==typeof W&&(z=W),(0,P.e)((K,ke)=>function _e(ge,W,z,K,ke,Ee,De,Ye){const ve=[];let ue=0,et=0,ze=!1;const Oe=()=>{ze&&!ve.length&&!ue&&W.complete()},xe=$e=>ue<K?Ce($e):ve.push($e),Ce=$e=>{Ee&&W.next($e),ue++;let te=!1;(0,H.Xf)(z($e,et++)).subscribe((0,pe.x)(W,ae=>{ke?.(ae),Ee?xe(ae):W.next(ae)},()=>{te=!0},void 0,()=>{if(te)try{for(ue--;ve.length&&ue<K;){const ae=ve.shift();De?(0,ie.f)(W,De,()=>Ce(ae)):Ce(ae)}Oe()}catch(ae){W.error(ae)}}))};return ge.subscribe((0,pe.x)(W,xe,()=>{ze=!0,Oe()})),()=>{Ye?.()}}(K,ke,ge,z)))}},5363:(rt,Me,O)=>{O.d(Me,{Q:()=>ie});var a=O(9672),H=O(4482),P=O(5403);function ie(pe,_e=0){return(0,H.e)((ne,fe)=>{ne.subscribe((0,P.x)(fe,ge=>(0,a.f)(fe,pe,()=>fe.next(ge),_e),()=>(0,a.f)(fe,pe,()=>fe.complete(),_e),ge=>(0,a.f)(fe,pe,()=>fe.error(ge),_e)))})}},3099:(rt,Me,O)=>{O.d(Me,{B:()=>pe});var a=O(8421),H=O(7579),P=O(930),ie=O(4482);function pe(ne={}){const{connector:fe=(()=>new H.x),resetOnError:ge=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=ne;return K=>{let ke,Ee,De,Ye=0,ve=!1,ue=!1;const et=()=>{Ee?.unsubscribe(),Ee=void 0},ze=()=>{et(),ke=De=void 0,ve=ue=!1},Oe=()=>{const xe=ke;ze(),xe?.unsubscribe()};return(0,ie.e)((xe,Ce)=>{Ye++,!ue&&!ve&&et();const $e=De=De??fe();Ce.add(()=>{Ye--,0===Ye&&!ue&&!ve&&(Ee=_e(Oe,z))}),$e.subscribe(Ce),!ke&&Ye>0&&(ke=new P.Hp({next:te=>$e.next(te),error:te=>{ue=!0,et(),Ee=_e(ze,ge,te),$e.error(te)},complete:()=>{ve=!0,et(),Ee=_e(ze,W),$e.complete()}}),(0,a.Xf)(xe).subscribe(ke))})(K)}}function _e(ne,fe,...ge){if(!0===fe)return void ne();if(!1===fe)return;const W=new P.Hp({next:()=>{W.unsubscribe(),ne()}});return fe(...ge).subscribe(W)}},9468:(rt,Me,O)=>{O.d(Me,{R:()=>H});var a=O(4482);function H(P,ie=0){return(0,a.e)((pe,_e)=>{_e.add(P.schedule(()=>pe.subscribe(_e),ie))})}},8505:(rt,Me,O)=>{O.d(Me,{b:()=>pe});var a=O(576),H=O(4482),P=O(5403),ie=O(4671);function pe(_e,ne,fe){const ge=(0,a.m)(_e)||ne||fe?{next:_e,error:ne,complete:fe}:_e;return ge?(0,H.e)((W,z)=>{var K;null===(K=ge.subscribe)||void 0===K||K.call(ge);let ke=!0;W.subscribe((0,P.x)(z,Ee=>{var De;null===(De=ge.next)||void 0===De||De.call(ge,Ee),z.next(Ee)},()=>{var Ee;ke=!1,null===(Ee=ge.complete)||void 0===Ee||Ee.call(ge),z.complete()},Ee=>{var De;ke=!1,null===(De=ge.error)||void 0===De||De.call(ge,Ee),z.error(Ee)},()=>{var Ee,De;ke&&(null===(Ee=ge.unsubscribe)||void 0===Ee||Ee.call(ge)),null===(De=ge.finalize)||void 0===De||De.call(ge)}))}):ie.y}},4408:(rt,Me,O)=>{O.d(Me,{o:()=>pe});var a=O(727);class H extends a.w0{constructor(ne,fe){super()}schedule(ne,fe=0){return this}}const P={setInterval(_e,ne,...fe){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(_e,ne,...fe):setInterval(_e,ne,...fe)},clearInterval(_e){const{delegate:ne}=P;return(ne?.clearInterval||clearInterval)(_e)},delegate:void 0};var ie=O(8737);class pe extends H{constructor(ne,fe){super(ne,fe),this.scheduler=ne,this.work=fe,this.pending=!1}schedule(ne,fe=0){var ge;if(this.closed)return this;this.state=ne;const W=this.id,z=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(z,W,fe)),this.pending=!0,this.delay=fe,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(z,this.id,fe),this}requestAsyncId(ne,fe,ge=0){return P.setInterval(ne.flush.bind(ne,this),ge)}recycleAsyncId(ne,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(ne,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ne,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,fe){let W,ge=!1;try{this.work(ne)}catch(z){ge=!0,W=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ne,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ge,this),null!=ne&&(this.id=this.recycleAsyncId(fe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,Me,O)=>{O.d(Me,{v:()=>P});var a=O(6063);class H{constructor(pe,_e=H.now){this.schedulerActionCtor=pe,this.now=_e}schedule(pe,_e=0,ne){return new this.schedulerActionCtor(this,pe).schedule(ne,_e)}}H.now=a.l.now;class P extends H{constructor(pe,_e=H.now){super(pe,_e),this.actions=[],this._active=!1}flush(pe){const{actions:_e}=this;if(this._active)return void _e.push(pe);let ne;this._active=!0;do{if(ne=pe.execute(pe.state,pe.delay))break}while(pe=_e.shift());if(this._active=!1,ne){for(;pe=_e.shift();)pe.unsubscribe();throw ne}}}},4986:(rt,Me,O)=>{O.d(Me,{P:()=>ie,z:()=>P});var a=O(4408);const P=new(O(7565).v)(a.o),ie=P},6063:(rt,Me,O)=>{O.d(Me,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(rt,Me,O)=>{O.d(Me,{z:()=>a});const a={setTimeout(H,P,...ie){const{delegate:pe}=a;return pe?.setTimeout?pe.setTimeout(H,P,...ie):setTimeout(H,P,...ie)},clearTimeout(H){const{delegate:P}=a;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(rt,Me,O)=>{O.d(Me,{h:()=>H});const H=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,Me,O)=>{O.d(Me,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,Me,O)=>{O.d(Me,{_6:()=>_e,jO:()=>ie,yG:()=>pe});var a=O(576),H=O(3532);function P(ne){return ne[ne.length-1]}function ie(ne){return(0,a.m)(P(ne))?ne.pop():void 0}function pe(ne){return(0,H.K)(P(ne))?ne.pop():void 0}function _e(ne,fe){return"number"==typeof P(ne)?ne.pop():fe}},8737:(rt,Me,O)=>{function a(H,P){if(H){const ie=H.indexOf(P);0<=ie&&H.splice(ie,1)}}O.d(Me,{P:()=>a})},3888:(rt,Me,O)=>{function a(H){const ie=H(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(Me,{d:()=>a})},2806:(rt,Me,O)=>{O.d(Me,{O:()=>ie,x:()=>P});var a=O(2416);let H=null;function P(pe){if(a.v.useDeprecatedSynchronousErrorHandling){const _e=!H;if(_e&&(H={errorThrown:!1,error:null}),pe(),_e){const{errorThrown:ne,error:fe}=H;if(H=null,ne)throw fe}}else pe()}function ie(pe){a.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=pe)}},9672:(rt,Me,O)=>{function a(H,P,ie,pe=0,_e=!1){const ne=P.schedule(function(){ie(),_e?H.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(H.add(ne),!_e)return ne}O.d(Me,{f:()=>a})},4671:(rt,Me,O)=>{function a(H){return H}O.d(Me,{y:()=>a})},1144:(rt,Me,O)=>{O.d(Me,{z:()=>a});const a=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(rt,Me,O)=>{O.d(Me,{D:()=>H});var a=O(576);function H(P){return Symbol.asyncIterator&&(0,a.m)(P?.[Symbol.asyncIterator])}},576:(rt,Me,O)=>{function a(H){return"function"==typeof H}O.d(Me,{m:()=>a})},3670:(rt,Me,O)=>{O.d(Me,{c:()=>P});var a=O(8822),H=O(576);function P(ie){return(0,H.m)(ie[a.L])}},6495:(rt,Me,O)=>{O.d(Me,{T:()=>P});var a=O(2202),H=O(576);function P(ie){return(0,H.m)(ie?.[a.h])}},8239:(rt,Me,O)=>{O.d(Me,{t:()=>H});var a=O(576);function H(P){return(0,a.m)(P?.then)}},3260:(rt,Me,O)=>{O.d(Me,{L:()=>ie,Q:()=>P});var a=O(655),H=O(576);function P(pe){return(0,a.FC)(this,arguments,function*(){const ne=pe.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,a.qq)(ne.read());if(ge)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(fe)}}finally{ne.releaseLock()}})}function ie(pe){return(0,H.m)(pe?.getReader)}},3532:(rt,Me,O)=>{O.d(Me,{K:()=>H});var a=O(576);function H(P){return P&&(0,a.m)(P.schedule)}},4482:(rt,Me,O)=>{O.d(Me,{A:()=>H,e:()=>P});var a=O(576);function H(ie){return(0,a.m)(ie?.lift)}function P(ie){return pe=>{if(H(pe))return pe.lift(function(_e){try{return ie(_e,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,Me,O)=>{function a(){}O.d(Me,{Z:()=>a})},9635:(rt,Me,O)=>{O.d(Me,{U:()=>P,z:()=>H});var a=O(4671);function H(...ie){return P(ie)}function P(ie){return 0===ie.length?a.y:1===ie.length?ie[0]:function(_e){return ie.reduce((ne,fe)=>fe(ne),_e)}}},7849:(rt,Me,O)=>{O.d(Me,{h:()=>P});var a=O(2416),H=O(3410);function P(ie){H.z.setTimeout(()=>{const{onUnhandledError:pe}=a.v;if(!pe)throw ie;pe(ie)})}},4532:(rt,Me,O)=>{function a(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Me,{z:()=>a})},655:(rt,Me,O)=>{function ie(Q,J){var de={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&J.indexOf(oe)<0&&(de[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(oe=Object.getOwnPropertySymbols(Q);Ve<oe.length;Ve++)J.indexOf(oe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[Ve])&&(de[oe[Ve]]=Q[oe[Ve]])}return de}function fe(Q,J,de,oe){return new(de||(de=Promise))(function(Le,lt){function jt(Jt){try{je(oe.next(Jt))}catch(Tn){lt(Tn)}}function Dt(Jt){try{je(oe.throw(Jt))}catch(Tn){lt(Tn)}}function je(Jt){Jt.done?Le(Jt.value):function Ve(Le){return Le instanceof de?Le:new de(function(lt){lt(Le)})}(Jt.value).then(jt,Dt)}je((oe=oe.apply(Q,J||[])).next())})}function ve(Q){return this instanceof ve?(this.v=Q,this):new ve(Q)}function ue(Q,J,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,oe=de.apply(Q,J||[]),Le=[];return Ve={},lt("next"),lt("throw"),lt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function lt(Kt){oe[Kt]&&(Ve[Kt]=function($t){return new Promise(function(kt,mt){Le.push([Kt,$t,kt,mt])>1||jt(Kt,$t)})})}function jt(Kt,$t){try{!function Dt(Kt){Kt.value instanceof ve?Promise.resolve(Kt.value.v).then(je,Jt):Tn(Le[0][2],Kt)}(oe[Kt]($t))}catch(kt){Tn(Le[0][3],kt)}}function je(Kt){jt("next",Kt)}function Jt(Kt){jt("throw",Kt)}function Tn(Kt,$t){Kt($t),Le.shift(),Le.length&&jt(Le[0][0],Le[0][1])}}function ze(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=Q[Symbol.asyncIterator];return J?J.call(Q):(Q=function K(Q){var J="function"==typeof Symbol&&Symbol.iterator,de=J&&Q[J],oe=0;if(de)return de.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),de={},oe("next"),oe("throw"),oe("return"),de[Symbol.asyncIterator]=function(){return this},de);function oe(Le){de[Le]=Q[Le]&&function(lt){return new Promise(function(jt,Dt){!function Ve(Le,lt,jt,Dt){Promise.resolve(Dt).then(function(je){Le({value:je,done:jt})},lt)}(jt,Dt,(lt=Q[Le](lt)).done,lt.value)})}}}O.d(Me,{FC:()=>ue,KL:()=>ze,_T:()=>ie,mG:()=>fe,qq:()=>ve})},4650:(rt,Me,O)=>{O.d(Me,{$8M:()=>_c,$Z:()=>jd,AFp:()=>zp,ALo:()=>Ul,AaK:()=>fe,BQk:()=>ur,CHM:()=>Un,CRH:()=>wv,CZH:()=>$p,CqO:()=>br,D6c:()=>UI,DdM:()=>D0,EJc:()=>Wp,EiD:()=>pl,EpF:()=>uC,F$t:()=>S_,F4k:()=>D_,FYo:()=>dg,FiY:()=>oa,G48:()=>bT,Gf:()=>N0,GfV:()=>Qy,Gpc:()=>z,Gre:()=>xC,Hsn:()=>M_,Ikx:()=>$_,JOm:()=>ys,JVY:()=>bd,KtG:()=>Tt,L6k:()=>Cd,LAX:()=>wd,LFG:()=>ui,LSH:()=>Ef,Lbi:()=>mI,Lck:()=>GA,MAs:()=>iu,MMx:()=>qt,NdJ:()=>mp,O4$:()=>Jh,OlP:()=>kn,Oqu:()=>au,PXZ:()=>TI,Q6J:()=>Qr,QGY:()=>su,QP$:()=>ce,QbO:()=>Gp,Qsj:()=>Zy,R0b:()=>is,RDi:()=>gd,Rgc:()=>yu,SBq:()=>Od,Sil:()=>yI,Suo:()=>ka,TTD:()=>os,TgZ:()=>nh,Udp:()=>P_,W1O:()=>Lp,WFA:()=>A_,X6Q:()=>gw,XFs:()=>Qe,Xpm:()=>Ae,Xts:()=>tg,Y36:()=>$c,YKP:()=>sv,YNc:()=>w_,Yjl:()=>x,Yz7:()=>$t,Z0I:()=>Di,ZZ4:()=>rm,_Bn:()=>rv,_UZ:()=>Rl,_Vd:()=>Rd,_c5:()=>Mw,_uU:()=>ou,aQg:()=>zv,c2e:()=>ew,cJS:()=>mt,cg1:()=>VC,d8E:()=>z_,dDg:()=>AI,dqk:()=>ot,eBb:()=>Qm,eFA:()=>dw,ekj:()=>ch,eoX:()=>lw,f3M:()=>hf,g9A:()=>X0,h0i:()=>mu,hGG:()=>BI,hij:()=>Sa,iGM:()=>Cv,ifc:()=>it,ip1:()=>Ov,jDz:()=>g0,kL8:()=>BC,lG2:()=>R,lcZ:()=>uv,lqb:()=>Tc,lri:()=>ow,mCW:()=>g,n5z:()=>Ls,n_E:()=>Pp,oAB:()=>Ft,oxw:()=>I_,pB0:()=>bf,q3G:()=>qn,q4F:()=>Xy,qLn:()=>Fd,qOj:()=>cp,qZA:()=>ru,qzn:()=>xr,rWj:()=>aw,sBO:()=>_w,sIi:()=>Sl,s_b:()=>$l,soG:()=>Wl,tb:()=>J0,tp0:()=>aa,uIk:()=>y_,vHH:()=>De,vpe:()=>Js,wAp:()=>It,xi3:()=>Hl,xp6:()=>Mb,ynx:()=>pp,z2F:()=>Jp,z3N:()=>zr,zSh:()=>sg,zs3:()=>wl});var a=O(7579),H=O(727),P=O(9751),ie=O(6451),pe=O(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=_e({__forward_ref__:_e});function z(s){return s.__forward_ref__=z,s.toString=function(){return fe(this())},s}function K(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}class De extends Error{constructor(o,l){super(function Ye(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function xe(s,o){throw new De(-201,!1)}function Dt(s,o){null==s&&function je(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function $t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function mt(s){return{providers:s.providers||[],imports:s.imports||[]}}function un(s){return Pi(s,Nn)||Pi(s,ai)}function Di(s){return null!==un(s)}function Pi(s,o){return s.hasOwnProperty(o)?s[o]:null}function yi(s){return s&&(s.hasOwnProperty(Fn)||s.hasOwnProperty(Ai))?s[Fn]:null}const Nn=_e({\u0275prov:_e}),Fn=_e({\u0275inj:_e}),ai=_e({ngInjectableDef:_e}),Ai=_e({ngInjectorDef:_e});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let sn;function nn(s){const o=sn;return sn=s,o}function Qn(s,o,l){const u=un(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Qe.Optional?null:void 0!==o?o:void xe(fe(s))}function on(s){return{toString:s}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),it=(()=>{return(s=it||(it={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",it;var s})();const ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},vt=[],ii=_e({\u0275cmp:_e}),Ct=_e({\u0275dir:_e}),ri=_e({\u0275pipe:_e}),Pt=_e({\u0275mod:_e}),Vn=_e({\u0275fac:_e}),mn=_e({__NG_ELEMENT_ID__:_e});let qe=0;function Ae(s){return on(()=>{const l=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||it.Emulated,id:"c"+qe++,styles:s.styles||vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=j(s.inputs,u),h.outputs=j(s.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(dt).filter(_t):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map($).filter(_t):null,h})}function dt(s){return A(s)||k(s)}function _t(s){return null!==s}function Ft(s){return on(()=>({type:s.type,bootstrap:s.bootstrap||vt,declarations:s.declarations||vt,imports:s.imports||vt,exports:s.exports||vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function j(s,o){if(null==s)return Xn;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=u,o&&(o[h]=p)}return l}const R=Ae;function x(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function A(s){return s[ii]||null}function k(s){return s[Ct]||null}function $(s){return s[ri]||null}function ce(s){const o=A(s)||k(s)||$(s);return null!==o&&o.standalone}function Pe(s,o){const l=s[Pt]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function pi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Mi(s){return Array.isArray(s)&&!0===s[1]}function ir(s){return 0!=(8&s.flags)}function Dr(s){return 2==(2&s.flags)}function ss(s){return 1==(1&s.flags)}function Ki(s){return null!==s.template}function Zo(s){return 0!=(256&s[2])}function bi(s,o){return s.hasOwnProperty(Vn)?s[Vn]:null}class go{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function os(){return $a}function $a(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xo),za}function za(){const s=Os(this),o=s?.current;if(o){const l=s.previous;if(l===Xn)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Xo(s,o,l,u){const h=Os(s)||function Fi(s,o){return s[Ga]=o}(s,{previous:Xn,current:null}),p=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[l],w=_[b];p[b]=new go(w&&w.currentValue,o,_===Xn),s[u]=o}os.ngInherit=!0;const Ga="__ngSimpleChanges__";function Os(s){return s[Ga]||null}function Bn(s){for(;Array.isArray(s);)s=s[0];return s}function pr(s,o){return Bn(o[s])}function xi(s,o){return Bn(o[s.index])}function _o(s,o){return s.data[o]}function Ni(s,o){return s[o]}function an(s,o){const l=o[s];return pi(l)?l:l[0]}function us(s){return 64==(64&s[2])}function rr(s,o){return null==o?null:s[o]}function vo(s){s[18]=0}function yo(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const xt={lFrame:Gu(null),bindingsEnabled:!0};function Ge(){return xt.bindingsEnabled}function we(){return xt.lFrame.lView}function At(){return xt.lFrame.tView}function Un(s){return xt.lFrame.contextLView=s,s[8]}function Tt(s){return xt.lFrame.contextLView=null,s}function Sn(){let s=ds();for(;null!==s&&64===s.type;)s=s.parent;return s}function ds(){return xt.lFrame.currentTNode}function Ci(s,o){const l=xt.lFrame;l.currentTNode=s,l.isParent=o}function Ur(){return xt.lFrame.isParent}function Jo(){xt.lFrame.isParent=!1}function Jn(){const s=xt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Za(){return xt.lFrame.bindingIndex++}function Fs(s){const o=xt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Qh(s,o){const l=xt.lFrame;l.bindingIndex=l.bindingRootIndex=s,sc(o)}function sc(s){xt.lFrame.currentDirectiveIndex=s}function Hu(s){const o=xt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ju(){return xt.lFrame.currentQueryIndex}function $u(s){xt.lFrame.currentQueryIndex=s}function zu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Am(s,o,l){if(l&Qe.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&Qe.Host||(h=zu(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=xt.lFrame=Im();return u.currentTNode=o,u.lView=s,!0}function oc(s){const o=Im(),l=s[1];xt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Im(){const s=xt.lFrame,o=null===s?null:s.child;return null===o?Gu(s):o}function Gu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Sm(){const s=xt.lFrame;return xt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xh=Sm;function ea(){const s=Sm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Wn(){return xt.lFrame.selectedIndex}function ps(s){xt.lFrame.selectedIndex=s}function Yn(){const s=xt.lFrame;return _o(s.tView,s.selectedIndex)}function Jh(){xt.lFrame.currentNamespace="svg"}function Ka(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:T}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),w&&(s.viewHooks||(s.viewHooks=[])).push(-l,w),D&&((s.viewHooks||(s.viewHooks=[])).push(l,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,D)),null!=T&&(s.destroyHooks||(s.destroyHooks=[])).push(l,T)}}function Qa(s,o,l){qu(s,o,3,l)}function Co(s,o,l,u){(3&s[2])===l&&qu(s,o,l,u)}function Yu(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function qu(s,o,l,u){const p=u??-1,_=o.length-1;let b=0;for(let w=void 0!==u?65535&s[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(b=o[w],null!=u&&b>=u)break}else o[w]<0&&(s[18]+=65536),(b<p||-1==p)&&(ef(s,l,o,w),s[18]=(4294901760&s[18])+w+2),w++}function ef(s,o,l,u){const h=l[u]<0,p=l[u+1],b=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class mr{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function ms(s,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const p=l[u++],_=l[u++],b=l[u++];s.setAttribute(o,_,b,p)}else{const p=h,_=l[++u];Ju(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),u++}}return u}function Xu(s){return 3===s||4===s||6===s}function Ju(s){return 64===s.charCodeAt(0)}function Ja(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||tf(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function tf(s,o,l,u,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===l){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,l),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function Pm(s){return-1!==s}function wo(s){return 32767&s}function Ns(s,o){let l=function Fm(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let ed=!0;function uc(s){const o=ed;return ed=s,o}let nf=0;const Mr={};function Eo(s,o){const l=dc(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,td(u.data,s),td(o,null),td(u.blueprint,null));const h=el(s,o),p=s.injectorIndex;if(Pm(h)){const _=wo(h),b=Ns(h,o),w=b[1].data;for(let D=0;D<8;D++)o[p+D]=b[_+D]|w[_+D]}return o[p+8]=h,p}function td(s,o){s.push(0,0,0,0,0,0,0,0,o)}function dc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function el(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=gc(h),null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function tl(s,o,l){!function Lm(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(mn)&&(u=l[mn]),null==u&&(u=l[mn]=nf++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function hc(s,o,l){if(l&Qe.Optional||void 0!==s)return s;xe()}function Do(s,o,l,u){if(l&Qe.Optional&&void 0===u&&(u=null),0==(l&(Qe.Self|Qe.Host))){const h=s[9],p=nn(void 0);try{return h?h.get(o,u,l&Qe.Optional):Qn(o,u,l&Qe.Optional)}finally{nn(p)}}return hc(u,0,l)}function fc(s,o,l,u=Qe.Default,h){if(null!==s){if(1024&o[2]){const _=function Bm(s,o,l,u,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=rf(p,_,l,u|Qe.Self,Mr);if(b!==Mr)return b;let w=p.parent;if(!w){const D=_[21];if(D){const T=D.get(l,Mr,u);if(T!==Mr)return T}w=gc(_),_=_[15]}p=w}return h}(s,o,l,u,Mr);if(_!==Mr)return _}const p=rf(s,o,l,u,Mr);if(p!==Mr)return p}return Do(o,l,u,h)}function rf(s,o,l,u,h){const p=function Vm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(mn)?s[mn]:void 0;return"number"==typeof o?o>=0?255&o:lf:o}(l);if("function"==typeof p){if(!Am(o,s,u))return u&Qe.Host?hc(h,0,u):Do(o,l,u,h);try{const _=p(u);if(null!=_||u&Qe.Optional)return _;xe()}finally{Xh()}}else if("number"==typeof p){let _=null,b=dc(s,o),w=-1,D=u&Qe.Host?o[16][6]:null;for((-1===b||u&Qe.SkipSelf)&&(w=-1===b?el(s,o):o[b+8],-1!==w&&af(u,!1)?(_=o[1],b=wo(w),o=Ns(w,o)):b=-1);-1!==b;){const T=o[1];if(pc(p,b,T.data)){const V=sf(b,o,l,_,u,D);if(V!==Mr)return V}w=o[b+8],-1!==w&&af(u,o[1].data[b+8]===D)&&pc(p,b,o)?(_=T,b=wo(w),o=Ns(w,o)):b=-1}}return h}function sf(s,o,l,u,h,p){const _=o[1],b=_.data[s+8],T=il(b,_,l,null==u?Dr(b)&&ed:u!=_&&0!=(3&b.type),h&Qe.Host&&p===b);return null!==T?jr(o,_,T,b):Mr}function il(s,o,l,u,h){const p=s.providerIndexes,_=o.data,b=1048575&p,w=s.directiveStart,T=p>>20,q=h?b+T:s.directiveEnd;for(let se=u?b:b+T;se<q;se++){const Ie=_[se];if(se<w&&l===Ie||se>=w&&Ie.type===l)return se}if(h){const se=_[w];if(se&&Ki(se)&&se.type===l)return w}return null}function jr(s,o,l,u){let h=s[l];const p=o.data;if(function Zu(s){return s instanceof mr}(h)){const _=h;_.resolving&&function et(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(p[l]));const b=uc(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?nn(_.injectImpl):null;Am(s,u,Qe.Default);try{h=s[l]=_.factory(void 0,p,s,u),o.firstCreatePass&&l>=u.directiveStart&&function ac(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const _=$a(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==w&&nn(w),uc(b),_.resolving=!1,Xh()}}return h}function pc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function af(s,o){return!(s&Qe.Self||s&Qe.Host&&o)}class rl{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return fc(this._tNode,this._lView,o,u,l)}}function lf(){return new rl(Sn(),we())}function Ls(s){return on(()=>{const o=s.prototype.constructor,l=o[Vn]||mc(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[Vn]||mc(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function mc(s){return ke(s)?()=>{const o=mc(K(s));return o&&o()}:bi(s)}function gc(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function _c(s){return function nl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const p=l[h];if(Xu(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Sn(),s)}const sl="__parameters__";function ol(s,o,l){return on(()=>{const u=function cf(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const _=new h(...p);return b.annotation=_,b;function b(w,D,T){const V=w.hasOwnProperty(sl)?w[sl]:Object.defineProperty(w,sl,{value:[]})[sl];for(;V.length<=T;)V.push(null);return(V[T]=V[T]||[]).push(_),w}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class kn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=$t({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function si(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),si(u,o)):o!==s&&o.push(u)}return o}function ut(s,o){s.forEach(l=>Array.isArray(l)?ut(l,o):o(l))}function li(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function We(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vn(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function fn(s,o,l){let u=ki(s,o);return u>=0?s[1|u]=l:(u=~u,function Io(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function So(s,o){const l=ki(s,o);if(l>=0)return s[1|l]}function ki(s,o){return function df(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const p=u+(h-u>>1),_=s[p<<l];if(o===_)return p<<l;_>o?h=p:u=p+1}return~(h<<l)}(s,o,1)}const cl={},Us="__NG_DI_FLAG__",Xi="ngTempTokenPath",bc=/\n/gm,yn="__source";let ci;function $r(s){const o=ci;return ci=s,o}function ra(s,o=Qe.Default){if(void 0===ci)throw new De(-203,!1);return null===ci?Qn(s,void 0,o):ci.get(s,o&Qe.Optional?null:void 0,o)}function ui(s,o=Qe.Default){return(function xn(){return sn}()||ra)(K(s),o)}function hf(s,o=Qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ui(s,o)}function ul(s){const o=[];for(let l=0;l<s.length;l++){const u=K(s[l]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let h,p=Qe.Default;for(let _=0;_<u.length;_++){const b=u[_],w=ky(b);"number"==typeof w?-1===w?h=b.token:p|=w:h=b}o.push(ui(h,p))}else o.push(ui(u))}return o}function sa(s,o){return s[Us]=o,s.prototype[Us]=o,s}function ky(s){return s[Us]}const oa=sa(ol("Optional"),8),aa=sa(ol("SkipSelf"),4);let la,Dc;function gd(s){la=s}function ua(s){return function _d(){if(void 0===Dc&&(Dc=null,ot.trustedTypes))try{Dc=ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Dc}()?.createHTML(s)||s}class ko{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yd extends ko{getTypeName(){return"HTML"}}class _f extends ko{getTypeName(){return"Style"}}class Ic extends ko{getTypeName(){return"Script"}}class vf extends ko{getTypeName(){return"URL"}}class fl extends ko{getTypeName(){return"ResourceURL"}}function zr(s){return s instanceof ko?s.changingThisBreaksApplicationSecurity:s}function xr(s,o){const l=function yf(s){return s instanceof ko&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function bd(s){return new yd(s)}function Cd(s){return new _f(s)}function Qm(s){return new Ic(s)}function wd(s){return new vf(s)}function bf(s){return new fl(s)}class Ed{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ua(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Oy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ua(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=ua(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const _=l.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function g(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function C(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function S(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const F=C("area,br,col,hr,img,wbr"),re=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Te=C("rp,rt"),On=S(F,S(re,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),S(Te,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),S(Te,re)),vr=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ad=S(vr,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Id=C("script,style,template");class Cf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!On.hasOwnProperty(l))return this.sanitizedSomething=!0,!Id.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),_=p.name,b=_.toLowerCase();if(!Ad.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=p.value;vr[b]&&(w=g(w)),this.buf.push(" ",_,'="',ha(w),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();On.hasOwnProperty(l)&&!F.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(ha(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const wf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sd=/([^\#-~ |!])/g;function ha(s){return s.replace(/&/g,"&amp;").replace(wf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Sd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function pl(s,o){let l=null;try{fa=fa||function Sc(s){const o=new Oy(s);return function y(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new Ed(o):o}(s);let u=o?String(o):"";l=fa.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=l.innerHTML,l=fa.getInertBodyElement(u)}while(u!==p);return ua((new Cf).sanitizeChildren(pa(l)||l))}finally{if(l){const u=pa(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function pa(s){return"content"in s&&function Xm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function Ef(s){const o=function Df(){const s=we();return s&&s[12]}();return o?o.sanitize(qn.URL,s)||"":xr(s,"URL")?zr(s):g(ve(s))}const tg=new kn("ENVIRONMENT_INITIALIZER"),ng=new kn("INJECTOR",-1),Vy=new kn("INJECTOR_DEF_TYPES");class ig{get(o,l=cl){if(l===cl){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return l}}function rg(...s){return{\u0275providers:Af(0,s)}}function Af(s,...o){const l=[],u=new Set;let h;return ut(o,p=>{const _=p;Md(_,l,[],u)&&(h||(h=[]),h.push(_))}),void 0!==h&&UE(h,l),l}function UE(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];ut(h,p=>{o.push(p)})}}function Md(s,o,l,u){if(!(s=K(s)))return!1;let h=null,p=yi(s);const _=!p&&A(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const w=s.ngModule;if(p=yi(w),!p)return!1;h=w}const b=u.has(h);if(_){if(b)return!1;if(u.add(h),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const D of w)Md(D,o,l,u)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let D;u.add(h);try{ut(p.imports,T=>{Md(T,o,l,u)&&(D||(D=[]),D.push(T))})}finally{}void 0!==D&&UE(D,o)}if(!b){const D=bi(h)||(()=>new h);o.push({provide:h,useFactory:D,deps:vt},{provide:Vy,useValue:h,multi:!0},{provide:tg,useValue:()=>ui(h),multi:!0})}const w=p.providers;null==w||b||ut(w,T=>{o.push(T)})}}return h!==s&&void 0!==s.providers}const HE=_e({provide:String,useValue:_e});function By(s){return null!==s&&"object"==typeof s&&HE in s}function Mc(s){return"function"==typeof s}const sg=new kn("Set Injector scope."),og={},xM={};let jy;function ag(){return void 0===jy&&(jy=new ig),jy}class Tc{}class Td extends Tc{constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,If(o,_=>this.processProvider(_)),this.records.set(ng,ml(void 0,this)),h.has("environment")&&this.records.set(Tc,ml(void 0,this));const p=this.records.get(sg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Vy.multi,vt,Qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=$r(this),u=nn(void 0);try{return o()}finally{$r(l),nn(u)}}get(o,l=cl,u=Qe.Default){this.assertNotDestroyed();const h=$r(this),p=nn(void 0);try{if(!(u&Qe.SkipSelf)){let b=this.records.get(o);if(void 0===b){const w=function Yy(s){return"function"==typeof s||"object"==typeof s&&s instanceof kn}(o)&&un(o);b=w&&this.injectableDefInScope(w)?ml(lg(o),og):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&Qe.Self?ag():this.parent).get(o,l=u&Qe.Optional&&l===cl?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Xi]=_[Xi]||[]).unshift(fe(o)),h)throw _;return function $m(s,o,l,u){const h=s[Xi];throw o[yn]&&h.unshift(o[yn]),s.message=function ad(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):fe(b)))}h=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(bc,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Xi]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{nn(p),$r(h)}}resolveInjectorInitializers(){const o=$r(this),l=nn(void 0);try{const u=this.get(tg.multi,vt,Qe.Self);for(const h of u)h()}finally{$r(o),nn(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(fe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let l=Mc(o=K(o))?o:K(o&&o.provide);const u=function zy(s){return By(s)?ml(void 0,s.useValue):ml(cg(s),og)}(o);if(Mc(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=ml(void 0,og,!0),h.factory=()=>ul(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===og&&(l.value=xM,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Wy(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=K(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function lg(s){const o=un(s),l=null!==o?o.factory:bi(s);if(null!==l)return l;if(s instanceof kn)throw new De(204,!1);if(s instanceof Function)return function $y(s){const o=s.length;if(o>0)throw vn(o,"?"),new De(204,!1);const l=function In(s){const o=s&&(s[Nn]||s[ai]);if(o){const l=function Gn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new De(204,!1)}function cg(s,o,l){let u;if(Mc(s)){const h=K(s);return bi(h)||lg(h)}if(By(s))u=()=>K(s.useValue);else if(function Hy(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...ul(s.deps||[]));else if(function Uy(s){return!(!s||!s.useExisting)}(s))u=()=>ui(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Gy(s){return!!s.deps}(s))return bi(h)||lg(h);u=()=>new h(...ul(s.deps))}return u}function ml(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function xd(s){return!!s.\u0275providers}function If(s,o){for(const l of s)Array.isArray(l)?If(l,o):xd(l)?If(l.\u0275providers,o):o(l)}class Gr{}class Sf{resolveComponentFactory(o){throw function kd(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Rd=(()=>{class s{}return s.NULL=new Sf,s})();function Mf(){return xc(Sn(),we())}function xc(s,o){return new Od(xi(s,o))}let Od=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Mf,s})();function RM(s){return s instanceof Od?s.nativeElement:s}class dg{}let Zy=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function hg(){const s=we(),l=an(Sn().index,s);return(pi(l)?l:s)[11]}(),s})(),Ky=(()=>{class s{}return s.\u0275prov=$t({token:s,providedIn:"root",factory:()=>null}),s})();class Qy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xy=new Qy("14.2.5"),Tf={};function Oo(s){return s.ngOriginalError}class Fd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Oo(o);for(;l&&Oo(l);)l=Oo(l);return l||null}}const gg=new Map;let ib=0;const Oc="__ngContext__";function Wi(s,o){pi(o)?(s[Oc]=o[20],function kf(s){gg.set(s[20],s)}(o)):s[Oc]=o}function vs(s){return s instanceof Function?s():s}var ys=(()=>((ys=ys||{})[ys.Important=1]="Important",ys[ys.DashCase=2]="DashCase",ys))();function Pf(s,o){return undefined(s,o)}function Vd(s){const o=s[3];return Mi(o)?o[3]:o}function Ff(s){return hb(s[13])}function Dg(s){return hb(s[4])}function hb(s){for(;null!==s&&!Mi(s);)s=s[4];return s}function kr(s,o,l,u,h){if(null!=u){let p,_=!1;Mi(u)?p=u:pi(u)&&(_=!0,u=u[0]);const b=Bn(u);0===s&&null!==l?null==h?_b(o,l,b):_a(o,l,b,h||null,!0):1===s&&null!==l?_a(o,l,b,h||null,!0):2===s?function Tg(s,o,l){const u=yl(s,o);u&&function vb(s,o,l,u){s.removeChild(o,l,u)}(s,u,o,l)}(o,b,_):3===s&&o.destroyNode(b),null!=p&&function xg(s,o,l,u,h){const p=l[7];p!==Bn(l)&&kr(o,s,u,p,h);for(let b=10;b<l.length;b++){const w=l[b];Bt(w[1],w,s,o,u,p)}}(o,s,p,l,h)}}function Fc(s,o,l){return s.createElement(o,l)}function Nf(s,o){const l=s[9],u=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,yo(h,-1)),l.splice(u,1)}function Lf(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Nf(h,u),o>0&&(s[l-1][4]=u[4]);const p=We(s,10+o);!function Nc(s,o){Bt(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function mb(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Bt(s,o,l,3,null,null),function oD(s){let o=s[13];if(!o)return Vf(s[1],s);for(;o;){let l=null;if(pi(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)pi(o)&&Vf(o[1],o),o=o[3];null===o&&(o=s),pi(o)&&Vf(o[1],o),l=o&&o[4]}o=l}}(o)}}function Vf(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function gb(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof mr)){const p=l[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=h[p[_]],w=p[_+1];try{w.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function cD(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const _=l[p+1],b="function"==typeof _?_(o):Bn(o[_]),w=u[h=l[p+2]],D=l[p+3];"boolean"==typeof D?b.removeEventListener(l[p],w,D):D>=0?u[h=D]():u[h=-D].unsubscribe(),p+=2}else{const _=u[h=l[p+1]];l[p].call(_)}if(null!==u){for(let p=h+1;p<u.length;p++)(0,u[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Mi(o[3])){l!==o[3]&&Nf(l,o);const u=o[19];null!==u&&u.detachView(s)}!function ZE(s){gg.delete(s[20])}(o)}}function Ag(s,o,l){return function Ig(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===it.None||h===it.Emulated)return null}return xi(u,l)}(s,o.parent,l)}function _a(s,o,l,u,h){s.insertBefore(o,l,u,h)}function _b(s,o,l){s.appendChild(o,l)}function Sg(s,o,l,u,h){null!==u?_a(s,o,l,u,h):_b(s,o,l)}function yl(s,o){return s.parentNode(o)}function Mg(s,o,l){return cn(s,o,l)}let cn=function bn(s,o,l){return 40&s.type?xi(s,l):null};function Dn(s,o,l,u){const h=Ag(s,u,o),p=o[11],b=Mg(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let w=0;w<l.length;w++)Sg(p,h,l[w],b,!1);else Sg(p,h,l,b,!1)}function Lc(s,o){if(null!==o){const l=o.type;if(3&l)return xi(o,s);if(4&l)return bl(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Lc(s,u);{const h=s[o.index];return Mi(h)?bl(-1,h):Bn(h)}}if(32&l)return Pf(o,s)()||Bn(s[o.index]);{const u=bb(s,o);return null!==u?Array.isArray(u)?u[0]:Lc(Vd(s[16]),u):Lc(s,o.next)}}return null}function bb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function bl(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Lc(u,h)}return o[7]}function jn(s,o,l,u,h,p,_){for(;null!=l;){const b=u[l.index],w=l.type;if(_&&0===o&&(b&&Wi(Bn(b),u),l.flags|=4),64!=(64&l.flags))if(8&w)jn(s,o,l.child,u,h,p,!1),kr(o,s,h,b,p);else if(32&w){const D=Pf(l,u);let T;for(;T=D();)kr(o,s,h,T,p);kr(o,s,h,b,p)}else 16&w?Cb(s,o,u,l,h,p):kr(o,s,h,b,p);l=_?l.projectionNext:l.next}}function Bt(s,o,l,u,h,p){jn(l,u,s.firstChild,o,h,p,!1)}function Cb(s,o,l,u,h,p){const _=l[16],w=_[6].projection[u.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)kr(o,s,h,w[D],p);else jn(s,o,w,_[3],h,p,!0)}function wb(s,o,l){s.setAttribute(o,"style",l)}function kg(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Eb(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}l=h+1}}const va="ng-template";function Rg(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==Eb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Vc(s){return 4===s.type&&s.value!==va}function hD(s,o,l){return o===(4!==s.type||l?s.value:va)}function Db(s,o,l){let u=4;const h=s.attrs||[],p=function Cl(s){for(let o=0;o<s.length;o++)if(Xu(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const w=o[b];if("number"!=typeof w){if(!_)if(4&u){if(u=2|1&u,""!==w&&!hD(s,w,l)||""===w&&1===o.length){if(bs(u))return!1;_=!0}}else{const D=8&u?w:o[++b];if(8&u&&null!==s.attrs){if(!Rg(s.attrs,D,l)){if(bs(u))return!1;_=!0}continue}const V=fD(8&u?"class":w,h,Vc(s),l);if(-1===V){if(bs(u))return!1;_=!0;continue}if(""!==D){let q;q=V>p?"":h[V+1].toLowerCase();const se=8&u?q:null;if(se&&-1!==Eb(se,D,0)||2&u&&D!==q){if(bs(u))return!1;_=!0}}}}else{if(!_&&!bs(u)&&!bs(w))return!1;if(_&&bs(w))continue;_=!1,u=w|1&u}}return bs(u)||_}function bs(s){return 0==(1&s)}function fD(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Xt(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function Ab(s,o,l=!1){for(let u=0;u<o.length;u++)if(Db(s,o[u],l))return!0;return!1}function Bf(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Ud(s,o){return s?":not("+o.trim()+")":o}function Sb(s){let o=s[0],l=1,u=2,h="",p=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&u){const b=s[++l];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!bs(_)&&(o+=Ud(p,h),h=""),u=_,p=p||!bs(u);l++}return""!==h&&(o+=Ud(p,h)),o}const wt={};function Mb(s){lr(At(),we(),Wn()+s,!1)}function lr(s,o,l,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Qa(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Co(o,p,0,l)}ps(l)}function Ng(s,o=null,l=null,u){const h=Ob(s,o,l,u);return h.resolveInjectorInitializers(),h}function Ob(s,o=null,l=null,u,h=new Set){const p=[l||vt,rg(s)];return u=u||("object"==typeof s?void 0:fe(s)),new Td(p,o||ag(),u||null,h)}let wl=(()=>{class s{static create(l,u){if(Array.isArray(l))return Ng({name:""},u,l,"");{const h=l.name??"";return Ng({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=cl,s.NULL=new ig,s.\u0275prov=$t({token:s,providedIn:"any",factory:()=>ui(ng)}),s.__NG_ELEMENT_ID__=-1,s})();function $c(s,o=Qe.Default){const l=we();return null===l?ui(s,o):fc(Sn(),l,K(s),o)}function jd(){throw new Error("invalid")}function zf(s,o){return s<<17|o<<2}function Cs(s){return s>>17&32767}function $d(s){return 2|s}function No(s){return(131068&s)>>2}function zc(s,o){return-131069&s|o<<2}function Wf(s){return 1|s}function Il(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],p=l[u+1];if(-1!==p){const _=s.data[p];$u(h),_.contentQueries(2,o[p],p)}}}function Jf(s,o,l,u,h,p,_,b,w,D,T){const V=o.blueprint.slice();return V[0]=h,V[2]=76|u,(null!==T||s&&1024&s[2])&&(V[2]|=1024),vo(V),V[3]=V[15]=s,V[8]=l,V[10]=_||s&&s[10],V[11]=b||s&&s[11],V[12]=w||s&&s[12]||null,V[9]=D||s&&s[9]||null,V[6]=p,V[20]=function _g(){return ib++}(),V[21]=T,V[16]=2==o.type?s[16]:V,V}function Zc(s,o,l,u,h){let p=s.data[o];if(null===p)p=function i_(s,o,l,u,h){const p=ds(),_=Ur(),w=s.data[o]=function l_(s,o,l,u,h,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(s,o,l,u,h),function Kh(){return xt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=u,p.attrs=h;const _=function hs(){const s=xt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Ci(p,!0),p}function Kc(s,o,l,u){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function r_(s,o,l){oc(o);try{const u=s.viewQuery;null!==u&&m_(1,u,l);const h=s.template;null!==h&&jb(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Il(s,o),s.staticViewQueries&&m_(2,s.viewQuery,l);const p=s.components;null!==p&&function Xf(s,o){for(let l=0;l<o.length;l++)Qb(s,o[l])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ea()}}function ep(s,o,l,u){const h=o[2];if(128!=(128&h)){oc(o);try{vo(o),function qa(s){return xt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&jb(s,o,l,2,u);const _=3==(3&h);if(_){const D=s.preOrderCheckHooks;null!==D&&Qa(o,D,null)}else{const D=s.preOrderHooks;null!==D&&Co(o,D,0,null),Yu(o,0)}if(function Kb(s){for(let o=Ff(s);null!==o;o=Dg(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],p=h[3];0==(512&h[2])&&yo(p,1),h[2]|=512}}}(o),function ND(s){for(let o=Ff(s);null!==o;o=Dg(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];us(u)&&ep(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Il(s,o),_){const D=s.contentCheckHooks;null!==D&&Qa(o,D)}else{const D=s.contentHooks;null!==D&&Co(o,D,1),Yu(o,1)}!function n_(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)ps(~h);else{const p=h,_=l[++u],b=l[++u];Qh(_,p),b(2,o[p])}}}finally{ps(-1)}}(s,o);const b=s.components;null!==b&&function Hb(s,o){for(let l=0;l<o.length;l++)LD(s,o[l])}(o,b);const w=s.viewQuery;if(null!==w&&m_(2,w,u),_){const D=s.viewCheckHooks;null!==D&&Qa(o,D)}else{const D=s.viewHooks;null!==D&&Co(o,D,2),Yu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,yo(o[3],-1))}finally{ea()}}}function jb(s,o,l,u,h){const p=Wn(),_=2&u;try{ps(-1),_&&o.length>22&&lr(s,o,22,!1),l(u,h)}finally{ps(p)}}function s_(s,o,l){if(ir(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,l[p],p)}}}function tp(s,o,l){!Ge()||(function RD(s,o,l,u){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||Eo(l,o),Wi(u,o);const _=l.initialInputs;for(let b=h;b<p;b++){const w=s.data[b],D=Ki(w);D&&f_(o,l,w);const T=jr(o,s,b,l);Wi(T,o),null!==_&&PD(0,b-h,T,w,0,_),D&&(an(l.index,o)[8]=T)}}(s,o,l,xi(l,o)),128==(128&l.flags)&&function OD(s,o,l){const u=l.directiveStart,h=l.directiveEnd,p=l.index,_=function Sy(){return xt.lFrame.currentDirectiveIndex}();try{ps(p);for(let b=u;b<h;b++){const w=s.data[b],D=o[b];sc(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Gb(w,D)}}finally{ps(-1),sc(_)}}(s,o,l))}function o_(s,o,l=xi){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],b=-1===_?l(o,s):s[_];s[h++]=b}}}function $b(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=a_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function a_(s,o,l,u,h,p,_,b,w,D){const T=22+u,V=T+h,q=function SD(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:wt);return l}(T,V),se="function"==typeof D?D():D;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:b,declTNode:o,data:q.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:se,incompleteFirstPass:!1}}function Gd(s,o,l,u){const h=sp(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&g_(s).push(u,h.length-1))}function c_(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Wd(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,_=[];let b=null,w=null;for(let D=o.directiveStart;D<u;D++){const T=h[D],V=T.inputs,q=null===p||Vc(o)?null:FD(V,p);_.push(q),b=c_(V,D,b),w=c_(T.outputs,D,w)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=w}function cr(s,o,l,u,h,p,_,b){const w=xi(o,l);let T,D=o.inputs;!b&&null!=D&&(T=D[u])?(op(s,l,T,u,h),Dr(o)&&u_(l,o.index)):3&o.type&&(u=function TD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=_?_(h,o.value||"",u):h,p.setProperty(w,u,h))}function u_(s,o){const l=an(o,s);16&l[2]||(l[2]|=32)}function np(s,o,l,u){let h=!1;if(Ge()){const p=function Wb(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];Ab(l,_.selectors,!1)&&(h||(h=[]),tl(Eo(l,o),s,_.type),Ki(_)?(Yd(s,l),h.unshift(_)):h.push(_))}return h}(s,o,l),_=null===u?null:{"":-1};if(null!==p){h=!0,qb(l,s.data.length,p.length);for(let T=0;T<p.length;T++){const V=p[T];V.providersResolver&&V.providersResolver(V)}let b=!1,w=!1,D=Kc(s,o,p.length,null);for(let T=0;T<p.length;T++){const V=p[T];l.mergedAttrs=Ja(l.mergedAttrs,V.hostAttrs),h_(s,l,o,D,V),Yb(D,V,_),null!==V.contentQueries&&(l.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(l.flags|=128);const q=V.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!w&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),w=!0),D++}Wd(s,l)}_&&function d_(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new De(-301,!1);u.push(o[h],p)}}}(l,u,_)}return l.mergedAttrs=Ja(l.mergedAttrs,l.attrs),h}function ip(s,o,l,u,h,p){const _=p.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const w=~o.index;(function kD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=w&&b.push(w),b.push(u,h,_)}}function Gb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Yd(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Yb(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Ki(o)&&(l[""]=s)}}function qb(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function h_(s,o,l,u,h){s.data[u]=h;const p=h.factory||(h.factory=bi(h.type)),_=new mr(p,Ki(h),$c);s.blueprint[u]=_,l[u]=_,ip(s,o,0,u,Kc(s,l,h.hostVars,wt),h)}function f_(s,o,l){const u=xi(o,s),h=$b(l),p=s[10],_=qd(s,Jf(s,h,null,l.onPush?32:16,u,o,p,p.createRenderer(u,l),null,null,null));s[o.index]=_}function Ws(s,o,l,u,h,p){const _=xi(s,o);!function p_(s,o,l,u,h,p,_){if(null==p)s.removeAttribute(o,h,l);else{const b=null==_?ve(p):_(p,u||"",h);s.setAttribute(o,h,b,l)}}(o[11],_,p,s.value,l,u,h)}function PD(s,o,l,u,h,p){const _=p[o];if(null!==_){const b=u.setInput;for(let w=0;w<_.length;){const D=_[w++],T=_[w++],V=_[w++];null!==b?u.setInput(l,V,D,T):l[T]=V}}}function FD(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function Zb(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function LD(s,o){const l=an(o,s);if(us(l)){const u=l[1];48&l[2]?ep(u,l,u.template,l[8]):l[5]>0&&rp(l)}}function rp(s){for(let u=Ff(s);null!==u;u=Dg(u))for(let h=10;h<u.length;h++){const p=u[h];if(us(p))if(512&p[2]){const _=p[1];ep(_,p,_.template,p[8])}else p[5]>0&&rp(p)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=an(l[u],s);us(h)&&h[5]>0&&rp(h)}}function Qb(s,o){const l=an(o,s),u=l[1];(function VD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),r_(u,l,l[8])}function qd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Qc(s){for(;s;){s[2]|=32;const o=Vd(s);if(Zo(s)&&!o)return s;s=o}return null}function Zd(s,o,l,u=!0){const h=o[10];h.begin&&h.begin();try{ep(s,o,s.template,l)}catch(_){throw u&&Jb(o,_),_}finally{h.end&&h.end()}}function m_(s,o,l){$u(0),o(s,l)}function sp(s){return s[7]||(s[7]=[])}function g_(s){return s.cleanup||(s.cleanup=[])}function Xb(s,o,l){return(null===s||Ki(s))&&(l=function ic(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Jb(s,o){const l=s[9],u=l?l.get(Fd,null):null;u&&u.handleError(o)}function op(s,o,l,u,h){for(let p=0;p<l.length;){const _=l[p++],b=l[p++],w=o[_],D=s.data[_];null!==D.setInput?D.setInput(w,h,u,b):w[b]=h}}function Kd(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?h=ge(h,b):2==p&&(u=ge(u,b+": "+o[++_]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}function Qd(s,o,l,u,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&u.push(Bn(p)),Mi(p))for(let b=10;b<p.length;b++){const w=p[b],D=w[1].firstChild;null!==D&&Qd(w[1],w,D,u)}const _=l.type;if(8&_)Qd(s,o,l.child,u);else if(32&_){const b=Pf(l,o);let w;for(;w=b();)u.push(w)}else if(16&_){const b=bb(o,l);if(Array.isArray(b))u.push(...b);else{const w=Vd(o[16]);Qd(w[1],w,b,u,!0)}}l=h?l.projectionNext:l.next}return u}class Zr{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Qd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Mi(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Lf(o,u),We(l,u))}this._attachedToViewContainer=!1}mb(this._lView[1],this._lView)}onDestroy(o){Gd(this._lView[1],this._lView,null,o)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sD(s,o){Bt(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class ap extends Zr{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Zd(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Xc extends Rd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=A(o);return new Jc(l,this.ngModule)}}function eC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class UD{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){const h=this.injector.get(o,Tf,u);return h!==Tf||l===Tf?h:this.parentInjector.get(o,l,u)}}class Jc extends Gr{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function js(s){return s.map(Sb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return eC(this.componentDef.inputs)}get outputs(){return eC(this.componentDef.outputs)}create(o,l,u,h){let p=(h=h||this.ngModule)instanceof Tc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new UD(o,p):o,b=_.get(dg,null);if(null===b)throw new De(407,!1);const w=_.get(Ky,null),D=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",V=u?function MD(s,o,l){return s.selectRootElement(o,l===it.ShadowDom)}(D,u,this.componentDef.encapsulation):Fc(b.createRenderer(null,this.componentDef),T,function BD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(T)),q=this.componentDef.onPush?288:272,se=a_(0,null,null,1,0,null,null,null,null,null),Ie=Jf(null,se,null,q,null,null,b,D,w,_,null);let He,Ze;oc(Ie);try{const tt=function HD(s,o,l,u,h,p){const _=l[1];l[22]=s;const w=Zc(_,22,2,"#host",null),D=w.mergedAttrs=o.hostAttrs;null!==D&&(Kd(w,D,!0),null!==s&&(ms(h,s,D),null!==w.classes&&kg(h,s,w.classes),null!==w.styles&&wb(h,s,w.styles)));const T=u.createRenderer(s,o),V=Jf(l,$b(o),null,o.onPush?32:16,l[22],w,u,T,p||null,null,null);return _.firstCreatePass&&(tl(Eo(w,l),_,o.type),Yd(_,w),qb(w,l.length,1)),qd(l,V),l[22]=V}(V,this.componentDef,Ie,b,D);if(V)if(u)ms(D,V,["ng-version",Xy.full]);else{const{attrs:Et,classes:Fe}=function Uf(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&l.push(p);else{if(!bs(h))break;h=p}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Et&&ms(D,V,Et),Fe&&Fe.length>0&&kg(D,V,Fe.join(" "))}if(Ze=_o(se,22),void 0!==l){const Et=Ze.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const St=l[Fe];Et.push(null!=St?Array.from(St):null)}}He=function jD(s,o,l,u){const h=l[1],p=function xD(s,o,l){const u=Sn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),h_(s,u,o,Kc(s,o,1,null),l),Wd(s,u));const h=jr(o,s,u.directiveStart,u);Wi(h,o);const p=xi(u,o);return p&&Wi(p,o),h}(h,l,o);if(s[8]=l[8]=p,null!==u)for(const b of u)b(p,o);if(o.contentQueries){const b=Sn();o.contentQueries(1,p,b.directiveStart)}const _=Sn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ps(_.index),ip(l[1],_,0,_.directiveStart,_.directiveEnd,o),Gb(o,p)),p}(tt,this.componentDef,Ie,[$D]),r_(se,Ie,null)}finally{ea()}return new Ca(this.componentType,He,xc(Ze,Ie),Ie,Ze)}}class Ca extends class kM{}{constructor(o,l,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new ap(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const p=this._rootLView;op(p[1],p,h,o,l),u_(p,this._tNode.index)}}get injector(){return new rl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $D(){const s=Sn();Ka(we()[1],s)}function cp(s){let o=function Xd(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Ki(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);h=o.\u0275dir}if(h){if(l){u.push(h);const _=s;_.inputs=Jd(s.inputs),_.declaredInputs=Jd(s.declaredInputs),_.outputs=Jd(s.outputs);const b=h.hostBindings;b&&eu(s,b);const w=h.viewQuery,D=h.contentQueries;if(w&&up(s,w),D&&GD(s,D),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Ki(h)&&h.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(s),b===cp&&(l=!1)}}o=Object.getPrototypeOf(o)}!function zD(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Ja(h.hostAttrs,l=Ja(l,h.hostAttrs))}}(u)}function Jd(s){return s===Xn?{}:s===vt?[]:s}function up(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function GD(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,p)=>{o(u,h,p),l(u,h,p)}:o}function eu(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let wa=null;function Ys(){if(!wa){const s=ot.Symbol;if(s&&s.iterator)wa=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(wa=u)}}}return wa}function Sl(s){return!!Ml(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ys()in s)}function Ml(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function qs(s,o,l){return s[o]=l}function Bi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function y_(s,o,l,u){const h=we();return Bi(h,Za(),o)&&(At(),Ws(Yn(),h,s,o,l,u)),y_}function Tl(s,o,l,u){return Bi(s,Za(),l)?o+ve(l)+u:wt}function w_(s,o,l,u,h,p,_,b){const w=we(),D=At(),T=s+22,V=D.firstCreatePass?function fp(s,o,l,u,h,p,_,b,w){const D=o.consts,T=Zc(o,s,4,_||null,rr(D,b));np(o,l,T,rr(D,w)),Ka(o,T);const V=T.tViews=a_(2,T,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,T),V.queries=o.queries.embeddedTView(T)),T}(T,D,w,o,l,u,h,p,_):D.data[T];Ci(V,!1);const q=w[11].createComment("");Dn(D,w,q,V),Wi(q,w),qd(w,w[T]=Zb(q,w,q,V)),ss(V)&&tp(D,w,V),null!=_&&o_(w,V,b)}function iu(s){return Ni(function fs(){return xt.lFrame.contextLView}(),22+s)}function Qr(s,o,l){const u=we();return Bi(u,Za(),o)&&cr(At(),Yn(),u,s,o,u[11],l,!1),Qr}function kl(s,o,l,u,h){const _=h?"class":"style";op(s,l,o.inputs[_],_,u)}function nh(s,o,l,u){const h=we(),p=At(),_=22+s,b=h[11],w=h[_]=Fc(b,o,function Wu(){return xt.lFrame.currentNamespace}()),D=p.firstCreatePass?function ZD(s,o,l,u,h,p,_){const b=o.consts,D=Zc(o,s,2,h,rr(b,p));return np(o,l,D,rr(b,_)),null!==D.attrs&&Kd(D,D.attrs,!1),null!==D.mergedAttrs&&Kd(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,p,h,0,o,l,u):p.data[_];Ci(D,!0);const T=D.mergedAttrs;null!==T&&ms(b,w,T);const V=D.classes;null!==V&&kg(b,w,V);const q=D.styles;return null!==q&&wb(b,w,q),64!=(64&D.flags)&&Dn(p,h,w,D),0===function Z(){return xt.lFrame.elementDepthCount}()&&Wi(w,h),function he(){xt.lFrame.elementDepthCount++}(),ss(D)&&(tp(p,h,D),s_(p,D,h)),null!==u&&o_(h,D),nh}function ru(){let s=Sn();Ur()?Jo():(s=s.parent,Ci(s,!1));const o=s;!function Ne(){xt.lFrame.elementDepthCount--}();const l=At();return l.firstCreatePass&&(Ka(l,s),ir(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function lc(s){return 0!=(16&s.flags)}(o)&&kl(l,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function cc(s){return 0!=(32&s.flags)}(o)&&kl(l,o,we(),o.stylesWithoutHost,!1),ru}function Rl(s,o,l,u){return nh(s,o,l,u),ru(),Rl}function pp(s,o,l){const u=we(),h=At(),p=s+22,_=h.firstCreatePass?function ih(s,o,l,u,h){const p=o.consts,_=rr(p,u),b=Zc(o,s,8,"ng-container",_);return null!==_&&Kd(b,_,!0),np(o,l,b,rr(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,u,o,l):h.data[p];Ci(_,!0);const b=u[p]=u[11].createComment("");return Dn(h,u,b,_),Wi(b,u),ss(_)&&(tp(h,u,_),s_(h,_,u)),null!=l&&o_(u,_),pp}function ur(){let s=Sn();const o=At();return Ur()?Jo():(s=s.parent,Ci(s,!1)),o.firstCreatePass&&(Ka(o,s),ir(s)&&o.queries.elementEnd(s)),ur}function uC(){return we()}function su(s){return!!s&&"function"==typeof s.then}function D_(s){return!!s&&"function"==typeof s.subscribe}const br=D_;function mp(s,o,l,u){const h=we(),p=At(),_=Sn();return hC(p,h,h[11],_,s,o,0,u),mp}function A_(s,o){const l=Sn(),u=we(),h=At();return hC(h,u,Xb(Hu(h.data),l,u),l,s,o),A_}function hC(s,o,l,u,h,p,_,b){const w=ss(u),T=s.firstCreatePass&&g_(s),V=o[8],q=sp(o);let se=!0;if(3&u.type||b){const Ze=xi(u,o),tt=b?b(Ze):Ze,Et=q.length,Fe=b?Cn=>b(Bn(Cn[u.index])):u.index;let St=null;if(!b&&w&&(St=function dC(s,o,l,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===l&&h[p+1]===u){const b=o[7],w=h[p+2];return b.length>w?b[w]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,u.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=p,St.__ngLastListenerFn__=p,se=!1;else{p=pC(u,o,V,p,!1);const Cn=l.listen(tt,h,p);q.push(p,Cn),T&&T.push(h,Fe,Et,Et+1)}}else p=pC(u,o,V,p,!1);const Ie=u.outputs;let He;if(se&&null!==Ie&&(He=Ie[h])){const Ze=He.length;if(Ze)for(let tt=0;tt<Ze;tt+=2){const Zn=o[He[tt]][He[tt+1]].subscribe(p),qo=q.length;q.push(p,Zn),T&&T.push(h,u.index,qo,-(qo+1))}}}function fC(s,o,l,u){try{return!1!==l(u)}catch(h){return Jb(s,h),!1}}function pC(s,o,l,u,h){return function p(_){if(_===Function)return u;Qc(2&s.flags?an(s.index,o):o);let w=fC(o,0,u,_),D=p.__ngNextListenerFn__;for(;D;)w=fC(o,0,D,_)&&w,D=D.__ngNextListenerFn__;return h&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function I_(s=1){return function bo(s){return(xt.lFrame.contextLView=function Mm(s,o){for(;s>0;)o=o[15],s--;return o}(s,xt.lFrame.contextLView))[8]}(s)}function rh(s,o){let l=null;const u=function Ib(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?Ab(s,p,!0):Bf(u,p))return h}else l=h}return l}function S_(s){const o=we()[16][6];if(!o.projection){const u=o.projection=vn(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const _=s?rh(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:u[_]=p,h[_]=p),p=p.next}}}function M_(s,o=0,l){const u=we(),h=At(),p=Zc(h,22+s,16,null,l||null);null===p.projection&&(p.projection=o),Jo(),64!=(64&p.flags)&&function ar(s,o,l){Cb(o[11],0,o,l,Ag(s,l,o),Mg(l.parent||o[6],l,o))}(h,u,p)}function k_(s,o,l,u,h){const p=s[l+1],_=null===o;let b=u?Cs(p):No(p),w=!1;for(;0!==b&&(!1===w||_);){const T=s[b+1];QD(s[b],o)&&(w=!0,s[b+1]=u?Wf(T):$d(T)),b=u?Cs(T):No(T)}w&&(s[l+1]=u?$d(p):Wf(p))}function QD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ki(s,o)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uo(s){return s.substring(ti.key,ti.keyEnd)}function ah(s,o){const l=ti.textEnd;return l===o?-1:(o=ti.keyEnd=function wC(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ti.key=o,l),Pl(s,o,l))}function Pl(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function P_(s,o,l){return Jr(s,o,l,!1),P_}function ch(s,o){return Jr(s,o,null,!0),ch}function Xr(s,o){for(let l=function R_(s){return function CC(s){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=s.length}(s),ah(s,Pl(s,0,ti.textEnd))}(o);l>=0;l=ah(o,l))fn(s,Uo(o),!0)}function Jr(s,o,l,u){const h=we(),p=At(),_=Fs(2);p.firstUpdatePass&&Ho(p,s,_,u),o!==wt&&Bi(h,_,o)&&bp(p,p.data[Wn()],h,h[11],s,h[_+1]=function tA(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(zr(s)))),s}(o,l),u,_)}function uh(s,o){return o>=s.expandoStartIndex}function Ho(s,o,l,u){const h=s.data;if(null===h[l+1]){const p=h[Wn()],_=uh(s,l);TC(p,u)&&null===o&&!_&&(o=!1),o=function vp(s,o,l,u){const h=Hu(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=ws(l=yp(null,s,o,l,u),o.attrs,u),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(l=yp(h,s,o,l,u),null===p){let w=function es(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==No(u))return s[Cs(u)]}(s,o,u);void 0!==w&&Array.isArray(w)&&(w=yp(null,s,o,w[1],u),w=ws(w,o.attrs,u),function Fl(s,o,l,u){s[Cs(l?o.classBindings:o.styleBindings)]=u}(s,o,u,w))}else p=function IC(s,o,l){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=ws(u,s[p].hostAttrs,l);return ws(u,o.attrs,l)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,u),function KD(s,o,l,u,h,p){let _=p?o.classBindings:o.styleBindings,b=Cs(_),w=No(_);s[u]=l;let T,D=!1;if(Array.isArray(l)){const V=l;T=V[1],(null===T||ki(V,T)>0)&&(D=!0)}else T=l;if(h)if(0!==w){const q=Cs(s[b+1]);s[u+1]=zf(q,b),0!==q&&(s[q+1]=zc(s[q+1],u)),s[b+1]=function CD(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=zf(b,0),0!==b&&(s[b+1]=zc(s[b+1],u)),b=u;else s[u+1]=zf(w,0),0===b?b=u:s[w+1]=zc(s[w+1],u),w=u;D&&(s[u+1]=$d(s[u+1])),k_(s,T,u,!0),k_(s,T,u,!1),function x_(s,o,l,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ki(p,o)>=0&&(l[u+1]=Wf(l[u+1]))}(o,T,s,u,p),_=zf(b,w),p?o.classBindings=_:o.styleBindings=_}(h,p,o,l,_,u)}}function yp(s,o,l,u,h){let p=null;const _=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<_&&(p=o[b],u=ws(u,p.hostAttrs,h),p!==s);)b++;return null!==s&&(l.directiveStylingLast=b),u}function ws(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fn(s,_,!!l||o[++p]))}return void 0===s?null:s}function bp(s,o,l,u,h,p,_,b){if(!(3&o.type))return;const w=s.data,D=w[b+1];Cp(function zg(s){return 1==(1&s)}(D)?MC(w,o,l,h,No(D),_):void 0)||(Cp(p)||function Gf(s){return 2==(2&s)}(D)&&(p=MC(w,null,l,h,b,_)),function Wr(s,o,l,u,h){if(o)h?s.addClass(l,u):s.removeClass(l,u);else{let p=-1===u.indexOf("-")?void 0:ys.DashCase;null==h?s.removeStyle(l,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ys.Important),s.setStyle(l,u,h,p))}}(u,_,pr(Wn(),l),h,p))}function MC(s,o,l,u,h,p){const _=null===o;let b;for(;h>0;){const w=s[h],D=Array.isArray(w),T=D?w[1]:w,V=null===T;let q=l[h+1];q===wt&&(q=V?vt:void 0);let se=V?So(q,u):T===u?q:void 0;if(D&&!Cp(se)&&(se=So(w,u)),Cp(se)&&(b=se,_))return b;const Ie=s[h+1];h=_?Cs(Ie):No(Ie)}if(null!==o){let w=p?o.residualClasses:o.residualStyles;null!=w&&(b=So(w,u))}return b}function Cp(s){return void 0!==s}function TC(s,o){return 0!=(s.flags&(o?16:32))}function ou(s,o=""){const l=we(),u=At(),h=s+22,p=u.firstCreatePass?Zc(u,h,1,o,null):u.data[h],_=l[h]=function Bd(s,o){return s.createText(o)}(l[11],o);Dn(u,l,_,p),Ci(p,!1)}function au(s){return Sa("",s,""),au}function Sa(s,o,l){const u=we(),h=Tl(u,s,o,l);return h!==wt&&function er(s,o,l){const u=pr(o,s);!function fb(s,o,l){s.setValue(o,l)}(s[11],u,l)}(u,Wn(),h),Sa}function xC(s,o,l){!function ni(s,o,l,u){const h=At(),p=Fs(2);h.firstUpdatePass&&Ho(h,null,p,u);const _=we();if(l!==wt&&Bi(_,p,l)){const b=h.data[Wn()];if(TC(b,u)&&!uh(h,p)){let w=u?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(l=ge(w,l||"")),kl(h,b,_,l,u)}else!function eA(s,o,l,u,h,p,_,b){h===wt&&(h=vt);let w=0,D=0,T=0<h.length?h[0]:null,V=0<p.length?p[0]:null;for(;null!==T||null!==V;){const q=w<h.length?h[w+1]:void 0,se=D<p.length?p[D+1]:void 0;let He,Ie=null;T===V?(w+=2,D+=2,q!==se&&(Ie=V,He=se)):null===V||null!==T&&T<V?(w+=2,Ie=T):(D+=2,Ie=V,He=se),null!==Ie&&bp(s,o,l,u,Ie,He,_,b),T=w<h.length?h[w]:null,V=D<p.length?p[D]:null}}(h,b,_,_[11],_[p+1],_[p+1]=function ZM(s,o,l){if(null==l||""===l)return vt;const u=[],h=zr(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,p)}}(fn,Xr,Tl(we(),s,o,l),!0)}function $_(s,o,l){const u=we();return Bi(u,Za(),o)&&cr(At(),Yn(),u,s,o,u[11],l,!0),$_}function z_(s,o,l){const u=we();if(Bi(u,Za(),o)){const p=At(),_=Yn();cr(p,_,u,s,o,Xb(Hu(p.data),_,u),l,!0)}return z_}const Nl=void 0;var LC=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vA(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let lu={};function VC(s){const o=function bA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=UC(o);if(l)return l;const u=o.split("-")[0];if(l=UC(u),l)return l;if("en"===u)return LC;throw new De(701,!1)}function BC(s){return VC(s)[It.PluralCase]}function UC(s){return s in lu||(lu[s]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[s]),lu[s]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const cu="en-US";let HC=cu;function Sp(s,o,l,u,h){if(s=K(s),Array.isArray(s))for(let p=0;p<s.length;p++)Sp(s[p],o,l,u,h);else{const p=At(),_=we();let b=Mc(s)?s:K(s.provide),w=cg(s);const D=Sn(),T=1048575&D.providerIndexes,V=D.directiveStart,q=D.providerIndexes>>20;if(Mc(s)||!s.multi){const se=new mr(w,h,$c),Ie=Xs(b,o,h?T:T+q,V);-1===Ie?(tl(Eo(D,_),p,b),p0(p,s,o.length),o.push(b),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(se),_.push(se)):(l[Ie]=se,_[Ie]=se)}else{const se=Xs(b,o,T+q,V),Ie=Xs(b,o,T,T+q),He=se>=0&&l[se],Ze=Ie>=0&&l[Ie];if(h&&!Ze||!h&&!He){tl(Eo(D,_),p,b);const tt=function m0(s,o,l,u,h){const p=new mr(s,l,$c);return p.multi=[],p.index=o,p.componentProviders=0,ji(p,h,u&&!l),p}(h?zA:nv,l.length,h,u,w);!h&&Ze&&(l[Ie].providerFactory=tt),p0(p,s,o.length,0),o.push(b),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(tt),_.push(tt)}else p0(p,s,se>-1?se:Ie,ji(l[h?Ie:se],w,!h&&u));!h&&u&&Ze&&l[Ie].componentProviders++}}}function p0(s,o,l,u){const h=Mc(o),p=function TM(s){return!!s.useClass}(o);if(h||p){const w=(p?K(o.useClass):o).prototype.ngOnDestroy;if(w){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const T=D.indexOf(l);-1===T?D.push(l,[u,w]):D[T+1].push(u,w)}else D.push(l,w)}}}function ji(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Xs(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function nv(s,o,l,u){return iv(this.multi,[])}function zA(s,o,l,u){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=jr(l,l[1],this.providerFactory.index,u);p=b.slice(0,_),iv(h,p);for(let w=_;w<b.length;w++)p.push(b[w])}else p=[],iv(h,p);return p}function iv(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function rv(s,o=[]){return l=>{l.providersResolver=(u,h)=>function f0(s,o,l){const u=At();if(u.firstCreatePass){const h=Ki(s);Sp(l,u.data,u.blueprint,h,!0),Sp(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class mu{}class sv{}function GA(s,o){return new ov(s,o??null)}class ov extends mu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xc(this);const u=Pe(o);this._bootstrapComponents=vs(u.bootstrap),this._r3Injector=Ob(o,l,[{provide:mu,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gu extends sv{constructor(o){super(),this.moduleType=o}create(o){return new ov(this.moduleType,o)}}class Vl extends mu{constructor(o,l,u){super(),this.componentFactoryResolver=new Xc(this),this.instance=null;const h=new Td([...o,{provide:mu,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],l||ag(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function qt(s,o,l=null){return new Vl(s,o,l).injector}let fh=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=Af(0,l.type),h=u.length>0?qt([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=$t({token:s,providedIn:"environment",factory:()=>new s(ui(Tc))}),s})();function g0(s){s.getStandaloneInjector=o=>o.get(fh).getOrCreateStandaloneInjector(s)}function D0(s,o,l){const u=Jn()+s,h=we();return h[u]===wt?qs(h,u,l?o.call(l):o()):function eh(s,o){return s[o]}(h,u)}function Op(s,o){const l=s[o];return l===wt?void 0:l}function I0(s,o,l,u,h,p,_){const b=o+l;return function Vo(s,o,l,u){const h=Bi(s,o,l);return Bi(s,o+1,u)||h}(s,b,h,p)?qs(s,b+2,_?u.call(_,h,p):u(h,p)):Op(s,b+2)}function Ul(s,o){const l=At();let u;const h=s+22;l.firstCreatePass?(u=function M0(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const p=u.factory||(u.factory=bi(u.type)),_=nn($c);try{const b=uc(!1),w=p();return uc(b),function qD(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,we(),h,w),w}finally{nn(_)}}function uv(s,o,l){const u=s+22,h=we(),p=Ni(h,u);return gh(h,u)?function A0(s,o,l,u,h,p){const _=o+l;return Bi(s,_,h)?qs(s,_+1,p?u.call(p,h):u(h)):Op(s,_+1)}(h,Jn(),o,p.transform,l,p):p.transform(l)}function Hl(s,o,l,u){const h=s+22,p=we(),_=Ni(p,h);return gh(p,h)?I0(p,Jn(),o,_.transform,l,u,_):_.transform(l,u)}function gh(s,o){return s[1].data[o].pure}function jl(s){return o=>{setTimeout(s,void 0,o)}}const Js=class dv extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,p=l||(()=>null),_=u;if(o&&"object"==typeof o){const w=o;h=w.next?.bind(w),p=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(p=jl(p),h&&(h=jl(h)),_&&(_=jl(_)));const b=super.subscribe({next:h,error:p,complete:_});return o instanceof H.w0&&o.add(b),b}};function hv(){return this._results[Ys()]()}class Pp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ys(),u=Pp.prototype;u[l]||(u[l]=hv)}get changes(){return this._changes||(this._changes=new Js)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=si(o);(this._changesDetected=!function vc(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yu=(()=>{class s{}return s.__NG_ELEMENT_ID__=fv,s})();const x0=yu,Wo=class extends x0{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o,l){const u=this._declarationTContainer.tViews,h=Jf(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(u)),r_(u,h,o),new Zr(h)}};function fv(){return eo(Sn(),we())}function eo(s,o){return 4&s.type?new Wo(o,s,xc(s,o)):null}let $l=(()=>{class s{}return s.__NG_ELEMENT_ID__=k0,s})();function k0(){return P0(Sn(),we())}const nI=$l,R0=class extends nI{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return xc(this._hostTNode,this._hostLView)}get injector(){return new rl(this._hostTNode,this._hostLView)}get parentInjector(){const o=el(this._hostTNode,this._hostLView);if(Pm(o)){const l=Ns(o,this._hostLView),u=wo(o);return new rl(l[1].data[u+8],l)}return new rl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=O0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const _=o.createEmbeddedView(l||{},p);return this.insert(_,h),_}createComponent(o,l,u,h,p){const _=o&&!function B(s){return"function"==typeof s}(o);let b;if(_)b=l;else{const V=l||{};b=V.index,u=V.injector,h=V.projectableNodes,p=V.environmentInjector||V.ngModuleRef}const w=_?o:new Jc(A(o)),D=u||this.parentInjector;if(!p&&null==w.ngModule){const q=(_?D:this.parentInjector).get(Tc,null);q&&(p=q)}const T=w.create(D,h,void 0,p);return this.insert(T.hostView,b),T}insert(o,l){const u=o._lView,h=u[1];if(function Zh(s){return Mi(s[3])}(u)){const T=this.indexOf(o);if(-1!==T)this.detach(T);else{const V=u[3],q=new R0(V,V[6],V[3]);q.detach(q.indexOf(o))}}const p=this._adjustIndex(l),_=this._lContainer;!function aD(s,o,l,u){const h=10+u,p=l.length;u>0&&(l[h-1][4]=o),u<p-10?(o[4]=l[h],li(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function lD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,u,_,p);const b=bl(p,_),w=u[11],D=yl(w,_[7]);return null!==D&&function pb(s,o,l,u,h,p){u[0]=h,u[6]=o,Bt(s,u,l,1,h,p)}(h,_[6],w,u,D,b),o.attachToViewContainerRef(),li(pv(_),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=O0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Lf(this._lContainer,l);u&&(We(pv(this._lContainer),l),mb(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Lf(this._lContainer,l);return u&&null!=We(pv(this._lContainer),l)?new Zr(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function O0(s){return s[8]}function pv(s){return s[8]||(s[8]=[])}function P0(s,o){let l;const u=o[s.index];if(Mi(u))l=u;else{let h;if(8&s.type)h=Bn(u);else{const p=o[11];h=p.createComment("");const _=xi(s,o);_a(p,yl(p,_),h,function yb(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=l=Zb(u,o,h,s),qd(o,l)}return new R0(l,s,o)}class mv{constructor(o){this.queryList=o,this.matches=null}clone(){return new mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class gv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<u;p++){const _=l.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new gv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Av(o,l).matches&&this.queries[l].setDirty()}}class _v{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Fp{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new Fp(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class vv{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new vv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,l,F0(l,p)),this.matchTNodeWithReadOption(o,l,il(l,o,p,!1,!1))}else u===yu?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,il(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Od||h===$l||h===yu&&4&l.type)this.addMatch(l.index,-2);else{const p=il(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function F0(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function bv(s,o,l,u){return-1===l?function yv(s,o){return 11&s.type?xc(s,o):4&s.type?eo(s,o):null}(o,s):-2===l?function Yo(s,o,l){return l===Od?xc(o,s):l===yu?eo(o,s):l===$l?P0(o,s):void 0}(s,o,u):jr(s,s[1],l,o)}function zl(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,_=l.matches,b=[];for(let w=0;w<_.length;w+=2){const D=_[w];b.push(D<0?null:bv(o,p[D],_[w+1],l.metadata.read))}h.matches=b}return h.matches}function Np(s,o,l,u){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const _=zl(s,o,h,l);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)u.push(_[b/2]);else{const D=p[b+1],T=o[-w];for(let V=10;V<T.length;V++){const q=T[V];q[17]===q[3]&&Np(q[1],q,D,u)}if(null!==T[9]){const V=T[9];for(let q=0;q<V.length;q++){const se=V[q];Np(se[1],se,D,u)}}}}}return u}function Cv(s){const o=we(),l=At(),u=ju();$u(u+1);const h=Av(l,u);if(s.dirty&&function cs(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Np(l,o,u,[]):zl(l,o,h,u);s.reset(p,RM),s.notifyOnChanges()}return!0}return!1}function N0(s,o,l){const u=At();u.firstCreatePass&&(Ev(u,new _v(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),_h(u,we(),o)}function ka(s,o,l,u){const h=At();if(h.firstCreatePass){const p=Sn();Ev(h,new _v(o,l,u),p.index),function Dv(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}_h(h,we(),l)}function wv(){return function sI(s,o){return s[19].queries[o].queryList}(we(),ju())}function _h(s,o,l){const u=new Pp(4==(4&l));Gd(s,o,u,u.destroy),null===o[19]&&(o[19]=new gv),o[19].queries.push(new mv(u))}function Ev(s,o,l){null===s.queries&&(s.queries=new Fp),s.queries.track(new vv(o,l))}function Av(s,o){return s.queries.getByIndex(o)}function Lp(s,o){return eo(s,o)}function jp(...s){}const Ov=new kn("Application Initializer");let $p=(()=>{class s{constructor(l){this.appInits=l,this.resolve=jp,this.reject=jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(su(p))l.push(p);else if(br(p)){const _=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ui(Ov,8))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zp=new kn("AppId",{providedIn:"root",factory:function Pv(){return`${Du()}${Du()}${Du()}`}});function Du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X0=new kn("Platform Initializer"),mI=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),J0=new kn("appBootstrapListener"),Gp=new kn("AnimationModuleType");let ew=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Wl=new kn("LocaleId",{providedIn:"root",factory:()=>hf(Wl,Qe.Optional|Qe.SkipSelf)||function tw(){return typeof $localize<"u"&&$localize.locale||cu}()}),Wp=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vI{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let yI=(()=>{class s{compileModuleSync(l){return new gu(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),p=vs(Pe(l).declarations).reduce((_,b)=>{const w=A(b);return w&&_.push(new Jc(w)),_},[]);return new vI(u,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wI=(()=>Promise.resolve(0))();function Fv(s){typeof Zone>"u"?wI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class is{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Js(!1),this.onMicrotaskEmpty=new Js(!1),this.onStable=new Js(!1),this.onError=new Js(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function EI(){let s=ot.requestAnimationFrame,o=ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function sw(s){const o=()=>{!function rw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qp(s),s.isCheckStableRunning=!0,Nv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,p,_,b)=>{try{return Lv(s),l.invokeTask(h,p,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Vv(s)}},onInvoke:(l,u,h,p,_,b,w)=>{try{return Lv(s),l.invoke(h,p,_,b,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),Vv(s)}},onHasTask:(l,u,h,p)=>{l.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,qp(s),Nv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!is.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(is.isInAngularZone())throw new De(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,iw,jp,jp);try{return p.runTask(_,l,u)}finally{p.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const iw={};function Nv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Lv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Vv(s){s._nesting--,Nv(s)}class DI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Js,this.onMicrotaskEmpty=new Js,this.onStable=new Js,this.onError=new Js}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const ow=new kn(""),aw=new kn("");let Zp,AI=(()=>{class s{constructor(l,u,h){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zp||(function II(s){Zp=s}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{is.assertNotInAngularZone(),Fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ui(is),ui(lw),ui(aw))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})(),lw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Zp?.findTestabilityInTree(this,l,u)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),to=null;const Bv=new kn("AllowMultipleToken"),Kp=new kn("PlatformDestroyListeners");class TI{constructor(o,l){this.name=o,this.token=l}}function dw(s,o,l=[]){const u=`Platform: ${o}`,h=new kn(u);return(p=[])=>{let _=Uv();if(!_||_.injector.get(Bv,!1)){const b=[...l,...p,{provide:h,useValue:!0}];s?s(b):function Qp(s){if(to&&!to.get(Bv,!1))throw new De(400,!1);to=s;const o=s.get(hw);(function Xp(s){const o=s.get(X0,null);o&&o.forEach(l=>l())})(s)}(function Sh(s=[],o){return wl.create({name:o,providers:[{provide:sg,useValue:"platform"},{provide:Kp,useValue:new Set([()=>to=null])},...s]})}(b,u))}return function xI(s){const o=Uv();if(!o)throw new De(401,!1);return o}()}}function Uv(){return to?.get(hw)??null}let hw=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const h=function pw(s,o){let l;return l="noop"===s?new DI:("zone.js"===s?void 0:s)||new is(o),l}(u?.ngZone,function fw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:is,useValue:h}];return h.run(()=>{const _=wl.create({providers:p,parent:this.injector,name:l.moduleType.name}),b=l.create(_),w=b.injector.get(Fd,null);if(!w)throw new De(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:T=>{w.handleError(T)}});b.onDestroy(()=>{Mh(this._modules,b),D.unsubscribe()})}),function Hv(s,o,l){try{const u=l();return su(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(w,h,()=>{const D=b.injector.get($p);return D.runInitializers(),D.donePromise.then(()=>(function Y_(s){Dt(s,"Expected localeId to be defined"),"string"==typeof s&&(HC=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Wl,cu)||cu),this._moduleDoBootstrap(b),b))})})}bootstrapModule(l,u=[]){const h=oi({},u);return function SI(s,o,l){const u=new gu(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const u=l.injector.get(Jp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new De(403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(Kp,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ui(wl))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function oi(s,o){return Array.isArray(o)?o.reduce(oi,s):{...s,...o}}let Jp=(()=>{class s{constructor(l,u,h){this._zone=l,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new P.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{is.assertNotInAngularZone(),Fv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ie.T)(p,_.pipe((0,pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const h=l instanceof Gr;if(!this._injector.get($p).done)throw!h&&ce(l),new De(405,false);let _;_=h?l:this._injector.get(Rd).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const b=function MI(s){return s.isBoundToModule}(_)?void 0:this._injector.get(mu),D=_.create(wl.NULL,[],u||_.selector,b),T=D.location.nativeElement,V=D.injector.get(ow,null);return V?.registerApplication(T),D.onDestroy(()=>{this.detachView(D.hostView),Mh(this.components,D),V?.unregisterApplication(T)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Mh(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(J0,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Mh(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new De(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ui(is),ui(Tc),ui(Fd))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Mh(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let jv=!0,mw=!1;function gw(){return mw=!0,jv}function bT(){if(mw)throw new Error("Cannot enable prod mode after platform setup.");jv=!1}let _w=(()=>{class s{}return s.__NG_ELEMENT_ID__=tm,s})();function tm(s){return function wT(s,o,l){if(Dr(s)&&!l){const u=an(s.index,o);return new Zr(u,u)}return 47&s.type?new Zr(o[16],o):null}(Sn(),we(),16==(16&s))}class Ew{constructor(){}supports(o){return Sl(o)}create(o){return new Dw(o)}}const FI=(s,o)=>o;class Dw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||FI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,p=null;for(;l||u;){const _=!u||l&&l.currentIndex<Aw(u,h,p)?l:u,b=Aw(_,h,p),w=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{p||(p=[]);const D=b-h,T=w-h;if(D!=T){for(let q=0;q<D;q++){const se=q<p.length?p[q]:p[q]=0,Ie=se+q;T<=Ie&&Ie<D&&(p[q]=se+1)}p[_.previousIndex]=T-D}}b!==w&&o(_,b,w)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Sl(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,p,_,b)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,_,b),u=!0),l=l._next}else h=0,function WD(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Ys()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,b=>{_=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,b,_,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,_,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new NI(l,u),p,h),o}_verifyReinsertion(o,l,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new no),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new no),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class NI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class no{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new MT,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Aw(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class Iw{constructor(){}supports(o){return o instanceof Map||Ml(o)}create(){return new LI}}class LI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Ml(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const u=new VI(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class VI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function io(){return new rm([new Ew])}let rm=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||io()),deps:[[s,new aa,new oa]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new De(901,!1)}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:io}),s})();function Sw(){return new zv([new Iw])}let zv=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Sw()),deps:[[s,new aa,new oa]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new De(901,!1)}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:Sw}),s})();const Mw=dw(null,"core",[]);let BI=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ui(Jp))},s.\u0275mod=Ft({type:s}),s.\u0275inj=mt({}),s})();function UI(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},579:(rt,Me,O)=>{O.d(Me,{EI:()=>Ae,Gb:()=>ri,Iv:()=>mn,Kz:()=>dt,Xd:()=>Ln,lT:()=>Vn,xP:()=>qe});var a=O(5861),H=O(9681),P=O(1877),ie=O(2090),pe=O(4859);O(2833);const ne="analytics",fe="firebase_id",z="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K="https://www.googletagmanager.com/gtag/js",ke=new P.Yd("@firebase/analytics");function Ee(R){return Promise.all(R.map(x=>x.catch(A=>A)))}function De(R,x){const A=document.createElement("script");A.src=`${K}?l=${R}&id=${x}`,A.async=!0,document.head.appendChild(A)}function ve(R,x,A,k,$,ce){return ue.apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(R,x,A,k,$,ce){const Pe=k[$];try{if(Pe)yield x[Pe];else{const me=(yield Ee(A)).find(Se=>Se.measurementId===$);me&&(yield x[me.appId])}}catch(Ue){ke.error(Ue)}R("config",$,ce)})).apply(this,arguments)}function et(R,x,A,k,$){return ze.apply(this,arguments)}function ze(){return(ze=(0,a.Z)(function*(R,x,A,k,$){try{let ce=[];if($&&$.send_to){let Pe=$.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Ue=yield Ee(A);for(const me of Pe){const Se=Ue.find(Lt=>Lt.measurementId===me),nt=Se&&x[Se.appId];if(!nt){ce=[];break}ce.push(nt)}}0===ce.length&&(ce=Object.values(x)),yield Promise.all(ce),R("event",k,$||{})}catch(ce){ke.error(ce)}})).apply(this,arguments)}function Ce(R){const x=window.document.getElementsByTagName("script");for(const A of Object.values(x))if(A.src&&A.src.includes(K)&&A.src.includes(R))return A;return null}const te=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=new class Q{constructor(x={},A=1e3){this.throttleMetadata=x,this.intervalMillis=A}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,A){this.throttleMetadata[x]=A}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function de(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function oe(R){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,a.Z)(function*(R){var x;const{appId:A,apiKey:k}=R,$={method:"GET",headers:de(k)},ce=z.replace("{app-id}",A),Pe=yield fetch(ce,$);if(200!==Pe.status&&304!==Pe.status){let Ue="";try{const me=yield Pe.json();null!==(x=me.error)&&void 0!==x&&x.message&&(Ue=me.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Ue})}return Pe.json()})).apply(this,arguments)}function Le(R){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(R,x=J,A){const{appId:k,apiKey:$,measurementId:ce}=R.options;if(!k)throw te.create("no-app-id");if(!$){if(ce)return{measurementId:ce,appId:k};throw te.create("no-api-key")}const Pe=x.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Tn;return setTimeout((0,a.Z)(function*(){Ue.abort()}),void 0!==A?A:6e4),jt({appId:k,apiKey:$,measurementId:ce},Pe,Ue,x)})).apply(this,arguments)}function jt(R,x,A){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(R,{throttleEndTimeMillis:x,backoffCount:A},k,$=J){var ce,Pe;const{appId:Ue,measurementId:me}=R;try{yield je(k,x)}catch(Se){if(me)return ke.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${null===(ce=Se)||void 0===ce?void 0:ce.message}]`),{appId:Ue,measurementId:me};throw Se}try{const Se=yield oe(R);return $.deleteThrottleMetadata(Ue),Se}catch(Se){const nt=Se;if(!Jt(nt)){if($.deleteThrottleMetadata(Ue),me)return ke.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${nt?.message}]`),{appId:Ue,measurementId:me};throw Se}const Lt=503===Number(null===(Pe=nt?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,ie.$s)(A,$.intervalMillis,30):(0,ie.$s)(A,$.intervalMillis),yt={throttleEndTimeMillis:Date.now()+Lt,backoffCount:A+1};return $.setThrottleMetadata(Ue,yt),ke.debug(`Calling attemptFetch again in ${Lt} millis`),jt(R,yt,k,$)}})).apply(this,arguments)}function je(R,x){return new Promise((A,k)=>{const $=Math.max(x-Date.now(),0),ce=setTimeout(A,$);R.addEventListener(()=>{clearTimeout(ce),k(te.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Jt(R){if(!(R instanceof ie.ZR&&R.customData))return!1;const x=Number(R.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Tn{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Kt,Fn;function kt(){return(kt=(0,a.Z)(function*(R,x,A,k,$){if($&&$.global)R("event",A,k);else{const ce=yield x;R("event",A,Object.assign(Object.assign({},k),{send_to:ce}))}})).apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{screen_name:A}),Promise.resolve();R("config",yield x,{update:!0,screen_name:A})})).apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(R,x,A,k){if(k&&k.global)return R("set",{user_id:A}),Promise.resolve();R("config",yield x,{update:!0,user_id:A})})).apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(R,x,A,k){if(k&&k.global){const $={};for(const ce of Object.keys(A))$[`user_properties.${ce}`]=A[ce];return R("set",$),Promise.resolve()}R("config",yield x,{update:!0,user_properties:A})})).apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(R,x){const A=yield R;window[`ga-disable-${A}`]=!x})).apply(this,arguments)}function ai(R){Fn=R}function Ai(R){Kt=R}function Qe(){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(){var R;if(!(0,ie.hl)())return ke.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(x){return ke.warn(te.create("indexeddb-unavailable",{errorInfo:null===(R=x)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(R,x,A,k,$,ce,Pe){var Ue;const me=Le(R);me.then(Rt=>{A[Rt.measurementId]=Rt.appId,R.options.measurementId&&Rt.measurementId!==R.options.measurementId&&ke.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Rt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rt=>ke.error(Rt)),x.push(me);const Se=Qe().then(Rt=>{if(Rt)return k.getId()}),[nt,Lt]=yield Promise.all([me,Se]);Ce(ce)||De(ce,nt.measurementId),Fn&&($("consent","default",Fn),ai(void 0)),$("js",new Date);const yt=null!==(Ue=Pe?.config)&&void 0!==Ue?Ue:{};return yt.origin="firebase",yt.update=!0,null!=Lt&&(yt[fe]=Lt),$("config",nt.measurementId,yt),Kt&&($("set",Kt),Ai(void 0)),nt.measurementId})).apply(this,arguments)}class Qn{constructor(x){this.app=x}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},on=[];const dn={};let it,ot,Yt="dataLayer",st="gtag",ln=!1;function Ln(R){if(ln)throw te.create("already-initialized");R.dataLayerName&&(Yt=R.dataLayerName),R.gtagName&&(st=R.gtagName)}function vt(R,x,A){!function Xn(){const R=[];if((0,ie.ru)()&&R.push("This is a browser extension environment."),(0,ie.zI)()||R.push("Cookies are not available."),R.length>0){const x=R.map((k,$)=>`(${$+1}) ${k}`).join(" "),A=te.create("invalid-analytics-context",{errorInfo:x});ke.warn(A.message)}}();const k=R.options.appId;if(!k)throw te.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw te.create("no-api-key");ke.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[k])throw te.create("already-exists",{id:k});if(!ln){!function Ye(R){let x=[];Array.isArray(window[R])?x=window[R]:window[R]=x}(Yt);const{wrappedGtag:ce,gtagCore:Pe}=function xe(R,x,A,k,$){let ce=function(...Pe){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(ce=window[$]),window[$]=function Oe(R,x,A,k){function ce(){return(ce=(0,a.Z)(function*(Pe,Ue,me){try{"event"===Pe?yield et(R,x,A,Ue,me):"config"===Pe?yield ve(R,x,A,k,Ue,me):"consent"===Pe?R("consent","update",me):R("set",Ue)}catch(Se){ke.error(Se)}})).apply(this,arguments)}return function $(Pe,Ue,me){return ce.apply(this,arguments)}}(ce,R,x,A),{gtagCore:ce,wrappedGtag:window[$]}}(fi,on,dn,Yt,st);ot=ce,it=Pe,ln=!0}return fi[k]=function xn(R,x,A,k,$,ce,Pe){return nn.apply(this,arguments)}(R,on,dn,x,it,Yt,A),new Qn(R)}function ri(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}function Vn(R,x,A){R=(0,ie.m9)(R),function mt(R,x,A,k){return un.apply(this,arguments)}(ot,fi[R.app.options.appId],x,A).catch(k=>ke.error(k))}function mn(R,x,A){R=(0,ie.m9)(R),function Di(R,x,A,k){return Pi.apply(this,arguments)}(ot,fi[R.app.options.appId],x,A).catch(k=>ke.error(k))}function qe(R,x,A){R=(0,ie.m9)(R),function In(R,x,A,k){return Gn.apply(this,arguments)}(ot,fi[R.app.options.appId],x,A).catch(k=>ke.error(k))}function Ae(R,x){R=(0,ie.m9)(R),function yi(R,x){return Nn.apply(this,arguments)}(fi[R.app.options.appId],x).catch(A=>ke.error(A))}function dt(R,x,A,k){R=(0,ie.m9)(R),function $t(R,x,A,k,$){return kt.apply(this,arguments)}(ot,fi[R.app.options.appId],x,A,k).catch($=>ke.error($))}const Ft="@firebase/analytics",G="0.8.2";!function j(){(0,H._registerComponent)(new pe.wA(ne,(x,{options:A})=>vt(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,H._registerComponent)(new pe.wA("analytics-internal",function R(x){try{const A=x.getProvider(ne).getImmediate();return{logEvent:(k,$,ce)=>dt(A,k,$,ce)}}catch(A){throw te.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,H.registerVersion)(Ft,G),(0,H.registerVersion)(Ft,G,"esm2017")}()},3942:(rt,Me,O)=>{O.d(Me,{Z:()=>De});var a=O(2090),H=O(4859),P=O(9681),ie=O(1877);class pe{constructor(ve,ue){this._delegate=ve,this.firebase=ue,(0,P._addComponent)(ve,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ve,ue=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(ve);return!ze.isInitialized()&&"EXPLICIT"===(null===(et=ze.getComponent())||void 0===et?void 0:et.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:ue})}_removeServiceInstance(ve,ue=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ue)}_addComponent(ve){(0,P._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,P._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ge(){const Ye=function fe(Ye){const ve={},ue={__esModule:!0,initializeApp:function Oe(te,ae={}){const ye=P.initializeApp(te,ae);if((0,a.r3)(ve,ye.name))return ve[ye.name];const Q=new Ye(ye,ue);return ve[ye.name]=Q,Q},app:ze,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(te){const ae=te.name,ye=ae.replace("-compat","");if(P._registerComponent(te)&&"PUBLIC"===te.type){const Q=(J=ze())=>{if("function"!=typeof J[ye])throw ne.create("invalid-app-argument",{appName:ae});return J[ye]()};void 0!==te.serviceProps&&(0,a.ZB)(Q,te.serviceProps),ue[ye]=Q,Ye.prototype[ye]=function(...J){return this._getService.bind(this,ae).apply(this,te.multipleInstances?J:[])}}return"PUBLIC"===te.type?ue[ye]:null},removeApp:function et(te){delete ve[te]},useAsService:function $e(te,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function ze(te){if(!(0,a.r3)(ve,te=te||P._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:te});return ve[te]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function xe(){return Object.keys(ve).map(te=>ve[te])}}),ze.App=Ye,ue}(pe);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ve(ue){(0,a.ZB)(Ye,ue)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ye}(),z=new ie.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=W;!function Ee(Ye){(0,P.registerVersion)("@firebase/app-compat","0.1.36",Ye)}()},9681:(rt,Me,O)=>{O.r(Me),O.d(Me,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>$t,_apps:()=>Jt,_clearComponents:()=>Di,_components:()=>Tn,_getProvider:()=>mt,_registerComponent:()=>kt,_removeServiceInstance:()=>un,deleteApp:()=>Ai,getApp:()=>Fn,getApps:()=>ai,initializeApp:()=>Nn,onLog:()=>xn,registerVersion:()=>sn,setLogLevel:()=>nn});var a=O(5861),H=O(4859),P=O(1877),ie=O(2090),pe=O(8766);class _e{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ne(qe){return"VERSION"===qe.getComponent()?.type}(Xe)){const dt=Xe.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const fe="@firebase/app",W=new P.Yd("@firebase/app"),Dt="[DEFAULT]",je={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Tn=new Map;function Kt(qe,Ae){try{qe.container.addComponent(Ae)}catch(Xe){W.debug(`Component ${Ae.name} failed to register with FirebaseApp ${qe.name}`,Xe)}}function $t(qe,Ae){qe.container.addOrOverwriteComponent(Ae)}function kt(qe){const Ae=qe.name;if(Tn.has(Ae))return W.debug(`There were multiple attempts to register component ${Ae}.`),!1;Tn.set(Ae,qe);for(const Xe of Jt.values())Kt(Xe,qe);return!0}function mt(qe,Ae){const Xe=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),qe.container.getProvider(Ae)}function un(qe,Ae,Xe=Dt){mt(qe,Ae).clearInstance(Xe)}function Di(){Tn.clear()}const In=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(Ae,Xe,dt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const yi="9.12.0";function Nn(qe,Ae={}){let Xe=qe;"object"!=typeof Ae&&(Ae={name:Ae});const dt=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Ae),_t=dt.name;if("string"!=typeof _t||!_t)throw In.create("bad-app-name",{appName:String(_t)});if(Xe||(Xe=(0,ie.aH)()),!Xe)throw In.create("no-options");const Ft=Jt.get(_t);if(Ft){if((0,ie.vZ)(Xe,Ft.options)&&(0,ie.vZ)(dt,Ft.config))return Ft;throw In.create("duplicate-app",{appName:_t})}const G=new H.H0(_t);for(const R of Tn.values())G.addComponent(R);const j=new Gn(Xe,dt,G);return Jt.set(_t,j),j}function Fn(qe=Dt){const Ae=Jt.get(qe);if(!Ae&&qe===Dt)return Nn();if(!Ae)throw In.create("no-app",{appName:qe});return Ae}function ai(){return Array.from(Jt.values())}function Ai(qe){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(qe){const Ae=qe.name;Jt.has(Ae)&&(Jt.delete(Ae),yield Promise.all(qe.container.getProviders().map(Xe=>Xe.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function sn(qe,Ae,Xe){var dt;let _t=null!==(dt=je[qe])&&void 0!==dt?dt:qe;Xe&&(_t+=`-${Xe}`);const Ft=_t.match(/\s|\//),G=Ae.match(/\s|\//);if(Ft||G){const j=[`Unable to register library "${_t}" with version "${Ae}":`];return Ft&&j.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Ft&&G&&j.push("and"),G&&j.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void W.warn(j.join(" "))}kt(new H.wA(`${_t}-version`,()=>({library:_t,version:Ae}),"VERSION"))}function xn(qe,Ae){if(null!==qe&&"function"!=typeof qe)throw In.create("invalid-log-argument");(0,P.Am)(qe,Ae)}function nn(qe){(0,P.Ub)(qe)}const on="firebase-heartbeat-store";let dn=null;function Yt(){return dn||(dn=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(qe,Ae)=>{0===Ae&&qe.createObjectStore(on)}}).catch(qe=>{throw In.create("idb-open",{originalErrorMessage:qe.message})})),dn}function it(){return(it=(0,a.Z)(function*(qe){var Ae;try{return(yield Yt()).transaction(on).objectStore(on).get(Ln(qe))}catch(Xe){if(Xe instanceof ie.ZR)W.warn(Xe.message);else{const dt=In.create("idb-get",{originalErrorMessage:null===(Ae=Xe)||void 0===Ae?void 0:Ae.message});W.warn(dt.message)}}})).apply(this,arguments)}function ot(qe,Ae){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(qe,Ae){var Xe;try{const _t=(yield Yt()).transaction(on,"readwrite");return yield _t.objectStore(on).put(Ae,Ln(qe)),_t.done}catch(dt){if(dt instanceof ie.ZR)W.warn(dt.message);else{const _t=In.create("idb-set",{originalErrorMessage:null===(Xe=dt)||void 0===Xe?void 0:Xe.message});W.warn(_t.message)}}})).apply(this,arguments)}function Ln(qe){return`${qe.name}!${qe.options.appId}`}class ii{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Pt(Xe),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var Ae=this;return(0,a.Z)(function*(){const dt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Ct();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==_t&&!Ae._heartbeatsCache.heartbeats.some(Ft=>Ft.date===_t))return Ae._heartbeatsCache.heartbeats.push({date:_t,agent:dt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Ft=>{const G=new Date(Ft.date).valueOf();return Date.now()-G<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,a.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Xe=Ct(),{heartbeatsToSend:dt,unsentEntries:_t}=function ri(qe,Ae=1024){const Xe=[];let dt=qe.slice();for(const _t of qe){const Ft=Xe.find(G=>G.agent===_t.agent);if(Ft){if(Ft.dates.push(_t.date),Vn(Xe)>Ae){Ft.dates.pop();break}}else if(Xe.push({agent:_t.agent,dates:[_t.date]}),Vn(Xe)>Ae){Xe.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:dt}}(Ae._heartbeatsCache.heartbeats),Ft=(0,ie.L)(JSON.stringify({version:2,heartbeats:dt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Xe,_t.length>0?(Ae._heartbeatsCache.heartbeats=_t,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Ft})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,a.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function st(qe){return it.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Xe=this;return(0,a.Z)(function*(){var dt;if(yield Xe._canUseIndexedDBPromise){const Ft=yield Xe.read();return ot(Xe.app,{lastSentHeartbeatDate:null!==(dt=Ae.lastSentHeartbeatDate)&&void 0!==dt?dt:Ft.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Xe=this;return(0,a.Z)(function*(){var dt;if(yield Xe._canUseIndexedDBPromise){const Ft=yield Xe.read();return ot(Xe.app,{lastSentHeartbeatDate:null!==(dt=Ae.lastSentHeartbeatDate)&&void 0!==dt?dt:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...Ae.heartbeats]})}})()}}function Vn(qe){return(0,ie.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function mn(qe){kt(new H.wA("platform-logger",Ae=>new _e(Ae),"PRIVATE")),kt(new H.wA("heartbeat",Ae=>new ii(Ae),"PRIVATE")),sn(fe,"0.8.1",qe),sn(fe,"0.8.1","esm2017"),sn("fire-js","")}("")},4859:(rt,Me,O)=>{O.d(Me,{H0:()=>fe,wA:()=>P,zt:()=>pe});var a=O(5861),H=O(2090);class P{constructor(W,z,K){this.name=W,this.instanceFactory=z,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ie="[DEFAULT]";class pe{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const K=new H.BH;if(this.instancesDeferred.set(z,K),this.isInitialized(z)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:z});ke&&K.resolve(ke)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const K=this.normalizeInstanceIdentifier(W?.identifier),ke=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ee){if(ke)return null;throw Ee}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ne(ge){return"EAGER"===ge.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[z,K]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(z);try{const Ee=this.getOrInitializeService({instanceIdentifier:ke});K.resolve(Ee)}catch{}}}}clearInstance(W=ie){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,a.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...z.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ie){return this.instances.has(W)}getOptions(W=ie){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,K=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:K,options:z});for(const[Ee,De]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ee)&&De.resolve(ke);return ke}onInit(W,z){var K;const ke=this.normalizeInstanceIdentifier(z),Ee=null!==(K=this.onInitCallbacks.get(ke))&&void 0!==K?K:new Set;Ee.add(W),this.onInitCallbacks.set(ke,Ee);const De=this.instances.get(ke);return De&&W(De,ke),()=>{Ee.delete(W)}}invokeOnInitCallbacks(W,z){const K=this.onInitCallbacks.get(z);if(K)for(const ke of K)try{ke(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let K=this.instances.get(W);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=W,ge===ie?void 0:ge),options:z}),this.instances.set(W,K),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(K,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,K)}catch{}var ge;return K||null}normalizeInstanceIdentifier(W=ie){return this.component?this.component.multipleInstances?W:ie:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new pe(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},2833:(rt,Me,O)=>{var a=O(5861),H=O(9681),P=O(4859),ie=O(2090),pe=O(8766);const _e="@firebase/installations",ne="0.5.14",ge=`w:${ne}`,W="FIS_v2",Ye=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ve(ee){return ee instanceof ie.ZR&&ee.code.includes("request-failed")}function ue({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function et(ee){return{token:ee.token,requestStatus:2,expiresIn:ae(ee.expiresIn),creationTime:Date.now()}}function ze(ee,be){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.Z)(function*(ee,be){const at=(yield be.json()).error;return Ye.create("request-failed",{requestName:ee,serverCode:at.code,serverMessage:at.message,serverStatus:at.status})})).apply(this,arguments)}function xe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function Ce(ee,{refreshToken:be}){const Be=xe(ee);return Be.append("Authorization",function ye(ee){return`${W} ${ee}`}(be)),Be}function $e(ee){return te.apply(this,arguments)}function te(){return(te=(0,a.Z)(function*(ee){const be=yield ee();return be.status>=500&&be.status<600?ee():be})).apply(this,arguments)}function ae(ee){return Number(ee.replace("s","000"))}function Q(ee,be){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(function*({appConfig:ee,heartbeatServiceProvider:be},{fid:Be}){const at=ue(ee),Nt=xe(ee),Qt=be.getImmediate({optional:!0});if(Qt){const Si=yield Qt.getHeartbeatsHeader();Si&&Nt.append("x-firebase-client",Si)}const _n={method:"POST",headers:Nt,body:JSON.stringify({fid:Be,authVersion:W,appId:ee.appId,sdkVersion:ge})},Ii=yield $e(()=>fetch(at,_n));if(Ii.ok){const Si=yield Ii.json();return{fid:Si.fid||Be,registrationStatus:2,refreshToken:Si.refreshToken,authToken:et(Si.authToken)}}throw yield ze("Create Installation",Ii)})).apply(this,arguments)}function de(ee){return new Promise(be=>{setTimeout(be,ee)})}const Ve=/^[cdef][\w-]{21}$/;function lt(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const Be=function jt(ee){return function oe(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return Ve.test(Be)?Be:""}catch{return""}}function Dt(ee){return`${ee.appName}!${ee.appId}`}const je=new Map;function Jt(ee,be){const Be=Dt(ee);$t(Be,be),function kt(ee,be){const Be=function un(){return!mt&&"BroadcastChannel"in self&&(mt=new BroadcastChannel("[Firebase] FID Change"),mt.onmessage=ee=>{$t(ee.data.key,ee.data.fid)}),mt}();Be&&Be.postMessage({key:ee,fid:be}),function Di(){0===je.size&&mt&&(mt.close(),mt=null)}()}(Be,be)}function $t(ee,be){const Be=je.get(ee);if(Be)for(const at of Be)at(be)}let mt=null;const Gn="firebase-installations-store";let yi=null;function Nn(){return yi||(yi=(0,pe.X3)("firebase-installations-database",1,{upgrade:(ee,be)=>{0===be&&ee.createObjectStore(Gn)}})),yi}function Fn(ee,be){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(ee,be){const Be=Dt(ee),Nt=(yield Nn()).transaction(Gn,"readwrite"),Qt=Nt.objectStore(Gn),En=yield Qt.get(Be);return yield Qt.put(be,Be),yield Nt.done,(!En||En.fid!==be.fid)&&Jt(ee,be.fid),be})).apply(this,arguments)}function Ai(ee){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(ee){const be=Dt(ee),at=(yield Nn()).transaction(Gn,"readwrite");yield at.objectStore(Gn).delete(be),yield at.done})).apply(this,arguments)}function sn(ee,be){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(ee,be){const Be=Dt(ee),Nt=(yield Nn()).transaction(Gn,"readwrite"),Qt=Nt.objectStore(Gn),En=yield Qt.get(Be),_n=be(En);return void 0===_n?yield Qt.delete(Be):yield Qt.put(_n,Be),yield Nt.done,_n&&(!En||En.fid!==_n.fid)&&Jt(ee,_n.fid),_n})).apply(this,arguments)}function nn(ee){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(ee){let be;const Be=yield sn(ee.appConfig,at=>{const Nt=fi(at),Qt=on(ee,Nt);return be=Qt.registrationPromise,Qt.installationEntry});return""===Be.fid?{installationEntry:yield be}:{installationEntry:Be,registrationPromise:be}})).apply(this,arguments)}function fi(ee){return ln(ee||{fid:lt(),registrationStatus:0})}function on(ee,be){if(0===be.registrationStatus){if(!navigator.onLine)return{installationEntry:be,registrationPromise:Promise.reject(Ye.create("app-offline"))};const Be={fid:be.fid,registrationStatus:1,registrationTime:Date.now()},at=function dn(ee,be){return Yt.apply(this,arguments)}(ee,Be);return{installationEntry:Be,registrationPromise:at}}return 1===be.registrationStatus?{installationEntry:be,registrationPromise:st(ee)}:{installationEntry:be}}function Yt(){return(Yt=(0,a.Z)(function*(ee,be){try{const Be=yield Q(ee,be);return Fn(ee.appConfig,Be)}catch(Be){throw ve(Be)&&409===Be.customData.serverCode?yield Ai(ee.appConfig):yield Fn(ee.appConfig,{fid:be.fid,registrationStatus:0}),Be}})).apply(this,arguments)}function st(ee){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(ee){let be=yield ot(ee.appConfig);for(;1===be.registrationStatus;)yield de(100),be=yield ot(ee.appConfig);if(0===be.registrationStatus){const{installationEntry:Be,registrationPromise:at}=yield nn(ee);return at||Be}return be})).apply(this,arguments)}function ot(ee){return sn(ee,be=>{if(!be)throw Ye.create("installation-not-found");return ln(be)})}function ln(ee){return function Ln(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function Xn(ee,be){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*({appConfig:ee,heartbeatServiceProvider:be},Be){const at=ii(ee,Be),Nt=Ce(ee,Be),Qt=be.getImmediate({optional:!0});if(Qt){const Si=yield Qt.getHeartbeatsHeader();Si&&Nt.append("x-firebase-client",Si)}const _n={method:"POST",headers:Nt,body:JSON.stringify({installation:{sdkVersion:ge,appId:ee.appId}})},Ii=yield $e(()=>fetch(at,_n));if(Ii.ok)return et(yield Ii.json());throw yield ze("Generate Auth Token",Ii)})).apply(this,arguments)}function ii(ee,{fid:be}){return`${ue(ee)}/${be}/authTokens:generate`}function Ct(ee){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(ee,be=!1){let Be;const at=yield sn(ee.appConfig,Qt=>{if(!Xe(Qt))throw Ye.create("not-registered");const En=Qt.authToken;if(!be&&dt(En))return Qt;if(1===En.requestStatus)return Be=Pt(ee,be),Qt;{if(!navigator.onLine)throw Ye.create("app-offline");const _n=Ft(Qt);return Be=qe(ee,_n),_n}});return Be?yield Be:at.authToken})).apply(this,arguments)}function Pt(ee,be){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(ee,be){let Be=yield mn(ee.appConfig);for(;1===Be.authToken.requestStatus;)yield de(100),Be=yield mn(ee.appConfig);const at=Be.authToken;return 0===at.requestStatus?Ct(ee,be):at})).apply(this,arguments)}function mn(ee){return sn(ee,be=>{if(!Xe(be))throw Ye.create("not-registered");return function G(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(be.authToken)?Object.assign(Object.assign({},be),{authToken:{requestStatus:0}}):be})}function qe(ee,be){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,a.Z)(function*(ee,be){try{const Be=yield Xn(ee,be),at=Object.assign(Object.assign({},be),{authToken:Be});return yield Fn(ee.appConfig,at),Be}catch(Be){if(!ve(Be)||401!==Be.customData.serverCode&&404!==Be.customData.serverCode){const at=Object.assign(Object.assign({},be),{authToken:{requestStatus:0}});yield Fn(ee.appConfig,at)}else yield Ai(ee.appConfig);throw Be}})).apply(this,arguments)}function Xe(ee){return void 0!==ee&&2===ee.registrationStatus}function dt(ee){return 2===ee.requestStatus&&!function _t(ee){const be=Date.now();return be<ee.creationTime||ee.creationTime+ee.expiresIn<be+36e5}(ee)}function Ft(ee){const be={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:be})}function R(){return(R=(0,a.Z)(function*(ee){const be=ee,{installationEntry:Be,registrationPromise:at}=yield nn(be);return at?at.catch(console.error):Ct(be).catch(console.error),Be.fid})).apply(this,arguments)}function A(){return(A=(0,a.Z)(function*(ee,be=!1){const Be=ee;return yield k(Be),(yield Ct(Be,be)).token})).apply(this,arguments)}function k(ee){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function*(ee){const{registrationPromise:be}=yield nn(ee);be&&(yield be)})).apply(this,arguments)}function Rt(ee){return Ye.create("missing-app-config-values",{valueName:ee})}const zi="installations",wr=ee=>{const be=ee.getProvider("app").getImmediate(),Be=function yt(ee){if(!ee||!ee.options)throw Rt("App Configuration");if(!ee.name)throw Rt("App Name");const be=["projectId","apiKey","appId"];for(const Be of be)if(!ee.options[Be])throw Rt(Be);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(be);return{app:be,appConfig:Be,heartbeatServiceProvider:(0,H._getProvider)(be,"heartbeat"),_delete:()=>Promise.resolve()}},Lr=ee=>{const be=ee.getProvider("app").getImmediate(),Be=(0,H._getProvider)(be,zi).getImmediate();return{getId:()=>function j(ee){return R.apply(this,arguments)}(Be),getToken:Nt=>function x(ee){return A.apply(this,arguments)}(Be,Nt)}};(function ht(){(0,H._registerComponent)(new P.wA(zi,wr,"PUBLIC")),(0,H._registerComponent)(new P.wA("installations-internal",Lr,"PRIVATE"))})(),(0,H.registerVersion)(_e,ne),(0,H.registerVersion)(_e,ne,"esm2017")},1877:(rt,Me,O)=>{O.d(Me,{Am:()=>ge,Ub:()=>fe,Yd:()=>ne,in:()=>H});const a=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ie=H.INFO,pe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},_e=(W,z,...K)=>{if(z<W.logLevel)return;const ke=(new Date).toISOString(),Ee=pe[z];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ee](`[${ke}]  ${W.name}:`,...K)};class ne{constructor(z){this.name=z,this._logLevel=ie,this._logHandler=_e,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in H))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...z),this._logHandler(this,H.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...z),this._logHandler(this,H.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...z),this._logHandler(this,H.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...z),this._logHandler(this,H.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...z),this._logHandler(this,H.ERROR,...z)}}function fe(W){a.forEach(z=>{z.setLogLevel(W)})}function ge(W,z){for(const K of a){let ke=null;z&&z.level&&(ke=P[z.level]),K.userLogHandler=null===W?null:(Ee,De,...Ye)=>{const ve=Ye.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch{return null}}).filter(ue=>ue).join(" ");De>=(ke??Ee.logLevel)&&W({level:H[De].toLowerCase(),message:ve,args:Ye,type:Ee.name})}}}},8766:(rt,Me,O)=>{O.d(Me,{Lj:()=>Oe,X3:()=>ze});var a=O(5861);let P,ie;const ne=new WeakMap,fe=new WeakMap,ge=new WeakMap,W=new WeakMap,z=new WeakMap;let Ee={get(ae,ye,Q){if(ae instanceof IDBTransaction){if("done"===ye)return fe.get(ae);if("objectStoreNames"===ye)return ae.objectStoreNames||ge.get(ae);if("store"===ye)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ue(ae[ye])},set:(ae,ye,Q)=>(ae[ye]=Q,!0),has:(ae,ye)=>ae instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ae};function ve(ae){return"function"==typeof ae?function Ye(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...ye){return ae.apply(et(this),ye),ue(ne.get(this))}:function(...ye){return ue(ae.apply(et(this),ye))}:function(ye,...Q){const J=ae.call(et(this),ye,...Q);return ge.set(J,ye.sort?ye.sort():[ye]),ue(J)}}(ae):(ae instanceof IDBTransaction&&function ke(ae){if(fe.has(ae))return;const ye=new Promise((Q,J)=>{const de=()=>{ae.removeEventListener("complete",oe),ae.removeEventListener("error",Ve),ae.removeEventListener("abort",Ve)},oe=()=>{Q(),de()},Ve=()=>{J(ae.error||new DOMException("AbortError","AbortError")),de()};ae.addEventListener("complete",oe),ae.addEventListener("error",Ve),ae.addEventListener("abort",Ve)});fe.set(ae,ye)}(ae),((ae,ye)=>ye.some(Q=>ae instanceof Q))(ae,function pe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ee):ae)}function ue(ae){if(ae instanceof IDBRequest)return function K(ae){const ye=new Promise((Q,J)=>{const de=()=>{ae.removeEventListener("success",oe),ae.removeEventListener("error",Ve)},oe=()=>{Q(ue(ae.result)),de()},Ve=()=>{J(ae.error),de()};ae.addEventListener("success",oe),ae.addEventListener("error",Ve)});return ye.then(Q=>{Q instanceof IDBCursor&&ne.set(Q,ae)}).catch(()=>{}),z.set(ye,ae),ye}(ae);if(W.has(ae))return W.get(ae);const ye=ve(ae);return ye!==ae&&(W.set(ae,ye),z.set(ye,ae)),ye}const et=ae=>z.get(ae);function ze(ae,ye,{blocked:Q,upgrade:J,blocking:de,terminated:oe}={}){const Ve=indexedDB.open(ae,ye),Le=ue(Ve);return J&&Ve.addEventListener("upgradeneeded",lt=>{J(ue(Ve.result),lt.oldVersion,lt.newVersion,ue(Ve.transaction))}),Q&&Ve.addEventListener("blocked",()=>Q()),Le.then(lt=>{oe&&lt.addEventListener("close",()=>oe()),de&&lt.addEventListener("versionchange",()=>de())}).catch(()=>{}),Le}function Oe(ae,{blocked:ye}={}){const Q=indexedDB.deleteDatabase(ae);return ye&&Q.addEventListener("blocked",()=>ye()),ue(Q).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],$e=new Map;function te(ae,ye){if(!(ae instanceof IDBDatabase)||ye in ae||"string"!=typeof ye)return;if($e.get(ye))return $e.get(ye);const Q=ye.replace(/FromIndex$/,""),J=ye!==Q,de=Ce.includes(Q);if(!(Q in(J?IDBIndex:IDBObjectStore).prototype)||!de&&!xe.includes(Q))return;const oe=function(){var Ve=(0,a.Z)(function*(Le,...lt){const jt=this.transaction(Le,de?"readwrite":"readonly");let Dt=jt.store;return J&&(Dt=Dt.index(lt.shift())),(yield Promise.all([Dt[Q](...lt),de&&jt.done]))[0]});return function(lt){return Ve.apply(this,arguments)}}();return $e.set(ye,oe),oe}!function De(ae){Ee=ae(Ee)}(ae=>({...ae,get:(ye,Q,J)=>te(ye,Q)||ae.get(ye,Q,J),has:(ye,Q)=>!!te(ye,Q)||ae.has(ye,Q)}))},5861:(rt,Me,O)=>{function a(P,ie,pe,_e,ne,fe,ge){try{var W=P[fe](ge),z=W.value}catch(K){return void pe(K)}W.done?ie(z):Promise.resolve(z).then(_e,ne)}function H(P){return function(){var ie=this,pe=arguments;return new Promise(function(_e,ne){var fe=P.apply(ie,pe);function ge(z){a(fe,_e,ne,ge,W,"next",z)}function W(z){a(fe,_e,ne,ge,W,"throw",z)}ge(void 0)})}}O.d(Me,{Z:()=>H})}},rt=>{rt(rt.s=411)}]);